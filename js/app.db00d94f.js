(function(e){function t(t){for(var r,a,c=t[0],u=t[1],s=t[2],l=0,f=[];l<c.length;l++)a=c[l],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&f.push(o[a][0]),o[a]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);p&&p(t);while(f.length)f.shift()();return i.push.apply(i,s||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,a=1;a<n.length;a++){var c=n[a];0!==o[c]&&(r=!1)}r&&(i.splice(t--,1),e=u(u.s=n[0]))}return e}var r={},a={app:0},o={app:0},i=[];function c(e){return u.p+"js/"+({}[e]||e)+"."+{"chunk-04c2b6fd":"7fbb9498","chunk-0f95fc66":"a9369058","chunk-7dc38c0e":"648bba38","chunk-140e999f":"487bcce6","chunk-63616879":"4716aef8","chunk-4171b9d9":"fd96a415","chunk-60ea682c":"3d066ebe","chunk-27ac4652":"798cc7da","chunk-4bec154f":"39459e0e","chunk-59dffb81":"c6e7450a","chunk-5d456560":"d3dd134c","chunk-61ac107b":"d278340f","chunk-9d9798b0":"144b9a4f","chunk-f52be460":"0c40721d","chunk-df30bf38":"15c945b5","chunk-f5e06b08":"da08a320","chunk-1c957bf6":"4b4c7cbc","chunk-2d0abce7":"071ef779","chunk-2f161406":"114f2e46","chunk-3cb28422":"72acecbc","chunk-3eadbefa":"a0a29adf","chunk-4c8285c4":"52a17f63","chunk-8c002adc":"82363d2a","chunk-2d0ac3da":"b65c9364","chunk-60216f0b":"d1dd1b8e","chunk-999b6682":"1aa55558"}[e]+".js"}function u(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,u),n.l=!0,n.exports}u.e=function(e){var t=[],n={"chunk-04c2b6fd":1,"chunk-0f95fc66":1,"chunk-7dc38c0e":1,"chunk-140e999f":1,"chunk-63616879":1,"chunk-4171b9d9":1,"chunk-60ea682c":1,"chunk-27ac4652":1,"chunk-4bec154f":1,"chunk-59dffb81":1,"chunk-5d456560":1,"chunk-61ac107b":1,"chunk-9d9798b0":1,"chunk-f52be460":1,"chunk-df30bf38":1,"chunk-f5e06b08":1,"chunk-3cb28422":1,"chunk-4c8285c4":1,"chunk-8c002adc":1,"chunk-60216f0b":1};a[e]?t.push(a[e]):0!==a[e]&&n[e]&&t.push(a[e]=new Promise((function(t,n){for(var r="css/"+({}[e]||e)+"."+{"chunk-04c2b6fd":"97b72325","chunk-0f95fc66":"5bb6da1a","chunk-7dc38c0e":"304786bf","chunk-140e999f":"5aed5d38","chunk-63616879":"afd94042","chunk-4171b9d9":"f3822fe8","chunk-60ea682c":"388fd178","chunk-27ac4652":"2dd41938","chunk-4bec154f":"c2ddea70","chunk-59dffb81":"0d131f4c","chunk-5d456560":"a54beb52","chunk-61ac107b":"bc445982","chunk-9d9798b0":"0f105a9d","chunk-f52be460":"8b40f725","chunk-df30bf38":"1a4df3c3","chunk-f5e06b08":"161126bb","chunk-1c957bf6":"31d6cfe0","chunk-2d0abce7":"31d6cfe0","chunk-2f161406":"31d6cfe0","chunk-3cb28422":"7ccdb903","chunk-3eadbefa":"31d6cfe0","chunk-4c8285c4":"33bf4171","chunk-8c002adc":"ade629dd","chunk-2d0ac3da":"31d6cfe0","chunk-60216f0b":"58bfa21a","chunk-999b6682":"31d6cfe0"}[e]+".css",o=u.p+r,i=document.getElementsByTagName("link"),c=0;c<i.length;c++){var s=i[c],l=s.getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(l===r||l===o))return t()}var f=document.getElementsByTagName("style");for(c=0;c<f.length;c++){s=f[c],l=s.getAttribute("data-href");if(l===r||l===o)return t()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=t,p.onerror=function(t){var r=t&&t.target&&t.target.src||o,i=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=r,delete a[e],p.parentNode.removeChild(p),n(i)},p.href=o;var d=document.getElementsByTagName("head")[0];d.appendChild(p)})).then((function(){a[e]=0})));var r=o[e];if(0!==r)if(r)t.push(r[2]);else{var i=new Promise((function(t,n){r=o[e]=[t,n]}));t.push(r[2]=i);var s,l=document.createElement("script");l.charset="utf-8",l.timeout=120,u.nc&&l.setAttribute("nonce",u.nc),l.src=c(e);var f=new Error;s=function(t){l.onerror=l.onload=null,clearTimeout(p);var n=o[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;f.message="Loading chunk "+e+" failed.\n("+r+": "+a+")",f.name="ChunkLoadError",f.type=r,f.request=a,n[1](f)}o[e]=void 0}};var p=setTimeout((function(){s({type:"timeout",target:l})}),12e4);l.onerror=l.onload=s,document.head.appendChild(l)}return Promise.all(t)},u.m=e,u.c=r,u.d=function(e,t,n){u.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},u.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u.t=function(e,t){if(1&t&&(e=u(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(u.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)u.d(n,r,function(t){return e[t]}.bind(null,r));return n},u.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return u.d(t,"a",t),t},u.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},u.p="/",u.oe=function(e){throw console.error(e),e};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var f=0;f<s.length;f++)t(s[f]);var p=l;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"0144":function(e,t,n){},"0527":function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"spinner my-4",class:{"spinner--blocking":!e.inline}},[n("div",{staticClass:"spinner__circle",style:e.style})])},a=[],o=n("6dbe"),i=n("5cf9");function c(e){return c="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}function f(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}function d(e){var t=h();return function(){var n,r=m(e);if(t){var a=m(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return b(this,n)}}function b(e,t){return!t||"object"!==c(t)&&"function"!==typeof t?y(e):t}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}var v=function(e){f(n,e);var t=d(n);function n(){return u(this,n),t.apply(this,arguments)}return l(n,[{key:"style",get:function(){return{width:"".concat(this.size,"px"),height:"".concat(this.size,"px"),borderWidth:"".concat(this.width,"px")}}}]),n}(i["g"]);Object(o["__decorate"])([Object(i["e"])({type:Boolean,default:!1})],v.prototype,"inline",void 0),Object(o["__decorate"])([Object(i["e"])({type:Number,default:120})],v.prototype,"size",void 0),Object(o["__decorate"])([Object(i["e"])({type:Number,default:7})],v.prototype,"width",void 0),v=Object(o["__decorate"])([Object(i["a"])({})],v);var O=v,g=O,j=(n("9008"),n("a6c2")),w=Object(j["a"])(g,r,a,!1,null,"87f44b60",null);t["a"]=w.exports},"05eb":function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e["OPENED"]="OPENED",e["APPROVED"]="APPROVED",e["DEPOSITED"]="DEPOSITED",e["CONFIRMED"]="CONFIRMED"}(r||(r={}))},"0602":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("2111"),a=r["x"]([r["s"],r["n"],r["e"],r["m"]],"CapsPrimitive"),o=r["x"]([a,r["d"](a)],"CapsValue"),i=r["p"](r["r"](r["s"],o),"Caps")},"0731":function(e,t,n){},"0933":function(e,t,n){"use strict";n("0144")},"0a08":function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.show?n("div",{staticClass:"blurred-overlay",class:{fullscreen:e.fullscreen}},[e._t("default")],2):e._e()},a=[],o=n("6dbe"),i=n("5cf9");function c(e){return c="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}function f(e){var t=b();return function(){var n,r=y(e);if(t){var a=y(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return p(this,n)}}function p(e,t){return!t||"object"!==c(t)&&"function"!==typeof t?d(e):t}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}var h=function(e){s(n,e);var t=f(n);function n(){return u(this,n),t.apply(this,arguments)}return n}(i["g"]);Object(o["__decorate"])([Object(i["e"])({type:Boolean,required:!0})],h.prototype,"show",void 0),Object(o["__decorate"])([Object(i["e"])({required:!1,default:!1,type:Boolean})],h.prototype,"fullscreen",void 0),h=Object(o["__decorate"])([Object(i["a"])({})],h);var m=h,v=m,O=(n("ef8c"),n("a6c2")),g=Object(O["a"])(v,r,a,!1,null,"de732a60",null);t["a"]=g.exports},"0ba5":function(e,t,n){"use strict";var r=n("5778");n.d(t,"a",(function(){return r["d"]})),n.d(t,"b",(function(){return r["e"]})),n.d(t,"c",(function(){return r["i"]})),n.d(t,"d",(function(){return r["j"]})),n.d(t,"e",(function(){return r["k"]}));var a=n("7de2");n.d(t,"f",(function(){return a["b"]})),n.d(t,"g",(function(){return a["e"]})),n.d(t,"h",(function(){return a["g"]})),n.d(t,"i",(function(){return a["h"]}))},"0dd2":function(e,t,n){e.exports=n.p+"img/back_arrow.268247fb.svg"},"0f05":function(e,t,n){},"0f75":function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var r=n("7fcc"),a=n.n(r),o=n("c010"),i=n.n(o),c=n("e832"),u=n("a3d5");function s(e,t){return b(e)||d(e,t)||f(e,t)||l()}function l(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function f(e,t){if(e){if("string"===typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d(e,t){var n=e&&("undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0)if(o.push(r.value),t&&o.length===t)break}catch(u){c=!0,a=u}finally{try{i||null==n["return"]||n["return"]()}finally{if(c)throw a}}return o}}function b(e){if(Array.isArray(e))return e}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t,n){return t&&h(e.prototype,t),n&&h(e,n),e}var v=function(){function e(){y(this,e)}return m(e,null,[{key:"truncate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12;if(!e)return"";var n="...";if(e.length<=t)return e;var r=Math.floor(t/2);return e.substr(0,r)+n+e.substr(e.length-r)}},{key:"decimals",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;return parseFloat(e).toFixed(t)}},{key:"upper",value:function(e){return e?e.toLocaleUpperCase():""}},{key:"displayFormat",value:function(t,n){var r=u["a"].toUnits(t,null!==n&&void 0!==n?n:18),a=parseFloat(r);return 0===a?0===n?"0":"0.0":a<1e-6?"<0.000001":e.formatValue(r,n)}},{key:"formatValue",value:function(e,t){var n=i()(e,"."),r=s(n,2),a=r[0],o=r[1];if(o&&o.length>6){var c=o.substring(0,6);return"â‰ˆ".concat(a,".").concat(c)}return 0===t?a:e}},{key:"capitalizeFirst",value:function(e){return a()(e)}},{key:"upperCase",value:function(e){return e.toUpperCase()}}]),e}();v.toUnits=function(e,t){return u["a"].toUnits(e,null!==t&&void 0!==t?t:18)},v.formatDate=function(e){return"".concat(new Intl.DateTimeFormat("en-US").format(e)," ").concat(e.toLocaleTimeString("en-US"))},c["a"].filter("truncate",v.truncate),c["a"].filter("decimals",v.decimals),c["a"].filter("upper",v.upper),c["a"].filter("displayFormat",v.displayFormat),c["a"].filter("capitalizeFirst",v.capitalizeFirst),c["a"].filter("upperCase",v.upperCase),c["a"].filter("toUnits",v.toUnits),c["a"].filter("formatDate",v.formatDate)},"0ff6":function(e){e.exports=JSON.parse('{"contracts_version":null,"chain_id":4,"contracts":{"ServiceRegistry":{"address":"0xe44921f1F63B6369A1Ef0Ae497b2620D68C40f3C","transaction_hash":"0xd9d8ac1821c2f4ac47af6f44e3c2e6da49fae8acac936e851dd21833e86684f9","block_number":6515467,"gas_cost":1999628,"constructor_arguments":["0x2488C9445b405E0fbbD60e89813f8b8652973737","0x062C12c01D0f17fC9eAa33940D994594d91a0182",2e+21,6,5,17280000,1000,15552000]},"UserDeposit":{"address":"0x9d87E6E25029dAa79E064Db04f3Dc1a785025FcE","transaction_hash":"0xfdefb83579530c6bc54f732a9d15a8c8e8bff3f88e85b6fbbcb1ffc55f8ff0de","block_number":6515468,"gas_cost":1530470,"constructor_arguments":["0x2488C9445b405E0fbbD60e89813f8b8652973737",1.157920892373162e+77]},"MonitoringService":{"address":"0x9D5fF7860dcFc1EB6bCF230D911Fe0df0f8C0e31","transaction_hash":"0x21fbe2880e3168989a1f53cec9e83e765e00aa0f43eded08612caefc7359ba9b","block_number":6515469,"gas_cost":1949901,"constructor_arguments":["0x2488C9445b405E0fbbD60e89813f8b8652973737","0xe44921f1F63B6369A1Ef0Ae497b2620D68C40f3C","0x9d87E6E25029dAa79E064Db04f3Dc1a785025FcE","0xC1e1F66c196738E6E38728Cac797E658631C8580"]},"OneToN":{"address":"0xd392CE4c8A44d3D22c24a2812EF7c11e27F3E194","transaction_hash":"0xb41df6abc165200fe335d23008ef82e6febb948984fc6df3d35d473fcd439af7","block_number":6515470,"gas_cost":1097797,"constructor_arguments":["0x9d87E6E25029dAa79E064Db04f3Dc1a785025FcE",4,"0xe44921f1F63B6369A1Ef0Ae497b2620D68C40f3C"]}}}')},1:function(e,t){},10:function(e,t){},11:function(e,t){},12:function(e,t){},1218:function(e,t,n){},13:function(e,t){},"152b":function(e,t,n){"use strict";var r=n("6dbe"),a=n("5cf9"),o=n("80bf");function i(e){return i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),e}function l(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}function f(e,t){return f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},f(e,t)}function p(e){var t=y();return function(){var n,r=h(e);if(t){var a=h(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return d(this,n)}}function d(e,t){return!t||"object"!==i(t)&&"function"!==typeof t?b(e):t}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}var m=function(e){l(n,e);var t=p(n);function n(){return c(this,n),t.apply(this,arguments)}return s(n,[{key:"navigateToSelectHub",value:function(e){this.$router.push({name:o["a"].SELECT_HUB,params:{token:e}})}},{key:"navigateToHome",value:function(){this.$router.push({name:o["a"].HOME})}},{key:"navigateToTransfer",value:function(e){this.$router.push({name:o["a"].TRANSFER,params:{token:e}})}},{key:"navigateToOpenChannel",value:function(e,t){this.$router.push({name:o["a"].OPEN_CHANNEL,params:{token:e,partner:t}})}},{key:"navigateToChannels",value:function(e){this.$router.push({name:o["a"].CHANNELS,params:{token:e}})}},{key:"navigateToSelectTransferTarget",value:function(e,t,n){var r={name:o["a"].TRANSFER,params:{token:e},query:{}};t&&n&&(r.query={target:t,amount:n}),this.$router.push(r)}},{key:"navigateToTokenSelect",value:function(){this.$router.push({name:o["a"].SELECT_TOKEN})}},{key:"navigateToTransferSteps",value:function(e,t,n){this.$router.push({name:o["a"].TRANSFER_STEPS,params:{token:e,target:t},query:{amount:n}})}},{key:"navigateToNotifications",value:function(){this.$router.push({name:o["a"].NOTIFICATIONS})}},{key:"navigateToAccount",value:function(){this.$router.push({name:o["a"].ACCOUNT_ROOT})}},{key:"navigateToBackupState",value:function(){this.$router.push({name:o["a"].ACCOUNT_BACKUP})}},{key:"navigateToRaidenAccountTransfer",value:function(){this.$router.push({name:o["a"].ACCOUNT_RAIDEN})}},{key:"navigateToSettings",value:function(){this.$router.push({name:o["a"].ACCOUNT_SETTINGS})}},{key:"navigateToWithdrawal",value:function(){this.$router.push({name:o["a"].ACCOUNT_WITHDRAWAL})}},{key:"navigateToUDC",value:function(){this.$router.push({name:o["a"].ACCOUNT_UDC})}},{key:"onModalBackClicked",value:function(){this.$router.go(-1)}},{key:"onBackClicked",value:function(){switch(this.$route.name){case o["a"].TRANSFER_STEPS:this.navigateToSelectTransferTarget(this.$route.params.token,this.$route.params.target,this.$route.params.amount);break;case o["a"].CHANNELS:this.navigateToTransfer(this.$route.params.token);break;case o["a"].SELECT_TOKEN:case o["a"].SELECT_HUB:case o["a"].OPEN_CHANNEL:this.$router.go(-1);break;default:break}}}]),n}(a["g"]);m=Object(r["__decorate"])([a["a"]],m),t["a"]=m},"18cb":function(e,t,n){e.exports=n.p+"img/channels_info.76c17597.svg"},1924:function(e,t,n){e.exports=n.p+"img/backup_state_info.0f9ae539.svg"},"1a78":function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return l})),n.d(t,"d",(function(){return p})),n.d(t,"c",(function(){return r}));var r,a=n("2111"),o=n("48a3"),i=n.n(o),c=n("5778"),u=n("ca14"),s={SENT:"sent",RECEIVED:"received"},l=a["k"](i()(s)),f=a["p"](a["j"]([a["v"]({_id:a["s"],channel:a["s"],direction:l,secrethash:u["c"],expiration:a["n"],transfer:Object(u["i"])(Object(u["h"])(c["b"])),fee:Object(u["d"])(32),partner:u["a"],cleared:a["n"]},"TransferStateBase"),a["o"]({secret:u["f"],secretRegistered:Object(u["i"])(a["v"]({txHash:u["c"],txBlock:a["n"]})),transferProcessed:Object(u["i"])(Object(u["h"])(c["e"])),channelClosed:Object(u["i"])(a["v"]({txHash:u["c"],txBlock:a["n"]})),channelSettled:Object(u["i"])(a["v"]({txHash:u["c"],txBlock:a["n"]})),secretRequest:Object(u["i"])(Object(u["h"])(c["f"])),secretReveal:Object(u["i"])(Object(u["h"])(c["g"])),unlock:Object(u["i"])(Object(u["h"])(c["h"])),expired:Object(u["i"])(Object(u["h"])(c["a"])),unlockProcessed:Object(u["i"])(Object(u["h"])(c["e"])),expiredProcessed:Object(u["i"])(Object(u["h"])(c["e"]))},"TransferStateOpts")])),p=f;(function(e){e["pending"]="PENDING",e["received"]="RECEIVED",e["closed"]="CLOSED",e["requested"]="REQUESTED",e["revealed"]="REVEALED",e["registered"]="REGISTERED",e["unlocking"]="UNLOCKING",e["expiring"]="EXPIRING",e["unlocked"]="UNLOCKED",e["expired"]="EXPIRED"})(r||(r={}))},"1b23":function(e,t,n){"use strict";n.d(t,"b",(function(){return V})),n.d(t,"a",(function(){return W})),n.d(t,"d",(function(){return H})),n.d(t,"c",(function(){return $}));var r=n("36d8"),a=n.n(r),o=n("b97c"),i=n("1e78"),c=n("331d"),u=n("ae8f"),s=n("42f4"),l=n("a489"),f=n("0fda"),p=n("34ba"),d=n("7f4a"),b=n("daae"),y=n("258b"),h=n("423d"),m=n("4cf1"),v=n("ae0c"),O=n("18df"),g=n("769c"),j=n("25cb"),w=n("43a7"),_=n("58be"),k=n("2b5b"),E=n("325b");function T(e){return x(e)||S(e)||N(e)||A()}function A(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function S(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function x(e){if(Array.isArray(e))return C(e)}function P(e,t){return I(e)||D(e,t)||N(e,t)||R()}function R(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function N(e,t){if(e){if("string"===typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?C(e,t):void 0}}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function D(e,t){var n=e&&("undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0)if(o.push(r.value),t&&o.length===t)break}catch(u){c=!0,a=u}finally{try{i||null==n["return"]||n["return"]()}finally{if(c)throw a}}return o}}function I(e){if(Array.isArray(e))return e}function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(Object(n),!0).forEach((function(t){L(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function B(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(s){return void n(s)}c.done?t(u):Promise.resolve(u).then(r,a)}function F(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){B(o,r,a,i,c,"next",e)}function c(e){B(o,r,a,i,c,"throw",e)}i(void 0)}))}}function V(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e5,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e3,f=t.fromBlock,p=t.toBlock;return Object(c["a"])((function(){var g=f,j=n,w=3;return Object(c["a"])(F(a.a.mark((function n(){return a.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.abrupt("return",e.send("eth_getLogs",[M(M({},t),{},{fromBlock:Object(o["g"])(g),toBlock:Object(o["g"])(Math.min(g+j-1,p))})]));case 1:case"end":return n.stop()}}),n)})))).pipe(Object(d["a"])((function(t){return t.forEach((function(e){null==e.removed&&(e.removed=!1)})),i["a"].arrayOf(e.formatter.filterLog.bind(e.formatter))(t)})),Object(b["a"])({complete:function(){return g+=j},error:function(){j=Math.round(j/2),j<r&&(j=r,w--)}}),Object(y["a"])((function(e){return Object(u["a"])(e)})),Object(h["a"])((function(t){return w>=0?Object(s["a"])(e.pollingInterval).pipe(Object(m["a"])()):Object(l["a"])(t)})),Object(v["a"])((function(e){return e.pipe(Object(O["a"])((function(){return g<=p})))})))}))}function W(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.fromBlock,a=n.confirmations,o=n.blockNumber$,i=n.onPastCompleted;if("string"===typeof t||Array.isArray(t))return Object(f["a"])((function(n){return e.on(t,n)}),(function(n){return e.removeListener(t,n)}));var c=a?"number"===typeof a?Object(p["a"])(a):a:Object(p["a"])(k["c"]),u=[],s=Date.now();return c.pipe(Object(g["a"])(),Object(E["g"])((function(t){if(!r){var n=e._lastBlockNumber,a=e.blockNumber;n=n&&n>0?n:a&&a>0?a:t+1,r=n-t}return u.splice(0,u.length,r),null!==o&&void 0!==o?o:W(e,"block")}),j["a"]),Object(w["a"])(Math.ceil(e.pollingInterval/10)),Object(_["a"])((function(n){var r=P(n,2),a=r[0],o=r[1];return V(e,M(M({},t),{},{fromBlock:u[0],toBlock:o})).pipe(Object(b["a"])({next:function(e){if(e.blockNumber&&!(e.blockNumber+a>o)){var t=e.blockNumber+1,n=u.findIndex((function(e){return e>t}));n&&(n<0&&(n=u.length),u.splice(0,n,t))}},complete:function(){while(u.length>=2*a)u.shift();i&&s&&(s=0,i(Date.now()-s)),u.push(o+1)}}))})))}function H(e){return function(t){var n=e.interface.parseLog(t),r=M(M(M({},t),n),{},{removeListener:function(){},getBlock:function(){return e.provider.getBlock(t.blockHash)},getTransaction:function(){return e.provider.getTransaction(t.transactionHash)},getTransactionReceipt:function(){return e.provider.getTransactionReceipt(t.transactionHash)}});return[].concat(T(n.args),[r])}}function $(e){return"unknown"===e.name?e.chainId.toString():"homestead"===e.name?"mainnet":e.name}},"1f0b":function(e){e.exports=JSON.parse('{"contracts_version":null,"chain_id":1,"contracts":{"ServiceRegistry":{"address":"0xa80aEc9eebD8058A1468e563C025999590F32C08","transaction_hash":"0x5aea719cdc67247db8f24da779a3cf817daab629ad2f743bf4c6b0b067339804","block_number":10095929,"gas_cost":1999694,"constructor_arguments":["0x255Aa6DF07540Cb5d3d297f0D0D4D84cb52bc8e6","0xbBF11c2f66E1887681C902095CEfB1018C854c0f",8.420485356775965e+21,5,4,2836573,842048535677596500000,15552000]},"UserDeposit":{"address":"0x1c62fF66aF8aaD410065E02338F5bFbbe23e1f10","transaction_hash":"0xa810cc5afd8eef2f056fe8d9895b32b81927d76643d8965aaa40d2e24d63dc97","block_number":10095932,"gas_cost":1530140,"constructor_arguments":["0x255Aa6DF07540Cb5d3d297f0D0D4D84cb52bc8e6",8.420485356775965e+23]},"MonitoringService":{"address":"0x727DDdBD042d891180A252C7A20634a696A16925","transaction_hash":"0x8404ad70bd1a42ad0bf27c41d720a78ebdc0a8c23621f479ca1f700773ddfc03","block_number":10095941,"gas_cost":1949835,"constructor_arguments":["0x255Aa6DF07540Cb5d3d297f0D0D4D84cb52bc8e6","0xa80aEc9eebD8058A1468e563C025999590F32C08","0x1c62fF66aF8aaD410065E02338F5bFbbe23e1f10","0x6d07A2ef8De5d7D48337510BCEb9FEEa5424b20c"]},"OneToN":{"address":"0x960f01E9E219E1c8564784a050fD1cA51651592D","transaction_hash":"0xd775a9e8b2baa0005d84cc9d0ff5efa627163e80b05d53712a5b19b44b552836","block_number":10095943,"gas_cost":1097785,"constructor_arguments":["0x1c62fF66aF8aaD410065E02338F5bFbbe23e1f10",1,"0xa80aEc9eebD8058A1468e563C025999590F32C08"]}}}')},2:function(e,t){},"233e":function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"header-identicon"},[n("v-img",{class:{"header-identicon__blockie":e.defaultAccount,"header-identicon__blockie header-identicon__blockie__grayscale":!e.defaultAccount},attrs:{src:e.$blockie(e.defaultAccount),contain:"","aspect-ratio":"1"}})],1)},a=[],o=n("6dbe"),i=n("5cf9"),c=n("94ea"),u=n("77fd");function s(e){return s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}function y(e,t){return y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},y(e,t)}function h(e){var t=O();return function(){var n,r=g(e);if(t){var a=g(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return m(this,n)}}function m(e,t){return!t||"object"!==s(t)&&"function"!==typeof t?v(e):t}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}var j=function(e){b(n,e);var t=h(n);function n(){return d(this,n),t.apply(this,arguments)}return n}(Object(i["c"])(u["a"]));j=Object(o["__decorate"])([Object(i["a"])({computed:f({},Object(c["e"])(["defaultAccount"]))})],j);var w=j,_=w,k=(n("43fd"),n("a6c2")),E=n("411c"),T=n.n(E),A=n("1331"),S=Object(k["a"])(_,r,a,!1,null,"d302227a",null);t["a"]=S.exports;T()(S,{VImg:A["a"]})},"2b5b":function(e,t,n){"use strict";n.d(t,"g",(function(){return s})),n.d(t,"d",(function(){return l})),n.d(t,"f",(function(){return c})),n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return f})),n.d(t,"e",(function(){return p})),n.d(t,"c",(function(){return d})),n.d(t,"h",(function(){return b}));var r,a=n("b97c"),o=n("6da0");function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c,u,s=Object(a["h"])([],65),l=Object(o["a"])([]);(function(e){e["STOP"]="raidenStopped",e["ACCOUNT_CHANGED"]="providerAccountChanged",e["NETWORK_CHANGED"]="providerNetworkChanged"})(c||(c={})),function(e){e["DELIVERY"]="Delivery",e["RECEIVE"]="Receive",e["MEDIATE"]="Mediate",e["WEBRTC"]="webRTC",e["TO_DEVICE"]="toDevice"}(u||(u={}));var f=(r={},i(r,u.DELIVERY,1),i(r,u.RECEIVE,1),i(r,u.MEDIATE,1),i(r,u.WEBRTC,0),i(r,u.TO_DEVICE,1),r),p="RAIDEN",d=5,b=100},"2fca":function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var r=n("36d8"),a=n.n(r);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){return d(e)||p(e,t)||l(e,t)||s()}function s(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(e,t){if(e){if("string"===typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(e,t){var n=e&&("undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0)if(o.push(r.value),t&&o.length===t)break}catch(u){c=!0,a=u}finally{try{i||null==n["return"]||n["return"]()}finally{if(c)throw a}}return o}}function d(e){if(Array.isArray(e))return e}function b(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(s){return void n(s)}c.done?t(u):Promise.resolve(u).then(r,a)}function y(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){b(o,r,a,i,c,"next",e)}function c(e){b(o,r,a,i,c,"throw",e)}i(void 0)}))}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t,n){return t&&m(e.prototype,t),n&&m(e,n),e}var O=function(){function e(){h(this,e)}return v(e,null,[{key:"contracts",value:function(){var e=y(a.a.mark((function e(){var t,n,r,o,c,s,l,f,p,d,b;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=Object({VUE_APP_PFS:"https://pfs.demo001.env.raiden.network",VUE_APP_MATRIX_SERVER:"https://transport.demo001.env.raiden.network",VUE_APP_UDC_ADDRESS:"0x0794F09913AA8C77C8c5bdd1Ec4Bb51759Ee0cC5",VUE_APP_HUB:"hub.raiden.eth",VUE_APP_ALLOW_MAINNET:"false",VUE_APP_IMPRINT:"https://raiden.network/privacy.html",VUE_APP_TERMS:"https://github.com/raiden-network/light-client/blob/master/TERMS.md",VUE_APP_CONFIGURATION_URL:"config.production.json",NODE_ENV:"production",VUE_APP_I18N_LOCALE:"en",VUE_APP_I18N_FALLBACK_LOCALE:"en",VUE_APP_SERVICE_WORKER_DISABLED:"false",BASE_URL:"/"}),n=t.VUE_APP_DEPLOYMENT_INFO,r=t.VUE_APP_DEPLOYMENT_SERVICES_INFO,!n||!r){e.next=15;break}return e.next=4,Promise.all([fetch(n),fetch(r)]);case 4:return o=e.sent,c=u(o,2),s=c[0],l=c[1],e.next=10,Promise.all([s.json(),l.json()]);case 10:return f=e.sent,p=u(f,2),d=p[0],b=p[1],e.abrupt("return",i(i({},d.contracts),b.contracts));case 15:return e.abrupt("return",void 0);case 16:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"configuration",value:function(){var e=y(a.a.mark((function e(){var t,n;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t="config.production.json",e.next=3,fetch(t);case 3:return n=e.sent,e.next=6,n.json();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()}]),e}()},3:function(e,t){},"31a7":function(e){e.exports=JSON.parse('{"contracts_version":null,"chain_id":4,"contracts":{"SecretRegistry":{"address":"0x84df710E901299486F120B06e85b9f22AF913387","transaction_hash":"0x3bf1a9f9f03720a51c593d466c007a65d69c1ca197ac4b572ba9d689773936d3","block_number":6515460,"gas_cost":247286,"constructor_arguments":[]},"TokenNetworkRegistry":{"address":"0xC1e1F66c196738E6E38728Cac797E658631C8580","transaction_hash":"0x0072b99e7cac9134c5769044c9d7d4bafa32cad2a95afaaa3c10b30a8493ddb7","block_number":6515461,"gas_cost":4001594,"constructor_arguments":["0x84df710E901299486F120B06e85b9f22AF913387",4,20,555428,1.157920892373162e+77]}},"token_networks":[{"token_network_address":"0x5CEd7CfC56B4249296108B00DbA70b1b903371D8","constructor_arguments":{"_token_address":"0xD7bB0F9D05766c0149C1A3BE14c634310C4B7719","_secret_registry":"0x84df710E901299486F120B06e85b9f22AF913387","_chain_id":4,"_settlement_timeout_min":20,"_settlement_timeout_max":555428,"_deprecation_executor":"0x062C12c01D0f17fC9eAa33940D994594d91a0182","_channel_participant_deposit_limit":1.157920892373162e+77,"_token_network_deposit_limit":1.157920892373162e+77}}]}')},"325b":function(e,t,n){"use strict";n.d(t,"i",(function(){return Y})),n.d(t,"e",(function(){return X})),n.d(t,"j",(function(){return Q})),n.d(t,"l",(function(){return J})),n.d(t,"k",(function(){return Z})),n.d(t,"m",(function(){return ee})),n.d(t,"b",(function(){return te})),n.d(t,"f",(function(){return ne})),n.d(t,"n",(function(){return re})),n.d(t,"c",(function(){return ae})),n.d(t,"g",(function(){return oe})),n.d(t,"a",(function(){return ie})),n.d(t,"d",(function(){return ce})),n.d(t,"h",(function(){return ue}));var r=n("11cf"),a=n("97a5"),o=n("42f4"),i=n("331d"),c=n("ae8f"),u=n("a489"),s=n("d9d5"),l=n("dae3"),f=n("35dc"),p=n("3912"),d=n("2023"),b=n("db9c"),y=n("4a9c"),h=n("769c"),m=n("258b"),v=n("58da"),O=n("cefa"),g=n("ae0c"),j=n("7f4a"),w=n("18df"),_=n("25cb"),k=n("231d"),E=n("daae"),T=n("dfba"),A=n("4cf1"),S=n("a00b"),x=n("84d4"),P=n("319d"),R=n("534d"),N=n("459b"),C=n("423d"),D=n("2ac2"),I=n("8df4"),U=n("d276"),M=n("ee6c"),L=n("ca14");function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach((function(t){V(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function V(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function W(e,t){return G(e)||K(e,t)||$(e,t)||H()}function H(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function $(e,t){if(e){if("string"===typeof e)return q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?q(e,t):void 0}}function q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function K(e,t){var n=e&&("undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0)if(o.push(r.value),t&&o.length===t)break}catch(u){c=!0,a=u}finally{try{i||null==n["return"]||n["return"]()}finally{if(c)throw a}}return o}}function G(e){if(Array.isArray(e))return e}var Y=function(){return Object(r["a"])(y["a"].apply(void 0,arguments),Object(h["a"])())};function X(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e,t){return e===t};return Object(r["a"])(Object(h["a"])(),Object(m["a"])((function(e){return Object(a["a"])(e)})),Object(v["a"])((function(t,n){var r=t.acc,a=W(n,2),o=a[0],i=a[1];return e(r[o],i)?{acc:r}:{acc:F(F({},r),{},V({},o,i)),changed:[o,i]}}),{acc:{}}),Object(y["a"])("changed"),Object(O["a"])(L["n"]))}function Q(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e4;return Object(r["a"])(Object(g["a"])((function(e){return e.pipe(Object(j["a"])((function(){if("number"===typeof t)return t;var e=t.next();return e.done?-1:e.value})),Object(w["a"])((function(e){return e>=0})),Object(_["a"])((function(e){return Object(o["a"])(e)})))})),Object(k["a"])(e))}function z(e){return Symbol.iterator in e}function J(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return r.log&&(r=F(F({},r),{},{log:r.log.bind(null,"retryWhile")})),function(a){return Object(i["a"])((function(){return t=void 0,n=Object(M["i"])(r),Object(c["a"])(a).pipe(Object(E["a"])((function(){t=void 0,n=Object(M["i"])(r)})),Object(T["a"])((function(r){return r.pipe(Object(m["a"])((function(r){var a;if("number"===typeof e)a=e;else{t||(t=z(e)?e[Symbol.iterator]():e);var i=t.next();a=i.done?-1:i.value}return a>=0&&n(r)?Object(o["a"])(a):Object(u["a"])(r)})))})))}))}}function Z(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Object(i["a"])(e).pipe(J.apply(void 0,n))}function ee(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n){var r=new s["a"];return e.pipe(Object(j["a"])((function(e){return t?!e:!!e})),Object(h["a"])(),Object(k["a"])(r),Object(_["a"])((function(e){return e?n.pipe(Object(E["a"])({complete:function(){return r.next(!0)}})):l["a"]})))}}function te(e,t){return function(n){return e=e.pipe(Object(A["a"])(),Object(S["a"])(null)),void 0!==t&&(e=e.pipe(Object(x["a"])(t))),n.pipe(Object(k["a"])(e))}}function ne(e){return Object(r["a"])(Object(P["a"])(void 0,null),Object(m["a"])(e))}function re(e){return function(t){return Object(f["a"])(Object(o["a"])(e).pipe(Object(R["a"])(Object(u["a"])(new Error("timeout waiting first")))),t)}}function ae(e,t){return function(n){var r=[];return n.pipe(Object(E["a"])((function(e){return r.push(e)})),Object(N["a"])((function(){return Object(i["a"])((function(){return r.length?e(r.splice(0,null!==t&&void 0!==t?t:r.length)):l["a"]}))})))}}function oe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:m["a"];return Object(r["a"])(t((function(t,n){return Object(c["a"])(e(t,n)).pipe(Object(j["a"])((function(e){return[t,e]})))})))}function ie(e){for(var t,n=arguments.length,a=new Array(n>1?n-1:0),o=1;o<n;o++)a[o-1]=arguments[o];e.log&&a.length&&(e=F(F({},e),{},{log:(t=e.log).bind.apply(t,[null].concat(a))}));var i=Object(M["i"])(e);return Object(r["a"])(Object(C["a"])((function(e){return i(e)?l["a"]:Object(u["a"])(e)})))}function ce(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(e){return e};return function(a){return Object(i["a"])((function(){var o=new s["a"],c=new Map,u=Object(i["a"])((function(){return t((function(t){var i=r(t),u=c.get(i);if(u)return u;var s=new p["a"](1),l=a.pipe(Object(O["a"])(Object(U["g"])(e,t.meta)),Object(j["a"])((function(t){if(e.failure.is(t))throw t.payload;return t})),Object(w["a"])((function(e){return n&&"confirmed"in e.payload&&void 0===e.payload.confirmed}),!0)).subscribe(s);o.next(t);var f=s.pipe(Object(D["a"])((function(){l.unsubscribe(),c.delete(i)})));return c.set(i,f),f}))})).pipe(Object(D["a"])((function(){return o.complete()})));return Object(d["a"])(o,u)}))}}function ue(e,t){return function(n){var r=Object(b["a"])(n.pipe(Object(I["a"])()),e),a=W(r,2),o=a[0],i=a[1];return Object(d["a"])(t(o),i)}}},3501:function(e){e.exports=JSON.parse('{"contracts_version":null,"chain_id":5,"contracts":{"SecretRegistry":{"address":"0xC7657aB35Dc19dA658ab160F0913737f650d0642","transaction_hash":"0xe5ae2292f4f0d395ce1b35ef589bdf620bdd2d0cbfe9036265459da9f04f8e2c","block_number":4422370,"gas_cost":247286,"constructor_arguments":[]},"TokenNetworkRegistry":{"address":"0xE7871B43Dfe09EaeC25DA8961484bBcA4C133987","transaction_hash":"0x64e896cc8359817c73ad8f4d4de312307ef5d9ac7151cede184978360e61110c","block_number":4422372,"gas_cost":4001594,"constructor_arguments":["0xC7657aB35Dc19dA658ab160F0913737f650d0642",5,20,555428,1.157920892373162e+77]}},"token_networks":[{"token_network_address":"0xfe3704dBFeca9A970E634f4b6D383f78AE979417","constructor_arguments":{"_token_address":"0xC563388e2e2fdD422166eD5E76971D11eD37A466","_secret_registry":"0xC7657aB35Dc19dA658ab160F0913737f650d0642","_chain_id":5,"_settlement_timeout_min":20,"_settlement_timeout_max":555428,"_deprecation_executor":"0x062C12c01D0f17fC9eAa33940D994594d91a0182","_channel_participant_deposit_limit":1.157920892373162e+77,"_token_network_deposit_limit":1.157920892373162e+77}}]}')},"358d":function(e,t,n){"use strict";n.d(t,"a",(function(){return D})),n.d(t,"c",(function(){return I})),n.d(t,"d",(function(){return M})),n.d(t,"b",(function(){return L})),n.d(t,"e",(function(){return B}));var r=n("36d8"),a=n.n(r),o=n("b97c"),i=n("2111"),c=n("427e"),u=n.n(c),s=n("523d"),l=n.n(s),f=n("ae8f"),p=n("331d"),d=n("dae3"),b=n("0eb1"),y=n("258b"),h=n("423d"),m=n("94e7"),v=n("7f4a"),O=n("7de2"),g=n("46f7"),j=n("ee6c"),w=n("9a49"),_=n("325b"),k=n("ca14");function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){A(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(s){return void n(s)}c.done?t(u):Promise.resolve(u).then(r,a)}function x(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){S(o,r,a,i,c,"next",e)}function c(e){S(o,r,a,i,c,"throw",e)}i(void 0)}))}}var P=u()(function(){var e=x(a.a.mark((function e(t,n){return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(_["k"])((function(){return t.callStatic.token()}),n,{onErrors:j["h"]}).toPromise());case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),R=/^(?:https:\/\/)?[^\s\/$.?#&"']+\.[^\s\/$?#&"']+$/;function N(e){return Object(j["d"])(e,j["b"].PFS_EMPTY_URL),Object(j["d"])(R.test(e),[j["b"].PFS_INVALID_URL,{url:e}]),e.match(/^https?:\/\//)||(e="https://".concat(e)),e}var C=new w["a"](32),D=i["p"](i["j"]([i["v"]({error_code:i["n"],errors:i["s"]}),i["o"]({error_details:i["r"](i["s"],i["y"])})]));function I(e,t){return U.apply(this,arguments)}function U(){return U=x(a.a.mark((function e(t,n){var r,o,c,u,s,l,f,p,d,y,h,m,v;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=n.serviceRegistryContract,o=n.network,c=n.contractsInfo,u=n.provider,s=n.config$,e.next=3,s.pipe(Object(b["a"])()).toPromise();case 3:if(l=e.sent,f=l.pfsMaxFee,p=i["v"]({message:i["s"],network_info:i["v"]({chain_id:i["l"](o.chainId),token_network_registry_address:i["l"](c.TokenNetworkRegistry.address)}),operator:i["s"],payment_address:k["a"],price_info:Object(k["j"])(32),version:i["s"]}),d=t,!k["a"].is(t)){e.next=11;break}return e.next=10,r.callStatic.urls(t);case 10:d=e.sent;case 11:return d=N(d),y=Date.now(),e.next=15,fetch(d+"/api/v1/info",{mode:"cors"});case 15:return h=e.sent,e.next=18,h.text();case 18:return m=e.sent,Object(j["d"])(h.ok,[j["b"].PFS_ERROR_RESPONSE,{text:m}]),v=Object(k["l"])(p,Object(g["b"])(m)),Object(j["d"])(v.price_info.lte(f),[j["b"].PFS_TOO_EXPENSIVE,{price:v.price_info.toString()}]),C.set(d,Promise.resolve(v.payment_address)),e.t0=v.payment_address,e.t1=d,e.t2=Date.now()-y,e.t3=v.price_info,e.next=29,P(r,u.pollingInterval);case 29:return e.t4=e.sent,e.abrupt("return",{address:e.t0,url:e.t1,rtt:e.t2,price:e.t3,token:e.t4});case 31:case"end":return e.stop()}}),e)}))),U.apply(this,arguments)}Object.assign(function(){var e=x(a.a.mark((function e(t,n){var r;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=N(t),r=C.get(t),r||(r=I(t,n).then((function(e){var t=e.address;return t})),C.set(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}(),{cache:C});function M(e,t){var n=t.log;return Object(f["a"])(e).pipe(Object(y["a"])((function(e){return Object(p["a"])(x(a.a.mark((function n(){return a.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.abrupt("return",I(e,t));case 1:case"end":return n.stop()}}),n)})))).pipe(Object(h["a"])((function(t){return n.warn('Error trying to fetch PFS info for "'.concat(e,'" - ignoring:'),t),d["a"]})))}),5),Object(m["a"])(),Object(v["a"])((function(t){return Object(j["d"])(t.length||!e.length,j["b"].PFS_INVALID_INFO),l()(t,"url").sort((function(e,t){var n=e.price.sub(t.price);return n.lt(0)?-1:n.gt(0)?1:e.rtt-t.rtt}))})))}function L(e){return Object(o["b"])([Object(g["a"])(e.one_to_n_address,20),Object(g["a"])(e.chain_id,32),Object(g["a"])(O["a"].IOU,32),Object(g["a"])(e.sender,20),Object(g["a"])(e.receiver,20),Object(g["a"])(e.amount,32),Object(g["a"])(e.expiration_block,32)])}function B(e,t){return F.apply(this,arguments)}function F(){return F=x(a.a.mark((function e(t,n){return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",t.signMessage(L(n)).then((function(e){return T(T({},n),{},{signature:e})})));case 1:case"end":return e.stop()}}),e)}))),F.apply(this,arguments)}},"38b1":function(e,t,n){},"3b50":function(e,t,n){},4:function(e,t){},"40b2":function(e,t,n){"use strict";n("5919"),n("823d");var r=n("111d"),a=n.n(r),o=r["methodFactory"];Object.defineProperty(a.a,"methodFactory",{enumerable:!0,configurable:!0,get:function(){return o},set:function(e){e.allowOverwrite&&(o=e)}});var i=n("178d"),c=Object(i["getRequest"])();Object(i["request"])((function(e,t){var n=c(e,t),r=n.abort.bind(n);return Object.assign(n,{abort:function(){r(),t(new Error("aborted!"))}})}))},"438d":function(e,t,n){"use strict";n.d(t,"b",(function(){return b})),n.d(t,"a",(function(){return y})),n.d(t,"d",(function(){return h})),n.d(t,"c",(function(){return m}));var r=n("36d8"),a=n.n(r),o=n("2023"),i=n("34ba"),c=n("cefa"),u=n("dd5b"),s=n("4cf1"),l=n("8173"),f=n("d276"),p=n("325b"),d=a.a.mark(b);function b(){var e,t,n,r,o=arguments;return a.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:e=o.length>0&&void 0!==o[0]?o[0]:1e3,t=o.length>1&&void 0!==o[1]?o[1]:6e4,n=o.length>2&&void 0!==o[2]?o[2]:1.4,r=e;case 4:return a.next=7,r;case 7:r=Math.min(t,Math.ceil(r*n)),a.next=4;break;case 10:case"end":return a.stop()}}),d)}function y(e,t,n){return Object(o["a"])(e.pipe(Object(c["a"])(n),Object(u["a"])(1),Object(s["a"])()),Object(i["a"])(t))}function h(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:3e4;return y(t,e,Object(f["g"])(l["messageSend"],e.meta)).pipe(Object(p["j"])(n,r),Object(p["b"])(t))}function m(e,t){return function(n){return n.type===e&&(!t||n.expiration.eq(t.expiration)&&n.total_withdraw.eq("totalWithdraw"in t?t.totalWithdraw:t.total_withdraw))}}},"43fd":function(e,t,n){"use strict";n("7419")},"46f7":function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return b}));var r=n("c00b"),a=n("b97c"),o=n("87b8"),i=n("699d"),c=n("e64d"),u=n.n(c),s=n("ee6c"),l=n("ca14");function f(e,t){var n;if("boolean"===typeof e?e=e?o["e"]:o["h"]:"number"===typeof e&&(e=r["a"].from(e)),"string"!==typeof e||Object(a["l"])(e)||(e=Object(i["f"])(e)),Object(a["k"])(e)&&(e=Object(a["i"])(e)),l["b"].is(e)){if(e.lt(0))throw new s["c"](s["b"].DTA_NEGATIVE_NUMBER);if(e.gte(o["f"].pow(8*t)))throw new s["c"](s["b"].DTA_NUMBER_TOO_LARGE);n=Object(a["h"])(Object(a["i"])(e),t)}else{if("string"!==typeof e)throw new s["c"](s["b"].DTA_UNENCODABLE_DATA);if(Object(a["d"])(e)!==t)throw new s["c"](s["b"].DTA_ARRAY_LENGTH_DIFFERENCE);n=e}return n}var p=u()({storeAsString:!0}),d=p.parse,b=p.stringify},"49f8":function(e,t,n){var r={"./en.json":"edd4"};function a(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=o,e.exports=a,a.id="49f8"},"4c29":function(e){e.exports=JSON.parse('{"contracts_version":null,"chain_id":5,"contracts":{"ServiceRegistry":{"address":"0x273bb54f21E23CeA5312bE2623ED97C25CBd6F0D","transaction_hash":"0xb55df847157286ac359952aa9bca2082c62c000bfd299a98ff95fd54c04930d4","block_number":4422373,"gas_cost":1999628,"constructor_arguments":["0x5Fc523e13fBAc2140F056AD7A96De2cC0C4Cc63A","0x062C12c01D0f17fC9eAa33940D994594d91a0182",2e+21,6,5,17280000,1000,15552000]},"UserDeposit":{"address":"0xD145252daB9323F9Acb70295d6a0589c611F225d","transaction_hash":"0x22526107c5e8174e1fe8a3da3b42499a14fc4088b8b236d85ff057b39a32e1e0","block_number":4422374,"gas_cost":1530470,"constructor_arguments":["0x5Fc523e13fBAc2140F056AD7A96De2cC0C4Cc63A",1.157920892373162e+77]},"MonitoringService":{"address":"0x1eF1F851689b6494f4eE6563c1979B5b018be51d","transaction_hash":"0x1894e9b205f09d8cbfc570b7b99f3915133c21157299c95e3b2cdbae01713c8b","block_number":4422375,"gas_cost":1949901,"constructor_arguments":["0x5Fc523e13fBAc2140F056AD7A96De2cC0C4Cc63A","0x273bb54f21E23CeA5312bE2623ED97C25CBd6F0D","0xD145252daB9323F9Acb70295d6a0589c611F225d","0xE7871B43Dfe09EaeC25DA8961484bBcA4C133987"]},"OneToN":{"address":"0x8483c719F8Cd8ed8c8855Be3B2779AF8ef914D47","transaction_hash":"0x666b9d83f683062949520516617db045a565085f7f076effda62d31fea927f4d","block_number":4422376,"gas_cost":1097797,"constructor_arguments":["0xD145252daB9323F9Acb70295d6a0589c611F225d",5,"0x273bb54f21E23CeA5312bE2623ED97C25CBd6F0D"]}}}')},"4cd4":function(e,t,n){e.exports=n.p+"img/notification_block.ad9b07ff.svg"},5:function(e,t){},"50e7":function(e,t,n){"use strict";n.d(t,"b",(function(){return _u})),n.d(t,"a",(function(){return Eu}));var r={};n.r(r),n.d(r,"initEpic",(function(){return Ge})),n.d(r,"initNewBlockEpic",(function(){return Ye})),n.d(r,"blockTimeEpic",(function(){return Xe})),n.d(r,"blockStaleEpic",(function(){return Qe})),n.d(r,"blockGasPriceEpic",(function(){return ze})),n.d(r,"initTokensRegistryEpic",(function(){return Ze})),n.d(r,"initMonitorProviderEpic",(function(){return et})),n.d(r,"channelEventsEpic",(function(){return ot})),n.d(r,"channelMonitoredEpic",(function(){return it})),n.d(r,"channelOpenEpic",(function(){return ct})),n.d(r,"channelDepositEpic",(function(){return st})),n.d(r,"channelCloseEpic",(function(){return lt})),n.d(r,"channelUpdateEpic",(function(){return ft})),n.d(r,"channelAutoSettleEpic",(function(){return pt})),n.d(r,"channelSettleEpic",(function(){return dt})),n.d(r,"channelSettleableEpic",(function(){return bt})),n.d(r,"channelUnlockEpic",(function(){return yt})),n.d(r,"confirmationEpic",(function(){return mt}));var a={};n.r(a),n.d(a,"dbErrorsEpic",(function(){return Ot}));var o={};n.r(o),n.d(o,"msMonitorRequestEpic",(function(){return Dt})),n.d(o,"msMonitorNewBPEpic",(function(){return It})),n.d(o,"pfsRequestEpic",(function(){return Qn})),n.d(o,"pfsCapacityUpdateEpic",(function(){return zn})),n.d(o,"pfsFeeUpdateEpic",(function(){return Jn})),n.d(o,"pfsServiceRegistryMonitorEpic",(function(){return Zn})),n.d(o,"monitorUdcBalanceEpic",(function(){return fr})),n.d(o,"udcDepositEpic",(function(){return dr})),n.d(o,"udcWithdrawPlanRequestEpic",(function(){return br})),n.d(o,"udcAutoWithdrawEpic",(function(){return yr})),n.d(o,"udcWithdrawEpic",(function(){return hr}));var i={};n.r(i),n.d(i,"transferMediateEpic",(function(){return xr})),n.d(i,"transferAutoExpireEpic",(function(){return Ur})),n.d(i,"initQueuePendingEnvelopeMessagesEpic",(function(){return Gr})),n.d(i,"initQueuePendingReceivedEpic",(function(){return Yr})),n.d(i,"transferClearCompletedEpic",(function(){return Qr})),n.d(i,"transferGenerateAndSignEnvelopeMessageEpic",(function(){return Pa})),n.d(i,"transferProcessedReceivedEpic",(function(){return Ma})),n.d(i,"transferProcessedSendEpic",(function(){return La})),n.d(i,"transferRetryMessageEpic",(function(){return qa})),n.d(i,"transferSecretRequestedEpic",(function(){return eo})),n.d(i,"transferSecretRevealEpic",(function(){return no})),n.d(i,"transferSecretRevealedEpic",(function(){return ro})),n.d(i,"transferRequestUnlockEpic",(function(){return ao})),n.d(i,"monitorSecretRegistryEpic",(function(){return oo})),n.d(i,"transferSuccessOnSecretRegisteredEpic",(function(){return io})),n.d(i,"transferAutoRegisterEpic",(function(){return co})),n.d(i,"transferSecretRegisterEpic",(function(){return uo})),n.d(i,"initWithdrawMessagesEpic",(function(){return go})),n.d(i,"withdrawSendRequestMessageEpic",(function(){return jo})),n.d(i,"withdrawSendTxEpic",(function(){return wo})),n.d(i,"withdrawMessageProcessedEpic",(function(){return _o})),n.d(i,"autoWithdrawExpireEpic",(function(){return ko})),n.d(i,"withdrawSendExpireMessageEpic",(function(){return Eo}));var c={};n.r(c),n.d(c,"initMatrixEpic",(function(){return ai})),n.d(c,"matrixShutdownEpic",(function(){return oi})),n.d(c,"matrixMessageSendEpic",(function(){return xi})),n.d(c,"matrixMessageGlobalSendEpic",(function(){return Ri})),n.d(c,"matrixMessageReceivedEpic",(function(){return Ni})),n.d(c,"deliveredEpic",(function(){return Ci})),n.d(c,"matrixMonitorPresenceEpic",(function(){return ec})),n.d(c,"matrixMonitorChannelPresenceEpic",(function(){return tc})),n.d(c,"matrixUpdateCapsEpic",(function(){return nc})),n.d(c,"matrixLeaveUnknownRoomsEpic",(function(){return pc})),n.d(c,"rtcConnectionManagerEpic",(function(){return tu}));var u=n("36d8"),s=n.n(u),l=n("c00b"),f=n("87b8"),p=n("5832"),d=n("2bde"),b=n.n(d),y=n("fe07"),h=n.n(y),m=n("0529"),v=n.n(m),O=n("5e354"),g=n("2023"),j=n("dd97"),w=n("ae8f"),_=n("34ba"),k=n("42f4"),E=n("f5c1"),T=n("7f4a"),A=n("769c"),S=n("daae"),x=n("4cf1"),P=n("cefa"),R=n("4377"),N=n("4a9c"),C=n("dd5b"),D=n("258b"),I=n("58da"),U=n("18df"),M=n("231d"),L=n("423d"),B=n("2ac2"),F=n("dd00"),V=n("2f2f"),W=n("0eb1"),H=n("f5be"),$=n("f799"),q=n("f9e5"),K=n("3638"),G=n("b97c"),Y=n("7ff5"),X=n.n(Y),Q=n("5a9d"),z=n.n(Q),J=n("605b"),Z=n.n(J),ee=n("02ce"),te=n.n(ee),ne=n("331d"),re=n("dae3"),ae=n("516a"),oe=n("a489"),ie=n("a00b"),ce=n("43a7"),ue=n("58be"),se=n("25cb"),le=n("bd71"),fe=n("94e7"),pe=n("9112"),de=n("dc10"),be=n("534d"),ye=n("1c01"),he=n("459b"),me=n("5bbb"),ve=n("2b5b"),Oe=n("8089"),ge=n("7de2"),je=n("1a78"),we=n("59ec"),_e=n("d276"),ke=n("46f7"),Ee=n("ee6c"),Te=n("1b23"),Ae=n("325b"),Se=n("ca14"),xe=n("b8ff"),Pe=n("8120");function Re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Re(Object(n),!0).forEach((function(t){Ce(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ce(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function De(e){return Me(e)||Ue(e)||We(e)||Ie()}function Ie(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ue(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function Me(e){if(Array.isArray(e))return He(e)}function Le(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(s){return void n(s)}c.done?t(u):Promise.resolve(u).then(r,a)}function Be(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Le(o,r,a,i,c,"next",e)}function c(e){Le(o,r,a,i,c,"throw",e)}i(void 0)}))}}function Fe(e,t){return qe(e)||$e(e,t)||We(e,t)||Ve()}function Ve(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function We(e,t){if(e){if("string"===typeof e)return He(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?He(e,t):void 0}}function He(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function $e(e,t){var n=e&&("undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0)if(o.push(r.value),t&&o.length===t)break}catch(u){c=!0,a=u}finally{try{i||null==n["return"]||n["return"]()}finally{if(c)throw a}}return o}}function qe(e){if(Array.isArray(e))return e}function Ke(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function Ge(e,t,n){Ke(e);var r=n.init$;return t.pipe(Object(W["a"])(),Object(D["a"])((function(e){var n=e.blockNumber,a=Date.now();return r.pipe(Object(D["a"])((function(e){return Object(E["a"])(Object(_["a"])(1),e.pipe(Object(x["a"])(),Object(ie["a"])(-1)))})),Object(I["a"])((function(e,t){return e+t}),0),Object(ce["a"])(10),Object(W["a"])((function(e){return 0===e})),Object(F["a"])(t),Object(T["a"])((function(e){var t=Fe(e,2),r=t[1].blockNumber;return Object(H["g"])({tookMs:Date.now()-a,initialBlock:n,currentBlock:r})})))})),Object(Ae["b"])(t),Object(B["a"])((function(){return r.complete()})))}function Ye(e,t,n){Ke(t);var r=n.provider,a=n.init$;return Object(Ae["k"])((function(){return r.getBlockNumber()}),r.pollingInterval).pipe(Object(D["a"])((function(e){return a.pipe(Object(Ae["f"])((function(){return Object(Te["a"])(r,"block")})),Object(R["a"])(e))})),Object(T["a"])((function(e){return Object($["newBlock"])({blockNumber:e})})),Object(Ae["b"])(e))}function Xe(e,t,n){Ke(t);var r=n.provider,a=20,o=[-a,0],i=function(e){return Object(ne["a"])(Be(s.a.mark((function t(){return s.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",r.getBlock(e).then((function(t){var n=t.timestamp;return[e,1e3*n]})));case 1:case"end":return t.stop()}}),t)}))))};return e.pipe(Object(P["a"])($["newBlock"].is),Object(N["a"])("payload","blockNumber"),Object(P["a"])((function(e){return e>=o[0]+a})),Object(ue["a"])((function(e){var t=o[0]>0?Object(_["a"])(o):i(Math.max(1,e-a)),n=i(e);return Object(O["a"])([t,n]).pipe(Object(D["a"])(s.a.mark((function e(t){var n,r,a,i;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=Fe(t,2),r=n[0],a=n[1],i=(a[1]-r[1])/(a[0]-r[0]),i===o[2]){e.next=5;break}return e.next=5,i;case 5:o=[a[0],a[1],i];case 6:case"end":return e.stop()}}),e)}))),Object(L["a"])(X()(re["a"])))})),Object(T["a"])((function(e){return Object($["blockTime"])({blockTime:e})})))}function Qe(e,t,n){Ke(e);var r=n.latest$,a=n.config$;return t.pipe(Object(Ae["i"])("blockNumber"),Object(F["a"])(r,a),Object(T["a"])((function(e){var t=Fe(e,3),n=t[1].blockTime,r=t[2].httpTimeout;return Math.max(3*n,2*r)})),Object(se["a"])((function(e){return Object(E["a"])(Object(_["a"])(!1),Object(k["a"])(e).pipe(Object(le["a"])(!0),Object(Ae["b"])(t)))})),Object(A["a"])(),Object(T["a"])((function(e){return Object($["blockStale"])({stale:e})})))}function ze(e,t,n){Ke(e);var r=n.provider,a=n.config$;return t.pipe(Object(Ae["i"])("blockNumber"),Object(F["a"])(a),Object(ue["a"])((function(e){var t=Fe(e,2),n=t[1].gasPriceFactor;return Object(ne["a"])(Be(s.a.mark((function e(){return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",r.getGasPrice());case 1:case"end":return e.stop()}}),e)})))).pipe(Object(T["a"])((function(e){return e.mul(Math.round(1e6*n)).div(1e6)})),Object(T["a"])((function(e){return e.gte(1e9)?e:1e9})),Object(T["a"])((function(e){return Object(Se["l"])(Object(Se["j"])(32),e)})),Object(L["a"])(X()(re["a"])))})),Object(A["a"])((function(e,t){return e.sub(t).abs().lt(e.div(100))})),Object(T["a"])((function(e){return Object($["blockGasprice"])({gasPrice:e})})))}function Je(e){var t=e.address,n=e.provider,r=e.registryContract,a=e.contractsInfo,o=e.getTokenNetworkContract,i=q["b"].encode(["address"],[t]);return Object(Te["b"])(n,Object.assign(r.filters.TokenNetworkCreated(null,null),{fromBlock:a.TokenNetworkRegistry.block_number,toBlock:n.blockNumber})).pipe(Object(T["a"])(Object(Te["d"])(r)),Object(P["a"])((function(e){var t=Fe(e,2),n=t[1];return!!n})),Object(fe["a"])(),Object(D["a"])((function(e){var t=Object(w["a"])(e.splice(0,2).map((function(e){var t=Fe(e,3),n=t[0],r=t[1],a=t[2];return Object($["tokenMonitored"])({token:n,tokenNetwork:r,fromBlock:a.blockNumber})}))),r=re["a"];if(e.length){var a=e[0][2].blockNumber,c=new Map(e.map((function(e){var t=Fe(e,3),n=t[0],r=t[1],a=t[2];return[r,[n,a]]}))),u=Array.from(c.keys()),s=o(u[0]),l=tt(s),f=l.openTopic;r=Object(g["a"])(Object(Te["b"])(n,{address:u,topics:[f,null,i],fromBlock:a,toBlock:n.blockNumber}),Object(Te["b"])(n,{address:u,topics:[f,null,null,i],fromBlock:a,toBlock:n.blockNumber})).pipe(Object(pe["a"])((function(e){return e.address})),Object(P["a"])((function(e){return c.has(e.address)})),Object(T["a"])((function(e){return Object($["tokenMonitored"])({token:c.get(e.address)[0],tokenNetwork:e.address,fromBlock:e.blockNumber})})))}return Object(g["a"])(t,r)})))}function Ze(e,t,n){return e.pipe(Object(P["a"])($["newBlock"].is),Object(C["a"])(1),Object(F["a"])(t),Object(D["a"])((function(e){var t,r=Fe(e,2),a=r[1],o=new ae["a"];return n.init$.next(o),t=Z()(a.tokens)?Je(n):Object(w["a"])(Object.entries(a.tokens).map((function(e){var t=Fe(e,2),n=t[0],r=t[1];return Object($["tokenMonitored"])({token:n,tokenNetwork:r})}))),t.pipe(Object(B["a"])((function(){return o.complete()})))})))}function et(e,t,n){var r;Ke(t);var a,o=n.address,i=n.main,c=n.network,u=n.provider,l=null!==(r=null===i||void 0===i?void 0:i.address)&&void 0!==r?r:o;return Object(k["a"])(0,u.pollingInterval).pipe(Object(Ae["b"])(e),Object(ue["a"])(Be(s.a.mark((function e(){var t,n,r,o,i;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.all([!1===a?Promise.resolve(null):u.listAccounts(),u.getNetwork()]);case 3:if(t=e.sent,n=Fe(t,2),r=n[0],o=n[1],Object(Ee["d"])(o.chainId===c.chainId,"network changed"),void 0===a&&(a=null===r||void 0===r?void 0:r.includes(l)),!a||!r||r.includes(l)){e.next=11;break}return e.abrupt("return",Object(H["e"])({reason:ve["f"].ACCOUNT_CHANGED}));case 11:e.next=20;break;case 13:if(e.prev=13,e.t0=e["catch"](0),null===e.t0||void 0===e.t0||null===(i=e.t0.message)||void 0===i||!i.includes("network changed")){e.next=17;break}return e.abrupt("return",Object(H["e"])({reason:ve["f"].NETWORK_CHANGED}));case 17:if(!Object(Ee["g"])(Ee["h"],e.t0)){e.next=19;break}return e.abrupt("return");case 19:throw e.t0;case 20:case"end":return e.stop()}}),e,null,[[0,13]])})))),Object(P["a"])(Se["n"]))}function tt(e){return{openTopic:K["b"].getEventTopic(e.interface.getEvent("ChannelOpened")),depositTopic:K["b"].getEventTopic(e.interface.getEvent("ChannelNewDeposit")),withdrawTopic:K["b"].getEventTopic(e.interface.getEvent("ChannelWithdraw")),closedTopic:K["b"].getEventTopic(e.interface.getEvent("ChannelClosed")),settledTopic:K["b"].getEventTopic(e.interface.getEvent("ChannelSettled"))}}function nt(e,t){var n=Fe(e,2),r=n[0],a=n[1],o=t.address,i=t.latest$,c=t.getTokenNetworkContract,u=c(a),s=tt(u),l=s.openTopic,f=s.depositTopic,p=s.withdrawTopic,d=s.closedTopic,b=s.settledTopic;return function(e){return e.pipe(Object(F["a"])(i),Object(T["a"])((function(e){var t,n,i=Fe(e,2),c=i[0],u=i[1],s=u.state,y=u.config,h=c[0].toNumber(),m=Object.values(s.channels).find((function(e){return e.tokenNetwork===a&&e.id===h})),v=Object(Se["o"])(c),O=null===(t=v.topics)||void 0===t?void 0:t[0],g=v.transactionHash,j=v.blockNumber,w=j+y.confirmationBlocks<=s.blockNumber||void 0;switch(O){case l:var _=Fe(c,4),k=_[1],E=_[2],T=_[3];if((o===k||o===E)&&(!m||h>m.id)){var A=o==k?E:k;n=$["channelOpen"].success({id:h,token:r,settleTimeout:T.toNumber(),isFirstParticipant:o===k,txHash:g,txBlock:j,confirmed:w},{tokenNetwork:a,partner:A})}break;case f:var S=Fe(c,3),x=S[1],P=S[2];(null===m||void 0===m?void 0:m.id)===h&&P.gt(m[x===m.partner.address?"partner":"own"].deposit)&&(n=$["channelDeposit"].success({id:h,participant:x,totalDeposit:P,txHash:g,txBlock:j,confirmed:w},{tokenNetwork:a,partner:m.partner.address}));break;case p:var R=Fe(c,3),N=R[1],C=R[2];(null===m||void 0===m?void 0:m.id)===h&&C.gt(m[N===m.partner.address?"partner":"own"].withdraw)&&(n=Object($["channelWithdrawn"])({id:h,participant:N,totalWithdraw:C,txHash:g,txBlock:j,confirmed:w},{tokenNetwork:a,partner:m.partner.address}));break;case d:if((null===m||void 0===m?void 0:m.id)===h&&!("closeBlock"in m)){var D=Fe(c,2),I=D[1];n=$["channelClose"].success({id:h,participant:I,txHash:g,txBlock:j,confirmed:w},{tokenNetwork:a,partner:m.partner.address})}break;case b:(null===m||void 0===m?void 0:m.id)===h&&(n=$["channelSettle"].success({id:h,txHash:g,txBlock:j,confirmed:w,locks:m.partner.locks},{tokenNetwork:a,partner:m.partner.address}));break}return n})),Object(P["a"])(Se["n"]))}}function rt(e,t,n){var r=Fe(e,2),a=r[0],o=r[1],i=Fe(t,2),c=i[0],u=i[1],s=n.address,l=n.provider,f=n.latest$,p=n.getTokenNetworkContract,d=p(u),b=tt(d),y=b.openTopic;return Object(g["a"])(Object(Te["b"])(l,Object.assign(d.filters.ChannelOpened(null,s,null,null),{fromBlock:a,toBlock:o})),Object(Te["b"])(l,Object.assign(d.filters.ChannelOpened(null,null,s,null),{fromBlock:a,toBlock:o}))).pipe(Object(T["a"])(Object(Te["d"])(d)),Object(fe["a"])(),Object(F["a"])(f),Object(D["a"])((function(e){var t=Fe(e,2),n=t[0],r=t[1].state,i=n.filter((function(e){var t=Fe(e,3),n=t[0],a=t[1],o=t[2],i=s===a?o:a,c=n.toNumber(),l=Object(Pe["d"])({tokenNetwork:u,partner:i});return!(Object(Pe["e"])({id:c,tokenNetwork:u,partner:i})in r.oldChannels||l in r.channels&&c<r.channels[l].id)})),c=[].concat(De(i),De(Object.values(r.channels).filter((function(e){return e.tokenNetwork===u})).map((function(e){return[e.id]})))).map((function(e){var t=Fe(e,1),n=t[0];return q["b"].encode(["uint256"],[n])}));if(0===c.length)return re["a"];var f={address:u,topics:[Object.values(tt(d)).filter((function(e){return e!==y})),c]};return Object(Te["b"])(l,Object.assign(f,{fromBlock:a,toBlock:o})).pipe(Object(T["a"])(Object(Te["d"])(d)),Object(fe["a"])(),Object(D["a"])((function(e){var t=[].concat(De(i),De(e));return Object(w["a"])(te()(t,[function(e){return Object(Se["o"])(e).blockNumber},function(e){return Object(Se["o"])(e).transactionIndex}]))})))})),nt([c,u],n))}function at(e,t,n){var r=Fe(t,2),a=r[0],o=r[1],i=n.provider,c=n.getTokenNetworkContract,u=n.config$,s=n.latest$,l=c(o),f=s.pipe(Object(Ae["i"])("state","blockNumber")),p={address:o,topics:[Object.values(tt(l))]};return Object(Te["a"])(i,p,{fromBlock:e,blockNumber$:f,confirmations:u.pipe(Object(N["a"])("confirmationBlocks"))}).pipe(Object(T["a"])(Object(Te["d"])(l)),nt([a,o],n))}function ot(e,t,n){Ke(t);var r=n.provider._lastBlockNumber;return e.pipe(Object(P["a"])($["newBlock"].is),Object(N["a"])("payload","blockNumber"),Object(de["a"])(1,void 0,(function(t){return e.pipe(Object(P["a"])($["tokenMonitored"].is),Object(pe["a"])((function(e){return e.payload.tokenNetwork})),Object(F["a"])(n.config$),Object(D["a"])((function(e){var a,o=Fe(e,2),i=o[0],c=o[1].confirmationBlocks,u=i.payload,s=u.token,l=u.tokenNetwork,f=null!==(a=i.payload.fromBlock)&&void 0!==a?a:r-c,p=new ae["a"];return n.init$.next(p),t.pipe(Object(W["a"])(),Object(D["a"])((function(e){return Object(g["a"])(rt([f,e],[s,l],n).pipe(Object(B["a"])((function(){p.next(!0),p.complete()}))),at(e+1,[s,l],n).pipe(Object(V["a"])((function(){return p}))))})))})))})),Object(Ae["b"])(e))}function it(e,t){return Ke(e),t.pipe(Pe["f"],Object(D["a"])((function(e){return e.pipe(Object(W["a"])(),Object(T["a"])((function(e){return Object($["channelMonitored"])({id:e.id},{tokenNetwork:e.tokenNetwork,partner:e.partner.address})})))})))}function ct(e,t,n){var r=n.log,a=n.signer,o=n.address,i=n.main,c=n.provider,u=n.getTokenNetworkContract,l=n.config$,f=n.latest$;return e.pipe(Object(P["a"])(Object(_e["e"])($["channelOpen"].request)),Object(F["a"])(t,l,f),Object(D["a"])((function(t){var n,f,p,d=Fe(t,4),b=d[0],y=d[1],h=d[2],m=h.settleTimeout,v=h.subkey,O=d[3].gasPrice,g=b.meta,j=g.tokenNetwork,w=g.partner,k=null===(n=y.channels[Object(Pe["d"])(b.meta)])||void 0===n?void 0:n.state;if(k)return Object(_["a"])($["channelOpen"].failure(new Ee["c"](Ee["b"].CNL_INVALID_STATE,{state:k}),b.meta));var T=Object(Oe["b"])({signer:a,address:o,main:i},null!==(f=b.payload.subkey)&&void 0!==f?f:v),A=T.signer,S=Object(Oe["d"])(u(j),A),R=re["a"];return null!==(p=b.payload.deposit)&&void 0!==p&&p.gt(0)&&(R=Object(_["a"])($["channelDeposit"].request({deposit:b.payload.deposit,subkey:b.payload.subkey,waitOpen:!0},b.meta))),Object(E["a"])(R,Object(ne["a"])(Be(s.a.mark((function e(){var t;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",S.openChannel(o,w,null!==(t=b.payload.settleTimeout)&&void 0!==t?t:m,{gasPrice:O}));case 1:case"end":return e.stop()}}),e)})))).pipe(Object(Pe["b"])("openChannel",Ee["b"].CNL_OPENCHANNEL_FAILED,{log:r,provider:c}),Object(Ae["l"])(Object(me["b"])(l),{onErrors:Ee["e"],log:r.info}),Object(M["a"])(e.pipe(Object(P["a"])($["channelOpen"].success.is),Object(P["a"])((function(e){return e.meta.tokenNetwork===j&&e.meta.partner===w})))),Object(x["a"])(),Object(L["a"])((function(e){return Object(_["a"])($["channelOpen"].failure(e,b.meta))}))))})))}function ut(e,t,n,r,a){var o=Fe(e,2),i=o[0],c=o[1],u=Fe(t,3),l=u[0],f=u[1],p=u[2],d=a.log,b=a.provider,y=a.config$,h=a.latest$;return Object(ne["a"])((function(){return Promise.all([i.callStatic.balanceOf(l),i.callStatic.allowance(l,c.address)])})).pipe(Object(F["a"])(y,h),Object(D["a"])((function(e){var t=Fe(e,3),r=Fe(t[0],2),o=r[0],u=r[1],s=t[1].minimumAllowance,l=t[2].gasPrice;return Object(Pe["a"])([o,u,n],i,c.address,Ee["b"].CNL_APPROVE_TRANSACTION_FAILED,a,{minimumAllowance:s,gasPrice:l})})),Object(be["a"])(r),Object(C["a"])(1),Object(D["a"])(function(){var e=Be(s.a.mark((function e(t){return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",c.callStatic.getChannelParticipantInfo(t,f,p).then((function(e){var n=e[0];return[t,n]})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Object(F["a"])(h),Object(D["a"])(function(){var e=Be(s.a.mark((function e(t){var r,a,o,i,u;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=Fe(t,2),a=Fe(r[0],2),o=a[0],i=a[1],u=r[1].gasPrice,e.abrupt("return",c.setTotalDeposit(o,f,i.add(n),p,{gasPrice:u}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Object(Pe["b"])("setTotalDeposit",Ee["b"].CNL_SETTOTALDEPOSIT_FAILED,{log:d,provider:b}),Object(Ae["l"])(Object(me["b"])(y),{onErrors:Ee["e"],log:d.info}))}function st(e,t,n){Ke(t);var r=n.signer,a=n.address,o=n.main,i=n.getTokenContract,c=n.getTokenNetworkContract,u=n.config$,s=n.latest$;return e.pipe(Object(P["a"])(Object(_e["e"])($["channelDeposit"].request)),Object(ye["a"])((function(e){return e.meta.tokenNetwork})),Object(D["a"])((function(t){return t.pipe(Object(he["a"])((function(t){return Object(O["a"])([s,u]).pipe(Object(W["a"])(),Object(D["a"])((function(u){var l,f=Fe(u,2),p=f[0].state,d=f[1].subkey;Object(Ee["d"])(t.payload.deposit.gt(0),Ee["b"].DTA_INVALID_DEPOSIT);var b,y=t.meta,h=y.tokenNetwork,m=y.partner,v=z()(p.tokens,(function(e){return e===h})),O=p.channels[Object(Pe["d"])(t.meta)];if(v&&!O&&t.payload.waitOpen)b=Object(g["a"])(e.pipe(Object(P["a"])($["channelOpen"].failure.is),Object(P["a"])((function(e){return e.meta.tokenNetwork===t.meta.tokenNetwork&&e.meta.partner===t.meta.partner})),Object(be["a"])(Object(oe["a"])(new Ee["c"](Ee["b"].CNL_NO_OPEN_CHANNEL_FOUND,t.meta)))),s.pipe(Object(N["a"])("state","channels",Object(Pe["d"])(t.meta)),Object(P["a"])(Se["n"])));else{if((null===O||void 0===O?void 0:O.state)!==xe["b"].open)throw new Ee["c"](Ee["b"].CNL_NO_OPEN_CHANNEL_FOUND);b=Object(_["a"])(O)}var j=Object(Oe["b"])({signer:r,address:a,main:o},null!==(l=t.payload.subkey)&&void 0!==l?l:d),w=j.signer,k=j.address,E=Object(Oe["d"])(i(v),w),T=Object(Oe["d"])(c(h),w);return b.pipe(Object(N["a"])("id"),Object(de["a"])(1,void 0,(function(e){return ut([E,T],[k,a,m],t.payload.deposit,e,n)})),Object(x["a"])())})),Object(L["a"])((function(e){return Object(_["a"])($["channelDeposit"].failure(e,t.meta))})))})))})))}function lt(e,t,n){var r=n.log,a=n.signer,o=n.address,i=n.main,c=n.provider,u=n.network,s=n.getTokenNetworkContract,l=n.config$,f=n.latest$;return e.pipe(Object(P["a"])(Object(_e["e"])($["channelClose"].request)),Object(F["a"])(t,l,f),Object(D["a"])((function(t){var n,f,p=Fe(t,4),d=p[0],b=p[1],y=p[2].subkey,h=p[3].gasPrice,m=d.meta,v=m.tokenNetwork,O=m.partner,g=Object(Oe["b"])({signer:a,address:o,main:i},null!==(n=null===(f=d.payload)||void 0===f?void 0:f.subkey)&&void 0!==n?n:y),j=g.signer,k=Object(Oe["d"])(s(v),j),E=b.channels[Object(Pe["d"])(d.meta)];if((null===E||void 0===E?void 0:E.state)!==xe["b"].open&&(null===E||void 0===E?void 0:E.state)!==xe["b"].closing){var T=new Ee["c"](Ee["b"].CNL_NO_OPEN_OR_CLOSING_CHANNEL_FOUND,d.meta);return Object(_["a"])($["channelClose"].failure(T,d.meta))}var A=E.partner.balanceProof,S=Object(ge["b"])(A),R=A.nonce,N=A.additionalHash,C=A.signature,I=Object(G["b"])([Object(ke["a"])(v,20),Object(ke["a"])(u.chainId,32),Object(ke["a"])(ge["a"].BALANCE_PROOF,32),Object(ke["a"])(E.id,32),Object(ke["a"])(S,32),Object(ke["a"])(R,32),Object(ke["a"])(N,32),Object(ke["a"])(C,65)]);return Object(w["a"])(a.signMessage(I)).pipe(Object(D["a"])((function(t){return Object(ne["a"])((function(){return k.closeChannel(E.id,O,o,S,R,N,C,t,{gasPrice:h})})).pipe(Object(Pe["b"])("closeChannel",Ee["b"].CNL_CLOSECHANNEL_FAILED,{log:r,provider:c}),Object(Ae["l"])(Object(me["b"])(l),{onErrors:Ee["e"],log:r.info}),Object(M["a"])(e.pipe(Object(P["a"])($["channelClose"].success.is),Object(P["a"])((function(e){return e.meta.tokenNetwork===v&&e.meta.partner===O})))))})),Object(x["a"])(),Object(L["a"])((function(e){return Object(_["a"])($["channelClose"].failure(e,d.meta))})))})))}function ft(e,t,n){var r=n.log,a=n.signer,o=n.address,i=n.main,c=n.provider,u=n.network,s=n.getTokenNetworkContract,l=n.config$,p=n.latest$;return e.pipe(Object(P["a"])(Object(_e["e"])($["channelClose"].success)),Object(P["a"])((function(e){return!!e.payload.confirmed})),Object(V["a"])((function(){return e.pipe(Object(P["a"])($["newBlock"].is))})),Object(F["a"])(t,l,p),Object(P["a"])((function(e){var t=Fe(e,2),n=t[0],r=t[1],a=r.channels[Object(Pe["d"])(n.meta)];return(null===a||void 0===a?void 0:a.state)===xe["b"].closed&&a.id===n.payload.id&&a.partner.balanceProof.transferredAmount.add(a.partner.balanceProof.lockedAmount).gt(f["h"])&&a.closeParticipant!==o})),Object(D["a"])((function(e){var t=Fe(e,4),n=t[0],f=t[1],p=t[2].subkey,d=t[3].gasPrice,b=n.meta,y=b.tokenNetwork,h=b.partner,m=Object(Oe["b"])({signer:a,address:o,main:i},p),v=m.signer,O=Object(Oe["d"])(s(y),v),g=f.channels[Object(Pe["d"])(n.meta)],j=Object(ge["b"])(g.partner.balanceProof),_=g.partner.balanceProof.nonce,k=g.partner.balanceProof.additionalHash,E=g.partner.balanceProof.signature,T=Object(G["b"])([Object(ke["a"])(y,20),Object(ke["a"])(u.chainId,32),Object(ke["a"])(ge["a"].BALANCE_PROOF_UPDATE,32),Object(ke["a"])(g.id,32),Object(ke["a"])(j,32),Object(ke["a"])(_,32),Object(ke["a"])(k,32),Object(ke["a"])(E,65)]);return Object(w["a"])(a.signMessage(T)).pipe(Object(D["a"])((function(e){return Object(ne["a"])((function(){return O.updateNonClosingBalanceProof(g.id,h,o,j,_,k,E,e,{gasPrice:d})})).pipe(Object(Pe["b"])("updateNonClosingBalanceProof",Ee["b"].CNL_UPDATE_NONCLOSING_BP_FAILED,{log:r,provider:c}),Object(Ae["l"])(Object(me["b"])(l),{onErrors:Ee["e"],log:r.info}))})),Object(x["a"])(),Object(L["a"])((function(e){return r.error("Error updating non-closing balance-proof, ignoring",e),re["a"]})))})))}function pt(e,t,n){Ke(e);var r=n.config$;return t.pipe(Pe["f"],Object(D["a"])((function(e){return e.pipe(Object(P["a"])((function(e){return e.state===xe["b"].settleable})),Object(C["a"])(1),Object(F["a"])(r),Object(V["a"])((function(e){var n=Fe(e,2),r=n[0],a=n[1].confirmationBlocks,o=r.closeBlock+r.settleTimeout+Math.round(a*(1+Math.random()));return t.pipe(Object(N["a"])("blockNumber"),Object(P["a"])((function(e){return o<=e})),Object(C["a"])(1))})),Object(F["a"])(t),Object(P["a"])((function(e){var t,n=Fe(e,2),r=Fe(n[0],1),a=r[0],o=n[1];return(null===(t=o.channels[Object(Pe["d"])(a)])||void 0===t?void 0:t.state)===xe["b"].settleable})),Object(T["a"])((function(e){var t=Fe(e,1),n=Fe(t[0],1),r=n[0];return $["channelSettle"].request(void 0,{tokenNetwork:r.tokenNetwork,partner:r.partner.address})})))})),Object(Ae["m"])(r.pipe(Object(N["a"])("autoSettle"),Object(Ae["b"])(t))))}function dt(e,t,n){var r=n.log,a=n.signer,o=n.address,i=n.main,c=n.provider,u=n.getTokenNetworkContract,s=n.config$,l=n.latest$,f=n.db;return e.pipe(Object(P["a"])(Object(_e["e"])($["channelSettle"].request)),Object(F["a"])(t,s),Object(D["a"])((function(t){var n,p,d=Fe(t,3),b=d[0],y=d[1],h=d[2].subkey,m=b.meta,v=m.tokenNetwork,g=m.partner,j=Object(Oe["b"])({signer:a,address:o,main:i},null!==(n=null===(p=b.payload)||void 0===p?void 0:p.subkey)&&void 0!==n?n:h),w=j.signer,k=Object(Oe["d"])(u(v),w),E=y.channels[Object(Pe["d"])(b.meta)],A=[xe["b"].settleable,xe["b"].settling];if(!A.includes(null===E||void 0===E?void 0:E.state)){var S=new Ee["c"](Ee["b"].CNL_NO_SETTLEABLE_OR_SETTLING_CHANNEL_FOUND,b.meta);return Object(_["a"])($["channelSettle"].failure(S,b.meta))}return Object(ne["a"])((function(){return Promise.all([k.callStatic.getChannelParticipantInfo(E.id,o,g),k.callStatic.getChannelParticipantInfo(E.id,g,o)])})).pipe(Object(Ae["l"])(Object(me["b"])(s),{onErrors:Ee["h"]}),Object(D["a"])((function(t){var n,a,i=Fe(t,2),u=i[0][3],p=i[1][3];return n=u===Object(ge["b"])(E.own.balanceProof)?Object(_["a"])(E.own.balanceProof):Object(we["a"])(f,E,je["a"].SENT,u).pipe(Object(L["a"])((function(){return Object(oe["a"])(new Ee["c"](Ee["b"].CNL_SETTLE_INVALID_BALANCEHASH,{address:o,ownBalanceHash:u}))}))),a=p===Object(ge["b"])(E.partner.balanceProof)?Object(_["a"])(E.partner.balanceProof):Object(we["a"])(f,E,je["a"].RECEIVED,p).pipe(Object(L["a"])((function(){return Object(oe["a"])(new Ee["c"](Ee["b"].CNL_SETTLE_INVALID_BALANCEHASH,{address:o,partnerBalanceHash:p}))}))),Object(O["a"])([n,a]).pipe(Object(T["a"])((function(e){var t=Fe(e,2),n=t[0],r=t[1];return r.transferredAmount.add(r.lockedAmount).lt(n.transferredAmount.add(n.lockedAmount))?[[g,r],[o,n]]:[[o,n],[g,r]]})),Object(F["a"])(l),Object(D["a"])((function(t){var n=Fe(t,2),a=Fe(n[0],2),o=a[0],i=a[1],u=n[1].gasPrice;return Object(ne["a"])((function(){return k.settleChannel(E.id,o[0],o[1].transferredAmount,o[1].lockedAmount,o[1].locksroot,i[0],i[1].transferredAmount,i[1].lockedAmount,i[1].locksroot,{gasPrice:u})})).pipe(Object(Pe["b"])("settleChannel",Ee["b"].CNL_SETTLE_FAILED,{log:r,provider:c}),Object(Ae["l"])(Object(me["b"])(s),{onErrors:Ee["e"],log:r.info}),Object(M["a"])(e.pipe(Object(P["a"])($["channelSettle"].success.is),Object(P["a"])((function(e){return e.meta.tokenNetwork===v&&e.meta.partner===g})))))})))})),Object(x["a"])(),Object(L["a"])((function(e){return Object(_["a"])($["channelSettle"].failure(e,b.meta))})))})))}function bt(e,t){return e.pipe(Object(P["a"])($["newBlock"].is),Object(N["a"])("payload","blockNumber"),Object(F["a"])(t),Object(D["a"])(s.a.mark((function e(t){var n,r,a,o,i,c;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=Fe(t,2),r=n[0],a=n[1],o=0,i=Object.values(a.channels);case 2:if(!(o<i.length)){e.next=10;break}if(c=i[o],!(c.state===xe["b"].closed&&r>=c.closeBlock+c.settleTimeout)){e.next=7;break}return e.next=7,Object($["channelSettleable"])({settleableBlock:r},{tokenNetwork:c.tokenNetwork,partner:c.partner.address});case 7:o++,e.next=2;break;case 10:case"end":return e.stop()}}),e)}))))}function yt(e,t,n){var r=n.log,a=n.signer,o=n.address,i=n.main,c=n.provider,u=n.getTokenNetworkContract,s=n.config$,l=n.latest$;return e.pipe(Object(P["a"])(Object(_e["e"])($["channelSettle"].success)),Object(P["a"])((function(e){var t;return!(!e.payload.confirmed||null===(t=e.payload.locks)||void 0===t||!t.length)})),Object(F["a"])(t,s,l),Object(P["a"])((function(e){var t,n=Fe(e,2),r=n[0],a=n[1];return(null===(t=a.channels[Object(Pe["d"])(r.meta)])||void 0===t?void 0:t.id)!==r.payload.id})),Object(D["a"])((function(e){var t=Fe(e,4),n=t[0],l=t[2].subkey,f=t[3].gasPrice,p=n.meta,d=p.tokenNetwork,b=p.partner,y=Object(Oe["d"])(u(d),Object(Oe["b"])({signer:a,address:o,main:i},l).signer),h=Object(G["b"])(n.payload.locks.reduce((function(e,t){return[].concat(De(e),[Object(ke["a"])(t.expiration,32),Object(ke["a"])(t.amount,32),t.secrethash])}),[]));return Object(ne["a"])((function(){return y.unlock(n.payload.id,o,b,h,{gasPrice:f})})).pipe(Object(Pe["b"])("unlock",Ee["b"].CNL_ONCHAIN_UNLOCK_FAILED,{log:r,provider:c}),Object(Ae["l"])(Object(me["b"])(s),{onErrors:Ee["e"],log:r.info}),Object(x["a"])(),Object(L["a"])((function(e){return r.error("Error unlocking pending locks on-chain, ignoring",e),re["a"]})))})))}function ht(e,t,n,r){return Object(Ae["k"])((function(){return t.getTransactionReceipt(e.payload.txHash)}),t.pollingInterval).pipe(Object(T["a"])((function(t){var a;return void 0!==(null===t||void 0===t?void 0:t.confirmations)&&t.confirmations>=r&&t.status?Ne(Ne({},e),{},{payload:Ne(Ne({},e.payload),{},{txBlock:null!==(a=t.blockNumber)&&void 0!==a?a:e.payload.txBlock,confirmed:!0})}):e.payload.txBlock+2*r<n?Ne(Ne({},e),{},{payload:Ne(Ne({},e.payload),{},{confirmed:!1})}):void 0})),Object(P["a"])(Se["n"]))}function mt(e,t,n){Ke(e);var r=n.config$,a=n.provider,o=n.latest$;return Object(O["a"])([t.pipe(Object(Ae["i"])("blockNumber")),t.pipe(Object(N["a"])("pendingTxs")),r.pipe(Object(Ae["i"])("confirmationBlocks"),Object(Ae["b"])(t))]).pipe(Object(P["a"])((function(e){var t=Fe(e,2),n=t[1];return n.length>0})),Object(ue["a"])((function(e){var t=Fe(e,3),n=t[0],r=t[1],i=t[2];return Object(w["a"])(r).pipe(Object(P["a"])((function(e){return e.payload.txBlock+i<n})),Object(he["a"])((function(e){return ht(e,a,n,i).pipe(Object(M["a"])(o.pipe(Object(P["a"])((function(t){var n=t.state;return!n.pendingTxs.some((function(t){return t.type===e.type&&t.payload.txHash===e.payload.txHash}))})))))})))})))}function vt(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function Ot(e,t,n){vt(t);var r=n.db;return r.busy$.pipe(Object(x["a"])(),Object(Ae["b"])(e))}var gt=n("eed9"),jt=n("945b"),wt=n("ad7d"),_t=n("8173"),kt=n("5778"),Et=n("d011");function Tt(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function At(e,t){return Nt(e)||Rt(e,t)||xt(e,t)||St()}function St(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function xt(e,t){if(e){if("string"===typeof e)return Pt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Pt(e,t):void 0}}function Pt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Rt(e,t){var n=e&&("undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0)if(o.push(r.value),t&&o.length===t)break}catch(u){c=!0,a=u}finally{try{i||null==n["return"]||n["return"]()}finally{if(c)throw a}}return o}}function Nt(e){if(Array.isArray(e))return e}function Ct(e){var t=e.address,n=e.log,r=e.network,a=e.signer,o=e.contractsInfo,i=e.latest$,c=e.config$;return function(e){var u=At(e,2),s=u[1],p=Object(Pe["c"])(s),d=p.partnerUnlocked;return d.isZero()?re["a"]:Object(O["a"])([i,c]).pipe(Object(P["a"])((function(e){var t,n=At(e,2),r=n[0].udcDeposit,a=n[1],o=a.monitoringReward,i=a.rateToSvt;return!(null===o||void 0===o||!o.gt(f["h"]))&&r.balance.gte(o)&&d.mul(null!==(t=i[s.token])&&void 0!==t?t:f["b"]).div(f["g"]).gt(o)})),Object(C["a"])(1),Object(D["a"])((function(e){var i=At(e,2),c=i[1].monitoringReward,u=s.partner.balanceProof,f=Object(ge["b"])(u),p=Object(G["b"])([Object(ke["a"])(s.tokenNetwork,20),Object(ke["a"])(r.chainId,32),Object(ke["a"])(ge["a"].BALANCE_PROOF_UPDATE,32),Object(ke["a"])(s.id,32),Object(ke["a"])(f,32),Object(ke["a"])(u.nonce,32),Object(ke["a"])(u.additionalHash,32),Object(ke["a"])(u.signature,65)]),d=Object(we["e"])().toString();return Object(w["a"])(a.signMessage(p)).pipe(Object(D["a"])((function(e){return Object(ge["h"])(a,{type:kt["d"].MONITOR_REQUEST,balance_proof:{chain_id:u.chainId,token_network_address:u.tokenNetworkAddress,channel_identifier:l["a"].from(s.id),nonce:u.nonce,balance_hash:f,additional_hash:u.additionalHash,signature:u.signature},non_closing_participant:t,non_closing_signature:e,monitoring_service_contract_address:o.MonitoringService.address,reward_amount:c},{log:n})})),Object(T["a"])((function(e){return _t["messageServiceSend"].request({message:e},{service:Et["h"].MS,msgId:d})})))})),Object(L["a"])((function(e){return n.error("Error trying to generate & sign MonitorRequest",e),re["a"]})))}}function Dt(e,t,n){return Tt(e),t.pipe(Pe["f"],Object(F["a"])(n.config$),Object(D["a"])((function(e){var t=At(e,2),r=t[0],a=t[1].httpTimeout;return r.pipe(Object(A["a"])((function(e,t){return t.partner.balanceProof.transferredAmount.eq(e.partner.balanceProof.transferredAmount)&&t.partner.balanceProof.lockedAmount.eq(e.partner.balanceProof.lockedAmount)&&t.partner.locks===e.partner.locks})),Object(jt["a"])(),Object(wt["a"])((function(e){var t=At(e,2),n=t[0],r=t[1];return r.partner.locks.length>n.partner.locks.length?Object(k["a"])(a):Object(_["a"])(1)})),Object(se["a"])(Ct(n)))})))}function It(e,t,n){var r=n.provider,a=n.monitoringServiceContract,o=n.address,i=n.config$,c=n.init$,u=new ae["a"];return c.next(u),Object(Te["a"])(r,a.filters.NewBalanceProofReceived(null,null,null,null,null,o),{confirmations:i.pipe(Object(N["a"])("confirmationBlocks")),blockNumber$:e.pipe(Object(P["a"])($["newBlock"].is),Object(N["a"])("payload","blockNumber")),onPastCompleted:function(){u.next(null),u.complete()}}).pipe(Object(Ae["b"])(t),Object(T["a"])(Object(Te["d"])(a)),Object(P["a"])((function(e){var t=At(e,6),n=t[5];return n===o})),Object(F["a"])(t,i),Object(T["a"])((function(e){var t=At(e,3),n=At(t[0],7),r=n[0],a=n[1],o=n[2],i=n[3],c=n[4],u=n[6],s=t[1],l=t[2].confirmationBlocks,f=Object.values(s.channels).concat(Object.values(s.oldChannels)).find((function(e){return e.tokenNetwork===r&&a.eq(e.id)})),p=u.blockNumber;if(f&&p)return Object(gt["msBalanceProofSent"])({tokenNetwork:r,partner:f.partner.address,id:f.id,reward:o,nonce:i,monitoringService:c,txHash:u.transactionHash,txBlock:p,confirmed:p+l<=s.blockNumber||void 0})})),Object(P["a"])(Se["n"]))}var Ut=n("a033"),Mt=n.n(Ut),Lt=n("d890"),Bt=n("2d67"),Ft=n("11cf");function Vt(e,t){return Kt(e)||qt(e,t)||Ht(e,t)||Wt()}function Wt(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ht(e,t){if(e){if("string"===typeof e)return $t(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$t(e,t):void 0}}function $t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function qt(e,t){var n=e&&("undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0)if(o.push(r.value),t&&o.length===t)break}catch(u){c=!0,a=u}finally{try{i||null==n["return"]||n["return"]()}finally{if(c)throw a}}return o}}function Kt(e){if(Array.isArray(e))return e}var Gt=/^@(0x[0-9a-f]{40})[.:]/i;function Yt(e){var t;try{var n=Gt.exec(e);n&&(t=Object(Bt["a"])(n[1]))}catch(r){}return t}function Xt(e){for(var t=new URL("mxc://raiden.network/cap"),n=function(e,n){return t.searchParams.append(e,n)},r=0,a=Object.entries(e);r<a.length;r++){var o=Vt(a[r],2),i=o[0],c=o[1];Array.isArray(c)?c.forEach(n.bind(null,i)):n(i,c)}return t.href}function Qt(e){if(e){var t={};try{var n=new URL(e);return n.searchParams.forEach((function(e,n){var r=e;if(/^\d+$/.test(e))r=Object(ke["b"])(e);else{var a=e.toLowerCase();"none"===a||"null"===a?r=null:"false"===a?r=!1:"true"===a&&(r=!0)}if(n in t){var o=t[n];Array.isArray(o)||(t[n]=o=[o]),o.push(r)}else t[n]=r})),t}catch(r){}}}function zt(e,t){var n;return null!==(n=null===e||void 0===e?void 0:e[t])&&void 0!==n?n:ve["b"][t]}function Jt(){var e=new Set;return Object(Ft["a"])(Object(P["a"])(Lt["matrixPresence"].success.is),Object(I["a"])((function(e,t){return zt(t.payload.caps,ve["a"].DELIVERY)?e.delete(t.meta.address):e.add(t.meta.address),e}),e),Object(R["a"])(e))}var Zt=n("699d"),en=n("8379"),tn=n("79b8"),nn=n("8509"),rn=n("72251"),an=n("358d");function on(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=vn(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function cn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function un(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cn(Object(n),!0).forEach((function(t){sn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function sn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ln(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(s){return void n(s)}c.done?t(u):Promise.resolve(u).then(r,a)}function fn(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){ln(o,r,a,i,c,"next",e)}function c(e){ln(o,r,a,i,c,"throw",e)}i(void 0)}))}}function pn(e){return yn(e)||bn(e)||vn(e)||dn()}function dn(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function bn(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function yn(e){if(Array.isArray(e))return On(e)}function hn(e,t){return jn(e)||gn(e,t)||vn(e,t)||mn()}function mn(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function vn(e,t){if(e){if("string"===typeof e)return On(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?On(e,t):void 0}}function On(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function gn(e,t){var n=e&&("undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0)if(o.push(r.value),t&&o.length===t)break}catch(u){c=!0,a=u}finally{try{i||null==n["return"]||n["return"]()}finally{if(c)throw a}}return o}}function jn(e){if(Array.isArray(e))return e}function wn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date;return e.toISOString().substr(0,23)+"000"}function _n(e,t,n){var r=n.address,a=n.signer,o=n.network,i=n.contractsInfo,c=n.latest$,u=n.config$;return Object(ne["a"])((function(){var t=wn(),n=Object(G["b"])([r,e.address,Object(Zt["f"])(t)]);return Object(w["a"])(a.signMessage(n)).pipe(Object(T["a"])((function(n){return{sender:r,receiver:e.address,timestamp:t,signature:n}})))})).pipe(Object(F["a"])(u),Object(D["a"])((function(n){var r=hn(n,2),a=r[0],o=r[1].httpTimeout;return Object(nn["a"])("".concat(e.url,"/api/v1/").concat(t,"/payment/iou?").concat(new URLSearchParams(a).toString()),{method:"GET",headers:{"Content-Type":"application/json"}}).pipe(Object(rn["a"])(o),Object(Ae["l"])(Object(me["b"])(u),{onErrors:[].concat(pn(Ee["h"]),["TimeoutError"])}))})),Object(F["a"])(c.pipe(Object(N["a"])("state","blockNumber")),u),Object(D["a"])(function(){var t=fn(s.a.mark((function t(n){var a,c,u,p,d,b,y,h;return s.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=hn(n,3),c=a[0],u=a[1],p=a[2].pfsIouTimeout,404!==c.status){t.next=3;break}return t.abrupt("return",{sender:r,receiver:e.address,chain_id:l["a"].from(o.chainId),amount:f["h"],one_to_n_address:i.OneToN.address,expiration_block:l["a"].from(u).add(p)});case 3:return t.next=5,c.text();case 5:if(d=t.sent,c.ok){t.next=8;break}throw new Ee["c"](Ee["b"].PFS_LAST_IOU_REQUEST_FAILED,{responseStatus:c.status,responseText:d});case 8:if(b=Object(Se["l"])(Et["b"],Object(ke["b"])(d)),y=b.last_iou,h=Object(en["b"])(Object(an["b"])(y),y.signature),h===r){t.next=12;break}throw new Ee["c"](Ee["b"].PFS_IOU_SIGNATURE_MISMATCH,{signer:h,address:r});case 12:return t.abrupt("return",y);case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()))}function kn(e,t,n){return e.price.isZero()?Object(_["a"])(void 0):n.latest$.pipe(Object(W["a"])(),Object(D["a"])((function(r){var a,o=r.state,i=null===(a=o.iou[t])||void 0===a?void 0:a[e.address];return i?Object(_["a"])(i):_n(e,t,n)})),Object(T["a"])((function(t){return un(un({},t),{},{amount:t.amount.add(e.price)})})),Object(D["a"])((function(e){return Object(an["e"])(n.signer,e)})))}function En(e,t){var n=e.partner.address;if(e.state!==xe["b"].open)return'path: channel with "'.concat(n,'" in state "').concat(e.state,'" instead of "').concat(xe["b"].open,'"');var r=Object(Pe["c"])(e),a=r.ownCapacity;return!a.lt(t)||'path: channel with "'.concat(n,"\" doesn't have enough capacity=").concat(a.toString())}function Tn(e,t,n,r){if(null===t||void 0===t||!t.payload.available)return"path: partner not available in transport";var a=t.meta.address;return n||zt(t.payload.caps,ve["a"].MEDIATE)?e?En(e,r):"path: there's no direct channel with partner \"".concat(a,'"'):'path: partner "'.concat(a,"\" doesn't mediate transfers")}function An(e,t,n){var r=e.meta,a=r.tokenNetwork,o=r.target,i=r.value;Object(Ee["d"])(Object.values(t.tokens).includes(a),[Ee["b"].PFS_UNKNOWN_TOKEN_NETWORK,{tokenNetwork:a}]),Object(Ee["d"])(n.payload.available,[Ee["b"].PFS_TARGET_OFFLINE,{target:o}]),Object(Ee["d"])(zt(n.payload.caps,ve["a"].RECEIVE),[Ee["b"].PFS_TARGET_NO_RECEIVE,{target:o}]),Object(Ee["d"])(Object.values(t.channels).some((function(e){return!0===En(e,i)})),Ee["b"].PFS_NO_ROUTES_BETWEEN_NODES)}function Sn(e,t){var n=null===e.payload.pfs,r=!e.payload.pfs&&t.pfsMode===Et["f"].disabled;return n||r}function xn(e,t){return t.config$.pipe(Object(W["a"])(),Object(Ae["g"])((function(n){return Rn(e.payload.pfs,n,t)})),Object(Ae["g"])((function(n){var r=hn(n,2),a=r[1];return kn(a,e.meta.tokenNetwork,t)})),Object(Ae["g"])((function(n){var r=hn(n,2),a=hn(r[0],2),o=a[0],i=a[1],c=r[1];return Nn(i,c,e.meta,{address:t.address,config:o})})),Object(T["a"])((function(t){var n=hn(t,2),r=hn(n[0],2),a=hn(r[0],1),o=a[0],i=r[1],c=n[1],u=c.response,s=c.text,l=Object(ke["b"])(s);if(!u.ok){var f=Object(Se["l"])(an["a"],l);return{iou:i,error:f}}return{iou:i,paths:Dn(e.meta.value,l,o)}})))}function Pn(e,t,n,r){var a,o=n.address,i=n.log,c=[],u=new Set,s=on(r);try{for(s.s();!(a=s.n()).done;){var l=a.value,f=l.path,p=l.fee,d=Un(f,o),b=d[0];if(!u.has(b)){var y=!1,h="";if(c.length)b!==c[0].path[0]?h="path: already selected another recipient":p.gt(c[0].fee)?h="path: already selected a smaller fee":y=!0;else{var m=e.channels[Object(Pe["d"])({tokenNetwork:t.meta.tokenNetwork,partner:b})],v=m?En(m,t.meta.value):"path: there's no direct channel with partner \"".concat(b,'"');!0===v?y=!0:h=v}y?c.push({path:d,fee:p}):(i.warn("Invalidated received route. Reason:",h,"Route:",d),u.add(b))}}}catch(O){s.e(O)}finally{s.f()}return c}function Rn(e,t,n){if(e)return Object(_["a"])(e);if(t.pfsMode===Et["f"].onlyAdditional)return Object(ne["a"])(fn(s.a.mark((function e(){var r,a,o,i;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=on(t.additionalServices),e.prev=1,a.s();case 3:if((o=a.n()).done){e.next=16;break}return i=o.value,e.prev=5,e.next=8,Object(an["c"])(i,n);case 8:return e.abrupt("return",e.sent);case 11:e.prev=11,e.t0=e["catch"](5),r||(r=e.t0);case 14:e.next=3;break;case 16:e.next=21;break;case 18:e.prev=18,e.t1=e["catch"](1),a.e(e.t1);case 21:return e.prev=21,a.f(),e.finish(21);case 24:throw r;case 25:case"end":return e.stop()}}),e,null,[[1,18,21,24],[5,11]])}))));var r=n.log,a=n.latest$,o=n.init$;return o.pipe(Object(Ae["f"])((function(){return a.pipe(Object(W["a"])(),Object(N["a"])("state","services"))})),Object(D["a"])((function(e){return Object(an["d"])(t.additionalServices.concat(Object.keys(e)),n).pipe(Object(T["a"])((function(n){return r.info("Auto-selecting best PFS from:",n),Object(Ee["d"])(n.length,[Ee["b"].PFS_INVALID_INFO,{services:Object.keys(e).join(","),additionalServices:t.additionalServices.join(",")}]),n[0]})))})))}function Nn(e,t,n,r){var a=n.tokenNetwork,o=n.target,i=n.value,c=r.address,u=r.config,l=u.httpTimeout,f=u.pfsMaxPaths,p=Object(ke["c"])({from:c,to:o,value:Object(Se["j"])(32).encode(i),max_paths:f,iou:t?un(un({},t),{},{amount:Object(Se["j"])(32).encode(t.amount),expiration_block:Object(Se["j"])(32).encode(t.expiration_block),chain_id:Object(Se["j"])(32).encode(t.chain_id)}):void 0});return Object(nn["a"])("".concat(e.url,"/api/v1/").concat(a,"/paths"),{method:"POST",headers:{"Content-Type":"application/json"},body:p}).pipe(Object(rn["a"])(l),Object(Ae["l"])(Object(me["b"])(Object(_["a"])(u)),{onErrors:[].concat(pn(Ee["h"]),["TimeoutError"])}),Object(D["a"])(function(){var e=fn(s.a.mark((function e(t){return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.t0=t,e.next=3,t.text();case 3:return e.t1=e.sent,e.abrupt("return",{response:e.t0,text:e.t1});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))}function Cn(e,t,n){var r=n.pfsSafetyMargin,a=0,o=0;"number"===typeof r?a=r-1:(a=r[0],o=r[1]);var i=new tn["Decimal"](e.toHexString()).abs().mul(a).add(new tn["Decimal"](t.toHexString()).mul(o));return Object(Se["l"])(Object(Se["d"])(32),e.add(i.toFixed(0,tn["Decimal"].ROUND_CEIL)))}function Dn(e,t,n){var r=Object(Se["l"])(Et["d"],t).result.slice(0,n.pfsMaxPaths);return r.map((function(t){var r,a=t.path,o=t.estimated_fee;return r=o.isZero()?o:Cn(o,e,n),{path:a,fee:r}}))}function In(e){var t=e.paths,n=e.error;return void 0!==t||Mn(n)}function Un(e,t){return e[0]===t?e.slice(1):e}function Mn(e){return 2201===(null===e||void 0===e?void 0:e.error_code)}function Ln(e,t,n,r){var a=n.state,o=n.config;An(e,a,r);var i=e.meta,c=i.tokenNetwork,u=i.target,s=i.value;if(e.payload.paths)return Object(_["a"])({paths:e.payload.paths,iou:void 0});if(!0===Tn(a.channels[Object(Pe["d"])({tokenNetwork:c,partner:u})],r,!0,s))return Object(_["a"])({paths:[{path:[t.address,u],fee:f["h"]}],iou:void 0});if(Sn(e,o))throw new Ee["c"](Ee["b"].PFS_DISABLED);return xn(e,t)}function Bn(e,t,n,r){var a=t.meta.tokenNetwork,o=r.iou,i=r.paths,c=r.error;return Object(w["a"])(s.a.mark((function u(){var l;return s.a.wrap((function(u){while(1)switch(u.prev=u.next){case 0:if(!o){u.next=8;break}if(!In(r)){u.next=6;break}return u.next=4,Object(gt["iouPersist"])({iou:o},{tokenNetwork:a,serviceAddress:o.receiver});case 4:u.next=8;break;case 6:return u.next=8,Object(gt["iouClear"])(void 0,{tokenNetwork:a,serviceAddress:o.receiver});case 8:if(!c){u.next=14;break}if(!Mn(c)){u.next=13;break}throw new Ee["c"](Ee["b"].PFS_NO_ROUTES_BETWEEN_NODES);case 13:throw new Ee["c"](Ee["b"].PFS_ERROR_RESPONSE,{errorCode:c.error_code,errors:c.errors});case 14:if(l=i?Pn(e,t,n,i):[],!l.length){u.next=20;break}return u.next=18,gt["pathFind"].success({paths:l},t.meta);case 18:u.next=21;break;case 20:throw new Ee["c"](Ee["b"].PFS_NO_ROUTES_FOUND);case 21:case"end":return u.stop()}}),u)}))())}function Fn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Vn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fn(Object(n),!0).forEach((function(t){Wn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Wn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hn(e,t){return Yn(e)||Gn(e,t)||qn(e,t)||$n()}function $n(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function qn(e,t){if(e){if("string"===typeof e)return Kn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Kn(e,t):void 0}}function Kn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Gn(e,t){var n=e&&("undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0)if(o.push(r.value),t&&o.length===t)break}catch(u){c=!0,a=u}finally{try{i||null==n["return"]||n["return"]()}finally{if(c)throw a}}return o}}function Yn(e){if(Array.isArray(e))return e}function Xn(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function Qn(e,t,n){return Xn(t),e.pipe(Object(Ae["d"])(Lt["matrixPresence"],(function(t){return e.pipe(Object(P["a"])(Object(_e["e"])(gt["pathFind"].request)),Object(he["a"])((function(e){return t(Lt["matrixPresence"].request(void 0,{address:e.meta.target})).pipe(Object(F["a"])(n.latest$),Object(D["a"])((function(t){var r=Hn(t,2),a=r[0],o=r[1];return Ln(e,n,o,a)})),Object(F["a"])(n.latest$),Object(D["a"])((function(t){var r=Hn(t,2),a=r[0],o=r[1].state;return Bn(o,e,n,a)})),Object(L["a"])((function(t){return Object(_["a"])(gt["pathFind"].failure(t,e.meta))})))})))})))}function zn(e,t,n){Xn(e);var r=n.log,a=n.address,o=n.network,i=n.signer,c=n.config$;return t.pipe(Pe["f"],Object(D["a"])((function(e){return e.pipe(Object(jt["a"])(),Object(F["a"])(c),Object(P["a"])((function(e){var t=Hn(e,2),n=Hn(t[0],2),r=n[1],a=t[1].pfsMode;return r.state===xe["b"].open&&a!==Et["f"].disabled})),Object(wt["a"])((function(e){var t=Hn(e,2),n=Hn(t[0],2),r=n[0],a=n[1],o=t[1].httpTimeout;return a.own.locks.length>r.own.locks.length||a.partner.locks.length>r.partner.locks.length?Object(k["a"])(o):Object(_["a"])(1)})),Object(se["a"])((function(e){var t=Hn(e,2),n=Hn(t[0],2),c=n[1],u=t[1].revealTimeout,s=c.tokenNetwork,f=c.partner.address,p=Object(Pe["c"])(c),d=p.ownCapacity,b=p.partnerCapacity,y={type:kt["d"].PFS_CAPACITY_UPDATE,canonical_identifier:{chain_identifier:l["a"].from(o.chainId),token_network_address:s,channel_identifier:l["a"].from(c.id)},updating_participant:a,other_participant:f,updating_nonce:c.own.balanceProof.nonce,other_nonce:c.partner.balanceProof.nonce,updating_capacity:d,other_capacity:b,reveal_timeout:l["a"].from(u)},h=Object(we["e"])().toString();return Object(ne["a"])((function(){return Object(ge["h"])(i,y,{log:r})})).pipe(Object(T["a"])((function(e){return _t["messageServiceSend"].request({message:e},{service:Et["h"].PFS,msgId:h})})),Object(L["a"])((function(e){return r.error("Error trying to generate & sign PFSCapacityUpdate",e),re["a"]})))})))})))}function Jn(e,t,n){Xn(e);var r=n.log,a=n.address,o=n.network,i=n.signer,c=n.config$,u=n.mediationFeeCalculator;return t.pipe(Pe["f"],Object(D["a"])((function(e){return Object(O["a"])([e,c.pipe(Object(Ae["i"])("caps")),c.pipe(Object(Ae["i"])("mediationFees"))]).pipe(Object(P["a"])((function(e){var t=Hn(e,2),n=t[1];return!!zt(n,ve["a"].MEDIATE)})),Object(T["a"])((function(e){var t=Hn(e,3),n=t[0],r=t[2],a=u.schedule(r,n);return[n,a]})),Object(A["a"])((function(e,t){var n=Hn(e,2),r=n[1],a=Hn(t,2),o=a[1];return h()(r,o)})),Object(se["a"])((function(e){var t=Hn(e,2),n=t[0],c=t[1],u={type:kt["d"].PFS_FEE_UPDATE,canonical_identifier:{chain_identifier:l["a"].from(o.chainId),token_network_address:n.tokenNetwork,channel_identifier:l["a"].from(n.id)},updating_participant:a,timestamp:wn(),fee_schedule:c},s=Object(we["e"])().toString(),f={service:Et["h"].PFS,msgId:s};return Object(w["a"])(Object(ge["h"])(i,u,{log:r})).pipe(Object(T["a"])((function(e){return _t["messageServiceSend"].request({message:e},f)})),Object(L["a"])((function(e){return r.error("Error trying to generate & sign PFSFeeUpdate",e),re["a"]})))})),Object(M["a"])(e.pipe(Object(P["a"])((function(e){return e.state!==xe["b"].open})))))})),Object(Ae["b"])(t))}function Zn(e,t,n){var r=n.provider,a=n.serviceRegistryContract,o=n.contractsInfo,i=n.config$,c=n.init$,u=e.pipe(Object(P["a"])($["newBlock"].is),Object(N["a"])("payload","blockNumber"));return t.pipe(Object(W["a"])(),Object(se["a"])((function(n){var s=n.services,l=new ae["a"];return c.next(l),Object(Te["a"])(r,a.filters.RegisteredService(null,null,null,null),{fromBlock:Z()(s)?o.TokenNetworkRegistry.block_number:void 0,confirmations:i.pipe(Object(N["a"])("confirmationBlocks")),blockNumber$:u,onPastCompleted:function(){l.next(null),l.complete()}}).pipe(Object(F["a"])(t,i),Object(P["a"])((function(e){var t=Hn(e,3),n=t[0].blockNumber,r=t[1].blockNumber,a=t[2].confirmationBlocks;return!!n&&n+a<=r})),Object(N["a"])(0),Object(T["a"])(Object(Te["d"])(a)),Object(F["a"])(t),Object(T["a"])((function(e){var t=Hn(e,2),n=Hn(t[0],2),r=n[0],a=n[1],o=t[1].services;return Vn(Vn({},o),{},Wn({},r,1e3*a.toNumber()))})),Object(R["a"])(s),Object(se["a"])((function(t){return e.pipe(Object(P["a"])($["newBlock"].is),Object(R["a"])(!0),Object(T["a"])((function(){return Mt()(t,(function(e){return Date.now()<e}))})))})))})),Object(A["a"])(h.a),Object(T["a"])((function(e){return Object(gt["servicesValid"])(e)})),Object(Ae["b"])(e))}var er=n("8906"),tr=n("438d");function nr(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(s){return void n(s)}c.done?t(u):Promise.resolve(u).then(r,a)}function rr(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){nr(o,r,a,i,c,"next",e)}function c(e){nr(o,r,a,i,c,"throw",e)}i(void 0)}))}}function ar(e,t){return sr(e)||ur(e,t)||ir(e,t)||or()}function or(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ir(e,t){if(e){if("string"===typeof e)return cr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?cr(e,t):void 0}}function cr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ur(e,t){var n=e&&("undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0)if(o.push(r.value),t&&o.length===t)break}catch(u){c=!0,a=u}finally{try{i||null==n["return"]||n["return"]()}finally{if(c)throw a}}return o}}function sr(e){if(Array.isArray(e))return e}function lr(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function fr(e,t,n){lr(t);var r=n.address,a=n.latest$,o=n.provider,i=n.userDepositContract;return e.pipe(Object(P["a"])($["newBlock"].is),Object(R["a"])(null),Object(ue["a"])((function(){return Object(Ae["k"])((function(){return Promise.all([i.callStatic.effectiveBalance(r),i.callStatic.total_deposit(r)])}),o.pollingInterval,{onErrors:Ee["h"]}).pipe(Object(L["a"])(X()(re["a"])))})),Object(F["a"])(a),Object(P["a"])((function(e){var t=ar(e,2),n=ar(t[0],1),r=n[0],a=t[1].udcDeposit;return!a.balance.eq(r)})),Object(T["a"])((function(e){var t=ar(e,1),n=ar(t[0],2),r=n[0],a=n[1];return gt["udcDeposit"].success({balance:r},{totalDeposit:a})})))}function pr(e,t,n,r){var a=ar(e,2),o=a[0],i=a[1],c=ar(t,2),u=c[0],l=c[1],f=ar(n,2),p=f[0],d=f[1],b=r.log,y=r.provider,h=r.config$,m=r.latest$;return Object(ne["a"])(rr(s.a.mark((function e(){return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all([o.callStatic.balanceOf(u),o.callStatic.allowance(u,i.address)]));case 1:case"end":return e.stop()}}),e)})))).pipe(Object(Ae["l"])(Object(me["b"])(h),{onErrors:Ee["h"]}),Object(F["a"])(h,m),Object(Ae["g"])((function(e){var t=ar(e,3),n=ar(t[0],2),a=n[0],c=n[1],u=t[1].minimumAllowance,s=t[2].gasPrice;return Object(Pe["a"])([a,c,p],o,i.address,Ee["b"].RDN_APPROVE_TRANSACTION_FAILED,r,{minimumAllowance:u,gasPrice:s})})),Object(D["a"])((function(e){var t=ar(e,1),n=ar(t[0],3),r=n[2].gasPrice;return Object(ne["a"])(rr(s.a.mark((function e(){return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",i.callStatic.total_deposit(l));case 1:case"end":return e.stop()}}),e)})))).pipe(Object(Ae["l"])(Object(me["b"])(h),{onErrors:Ee["h"]}),Object(D["a"])(function(){var e=rr(s.a.mark((function e(t){return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return Object(Ee["d"])(t.add(p).eq(d),[Ee["b"].UDC_DEPOSIT_OUTDATED,{requested:d.toString(),current:t.toString()}]),e.abrupt("return",i.deposit(l,d,{gasPrice:r}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))})),Object(Pe["b"])("deposit",Ee["b"].RDN_DEPOSIT_TRANSACTION_FAILED,{log:b,provider:y}),Object(Ae["l"])(Object(me["b"])(h),{onErrors:Ee["f"],log:b.debug}))}function dr(e,t,n){lr(t);var r=n.userDepositContract,a=n.getTokenContract,o=n.address,i=n.signer,c=n.main,u=n.config$,s=n.provider;return e.pipe(Object(P["a"])(gt["udcDeposit"].request.is),Object(he["a"])((function(e){return Object(Ae["k"])((function(){return r.callStatic.token()}),s.pollingInterval,{onErrors:Ee["h"]}).pipe(Object(F["a"])(u),Object(D["a"])((function(t){var u,s=ar(t,2),l=s[0],f=s[1],p=Object(Oe["b"])({signer:i,address:o,main:c},null!==(u=e.payload.subkey)&&void 0!==u?u:f.subkey),d=p.signer,b=p.address,y=Object(Oe["d"])(a(l),d),h=Object(Oe["d"])(r,d);return pr([y,h],[b,o],[e.payload.deposit,e.meta.totalDeposit],n)})),Object(D["a"])((function(t){var n=ar(t,2),a=n[1];return Object(Ae["k"])((function(){return r.callStatic.effectiveBalance(o)}),s.pollingInterval,{onErrors:Ee["h"]}).pipe(Object(T["a"])((function(t){return gt["udcDeposit"].success({balance:t,txHash:a.transactionHash,txBlock:a.blockNumber,confirmed:void 0},e.meta)})))})),Object(L["a"])((function(t){return Object(_["a"])(gt["udcDeposit"].failure(t,e.meta))})))})))}function br(e,t,n){lr(t);var r=n.userDepositContract,a=n.address,o=n.log,i=n.signer,c=n.provider,u=n.config$,l=n.latest$;return e.pipe(Object(P["a"])(gt["udcWithdrawPlan"].request.is),Object(he["a"])((function(t){var n=Object(Oe["d"])(r,i),p=t.meta.amount;return Object(ne["a"])(rr(s.a.mark((function e(){return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",r.callStatic.balances(a));case 1:case"end":return e.stop()}}),e)})))).pipe(Object(F["a"])(l),Object(D["a"])(function(){var e=rr(s.a.mark((function e(t){var r,a,o;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=ar(t,2),a=r[0],o=r[1].gasPrice,Object(Ee["d"])(p.gt(f["h"]),[Ee["b"].UDC_PLAN_WITHDRAW_GT_ZERO,{amount:p.toString()}]),Object(Ee["d"])(p.lte(a),[Ee["b"].UDC_PLAN_WITHDRAW_EXCEEDS_AVAILABLE,{balance:a.toString(),amount:p.toString()}]),e.abrupt("return",n.planWithdraw(p,{gasPrice:o}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Object(Pe["b"])("planWithdraw",Ee["b"].UDC_PLAN_WITHDRAW_FAILED,{log:o,provider:c}),Object(Ae["l"])(Object(me["b"])(u),{onErrors:Ee["f"],log:o.info}),Object(Ae["g"])((function(){return e.pipe(Object(P["a"])($["newBlock"].is),Object(R["a"])(0),Object(ue["a"])((function(){return Object(ne["a"])(rr(s.a.mark((function e(){return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",r.callStatic.withdraw_plans(a));case 1:case"end":return e.stop()}}),e)})))).pipe(Object(Ae["a"])({onErrors:Ee["h"],log:o.debug}))})),Object(W["a"])((function(e){var n=e.amount;return n.gte(t.meta.amount)})))})),Object(T["a"])((function(e){var n=ar(e,2),r=ar(n[0],2),a=r[0].hash,o=r[1].blockNumber,i=n[1].withdraw_block;return gt["udcWithdrawPlan"].success({block:i.toNumber(),txHash:a,txBlock:o,confirmed:void 0},t.meta)})),Object(L["a"])((function(e){return Object(_["a"])(gt["udcWithdrawPlan"].failure(e,t.meta))})))})))}function yr(e,t,n){lr(t);var r=n.userDepositContract,a=n.address,o=n.config$,i=n.log,c=0;return e.pipe(Object(P["a"])($["newBlock"].is),Object(N["a"])("payload","blockNumber"),Object(P["a"])((function(e){return e>=c})),Object(ue["a"])((function(t){return Object(ne["a"])(rr(s.a.mark((function e(){return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",r.withdraw_plans(a));case 1:case"end":return e.stop()}}),e)})))).pipe(Object(Ae["a"])({onErrors:Ee["h"],log:i.debug}),Object(D["a"])(s.a.mark((function n(r){var a,o,i,u;return s.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(a=r.amount,o=r.withdraw_block,i={amount:a},!o.isZero()){n.next=5;break}return c=t+ve["h"],n.abrupt("return");case 5:if(u=0===c,!u){n.next=9;break}return n.next=9,Object(_["a"])(gt["udcWithdrawPlan"].success({block:o.toNumber(),confirmed:!0},i));case 9:if(!o.gt(t)){n.next=13;break}c=o.toNumber(),n.next=15;break;case 13:return n.next=15,Object(tr["a"])(e,gt["udcWithdraw"].request(void 0,i),Object(_e["f"])(gt["udcWithdraw"],i));case 15:case"end":return n.stop()}}),n)}))),Object(er["a"])())})),Object(Ae["m"])(o.pipe(Object(N["a"])("autoUDCWithdraw"),Object(Ae["b"])(e))))}function hr(e,t,n){lr(t);var r=n.log,a=n.userDepositContract,o=n.address,i=n.signer,c=n.provider,u=n.config$,l=n.latest$;return e.pipe(Object(P["a"])(gt["udcWithdraw"].request.is),Object(he["a"])((function(t){var n,p=Object(Oe["d"])(a,i);return Object(ne["a"])(rr(s.a.mark((function e(){return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",a.callStatic.balances(o));case 1:case"end":return e.stop()}}),e)})))).pipe(Object(F["a"])(l),Object(D["a"])(function(){var e=rr(s.a.mark((function e(r){var a,o,i;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=ar(r,2),o=a[0],i=a[1].gasPrice,Object(Ee["d"])(o.gt(f["h"]),[Ee["b"].UDC_WITHDRAW_NO_BALANCE,{balance:o.toString()}]),n=o,e.abrupt("return",p.withdraw(t.meta.amount,{gasPrice:i}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Object(Pe["b"])("withdraw",Ee["b"].UDC_WITHDRAW_FAILED,{log:r,provider:c}),Object(Ae["l"])(Object(me["b"])(u),{onErrors:Ee["f"],log:r.info}),Object(D["a"])((function(a){var i=ar(a,2),c=i[1],u=c.transactionHash,l=c.blockNumber;return e.pipe(Object(P["a"])($["newBlock"].is),Object(ue["a"])((function(){return Object(ne["a"])(rr(s.a.mark((function e(){return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",p.callStatic.balances(o));case 1:case"end":return e.stop()}}),e)})))).pipe(Object(Ae["a"])({onErrors:Ee["h"],log:r.info}))})),Object(P["a"])((function(e){return e.lt(n)})),Object(C["a"])(1),Object(T["a"])((function(e){return gt["udcWithdraw"].success({withdrawal:n.sub(e),txHash:u,txBlock:l,confirmed:void 0},t.meta)})))})),Object(L["a"])((function(e){return Object(_["a"])(gt["udcWithdraw"].failure(e,t.meta))})))})))}var mr=n("83ee");function vr(e,t){return _r(e)||wr(e,t)||gr(e,t)||Or()}function Or(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function gr(e,t){if(e){if("string"===typeof e)return jr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?jr(e,t):void 0}}function jr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function wr(e,t){var n=e&&("undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0)if(o.push(r.value),t&&o.length===t)break}catch(u){c=!0,a=u}finally{try{i||null==n["return"]||n["return"]()}finally{if(c)throw a}}return o}}function _r(e){if(Array.isArray(e))return e}function kr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Er(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kr(Object(n),!0).forEach((function(t){Tr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Tr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ar(e,t,n){var r=n.caps,a=zt(r,ve["a"].MEDIATE),o=e.meta.direction===je["a"].RECEIVED&&e.payload.message.target!==t;return!!a&&o}function Sr(e,t,n,r){var a,o=r.address,i=r.log,c=new Set(Object.values(t.channels).filter((function(e){return e.tokenNetwork===n})).filter((function(e){return e.state===xe["b"].open})).map((function(e){var t=e.partner;return t.address})));function u(e){var t=e.route,n=t.findIndex((function(e){return e===o}));return n>=0&&(t=t.slice(n+1)),c.has(t[0])?Er(Er({},e),{},{route:t}):null}var s=e.map(u).filter(Se["n"]),l=null===(a=s[0])||void 0===a?void 0:a.route[0];if(l)return s=s.filter((function(e){var t=e.route;return t[0]===l})),s;i.warn("Mediation: could not find a suitable route, ignoring",{inputRoutes:e,openPartners:c})}function xr(e,t,n){var r=n.address,a=n.config$,o=n.log,i=n.mediationFeeCalculator;return e.pipe(Object(P["a"])(mr["transferSigned"].is),Object(F["a"])(a,t),Object(P["a"])((function(e){var t=vr(e,2),n=t[0],a=t[1];return Ar(n,r,a)})),Object(T["a"])((function(e){var t=vr(e,3),n=t[0],a=t[1],c=t[2],u=c.transfers[Object(we["i"])(n.meta)],s=n.payload.message,l=s.token_network_address,f=n.meta.secrethash,p=u.partner,d=Sr(s.metadata.routes,c,l,{address:r,log:o});if(d){var b,y=d[0].route[0],h=c.channels[Object(Pe["d"])({tokenNetwork:l,partner:p})],m=c.channels[Object(Pe["d"])({tokenNetwork:l,partner:y})];try{b=i.fee(a.mediationFees,h,m)(s.lock.amount)}catch(O){return void o.warn("Mediation: could not calculate mediation fee, ignoring",{error:O})}b=b.mul(-1);var v=d.map((function(e){var t=e.route;return{path:t,fee:b}}));return mr["transfer"].request({tokenNetwork:s.token_network_address,target:s.target,paymentId:s.payment_identifier,value:s.lock.amount,paths:v,expiration:s.lock.expiration.toNumber(),initiator:s.initiator},{secrethash:f,direction:je["a"].SENT})}})),Object(P["a"])(Se["n"]))}function Pr(e,t){return Ir(e)||Dr(e,t)||Nr(e,t)||Rr()}function Rr(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Nr(e,t){if(e){if("string"===typeof e)return Cr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Cr(e,t):void 0}}function Cr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Dr(e,t){var n=e&&("undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0)if(o.push(r.value),t&&o.length===t)break}catch(u){c=!0,a=u}finally{try{i||null==n["return"]||n["return"]()}finally{if(c)throw a}}return o}}function Ir(e){if(Array.isArray(e))return e}function Ur(e,t,n){var r=n.config$;return e.pipe(Object(P["a"])($["newBlock"].is),Object(N["a"])("payload","blockNumber"),Object(F["a"])(t,r),Object(ue["a"])((function(t){var n=Pr(t,3),r=n[0],a=n[1].transfers,o=n[2].confirmationBlocks;return Object(w["a"])(Object.values(a).filter((function(e){return e.direction===je["a"].SENT&&!e.unlock&&!e.expired&&!e.secretRegistered&&!e.channelClosed&&e.expiration<=r-2*o}))).pipe(Object(D["a"])((function(t){var n={secrethash:t.transfer.lock.secrethash,direction:je["a"].SENT};return Object(g["a"])(Object(tr["a"])(e,mr["transferExpire"].request(void 0,n),Object(_e["g"])(mr["transferExpire"],n)),Object(_["a"])(mr["transfer"].failure(new Ee["c"](Ee["b"].XFER_EXPIRED,{block:t.transfer.lock.expiration.toString()}),n)))})))})))}var Mr=n("ee9f"),Lr=n.n(Mr),Br=n("8480");function Fr(e,t){return qr(e)||$r(e,t)||Wr(e,t)||Vr()}function Vr(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Wr(e,t){if(e){if("string"===typeof e)return Hr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Hr(e,t):void 0}}function Hr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function $r(e,t){var n=e&&("undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0)if(o.push(r.value),t&&o.length===t)break}catch(u){c=!0,a=u}finally{try{i||null==n["return"]||n["return"]()}finally{if(c)throw a}}return o}}function qr(e){if(Array.isArray(e))return e}function Kr(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function Gr(e,t){return Kr(e),t.pipe(Object(W["a"])(),Object(D["a"])((function(e){var t=e.transfers;return Object(w["a"])(Object.values(t).filter((function(e){return e.direction===je["a"].SENT&&!e.unlockProcessed&&!e.expiredProcessed&&!e.secretRegistered&&!e.channelClosed})))})),Object(D["a"])(s.a.mark((function e(t){var n;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={secrethash:t.transfer.lock.secrethash,direction:je["a"].SENT},e.next=3,Lt["matrixPresence"].request(void 0,{address:t.transfer.target});case 3:if(t.transferProcessed){e.next=6;break}return e.next=6,Object(mr["transferSigned"])({message:Object(Se["q"])(t.transfer),fee:t.fee,partner:t.partner},n);case 6:if(!t.unlock){e.next=9;break}return e.next=9,mr["transferUnlock"].success({message:Object(Se["q"])(t.unlock),partner:t.partner},n);case 9:if(!t.expired){e.next=12;break}return e.next=12,mr["transferExpire"].success({message:Object(Se["q"])(t.expired),partner:t.partner},n);case 12:case"end":return e.stop()}}),e)}))))}function Yr(e,t,n){Kr(e);var r=n.config$;return t.pipe(Object(W["a"])(),Object(D["a"])((function(e){var t=e.transfers;return Object(w["a"])(Object.values(t).filter((function(e){return e.direction===je["a"].RECEIVED&&!e.unlock&&!e.expired&&!e.secretRegistered&&!e.channelClosed})))})),Object(D["a"])((function(e){var t=e.transfer.lock.secrethash,n={secrethash:t,direction:je["a"].RECEIVED};return Object(g["a"])(Object(_["a"])(Object(mr["transferSigned"])({message:Object(Se["q"])(e.transfer),fee:e.fee,partner:e.partner},n)),e.secret&&!e.secretReveal?Object(_["a"])(Object(mr["transferSecret"])({secret:e.secret},n)):re["a"],e.secretReveal?Object(_["a"])(Object(mr["transferSecretReveal"])({message:Object(Se["q"])(e.secretReveal)},n)):re["a"],!e.secret&&e.secretRequest?r.pipe(Object(N["a"])("caps"),Object(P["a"])((function(e){return!!zt(e,ve["a"].RECEIVE)})),Object(C["a"])(1),Object(be["a"])(Object(_["a"])(Lt["matrixPresence"].request(void 0,{address:e.transfer.initiator}),Object(mr["transferSecretRequest"])({message:Object(Se["q"])(e.secretRequest)},n)))):re["a"])})))}function Xr(e){var t,n;return"meta"in e&&(null===(t=e.meta)||void 0===t?void 0:t.secrethash)&&(null===(n=e.meta)||void 0===n?void 0:n.direction)}function Qr(e,t,n){var r=n.config$;return t.pipe(Object(Ae["i"])("transfers"),Object(Ae["e"])(),Object(ye["a"])((function(e){var t=Fr(e,1),n=t[0];return n}),Br["a"],(function(e){return t.pipe(Object(P["a"])((function(t){var n=t.transfers;return!(e.key in n)})))})),Object(F["a"])(r),Object(D["a"])((function(n){var r=Fr(n,2),a=r[0],o=r[1].httpTimeout;return a.pipe(Object(P["a"])((function(e){var t=Fr(e,2),n=t[1];return!!(n.unlockProcessed||n.expiredProcessed||n.channelSettled)})),Object(C["a"])(1),Object(D["a"])((function(t){var n=Fr(t,2),r=n[1];return e.pipe(Object(P["a"])(Xr),Object(P["a"])((function(e){return Object(we["i"])(e.meta)===a.key})),Object(R["a"])({meta:Lr()(["secrethash","direction"],r)}))})),Object(Ae["b"])(e),Object(ce["a"])(3*o),Object(T["a"])((function(e){var t=e.meta;return Object(mr["transferClear"])(void 0,t)})),Object(M["a"])(t.pipe(Object(P["a"])((function(e){var t=e.transfers;return!(a.key in t)})))))})))}var zr=n("f2df"),Jr=n("9a49");function Zr(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function ea(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(s){return void n(s)}c.done?t(u):Promise.resolve(u).then(r,a)}function ta(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){ea(o,r,a,i,c,"next",e)}function c(e){ea(o,r,a,i,c,"throw",e)}i(void 0)}))}}function na(e,t){return oa(e)||aa(e,t)||ua(e,t)||ra()}function ra(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function aa(e,t){var n=e&&("undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0)if(o.push(r.value),t&&o.length===t)break}catch(u){c=!0,a=u}finally{try{i||null==n["return"]||n["return"]()}finally{if(c)throw a}}return o}}function oa(e){if(Array.isArray(e))return e}function ia(e){return la(e)||sa(e)||ua(e)||ca()}function ca(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ua(e,t){if(e){if("string"===typeof e)return fa(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?fa(e,t):void 0}}function sa(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function la(e){if(Array.isArray(e))return fa(e)}function fa(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function pa(e,t){var n=e.locks.filter((function(e){return e.secrethash!==t}));return Object(zr["a"])(n.length===e.locks.length-1,"invalid locks size"),n}function da(e){return e.reduce((function(e,t){var n=t.amount;return e.add(n)}),f["h"])}function ba(e,t,n){var r=e.channels[Object(Pe["d"])(t)];return Object(zr["a"])((null===r||void 0===r?void 0:r.state)===xe["b"].open,"channel not open"),n&&(Object(zr["a"])(n.chain_id.eq(e.chainId),"chainId mismatch"),Object(zr["a"])(n.channel_identifier.eq(r.id),"channelId mismatch")),r}function ya(e,t,n,r){var a,o=n.revealTimeout,i=n.confirmationBlocks,c=n.expiryFactor,u=r.log,f=r.address,p=r.network,d=r.signer,b={routes:t.payload.paths.map((function(e){var t=e.path;return{route:t}}))},y=t.payload.paths[0].fee,h=t.payload.paths[0].path[0],m=t.payload.tokenNetwork,v=ba(e,{tokenNetwork:m,partner:h});Object(zr["a"])(!t.payload.expiration||t.payload.expiration>e.blockNumber+o,"expiration too soon");var O=l["a"].from(t.payload.expiration||Math.min(e.blockNumber+Math.round(o*c),e.blockNumber+v.settleTimeout-i));Object(zr["a"])(O.lte(e.blockNumber+v.settleTimeout),["expiration too far in the future",{expiration:O.toString(),blockNumber:e.blockNumber,settleTimeout:v.settleTimeout,revealTimeout:o}]);var g={amount:t.payload.value.add(y),expiration:O,secrethash:t.meta.secrethash},j=[].concat(ia(v.own.locks),[g]),_=da(j);Object(zr["a"])(Object(Se["j"])(32).is(v.own.balanceProof.transferredAmount.add(_)),"overflow on future transferredAmount");var k=Object(we["b"])(j);u.info("Signing transfer of value",t.payload.value.toString(),"of token",v.token,", to",t.payload.target,", through routes",t.payload.paths,", paying",y.toString(),"in fees.");var E={type:kt["d"].LOCKED_TRANSFER,message_identifier:Object(we["e"])(),chain_id:l["a"].from(p.chainId),token_network_address:t.payload.tokenNetwork,channel_identifier:l["a"].from(v.id),nonce:v.own.nextNonce,transferred_amount:v.own.balanceProof.transferredAmount,locked_amount:_,locksroot:k,payment_identifier:t.payload.paymentId,token:v.token,recipient:h,lock:g,target:t.payload.target,initiator:null!==(a=t.payload.initiator)&&void 0!==a?a:f,metadata:b};return Object(w["a"])(Object(ge["h"])(d,E,{log:u})).pipe(Object(D["a"])(s.a.mark((function e(n){return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(mr["transferSigned"])({message:n,fee:y,partner:h},t.meta);case 2:if(!t.payload.secret){e.next=5;break}return e.next=5,Object(mr["transferSecret"])({secret:t.payload.secret},t.meta);case 5:case"end":return e.stop()}}),e)}))))}function ha(e,t,n){return Object(O["a"])([e,n.config$]).pipe(Object(W["a"])(),Object(D["a"])((function(e){var r=na(e,2),a=r[0],o=r[1];return n.db.storageKeys.has(Object(we["i"])(t.meta))?(n.log.warn("transfer already present",t.meta),re["a"]):ya(a,t,o,n)})),Object(L["a"])((function(e){return Object(_["a"])(mr["transfer"].failure(e,t.meta))})))}function ma(e,t,n,r,a){var o,i=a.log,c=a.signer,u=n.meta.secrethash,s=r.transfer,l=s.token_network_address,f=r.partner,p=ba(t,{tokenNetwork:l,partner:f});if(r.unlock)o=Object(_["a"])(r.unlock);else{Object(zr["a"])(r.secret,"unknown secret"),Object(zr["a"])(p.own.locks.find((function(e){return e.secrethash===u})),"transfer already unlocked or expired"),Object(zr["a"])(r.secretRegistered||r.expiration>t.blockNumber,"lock expired");var d={type:kt["d"].UNLOCK,message_identifier:Object(we["e"])(),chain_id:s.chain_id,token_network_address:s.token_network_address,channel_identifier:s.channel_identifier,nonce:p.own.nextNonce,transferred_amount:Object(Se["l"])(Object(Se["j"])(32),p.own.balanceProof.transferredAmount.add(s.lock.amount),"overflow on transferredAmount"),locked_amount:p.own.balanceProof.lockedAmount.sub(s.lock.amount),locksroot:Object(we["b"])(pa(p.own,u)),payment_identifier:s.payment_identifier,secret:r.secret};o=Object(w["a"])(Object(ge["h"])(c,d,{log:i}))}return o.pipe(Object(F["a"])(e),Object(T["a"])((function(e){var t=na(e,2),r=t[0],a=t[1],o=a.transfers[Object(we["i"])(n.meta)],i=ba(a,{tokenNetwork:l,partner:f});return Object(zr["a"])(o.expiration>a.blockNumber||o.secretRegistered||i.own.locks.find((function(e){return e.secrethash===u&&e.registered})),"lock expired"),mr["transferUnlock"].success({message:r,partner:f},n.meta)})))}function va(e,t,n){var r=n.signer,a=n.log,o=n.db;return Object(ne["a"])((function(){return Object(we["d"])(e,o,t.meta)})).pipe(Object(F["a"])(e),Object(D["a"])((function(n){var o=na(n,2),i=o[0],c=o[1];return ma(e,c,t,i,{log:a,signer:r})})),Object(L["a"])((function(e){return a.warn("Error trying to unlock after SecretReveal",e),Object(_["a"])(mr["transferUnlock"].failure(e,t.meta))})))}function Oa(e,t,n,r){var a,o=r.signer,i=r.log,c=t.meta.secrethash,u=n.transfer,s=u.token_network_address,l=n.partner,f=ba(e,{tokenNetwork:s,partner:l});if(n.expired)a=Object(_["a"])(n.expired);else{Object(zr["a"])(u.lock.expiration.lt(e.blockNumber),"lock not yet expired"),Object(zr["a"])(f.own.locks.find((function(e){return e.secrethash===c}))&&!n.unlock,"transfer already unlocked or expired");var p=Object(we["b"])(pa(f.own,c)),d={type:kt["d"].LOCK_EXPIRED,message_identifier:Object(we["e"])(),chain_id:u.chain_id,token_network_address:u.token_network_address,channel_identifier:u.channel_identifier,nonce:f.own.nextNonce,transferred_amount:f.own.balanceProof.transferredAmount,locked_amount:f.own.balanceProof.lockedAmount.sub(u.lock.amount),locksroot:p,recipient:l,secrethash:c};a=Object(w["a"])(Object(ge["h"])(o,d,{log:i}))}return a.pipe(Object(T["a"])((function(e){return mr["transferExpire"].success({message:e,partner:l},t.meta)})))}function ga(e,t,n){var r=n.log,a=n.signer,o=n.db;return Object(ne["a"])((function(){return Object(we["d"])(e,o,t.meta)})).pipe(Object(F["a"])(e),Object(D["a"])((function(e){var n=na(e,2),o=n[0],i=n[1];return Oa(i,t,o,{signer:a,log:r})})),Object(L["a"])((function(e){return Object(_["a"])(mr["transferExpire"].failure(e,t.meta))})))}function ja(e,t,n){var r=n.address,a=n.log,o=n.signer,i=n.config$,c=n.db,u=t.payload.message.lock.secrethash,l={secrethash:u,direction:je["a"].RECEIVED};return Object(O["a"])([e,i]).pipe(Object(W["a"])(),Object(D["a"])((function(e){var n=na(e,2),i=n[0],p=n[1],d=p.revealTimeout,b=p.caps,y=t.payload.message;if(c.storageKeys.has(Object(we["i"])(l))){a.warn("transfer already present",l);var h=y.message_identifier,m=i.transfers[Object(we["i"])(l)];return null!==m&&void 0!==m&&m.transferProcessed&&m.partner===t.meta.address&&h.eq(m.transfer.message_identifier)?Object(_["a"])(Object(mr["transferProcessed"])({message:Object(Se["q"])(m.transferProcessed)},l)):re["a"]}var v=y.token_network_address,g=t.meta.address,j=ba(i,{tokenNetwork:v,partner:g},y);Object(zr["a"])(y.nonce.eq(j.partner.nextNonce),["nonce mismatch",{expected:j.partner.nextNonce.toNumber(),received:y.nonce.toNumber()}]);var w=[].concat(ia(j.partner.locks),[y.lock]),k=Object(we["b"])(w);Object(zr["a"])(y.locksroot===k,"locksroot mismatch"),Object(zr["a"])(y.transferred_amount.eq(j.partner.balanceProof.transferredAmount),"transferredAmount mismatch");var E=da(w);Object(zr["a"])(y.locked_amount.eq(E),"lockedAmount mismatch"),Object(zr["a"])(Object(Se["j"])(32).is(j.partner.balanceProof.transferredAmount.add(E)),"overflow on future transferredAmount");var T=Object(Pe["c"])(j),A=T.partnerCapacity;Object(zr["a"])(y.lock.amount.lte(A),"balanceProof total amount bigger than capacity"),Object(zr["a"])(y.lock.expiration.lte(i.blockNumber+j.settleTimeout),["expiration too far in the future",{expiration:y.lock.expiration.toString(),blockNumber:i.blockNumber,settleTimeout:j.settleTimeout,revealTimeout:d}]),Object(zr["a"])(y.recipient===r,"Received transfer isn't for us"),a.info("Receiving transfer of value",y.lock.amount.toString(),"of token",j.token,", from",y.initiator,", through partner",g);var S,x=Object(_["a"])(void 0);y.target===r&&(zt(b,ve["a"].RECEIVE)?y.lock.expiration.sub(d).gt(i.blockNumber)||(S={reason:"lock expired or expires too soon",lockExpiration:y.lock.expiration.toString(),dangerZoneStart:y.lock.expiration.sub(d).toString()}):S={reason:"receiving disabled"},S?a.warn("Ignoring received transfer",S):x=Object(ne["a"])(ta(s.a.mark((function e(){var t;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={type:kt["d"].SECRET_REQUEST,payment_identifier:y.payment_identifier,secrethash:u,amount:y.lock.amount,expiration:y.lock.expiration,message_identifier:Object(we["e"])()},e.abrupt("return",Object(ge["h"])(o,t,{log:a}));case 2:case"end":return e.stop()}}),e)})))));var P=Object(ne["a"])((function(){var e={type:kt["d"].PROCESSED,message_identifier:y.message_identifier};return Object(ge["h"])(o,e,{log:a})}));return Object(O["a"])([P,x]).pipe(Object(D["a"])(s.a.mark((function e(t){var n,r,a;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=na(t,2),r=n[0],a=n[1],e.next=3,Object(mr["transferSigned"])({message:y,fee:f["h"],partner:g},l);case 3:return e.next=5,Object(mr["transferProcessed"])({message:r},l);case 5:if(!a){e.next=10;break}return e.next=8,Lt["matrixPresence"].request(void 0,{address:y.initiator});case 8:return e.next=10,Object(mr["transferSecretRequest"])({message:a},l);case 10:case"end":return e.stop()}}),e)}))))})),Object(L["a"])((function(e){return Object(_["a"])(mr["transfer"].failure(e,l))})))}function wa(e,t,n){var r=n.log,a=n.signer,o=n.db,i=Object(we["c"])(t.payload.message.secret),c={secrethash:i,direction:je["a"].RECEIVED};return Object(ne["a"])((function(){return Object(we["d"])(e,o,c)})).pipe(Object(F["a"])(e),Object(D["a"])((function(e){var n=na(e,2),o=n[0],u=n[1];Object(zr["a"])(o,"unknown transfer");var l=t.payload.message,f=t.meta.address;if(Object(zr["a"])(f===o.partner,"wrong partner"),Object(zr["a"])(!o.expired,"already expired"),o.unlock)return r.warn("transfer already unlocked",t.meta),o.unlockProcessed&&l.message_identifier.eq(o.unlockProcessed.message_identifier)?Object(_["a"])(Object(mr["transferUnlockProcessed"])({message:Object(Se["q"])(o.unlockProcessed)},c)):re["a"];var p=o.transfer;Object(zr["a"])(l.token_network_address===p.token_network_address,"wrong tokenNetwork");var d=l.token_network_address,b=ba(u,{tokenNetwork:d,partner:f},l);Object(zr["a"])(l.nonce.eq(b.partner.nextNonce),["nonce mismatch",{expected:b.partner.nextNonce.toNumber(),received:l.nonce.toNumber()}]);var y=p.lock.amount,h=pa(b.partner,i);Object(zr["a"])(l.locksroot===Object(we["b"])(h),"locksroot mismatch"),Object(zr["a"])(l.transferred_amount.eq(b.partner.balanceProof.transferredAmount.add(y)),"transferredAmount mismatch"),Object(zr["a"])(l.locked_amount.eq(da(h)),"lockedAmount mismatch");var m={type:kt["d"].PROCESSED,message_identifier:l.message_identifier};return Object(w["a"])(Object(ge["h"])(a,m,{log:r})).pipe(Object(D["a"])(s.a.mark((function e(t){return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(o.secret){e.next=3;break}return e.next=3,Object(mr["transferSecret"])({secret:l.secret},c);case 3:return e.next=5,mr["transferUnlock"].success({message:l,partner:f},c);case 5:return e.next=7,Object(mr["transferUnlockProcessed"])({message:t},c);case 7:return e.next=9,mr["transfer"].success({balanceProof:Object(ge["e"])(l)},c);case 9:case"end":return e.stop()}}),e)}))))})),Object(L["a"])((function(e){return r.warn("Error trying to process received Unlock",e),Object(_["a"])(mr["transferUnlock"].failure(e,c))})))}function _a(e,t,n){var r=n.log,a=n.signer,o=n.config$,i=n.db,c=t.payload.message.secrethash,u={secrethash:c,direction:je["a"].RECEIVED};return Object(ne["a"])((function(){return Object(we["d"])(e,i,u)})).pipe(Object(F["a"])(e,o),Object(D["a"])((function(e){var n=na(e,3),o=n[0],i=n[1],l=n[2].confirmationBlocks,f=t.payload.message,p=t.meta.address;if(Object(zr["a"])(p===o.partner,"wrong partner"),Object(zr["a"])(!o.unlock,"transfer unlocked"),o.expired)return r.warn("transfer already expired",t.meta),o.expiredProcessed&&f.message_identifier.eq(o.expiredProcessed.message_identifier)?Object(_["a"])(Object(mr["transferExpireProcessed"])({message:Object(Se["q"])(o.expiredProcessed)},u)):re["a"];var d=o.transfer;Object(zr["a"])(d.lock.expiration.add(l).lte(i.blockNumber),"expiration block not confirmed yet"),Object(zr["a"])(!o.secretRegistered,"secret registered onchain"),Object(zr["a"])(f.token_network_address===d.token_network_address,"wrong tokenNetwork");var b=f.token_network_address,y=ba(i,{tokenNetwork:b,partner:p},f);Object(zr["a"])(f.nonce.eq(y.partner.nextNonce),["nonce mismatch",{expected:y.partner.nextNonce.toNumber(),received:f.nonce.toNumber()}]);var h=pa(y.partner,c);Object(zr["a"])(f.locksroot===Object(we["b"])(h),"locksroot mismatch"),Object(zr["a"])(f.locked_amount.eq(da(h)),"lockedAmount mismatch"),Object(zr["a"])(f.transferred_amount.eq(y.partner.balanceProof.transferredAmount),"transferredAmount mismatch");var m={type:kt["d"].PROCESSED,message_identifier:f.message_identifier};return Object(w["a"])(Object(ge["h"])(a,m,{log:r})).pipe(Object(D["a"])(s.a.mark((function e(t){return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,mr["transferExpire"].success({message:f,partner:p},u);case 2:return e.next=4,Object(mr["transferExpireProcessed"])({message:t},u);case 4:return e.next=6,mr["transfer"].failure(new Ee["c"](Ee["b"].XFER_EXPIRED,{block:d.lock.expiration.toString()}),u);case 6:case"end":return e.stop()}}),e)}))))})),Object(L["a"])((function(e){return r.warn("Error trying to process received LockExpired",e),Object(_["a"])(mr["transferExpire"].failure(e,u))})))}function ka(e){return e.type===kt["d"].WITHDRAW_CONFIRMATION}function Ea(e,t,n){var r=n.log,a=n.address,o=n.signer,i=n.network,c=n.config$;return t.meta.direction!==je["a"].SENT?re["a"]:Object(O["a"])([e,c]).pipe(Object(W["a"])(),Object(D["a"])((function(e){var n=na(e,2),c=n[0],u=n[1].revealTimeout,s=ba(c,t.meta);if(s.own.pendingWithdraws.some(Object(tr["c"])(kt["d"].WITHDRAW_REQUEST,t.meta)))return re["a"];var f=s.own.pendingWithdraws.find(ka);if(f)return[mr["withdrawMessage"].success({message:f},{direction:t.meta.direction,tokenNetwork:s.tokenNetwork,partner:s.partner.address,totalWithdraw:f.total_withdraw,expiration:f.expiration.toNumber()}),mr["withdraw"].failure(new Ee["c"](Ee["b"].CNL_WITHDRAW_RETRY_CONFIRMATION),t.meta)];Object(zr["a"])(!s.own.pendingWithdraws.length,[Ee["b"].CNL_WITHDRAW_PENDING,{pendingWithdraws:s.own.pendingWithdraws}]),Object(zr["a"])(t.meta.expiration>=c.blockNumber+u,Ee["b"].CNL_WITHDRAW_EXPIRES_SOON),Object(zr["a"])(t.meta.totalWithdraw.gt(s.own.withdraw),Ee["b"].CNL_WITHDRAW_AMOUNT_TOO_LOW),Object(zr["a"])(t.meta.totalWithdraw.lte(Object(Pe["c"])(s).ownTotalWithdrawable),Ee["b"].CNL_WITHDRAW_AMOUNT_TOO_HIGH);var p={type:kt["d"].WITHDRAW_REQUEST,message_identifier:Object(we["e"])(),chain_id:l["a"].from(i.chainId),token_network_address:t.meta.tokenNetwork,channel_identifier:l["a"].from(s.id),participant:a,total_withdraw:t.meta.totalWithdraw,nonce:s.own.nextNonce,expiration:l["a"].from(t.meta.expiration)};return Object(w["a"])(Object(ge["h"])(o,p,{log:r})).pipe(Object(T["a"])((function(e){return mr["withdrawMessage"].request({message:e},t.meta)})))})),Object(L["a"])((function(e){return Object(_["a"])(mr["withdraw"].failure(e,t.meta))})))}function Ta(e,t,n){var r,a=n.address,o=t.payload.message,i=o.token_network_address,c=t.meta.address;try{r=o.expiration.toNumber()}catch(s){return re["a"]}var u={direction:je["a"].SENT,tokenNetwork:i,partner:c,totalWithdraw:o.total_withdraw,expiration:r};return e.pipe(Object(W["a"])(),Object(T["a"])((function(e){return ba(e,{tokenNetwork:i,partner:c},o),Object(zr["a"])(o.participant===a,"participant mismatch"),mr["withdrawMessage"].success({message:o},u)})),Object(L["a"])((function(e){return Object(_["a"])(mr["withdrawMessage"].failure(e,u))})))}function Aa(e,t,n){var r=n.log,a=n.address,o=n.signer,i=n.config$;return t.meta.direction!==je["a"].SENT?re["a"]:Object(O["a"])([e,i]).pipe(Object(W["a"])(),Object(D["a"])((function(e){var n=na(e,2),i=n[0],c=n[1].confirmationBlocks,u=ba(i,t.meta);Object(zr["a"])(!u.own.pendingWithdraws.some(Object(tr["c"])(kt["d"].WITHDRAW_EXPIRED,t.meta)),"already expired");var s=u.own.pendingWithdraws.find(Object(tr["c"])(kt["d"].WITHDRAW_REQUEST,t.meta));Object(zr["a"])(s,"no matching WithdrawRequest found, maybe already confirmed"),Object(zr["a"])(i.blockNumber>=t.meta.expiration+c,"not yet expired");var l={type:kt["d"].WITHDRAW_EXPIRED,message_identifier:Object(we["e"])(),chain_id:s.chain_id,token_network_address:s.token_network_address,channel_identifier:s.channel_identifier,participant:a,total_withdraw:t.meta.totalWithdraw,nonce:u.own.nextNonce,expiration:s.expiration};return Object(w["a"])(Object(ge["h"])(o,l,{log:r})).pipe(Object(T["a"])((function(e){return mr["withdrawExpire"].success({message:e},t.meta)})))})),Object(L["a"])((function(e){return Object(_["a"])(mr["withdrawExpire"].failure(e,t.meta))})))}function Sa(e,t,n){var r,a=n.signer,o=n.log,i=t.payload.message,c=i.token_network_address,u=i.participant;try{r=i.expiration.toNumber()}catch(f){return re["a"]}var l={direction:je["a"].RECEIVED,tokenNetwork:c,partner:u,totalWithdraw:i.total_withdraw,expiration:r};return e.pipe(Object(W["a"])(),Object(D["a"])((function(e){Object(zr["a"])(i.participant===t.meta.address,"participant mismatch");var n,r=ba(e,{tokenNetwork:c,partner:u},i),f=r.partner.pendingWithdraws.find(Object(tr["c"])(kt["d"].WITHDRAW_CONFIRMATION,i));if(f)n=Object(_["a"])(f);else{Object(zr["a"])(i.nonce.eq(r.partner.nextNonce),["nonce mismatch",{expected:r.partner.nextNonce.toNumber(),received:i.nonce.toNumber()}]),Object(zr["a"])(i.total_withdraw.lte(Object(Pe["c"])(r).partnerTotalWithdrawable),"invalid total_withdraw");var p={type:kt["d"].WITHDRAW_CONFIRMATION,message_identifier:i.message_identifier,chain_id:i.chain_id,token_network_address:i.token_network_address,channel_identifier:i.channel_identifier,participant:i.participant,total_withdraw:i.total_withdraw,nonce:r.own.nextNonce,expiration:i.expiration};n=Object(w["a"])(Object(ge["h"])(a,p,{log:o}))}return n.pipe(Object(D["a"])(s.a.mark((function e(n){return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,mr["withdrawMessage"].request({message:i},l);case 2:return e.next=4,mr["withdrawMessage"].success({message:n},l);case 4:return e.next=6,_t["messageSend"].request({message:n},{address:u,msgId:t.payload.message.message_identifier.toString()});case 6:case"end":return e.stop()}}),e)}))))})),Object(L["a"])((function(e){return Object(_["a"])(mr["withdrawMessage"].failure(e,l))})))}function xa(e,t,n,r){var a,o=n.signer,i=n.log,c=n.config$,u=t.payload.message,l=u.token_network_address,f=u.participant;try{a=u.expiration.toNumber()}catch(d){return re["a"]}var p={direction:je["a"].RECEIVED,tokenNetwork:l,partner:f,totalWithdraw:u.total_withdraw,expiration:a};return Object(O["a"])([e,c]).pipe(Object(W["a"])(),Object(D["a"])((function(e){var n=na(e,2),a=n[0],c=n[1].confirmationBlocks;Object(zr["a"])(f===t.meta.address,"participant mismatch");var d,b=ba(a,{tokenNetwork:l,partner:f},u),y="".concat(Object(Pe["e"])(b),"+").concat(u.message_identifier.toString()),h=r.get(y);if(h)d=Object(_["a"])(h);else{Object(zr["a"])(u.nonce.lte(b.partner.nextNonce),["nonce mismatch",{expected:b.partner.nextNonce.toNumber(),received:u.nonce.toNumber()}]),Object(zr["a"])(a.blockNumber>=p.expiration+c,"expire block not confirmed yet");var m={type:kt["d"].PROCESSED,message_identifier:u.message_identifier};d=Object(w["a"])(Object(ge["h"])(o,m,{log:i})).pipe(Object(S["a"])((function(e){return r.set(y,e)})))}return d.pipe(Object(D["a"])(s.a.mark((function e(t){return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,mr["withdrawExpire"].success({message:u},p);case 2:return e.next=4,_t["messageSend"].request({message:t},{address:f,msgId:t.message_identifier.toString()});case 4:return e.next=6,Object(mr["withdrawCompleted"])(void 0,p);case 6:case"end":return e.stop()}}),e)}))))})),Object(L["a"])((function(e){return Object(_["a"])(mr["withdrawExpire"].failure(e,p))})))}function Pa(e,t,n){Zr(t);var r=new Jr["a"](32),a=n.latest$.pipe(Object(Ae["i"])("state"),Object(Ae["b"])(e));return Object(g["a"])(e.pipe(Object(P["a"])(Object(_e["e"])([mr["transfer"].request,mr["transferUnlock"].request,mr["transferExpire"].request,mr["withdraw"].request,mr["withdrawExpire"].request]))),e.pipe(Object(P["a"])(Object(ge["g"])([Object(Se["h"])(kt["b"]),Object(Se["h"])(kt["h"]),Object(Se["h"])(kt["a"]),Object(Se["h"])(kt["k"]),Object(Se["h"])(kt["i"]),Object(Se["h"])(kt["j"])])))).pipe(Object(he["a"])((function(e){var t;switch(e.type){case mr["transfer"].request.type:t=ha(a,e,n);break;case mr["transferUnlock"].request.type:t=va(a,e,n);break;case mr["transferExpire"].request.type:t=ga(a,e,n);break;case mr["withdraw"].request.type:t=Ea(a,e,n);break;case mr["withdrawExpire"].request.type:t=Aa(a,e,n);break;case _t["messageReceived"].type:switch(e.payload.message.type){case kt["d"].LOCKED_TRANSFER:t=ja(a,e,n);break;case kt["d"].UNLOCK:t=wa(a,e,n);break;case kt["d"].LOCK_EXPIRED:t=_a(a,e,n);break;case kt["d"].WITHDRAW_REQUEST:t=Sa(a,e,n);break;case kt["d"].WITHDRAW_CONFIRMATION:t=Ta(a,e,n);break;case kt["d"].WITHDRAW_EXPIRED:t=xa(a,e,n,r);break}break}return t})))}function Ra(e,t){return Ua(e)||Ia(e,t)||Ca(e,t)||Na()}function Na(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ca(e,t){if(e){if("string"===typeof e)return Da(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Da(e,t):void 0}}function Da(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ia(e,t){var n=e&&("undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0)if(o.push(r.value),t&&o.length===t)break}catch(u){c=!0,a=u}finally{try{i||null==n["return"]||n["return"]()}finally{if(c)throw a}}return o}}function Ua(e){if(Array.isArray(e))return e}function Ma(e,t){return e.pipe(Object(P["a"])(Object(ge["g"])(Object(Se["h"])(kt["e"]))),Object(F["a"])(t),Object(D["a"])(s.a.mark((function e(t){var n,r,a,o,i,c,u,l,f,p,d;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=Ra(t,2),r=n[0],a=n[1].transfers,o=0,i=Object.values(a);case 2:if(!(o<i.length)){e.next=25;break}if(p=i[o],p.direction===je["a"].SENT&&p.partner===r.meta.address){e.next=6;break}return e.abrupt("continue",22);case 6:if(d={secrethash:p.secrethash,direction:je["a"].SENT},!r.payload.message.message_identifier.eq(p.transfer.message_identifier)){e.next=12;break}return e.next=10,Object(mr["transferProcessed"])({message:r.payload.message},d);case 10:e.next=22;break;case 12:if(!r.payload.message.message_identifier.eq(null!==(c=null===(u=p.unlock)||void 0===u?void 0:u.message_identifier)&&void 0!==c?c:-1)){e.next=19;break}return e.next=15,mr["transfer"].success({balanceProof:Object(ge["e"])(p.unlock)},d);case 15:return e.next=17,Object(mr["transferUnlockProcessed"])({message:r.payload.message},d);case 17:e.next=22;break;case 19:if(!r.payload.message.message_identifier.eq(null!==(l=null===(f=p.expired)||void 0===f?void 0:f.message_identifier)&&void 0!==l?l:-1)){e.next=22;break}return e.next=22,Object(mr["transferExpireProcessed"])({message:r.payload.message},d);case 22:o++,e.next=2;break;case 25:case"end":return e.stop()}}),e)}))))}function La(e,t,n){var r=n.db;return e.pipe(Object(P["a"])(Object(_e["e"])([mr["transferProcessed"],mr["transferUnlockProcessed"],mr["transferExpireProcessed"]])),Object(P["a"])((function(e){return e.meta.direction===je["a"].RECEIVED})),Object(F["a"])(t),Object(D["a"])((function(e){var t=Ra(e,2),n=t[0],a=t[1];return Object(we["d"])(a,r,n.meta).then((function(e){return[n,e]}))})),Object(T["a"])((function(e){var t=Ra(e,2),n=t[0],r=t[1];return _t["messageSend"].request({message:n.payload.message},{address:r.partner,msgId:n.payload.message.message_identifier.toString()})})))}function Ba(e,t){return $a(e)||Ha(e,t)||Va(e,t)||Fa()}function Fa(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Va(e,t){if(e){if("string"===typeof e)return Wa(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Wa(e,t):void 0}}function Wa(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ha(e,t){var n=e&&("undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0)if(o.push(r.value),t&&o.length===t)break}catch(u){c=!0,a=u}finally{try{i||null==n["return"]||n["return"]()}finally{if(c)throw a}}return o}}function $a(e){if(Array.isArray(e))return e}function qa(e,t,n){var r=n.config$;return e.pipe(Object(P["a"])(Object(_e["e"])([mr["transferSigned"],mr["transferUnlock"].success,mr["transferExpire"].success,mr["transferSecretRequest"],mr["transferSecretReveal"]])),Object(F["a"])(t,r),Object(D["a"])((function(n){var a,o,i=Ba(n,3),c=i[0],u=i[1],s=i[2].revealTimeout,l=u.transfers[Object(we["i"])(c.meta)],f=t.pipe(Object(Ae["i"])("transfers",Object(we["i"])(c.meta)));switch(c.type){case mr["transferSigned"].type:c.meta.direction===je["a"].SENT&&(a=c.payload.partner,o=f.pipe(Object(P["a"])((function(e){return!!(e.transferProcessed||e.unlockProcessed||e.expiredProcessed||e.channelClosed)}))));break;case mr["transferUnlock"].success.type:c.meta.direction===je["a"].SENT&&(a=c.payload.partner,o=f.pipe(Object(P["a"])((function(e){return!(!e.unlockProcessed&&!e.channelClosed)}))));break;case mr["transferExpire"].success.type:c.meta.direction===je["a"].SENT&&(a=c.payload.partner,o=f.pipe(Object(P["a"])((function(e){return!(!e.expiredProcessed&&!e.channelClosed)}))));break;case mr["transferSecretRequest"].type:c.meta.direction===je["a"].RECEIVED&&l&&(a=l.transfer.initiator,o=Object(O["a"])([t,f]).pipe(Object(P["a"])((function(e){var t=Ba(e,2),n=t[0].blockNumber,r=t[1];return!(!r.secretReveal&&!r.channelClosed)||n>r.expiration-s}))));break;case mr["transferSecretReveal"].type:c.meta.direction===je["a"].RECEIVED&&l&&(a=l.partner,o=f.pipe(Object(P["a"])((function(e){return!(!e.unlock&&!e.channelClosed)}))));break}return a&&o?Object(tr["d"])(_t["messageSend"].request({message:c.payload.message},{address:a,msgId:c.payload.message.message_identifier.toString()}),e,o,Object(me["b"])(r)):re["a"]})))}function Ka(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Qa(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function Ga(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function Ya(e,t){return Za(e)||Ja(e,t)||Qa(e,t)||Xa()}function Xa(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Qa(e,t){if(e){if("string"===typeof e)return za(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?za(e,t):void 0}}function za(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ja(e,t){var n=e&&("undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0)if(o.push(r.value),t&&o.length===t)break}catch(u){c=!0,a=u}finally{try{i||null==n["return"]||n["return"]()}finally{if(c)throw a}}return o}}function Za(e){if(Array.isArray(e))return e}function eo(e,t,n){var r=n.address,a=n.log;return e.pipe(Object(P["a"])(Object(ge["g"])(Object(Se["h"])(kt["f"]))),Object(F["a"])(t),Object(D["a"])(s.a.mark((function e(t){var n,o,i,c,u,l;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=Ya(t,2),o=n[0],i=n[1],c=o.payload.message,u=Object(we["i"])({secrethash:c.secrethash,direction:je["a"].SENT}),u in i.transfers){e.next=5;break}return e.abrupt("return");case 5:if(l=i.transfers[u].transfer,l.initiator===r&&l.target===o.meta.address&&l.payment_identifier.eq(c.payment_identifier)){e.next=9;break}return a.warn("Invalid SecretRequest for transfer",c,l),e.abrupt("return");case 9:return e.next=11,Object(mr["transferSecretRequest"])({message:c},{secrethash:c.secrethash,direction:je["a"].SENT});case 11:case"end":return e.stop()}}),e)}))))}var to=function(e,t){var n=t.signer,r=t.log,a=t.latest$,o=e.payload.message;return a.pipe(Object(W["a"])(),Object(D["a"])((function(t){var a=t.state,i=a.transfers[Object(we["i"])(e.meta)];Object(Ee["d"])(i.secret,["SecretRequest for unknown secret",o]);var c,u=i.transfer,l=u.target,f=i.fee,p=u.lock.amount.sub(f);if(Object(Ee["d"])(o.expiration.lte(u.lock.expiration)&&o.expiration.gt(a.blockNumber),["SecretRequest for expired transfer",{request:o,lock:u.lock}]),Object(Ee["d"])(o.amount.gte(p),["SecretRequest for amount too small!",{request:o,value:p}]),o.amount.eq(p)||r.info("Accepted SecretRequest for amount greater than sent",o,u),i.secretReveal)c=Object(_["a"])(i.secretReveal);else{var d={type:kt["d"].SECRET_REVEAL,message_identifier:Object(we["e"])(),secret:i.secret};c=Object(w["a"])(Object(ge["h"])(n,d,{log:r}))}return c.pipe(Object(D["a"])(s.a.mark((function t(n){return s.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(mr["transferSecretReveal"])({message:n},e.meta);case 2:return t.next=4,_t["messageSend"].request({message:n},{address:l,msgId:n.message_identifier.toString()});case 4:case"end":return t.stop()}}),t)}))))})),Object(L["a"])((function(t){return Object(_["a"])(mr["transfer"].failure(t,e.meta))})))};function no(e,t,n){return Ga(t),e.pipe(Object(P["a"])(Object(_e["e"])(mr["transferSecretRequest"])),Object(P["a"])((function(e){return e.meta.direction===je["a"].SENT})),Object(he["a"])((function(e){return to(e,n)})))}function ro(e,t,n){var r=n.config$;return e.pipe(Object(P["a"])(Object(ge["g"])(kt["g"])),Object(F["a"])(t,r),Object(D["a"])(s.a.mark((function e(t){var n,r,a,o,i,c,u,l,f,p,d,b,y;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=Ya(t,3),r=n[0],a=n[1],o=n[2].caps,i=Object(we["c"])(r.payload.message.secret),c=Object.values(je["a"]).map((function(e){return a.transfers[Object(we["i"])({secrethash:i,direction:e})]})).filter(Se["n"]),u=r.payload.message,l=Ka(c.filter((function(e){return e.direction===je["a"].SENT}))),e.prev=5,l.s();case 7:if((f=l.n()).done){e.next=17;break}return p=f.value,d={secrethash:i,direction:je["a"].SENT},e.next=12,Object(mr["transferSecret"])({secret:u.secret},d);case 12:if(r.meta.address!==p.partner||p.channelClosed){e.next=15;break}return e.next=15,mr["transferUnlock"].request(void 0,d);case 15:e.next=7;break;case 17:e.next=22;break;case 19:e.prev=19,e.t0=e["catch"](5),l.e(e.t0);case 22:return e.prev=22,l.f(),e.finish(22);case 25:if(zt(o,ve["a"].RECEIVE)){e.next=27;break}return e.abrupt("return");case 27:b=Ka(c.filter((function(e){return e.direction===je["a"].RECEIVED}))),e.prev=28,b.s();case 30:if((y=b.n()).done){e.next=36;break}return y.value,e.next=34,Object(mr["transferSecret"])({secret:u.secret},{secrethash:i,direction:je["a"].RECEIVED});case 34:e.next=30;break;case 36:e.next=41;break;case 38:e.prev=38,e.t1=e["catch"](28),b.e(e.t1);case 41:return e.prev=41,b.f(),e.finish(41);case 44:case"end":return e.stop()}}),e,null,[[5,19,22,25],[28,38,41,44]])}))))}function ao(e,t,n){Ga(t);var r=n.log,a=n.signer,o=n.latest$;return e.pipe(Object(P["a"])(Object(_e["e"])([mr["transferSecret"],mr["transferSecretRegister"].success])),Object(P["a"])((function(e){return e.meta.direction===je["a"].RECEIVED})),Object(P["a"])((function(e){return mr["transferSecret"].is(e)||!!e.payload.confirmed})),Object(he["a"])((function(e){return o.pipe(Object(Ae["i"])("state"),Object(W["a"])(),Object(P["a"])((function(t){var n=t.transfers;return Object(we["i"])(e.meta)in n})),Object(D["a"])((function(t){var n,o=t.transfers,i=null===(n=o[Object(we["i"])(e.meta)])||void 0===n?void 0:n.secretReveal;if(i)return Object(_["a"])(Object(Se["q"])(i));var c={type:kt["d"].SECRET_REVEAL,message_identifier:Object(we["e"])(),secret:e.payload.secret};return Object(ge["h"])(a,c,{log:r})})),Object(T["a"])((function(t){return Object(mr["transferSecretReveal"])({message:t},e.meta)})),Object(L["a"])((function(t){return r.warn("Error trying to sign SecretReveal - ignoring",t,e.meta),re["a"]})))})))}function oo(e,t,n){Ga(e);var r=n.provider,a=n.secretRegistryContract,o=n.config$,i=n.init$,c=new ae["a"];return i.next(c),Object(Te["a"])(r,a.filters.SecretRevealed(null,null),{confirmations:o.pipe(Object(N["a"])("confirmationBlocks")),blockNumber$:t.pipe(Object(Ae["i"])("blockNumber")),onPastCompleted:function(){c.next(null),c.complete()}}).pipe(Object(Ae["b"])(t),Object(T["a"])(Object(Te["d"])(a)),Object(F["a"])(t,o),Object(D["a"])(s.a.mark((function e(t){var n,r,a,o,i,c,u,l,f,p,d,b,y;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=Ya(t,3),r=Ya(n[0],3),a=r[0],o=r[1],i=r[2],c=n[1],u=c.transfers,l=c.blockNumber,f=n[2].confirmationBlocks,p=0,d=Object.values(je["a"]);case 2:if(!(p<d.length)){e.next=12;break}if(b=d[p],y=Object(we["i"])({secrethash:a,direction:b}),y in u){e.next=7;break}return e.abrupt("continue",9);case 7:return e.next=9,mr["transferSecretRegister"].success({secret:o,txHash:i.transactionHash,txBlock:i.blockNumber,confirmed:i.blockNumber+f<=l?i.blockNumber<u[y].expiration:void 0},{secrethash:a,direction:b});case 9:p++,e.next=2;break;case 12:case"end":return e.stop()}}),e)}))))}function io(e){return e.pipe(Object(P["a"])(mr["transferSecretRegister"].success.is),Object(P["a"])((function(e){return!!e.payload.confirmed})),Object(T["a"])((function(e){return mr["transfer"].success({},e.meta)})))}function co(e,t,n){var r=n.config$,a=n.latest$;return t.pipe(Object(F["a"])(r),Object(D["a"])((function(e){var t=Ya(e,2),n=t[0],r=n.blockNumber,a=n.transfers,o=t[1].revealTimeout;return Object(w["a"])(Object.values(a).filter((function(e){return e.direction===je["a"].RECEIVED&&!e.unlock&&!e.expired&&!!e.secret&&!e.secretRegistered&&e.expiration>r&&e.expiration<=r+o})))})),Object(ye["a"])((function(e){return e._id}),Br["a"],(function(e){return a.pipe(Object(N["a"])("state"),Object(P["a"])((function(t){var n=t.blockNumber,r=t.transfers;return!!(r[e.key].expiration<n||r[e.key].unlock||r[e.key].secretRegistered)})))})),Object(D["a"])((function(t){return t.pipe(Object(ue["a"])((function(t){var n={secrethash:t.secrethash,direction:je["a"].RECEIVED};return Object(tr["a"])(e,mr["transferSecretRegister"].request({secret:t.secret},n),Object(_e["f"])(mr["transferSecretRegister"],n))})),Object(M["a"])(t.pipe(Object(x["a"])(),Object(ie["a"])(1))))})),Object(Ae["m"])(r.pipe(Object(N["a"])("caps"),Object(T["a"])((function(e){return zt(e,ve["a"].RECEIVE)})),Object(Ae["b"])(e))))}function uo(e,t,n){Ga(t);var r=n.log,a=n.signer,o=n.address,i=n.main,c=n.provider,u=n.secretRegistryContract,s=n.config$,l=n.latest$;return e.pipe(Object(P["a"])(mr["transferSecretRegister"].request.is),Object(F["a"])(s,l),Object(D["a"])((function(e){var t,n=Ya(e,3),l=n[0],f=n[1].subkey,p=n[2].gasPrice,d=Object(Oe["b"])({signer:a,address:o,main:i},null!==(t=l.payload.subkey)&&void 0!==t?t:f),b=d.signer,y=Object(Oe["d"])(u,b);return Object(ne["a"])((function(){return y.registerSecret(l.payload.secret,{gasPrice:p})})).pipe(Object(Pe["b"])("registerSecret",Ee["b"].XFER_REGISTERSECRET_TX_FAILED,{log:r,provider:c}),Object(Ae["l"])(Object(me["b"])(s),{onErrors:Ee["f"],log:r.debug}),Object(x["a"])(),Object(L["a"])((function(e){return Object(_["a"])(mr["transferSecretRegister"].failure(e,l.meta))})))})))}var so=n("8df4"),lo=(n("9201"),n("0ba5"));function fo(e,t){return yo(e)||bo(e,t)||mo(e,t)||po()}function po(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function bo(e,t){var n=e&&("undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0)if(o.push(r.value),t&&o.length===t)break}catch(u){c=!0,a=u}finally{try{i||null==n["return"]||n["return"]()}finally{if(c)throw a}}return o}}function yo(e){if(Array.isArray(e))return e}function ho(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=mo(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function mo(e,t){if(e){if("string"===typeof e)return vo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?vo(e,t):void 0}}function vo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Oo(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function go(e,t){return Oo(e),t.pipe(Object(W["a"])(),Object(D["a"])(s.a.mark((function e(t){var n,r,a,o,i,c;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=0,r=Object.values(t.channels);case 1:if(!(n<r.length)){e.next=31;break}if(a=r[n],a.state===xe["b"].open){e.next=5;break}return e.abrupt("continue",28);case 5:o=ho(a.own.pendingWithdraws),e.prev=6,o.s();case 8:if((i=o.n()).done){e.next=20;break}if(c=i.value,c.type!==lo["a"].WITHDRAW_REQUEST||a.own.pendingWithdraws.some(Object(tr["c"])(lo["a"].WITHDRAW_CONFIRMATION,c))){e.next=15;break}return e.next=13,mr["withdrawMessage"].request({message:c},{direction:je["a"].SENT,tokenNetwork:a.tokenNetwork,partner:a.partner.address,totalWithdraw:c.total_withdraw,expiration:c.expiration.toNumber()});case 13:e.next=18;break;case 15:if(c.type!==lo["a"].WITHDRAW_EXPIRED){e.next=18;break}return e.next=18,mr["withdrawExpire"].success({message:c},{direction:je["a"].SENT,tokenNetwork:a.tokenNetwork,partner:a.partner.address,totalWithdraw:c.total_withdraw,expiration:c.expiration.toNumber()});case 18:e.next=8;break;case 20:e.next=25;break;case 22:e.prev=22,e.t0=e["catch"](6),o.e(e.t0);case 25:return e.prev=25,o.f(),e.finish(25);case 28:n++,e.next=1;break;case 31:case"end":return e.stop()}}),e,null,[[6,22,25,28]])}))))}function jo(e,t,n){var r=n.config$;return e.pipe(Object(P["a"])(mr["withdrawMessage"].request.is),Object(P["a"])((function(e){return e.meta.direction===je["a"].SENT})),Object(D["a"])((function(n){var a=n.payload.message,o=_t["messageSend"].request({message:a},{address:n.meta.partner,msgId:a.message_identifier.toString()}),i=t.pipe(Object(P["a"])((function(e){var t=e.channels[Object(Pe["d"])(n.meta)];return(null===t||void 0===t?void 0:t.state)!==xe["b"].open||t.own.pendingWithdraws.some(Object(tr["c"])(lo["a"].WITHDRAW_CONFIRMATION,n.meta))||!t.own.pendingWithdraws.some(Object(tr["c"])(lo["a"].WITHDRAW_REQUEST,n.meta))})));return Object(tr["d"])(o,e,i,Object(me["b"])(r))})))}function wo(e,t,n){Oo(t);var r=n.address,a=n.signer,o=n.main,i=n.provider,c=n.log,u=n.getTokenNetworkContract,s=n.latest$,l=n.config$;return e.pipe(Object(P["a"])(mr["withdrawMessage"].success.is),Object(P["a"])((function(e){return e.meta.direction===je["a"].SENT})),Object(D["a"])((function(e){return s.pipe(Object(W["a"])(),Object(D["a"])((function(t){var n=t.state,s=t.config,f=t.gasPrice,p=s.subkey,d=s.revealTimeout;Object(Ee["d"])(e.meta.expiration>=n.blockNumber+d,Ee["b"].CNL_WITHDRAW_EXPIRES_SOON);var b=n.channels[Object(Pe["d"])(e.meta)];Object(Ee["d"])((null===b||void 0===b?void 0:b.state)===xe["b"].open,"channel not open"),Object(Ee["d"])(e.meta.totalWithdraw.gt(b.own.withdraw),"withdraw already performed");var y=b.own.pendingWithdraws.find(Object(tr["c"])(lo["a"].WITHDRAW_REQUEST,e.payload.message));Object(Ee["d"])(y,"no matching WithdrawRequest found");var h=e.meta.tokenNetwork,m=Object(Oe["b"])({signer:a,address:r,main:o},p),v=m.signer,O=Object(Oe["d"])(u(h),v);return Object(ne["a"])((function(){return O.setTotalWithdraw(b.id,r,e.meta.totalWithdraw,e.meta.expiration,y.signature,e.payload.message.signature,{gasPrice:f})})).pipe(Object(Pe["b"])("setTotalWithdraw",Ee["b"].CNL_WITHDRAW_TRANSACTION_FAILED,{log:c,provider:i}),Object(Ae["l"])(Object(me["b"])(l),{maxRetries:3,onErrors:Ee["f"],log:c.debug}))})),Object(T["a"])((function(t){var n=fo(t,2),r=n[1];return mr["withdraw"].success({txHash:r.transactionHash,txBlock:r.blockNumber,confirmed:void 0},e.meta)})),Object(L["a"])((function(t){return Object(_["a"])(mr["withdraw"].failure(t,e.meta))})))})))}function _o(e,t,n){Oo(t);var r=n.signer,a=n.log,o=new Jr["a"](32);return e.pipe(Object(P["a"])(Object(_e["e"])([mr["withdrawMessage"].request,mr["withdrawMessage"].success])),Object(P["a"])((function(e){return e.meta.direction===je["a"].RECEIVED!==mr["withdrawMessage"].success.is(e)})),Object(F["a"])(Jt()(e)),Object(he["a"])((function(e){var t=fo(e,2),n=t[0],i=t[1];return Object(ne["a"])((function(){if(i.has(n.meta.partner))return re["a"];var e,t=n.payload.message,c=t.message_identifier.toString(),u=o.get(c);if(u)e=Object(_["a"])(u);else{var s={type:lo["a"].PROCESSED,message_identifier:t.message_identifier};e=Object(w["a"])(Object(lo["i"])(r,s,{log:a})).pipe(Object(S["a"])((function(e){return o.set(c,e)})))}return e.pipe(Object(T["a"])((function(e){return _t["messageSend"].request({message:e},{address:n.meta.partner,msgId:e.message_identifier.toString()})})))})).pipe(Object(L["a"])((function(e){return a.info("Signing Processed message for Withdraw message failed, ignoring",e),re["a"]})))})))}function ko(e,t,n){var r=n.config$;return e.pipe(Object(P["a"])($["newBlock"].is),Object(N["a"])("payload","blockNumber"),Object(F["a"])(t,r),Object(D["a"])(s.a.mark((function e(t){var n,r,a,o,i,c,u,l,f,p,d;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=fo(t,3),r=n[0],a=n[1],o=n[2].confirmationBlocks,i=0,c=Object.values(a.channels);case 2:if(!(i<c.length)){e.next=31;break}if(u=c[i],u.state===xe["b"].open){e.next=6;break}return e.abrupt("continue",28);case 6:l=u.own.pendingWithdraws.filter(Object(tr["c"])(lo["a"].WITHDRAW_REQUEST)),f=ho(l),e.prev=8,f.s();case 10:if((p=f.n()).done){e.next=20;break}if(d=p.value,!d.expiration.add(2*o).gte(r)){e.next=14;break}return e.abrupt("continue",18);case 14:if(!u.own.pendingWithdraws.some(Object(tr["c"])(lo["a"].WITHDRAW_EXPIRED,d))){e.next=16;break}return e.abrupt("continue",18);case 16:return e.next=18,mr["withdrawExpire"].request(void 0,{direction:je["a"].SENT,tokenNetwork:u.tokenNetwork,partner:u.partner.address,expiration:d.expiration.toNumber(),totalWithdraw:d.total_withdraw});case 18:e.next=10;break;case 20:e.next=25;break;case 22:e.prev=22,e.t0=e["catch"](8),f.e(e.t0);case 25:return e.prev=25,f.f(),e.finish(25);case 28:i++,e.next=2;break;case 31:case"end":return e.stop()}}),e,null,[[8,22,25,28]])}))))}function Eo(e,t,n){Oo(t);var r=n.config$;return e.pipe(Object(P["a"])(mr["withdrawExpire"].success.is),Object(P["a"])((function(e){return e.meta.direction===je["a"].SENT})),Object(D["a"])((function(t){var n=t.payload.message,a=_t["messageSend"].request({message:n},{address:t.meta.partner,msgId:n.message_identifier.toString()}),o=e.pipe(Object(P["a"])(Object(lo["h"])(Object(Se["h"])(lo["b"]))),Object(P["a"])((function(e){return e.meta.address===t.meta.partner&&e.payload.message.message_identifier.eq(n.message_identifier)})),Object(C["a"])(1),Object(be["a"])([mr["withdraw"].failure(new Ee["c"](Ee["b"].CNL_WITHDRAW_EXPIRED),t.meta),Object(mr["withdrawCompleted"])(void 0,t.meta)]),Object(so["a"])());return Object(g["a"])(Object(tr["d"])(a,e,o,Object(me["b"])(r)),o)})))}var To=n("2111"),Ao=n("178d"),So=n("b993"),xo=n("ae6a"),Po=n("dfba"),Ro=n("759f");function No(e){var t=/^(?:\w*:?\/\/)?([^/#?&]+)/.exec(e);return t&&t[1]}function Co(e,t){var n=Object(Ro["encodeUri"])("/presence/$userId/status",{$userId:t});return e._http.authedRequest(void 0,"GET",n)}var Do=n("5983"),Io=n.n(Do),Uo=n("a92c");function Mo(e){return[e.discoveryRoom,e.pfsRoom,e.monitoringRoom].filter(Se["n"])}var Lo=Io()((function(e,t){return e===t.roomId||e===t.name||e===t.getCanonicalAlias()||t.getAliases().includes(e)}));function Bo(e,t){var n=e.getRoom(t);return n||(n=e.getRooms().find(Lo(t))),n?Object(_["a"])(n):Object(Uo["a"])(e,"Room").pipe(Object(P["a"])(Lo(t)),Object(C["a"])(1))}function Fo(e,t,n){var r=n.log;if("string"===typeof e)try{var a=Object(ge["c"])(e);if("signature"in a){var o=Object(ge["f"])(a);if(o!==t)throw new Ee["c"](Ee["b"].TRNS_MESSAGE_SIGNATURE_MISMATCH,{sender:t,signer:o})}return a}catch(i){r.warn("Could not decode message: ".concat(e,": ").concat(i))}}function Vo(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function Wo(e,t){return Go(e)||Ko(e,t)||$o(e,t)||Ho()}function Ho(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function $o(e,t){if(e){if("string"===typeof e)return qo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qo(e,t):void 0}}function qo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ko(e,t){var n=e&&("undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0)if(o.push(r.value),t&&o.length===t)break}catch(u){c=!0,a=u}finally{try{i||null==n["return"]||n["return"]()}finally{if(c)throw a}}return o}}function Go(e){if(Array.isArray(e))return e}function Yo(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(s){return void n(s)}c.done?t(u):Promise.resolve(u).then(r,a)}function Xo(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Yo(o,r,a,i,c,"next",e)}function c(e){Yo(o,r,a,i,c,"throw",e)}i(void 0)}))}}function Qo(e,t){var n=No(t.getHomeserverUrl());return Object(w["a"])(Mo(e)).pipe(Object(T["a"])((function(e){return"#".concat(e,":").concat(n)})),Object(D["a"])((function(e){return t.joinRoom(e).then((function(r){var a={type:"m.room.aliases",state_key:n,origin_server_ts:Date.now(),content:{aliases:[e]},event_id:"$local_".concat(Date.now()),room_id:r.roomId,sender:t.getUserId()};return r.currentState.setStateEvents([new Ao["MatrixEvent"](a)]),t.store.storeRoom(r),t.emit("Room",r),r}))})),Object(N["a"])("roomId"),Object(fe["a"])())}function zo(e,t){return Jo.apply(this,arguments)}function Jo(){return Jo=Xo(s.a.mark((function e(t,n){var r,a;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r={not_rooms:n,ephemeral:{not_types:["m.receipt","m.typing"]},timeline:{limit:0,not_senders:[t.getUserId()]}},a={room:r},e.abrupt("return",t.createFilter(a));case 3:case"end":return e.stop()}}),e)}))),Jo.apply(this,arguments)}function Zo(e,t,n,r){return e.pipe(Object(P["a"])(Lt["matrixSetup"].is),Object(C["a"])(1),Object(S["a"])((function(){n.next(t),n.complete()})),Object(F["a"])(r),Object(V["a"])((function(e){var t=Wo(e,2),n=t[1].pollingInterval;return Object(k["a"])(Math.ceil(n/5))})),Object(D["a"])((function(e){var n=Wo(e,2),a=n[1];return Qo(a,t).pipe(Object(D["a"])(function(){var e=Xo(s.a.mark((function e(n){return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",zo(t,n));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Object(D["a"])(function(){var e=Xo(s.a.mark((function e(n){return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.setPushRuleEnabled("global","override",".m.rule.master",!0);case 2:return e.abrupt("return",n);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Object(D["a"])(function(){var e=Xo(s.a.mark((function e(n){return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",t.startClient({filter:n}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Object(D["a"])((function(){return Object(k["a"])(Math.round((Math.random()+.5)*a.httpTimeout)).pipe(Object(D["a"])(Xo(s.a.mark((function e(){return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",t.setPresence({presence:"online",status_msg:Date.now().toString()}));case 1:case"end":return e.stop()}}),e)})))))})),Object(Ae["l"])(Object(me["b"])(r),{onErrors:Ee["h"]}))})),Object(x["a"])())}function ei(e,t){return e.includes("://")||(e="https://"+e),Object(ne["a"])((function(){var n=Date.now();return Object(nn["a"])(e+"/_matrix/client/versions").pipe(Object(rn["a"])(t),Object(T["a"])((function(e){var t=e.ok;return t?Date.now():NaN})),Object(L["a"])((function(){return Object(_["a"])(NaN)})),Object(T["a"])((function(t){return{server:e,rtt:t-n}})))}))}var ti=To["v"]({active_servers:To["d"](To["s"]),all_servers:To["d"](To["s"])});function ni(e,t){return Object(nn["a"])(e).pipe(Object(D["a"])(function(){var t=Xo(s.a.mark((function t(n){return s.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return Object(zr["a"])(n.ok,'Could not fetch server list from "'.concat(e,'" => ').concat(n.status)),t.abrupt("return",n.json());case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),Object(rn["a"])(t),Object(D["a"])((function(e){return Object(Se["l"])(ti,e).active_servers})),Object(D["a"])((function(e){return ei(e,t)})),Object(fe["a"])(),Object(D["a"])((function(e){return te()(e,["rtt"])})),Object(P["a"])((function(e){var t=e.rtt;return!isNaN(t)})),Object(xo["a"])((function(){return new Ee["c"](Ee["b"].TRNS_NO_MATRIX_SERVERS)})))}function ri(e,t,n,r){var a=n.address,o=n.signer,i=n.config$,c=No(e);return Object(zr["a"])(c,[Ee["b"].TRNS_NO_SERVERNAME,{server:e}]),i.pipe(Object(W["a"])(),Object(D["a"])((function(n){var r=n.pollingInterval;if(t){var u=Object(Ao["createClient"])({baseUrl:e,userId:t.userId,accessToken:t.accessToken,deviceId:t.deviceId});return Object(_["a"])({matrix:u,server:e,setup:t,pollingInterval:r})}var l=Object(Ao["createClient"])({baseUrl:e}),f=a.toLowerCase(),p="@".concat(f,":").concat(c);return Object(w["a"])(o.signMessage(c)).pipe(Object(D["a"])((function(e){return Object(ne["a"])(Xo(s.a.mark((function t(){return s.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",l.login("m.login.password",{identifier:{type:"m.id.user",user:f},password:e,device_id:ve["e"]}));case 1:case"end":return t.stop()}}),t)})))).pipe(Object(L["a"])(function(){var t=Xo(s.a.mark((function t(n){return s.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",l.registerRequest({username:f,password:e,device_id:ve["e"]}).catch(X()(n)));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),Object(Ae["l"])(Object(me["b"])(i),{onErrors:Ee["h"]}))})),Object(D["a"])((function(t){var n=t.access_token,r=t.device_id,a=t.user_id;return Object(zr["a"])(a===p,["Wrong login/register user_id",{user_id:a,userId:p}]),l.deviceId=r,l._http.opts.accessToken=n,l.credentials={userId:p},Object(w["a"])(o.signMessage(p)).pipe(Object(T["a"])((function(t){return{matrix:l,server:e,setup:{userId:p,accessToken:n,deviceId:r,displayName:t}}})))})))})),Object(D["a"])((function(e){var t=e.matrix,n=e.server,a=e.setup;return Object(ne["a"])((function(){return Promise.all([t.setDisplayName(a.displayName),t.setAvatarUrl(r&&!Z()(r)?Xt(r):"")])})).pipe(Object(Ae["l"])(Object(me["b"])(i),{onErrors:Ee["h"]}),Object(le["a"])({matrix:t,server:n,setup:a}))})))}function ai(e,t,n){Vo(t);var r=n.address,a=n.signer,o=n.matrix$,i=n.latest$,c=n.config$,u=n.init$;return Object(O["a"])([i,c]).pipe(Object(W["a"])(),Object(D["a"])((function(e){var t=Wo(e,2),n=t[0].state,i=t[1],s=i.matrixServer,l=i.matrixServerLookup,f=i.httpTimeout,p=i.caps,d=n.transport.server,b=n.transport.setup;u.next(o);var y,h=[];s?(s===d&&h.push(Object(_["a"])({server:d,setup:b})),h.push(Object(_["a"])({server:s}))):(d&&h.push(Object(_["a"])({server:d,setup:b})),h.push(ni(l,f)));var m=function(e){return y=e,re["a"]};return Object(ne["a"])((function(){return h.shift()||re["a"]})).pipe(Object(L["a"])(m),Object(he["a"])((function(e){var t=e.server,n=e.setup;return ri(t,n,{address:r,signer:a,config$:c},p).pipe(Object(L["a"])(m))})),Object(W["a"])(),Object(S["a"])((function(e){var t=e.matrix;return t.setMaxListeners(30)})),Object(Po["a"])((function(e){return e.pipe(Object(D["a"])((function(){return h.length?Object(_["a"])(null):Object(oe["a"])(y)})))})))})),Object(D["a"])((function(t){var n=t.matrix,r=t.server,a=t.setup;return Object(g["a"])(Zo(e,n,o,c),Object(_["a"])(Object(Lt["matrixSetup"])({server:r,setup:a})),c.pipe(Object(Ae["i"])("logger"),Object(S["a"])((function(e){return So["logger"].setLevel(e||"silent",!1)})),Object(x["a"])()))})),Object(Ae["b"])(e))}function oi(e,t,n){Vo(t);var r=n.matrix$;return e.pipe(Object(F["a"])(r),Object(Ae["f"])(function(){var e=Xo(s.a.mark((function e(t){var n;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return n=t[1],n.stopClient(),e.prev=4,e.next=7,n.setPresence({presence:"offline",status_msg:""});case 7:e.next=11;break;case 9:e.prev=9,e.t0=e["catch"](4);case 11:case"end":return e.stop()}}),e,null,[[4,9]])})));return function(t){return e.apply(this,arguments)}}()),Object(x["a"])())}var ii=n("db9c"),ci=n("03a8"),ui=n("1f17");function si(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function li(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?li(Object(n),!0).forEach((function(t){pi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):li(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function pi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function di(e,t){return hi(e)||yi(e,t)||gi(e,t)||bi()}function bi(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function yi(e,t){var n=e&&("undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0)if(o.push(r.value),t&&o.length===t)break}catch(u){c=!0,a=u}finally{try{i||null==n["return"]||n["return"]()}finally{if(c)throw a}}return o}}function hi(e){if(Array.isArray(e))return e}function mi(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(s){return void n(s)}c.done?t(u):Promise.resolve(u).then(r,a)}function vi(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){mi(o,r,a,i,c,"next",e)}function c(e){mi(o,r,a,i,c,"throw",e)}i(void 0)}))}}function Oi(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=gi(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function gi(e,t){if(e){if("string"===typeof e)return ji(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ji(e,t):void 0}}function ji(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function wi(e){return"string"===typeof e?e:Object(ge["d"])(e)}var _i="m.text";function ki(e){var t;return null!==(t=e.payload.msgtype)&&void 0!==t?t:_i}function Ei(e,t){for(var n=0,r=new Map,a=0;a<e.length&&n<t;a++){var o=e[a],i=o.payload.userId,c=r.get(i),u=c&&ki(o)!==ki(c[0]);u||(e.splice(a--,1),c?c.push(o):r.set(i,[o]),n++)}return r}function Ti(e,t){if(!e.length)return re["a"];var n,r=Date.now(),a=Ei(e,20),o={},i=Oi(a);try{for(i.s();!(n=i.n()).done;){var c=di(n.value,2),u=c[0],l=c[1],f=l.map((function(e){return wi(e.payload.message)})).join("\n"),p={msgtype:ki(l[0]),body:f};o[u]=pi({},"*",p)}}catch(b){i.e(b)}finally{i.f()}var d=-1;return t.matrix$.pipe(Object(D["a"])(function(){var e=vi(s.a.mark((function e(t){return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return d++,e.abrupt("return",t.sendToDevice("m.room.message",o));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Object(Ae["l"])(Object(me["b"])(t.config$),{maxRetries:3,onErrors:Ee["h"],log:t.log.warn}),Object(D["a"])(s.a.mark((function e(){var t,n,o,i,c,u,l,f,p;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=Date.now()-r,n=Oi(a),e.prev=2,n.s();case 4:if((o=n.n()).done){e.next=25;break}i=di(o.value,2),c=i[0],u=i[1],l=Oi(u),e.prev=7,l.s();case 9:if((f=l.n()).done){e.next=15;break}return p=f.value,e.next=13,Object(_["a"])(_t["messageSend"].success({via:c,tookMs:t,retries:d},p.meta));case 13:e.next=9;break;case 15:e.next=20;break;case 17:e.prev=17,e.t0=e["catch"](7),l.e(e.t0);case 20:return e.prev=20,l.f(),e.finish(20);case 23:e.next=4;break;case 25:e.next=30;break;case 27:e.prev=27,e.t1=e["catch"](2),n.e(e.t1);case 30:return e.prev=30,n.f(),e.finish(30);case 33:case"end":return e.stop()}}),e,null,[[2,27,30,33],[7,17,20,23]])}))),Object(L["a"])(s.a.mark((function e(t){var n,r,o,i,c,u,l;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=Oi(a),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=24;break}o=di(r.value,2),i=o[1],c=Oi(i),e.prev=6,c.s();case 8:if((u=c.n()).done){e.next=14;break}return l=u.value,e.next=12,Object(_["a"])(_t["messageSend"].failure(t,l.meta));case 12:e.next=8;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e["catch"](6),c.e(e.t0);case 19:return e.prev=19,c.f(),e.finish(19);case 22:e.next=3;break;case 24:e.next=29;break;case 26:e.prev=26,e.t1=e["catch"](1),n.e(e.t1);case 29:return e.prev=29,n.f(),e.finish(29);case 32:case"end":return e.stop()}}),e,null,[[1,26,29,32],[6,16,19,22]])}))))}function Ai(e,t){var n=[];return e.pipe(Object(S["a"])((function(e){var t=di(e,2),r=t[0],a=t[1];return n.push(fi(fi({},r),{},{payload:fi(fi({},r.payload),{},{userId:a})}))})),Object(he["a"])((function(){return Object(ne["a"])((function(){return Ti(n,t).pipe(Object(Ae["b"])(e,10))}))})),Object(D["a"])((function(t){return t.pipe(Object(Ae["b"])(e,10))})))}function Si(e){return e.pipe(Object(T["a"])((function(e){var t=di(e,2),n=t[0],r=t[1];try{var a=Date.now();r.send(wi(n.payload.message));var o={via:r.label,tookMs:Date.now()-a,retries:0};return _t["messageSend"].success(o,n.meta)}catch(i){return _t["messageSend"].failure(i,n.meta)}})))}function xi(e,t,n){return si(t),e.pipe(Object(Ae["d"])(Lt["matrixPresence"],(function(t){var r=e.pipe(Object(P["a"])(_t["messageSend"].request.is),Object(Ae["g"])((function(r){var a=r.meta.address,o=ki(r)!==_i?re["a"]:n.latest$.pipe(Object(N["a"])("rtc",a),Object(P["a"])(Se["n"]),Object(P["a"])((function(e){var t=e.readyState;return"open"===t}))),i=r.payload.userId?Object(_["a"])(r.payload.userId):t(Lt["matrixPresence"].request(void 0,{address:a})).pipe(Object(N["a"])("payload","userId"),Object(L["a"])((function(e){return Object(_["a"])(e)})));return Object(g["a"])(o,i).pipe(Object(C["a"])(1),Object(Ae["b"])(e))})),Object(so["a"])()),a=Object(ii["a"])(r,(function(e){var t=di(e,2),n=t[1];return!!n&&(null===n||void 0===n?void 0:n.readyState)})),o=di(a,2),i=o[0],c=o[1],u=Object(ii["a"])(c,(function(e){var t=di(e,2),n=t[1];return"string"===typeof n})),s=di(u,2),l=s[0],f=s[1],p=Si(i),d=Ai(l,n),b=f.pipe(Object(T["a"])((function(e){var t=di(e,2),n=t[0],r=t[1];return _t["messageSend"].failure(r,n.meta)})));return Object(g["a"])(b,p,d)}),void 0,(function(e){var t=e.meta;return t.address})))}function Pi(e,t,n,r){var a,o=r.config$,i=(a={},pi(a,Et["h"].PFS,n.pfsRoom),pi(a,Et["h"].MS,n.monitoringRoom),a),c=i[e[0].meta.service],u=Mo(n);Object(Ee["d"])(c&&u.includes(c),["messageServiceSend for unknown global room",{roomName:c,globalRooms:u.join(",")}]);var l=No(t.getHomeserverUrl()),f="#".concat(c,":").concat(l),p=e.map((function(e){return wi(e.payload.message)})).join("\n"),d=Date.now(),b=-1;return Bo(t,f).pipe(Object(D["a"])(function(){var e=vi(s.a.mark((function e(n){return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return b++,e.next=3,t.sendEvent(n.roomId,"m.room.message",{body:p,msgtype:_i},"");case 3:return e.abrupt("return",{via:n.roomId,tookMs:Date.now()-d,retries:b});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Object(Ae["l"])(Object(me["b"])(o),{maxRetries:3,onErrors:Ee["h"]}))}function Ri(e,t,n){si(t);var r=n.matrix$,a=n.config$;return e.pipe(Object(P["a"])(Object(_e["e"])(_t["messageServiceSend"].request)),Object(ye["a"])((function(e){return e.meta.service})),Object(D["a"])((function(t){return t.pipe(Object(Ae["c"])((function(t){return r.pipe(Object(F["a"])(a),Object(D["a"])((function(e){var r=di(e,2),a=r[0],o=r[1];return Pi(t,a,o,n)})),Object(D["a"])((function(e){return Object(w["a"])(t.map((function(t){return _t["messageServiceSend"].success(e,t.meta)})))})),Object(L["a"])((function(e){return Object(w["a"])(t.map((function(t){return _t["messageServiceSend"].failure(e,t.meta)})))})),Object(Ae["b"])(e,10))}),20))})))}function Ni(e,t,n){si(t);var r=n.log,a=n.matrix$,o=n.config$,i=n.latest$;return a.pipe(Object(Ae["g"])((function(e){return Object(Uo["a"])(e,"toDeviceEvent")})),Object(P["a"])((function(e){var t=di(e,2),n=t[0],r=t[1];return"m.room.message"===r.getType()&&r.getSender()!==n.getUserId()})),Object(N["a"])(1),Object(F["a"])(o),Object(Ae["g"])((function(e){var t=di(e,2),n=t[0],r=t[1].httpTimeout;return i.pipe(Object(Ae["i"])("whitelisted"),Object(T["a"])((function(e){var t=Yt(n.getSender());if(t&&e.includes(t))return t})),Object(P["a"])(Se["n"]),Object(C["a"])(1),Object(M["a"])(Object(k["a"])(r)))})),Object(Ae["b"])(e),Object(D["a"])((function(e){var t,n=di(e,2),a=di(n[0],1),o=a[0],i=n[1],c=(null!==(t=o.getContent().body)&&void 0!==t?t:"").split("\n");return Object(ci["a"])(c,ui["b"]).pipe(Object(T["a"])((function(e){var t;return o.getContent().msgtype===_i&&(t=Fo(e,i,{log:r})),Object(_t["messageReceived"])(fi(fi({text:e},t?{message:t}:{}),{},{ts:Date.now(),userId:o.getSender()},o.getContent().msgtype?{msgtype:o.getContent().msgtype}:{}),{address:i})})))})))}function Ci(e,t,n){si(t);var r=n.log,a=n.signer,o=new Jr["a"](32);return e.pipe(Object(P["a"])(Object(ge["g"])([Object(Se["h"])(kt["e"]),Object(Se["h"])(kt["f"]),Object(Se["h"])(kt["g"])])),Object(F["a"])(Jt()(e)),Object(P["a"])((function(e){var t=di(e,2),n=t[0],r=t[1];return!r.has(n.meta.address)})),Object(he["a"])((function(e){var t=di(e,1),n=t[0],i=n.payload.message;return Object(ne["a"])((function(){var e=i.message_identifier,t=e.toString(),c=o.get(t);if(c)return Object(_["a"])(_t["messageSend"].request({message:c},{address:n.meta.address,msgId:t}));var u={type:kt["d"].DELIVERED,delivered_message_identifier:e};return r.info('Signing "'.concat(u.type,'" for "').concat(i.type,'" with id=').concat(e.toString())),Object(w["a"])(Object(ge["h"])(a,u,{log:r})).pipe(Object(S["a"])((function(e){return o.set(t,e)})),Object(T["a"])((function(e){return _t["messageSend"].request({message:e},{address:n.meta.address,msgId:t})})))}))})))}var Di=n("21b8"),Ii=n.n(Di),Ui=n("0150"),Mi=n.n(Ui),Li=n("ebf5");function Bi(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function Fi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Vi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fi(Object(n),!0).forEach((function(t){Wi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Wi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hi(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Ki(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function $i(e,t){return Xi(e)||Yi(e,t)||Ki(e,t)||qi()}function qi(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ki(e,t){if(e){if("string"===typeof e)return Gi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Gi(e,t):void 0}}function Gi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Yi(e,t){var n=e&&("undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0)if(o.push(r.value),t&&o.length===t)break}catch(u){c=!0,a=u}finally{try{i||null==n["return"]||n["return"]()}finally{if(c)throw a}}return o}}function Xi(e){if(Array.isArray(e))return e}function Qi(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(s){return void n(s)}c.done?t(u):Promise.resolve(u).then(r,a)}function zi(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Qi(o,r,a,i,c,"next",e)}function c(e){Qi(o,r,a,i,c,"throw",e)}i(void 0)}))}}var Ji=["online","unavailable"];function Zi(e,t){var n=t.log,r=t.matrix$,a=t.config$;return r.pipe(Object(Ae["g"])(function(){var t=zi(s.a.mark((function t(n){return s.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",n.searchUserDirectory({term:e.toLowerCase()}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),Object(Ae["l"])(Object(me["b"])(a),{onErrors:Ee["h"]}),Object(Ae["g"])(s.a.mark((function t(n){var r,a,o,i,c,u;return s.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:r=$i(n,2),a=r[1].results,o=Hi(a),t.prev=2,o.s();case 4:if((i=o.n()).done){t.next=23;break}if(c=i.value,c.display_name){t.next=8;break}return t.abrupt("continue",21);case 8:if(t.prev=8,Yt(c.user_id)===e){t.next=11;break}return t.abrupt("continue",21);case 11:if(u=Object(en["b"])(c.user_id,c.display_name),u&&u===e){t.next=14;break}return t.abrupt("continue",21);case 14:t.next=19;break;case 16:return t.prev=16,t.t0=t["catch"](8),t.abrupt("continue",21);case 19:return t.next=21,c;case 21:t.next=4;break;case 23:t.next=28;break;case 25:t.prev=25,t.t1=t["catch"](2),o.e(t.t1);case 28:return t.prev=28,o.f(),t.finish(28);case 31:case"end":return t.stop()}}),t,null,[[2,25,28,31],[8,16]])}))),Object(D["a"])((function(e){var t=$i(e,2),r=$i(t[0],1),o=r[0],i=t[1];return Object(ne["a"])(zi(s.a.mark((function e(){return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Co(o,i.user_id));case 1:case"end":return e.stop()}}),e)})))).pipe(Object(T["a"])((function(e){return Vi(Vi({},e),i)})),Object(Ae["l"])(Object(me["b"])(a),{onErrors:Ee["h"]}),Object(L["a"])((function(e){return n.info("Error fetching user presence, ignoring:",e),re["a"]})))}),3),Object(fe["a"])(),Object(T["a"])((function(t){return Object(Ee["d"])(t.length,[Ee["b"].TRNS_NO_VALID_USER,{address:e}]),Mi()(t,Ii()(Number.POSITIVE_INFINITY,"last_active_ago"))})),Object(T["a"])((function(t){var n=t.presence,r=t.user_id,a=t.avatar_url;return Lt["matrixPresence"].success({userId:r,available:Ji.includes(n),ts:Date.now(),caps:Qt(a)},{address:e})})),Object(L["a"])((function(t){return Object(_["a"])(Lt["matrixPresence"].failure(t,{address:e}))})))}function ec(e,t,n){Bi(t);var r=n.latest$,a=n.config$,o=new Map;return e.pipe(Object(P["a"])(Object(_e["e"])(Lt["matrixPresence"].request)),Object(ye["a"])((function(e){return e.meta.address})),Object(F["a"])(Object(g["a"])(e.pipe(Object(P["a"])(Object(_e["e"])([Lt["matrixPresence"].success,Lt["matrixPresence"].failure])),Object(S["a"])((function(e){Lt["matrixPresence"].success.is(e)?o.set(e.meta.address,e):o.delete(e.meta.address)})),Object(x["a"])()),Object(_["a"])(o))),Object(D["a"])((function(e){var t=$i(e,2),o=t[0],i=t[1];return o.pipe(Object(F["a"])(r,a),Object(ue["a"])((function(e){var t=$i(e,3),r=t[0],a=t[1].rtc,o=t[2].httpTimeout,c=r.meta.address,u=i.get(c);return u&&(Date.now()-u.payload.ts<o||c in a)?Object(_["a"])(u):Zi(c,n)})))})))}function tc(e){return e.pipe(Object(P["a"])($["channelMonitored"].is),Object(T["a"])((function(e){return Lt["matrixPresence"].request(void 0,{address:e.meta.partner})})))}function nc(e,t,n){Bi(t);var r=n.matrix$,a=n.config$;return a.pipe(Object(Ae["b"])(e),Object(N["a"])("caps"),Object(A["a"])(h.a),Object(Li["a"])(1),Object(se["a"])((function(e){return r.pipe(Object(D["a"])((function(t){return Object(ne["a"])(zi(s.a.mark((function n(){return s.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.abrupt("return",t.setAvatarUrl(e&&!Z()(e)?Xt(e):""));case 1:case"end":return n.stop()}}),n)})))).pipe(Object(D["a"])(zi(s.a.mark((function e(){return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",t.setPresence({presence:"online",status_msg:Date.now().toString()}));case 1:case"end":return e.stop()}}),e)})))))})),Object(Ae["l"])(Object(me["b"])(a)),Object(x["a"])())})))}function rc(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(s){return void n(s)}c.done?t(u):Promise.resolve(u).then(r,a)}function ac(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){rc(o,r,a,i,c,"next",e)}function c(e){rc(o,r,a,i,c,"throw",e)}i(void 0)}))}}function oc(e,t){return lc(e)||sc(e,t)||cc(e,t)||ic()}function ic(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function cc(e,t){if(e){if("string"===typeof e)return uc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?uc(e,t):void 0}}function uc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function sc(e,t){var n=e&&("undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0)if(o.push(r.value),t&&o.length===t)break}catch(u){c=!0,a=u}finally{try{i||null==n["return"]||n["return"]()}finally{if(c)throw a}}return o}}function lc(e){if(Array.isArray(e))return e}function fc(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function pc(e,t,n){fc(e);var r=n.log,a=n.matrix$,o=n.config$;return a.pipe(Object(Ae["g"])((function(e){return Object(Uo["a"])(e,"Room")})),Object(F["a"])(o),Object(V["a"])((function(e){var t=oc(e,2),n=t[1].httpTimeout;return Object(k["a"])(Math.round((.5+.5*Math.random())*n))})),Object(Ae["b"])(t),Object(P["a"])((function(e){var t=oc(e,2),n=oc(t[0],2),r=n[0],a=n[1],o=t[1],i=a.getMyMembership();if(!i||"leave"===i)return!1;var c=No(r.getHomeserverUrl());return!Mo(o).some((function(e){return Lo("#".concat(e,":").concat(c),a)}))})),Object(D["a"])(function(){var e=ac(s.a.mark((function e(t){var n,a,o,i;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=oc(t,1),a=oc(n[0],2),o=a[0],i=a[1],r.warn("Unknown room in matrix, leaving",i.roomId),e.abrupt("return",o.leave(i.roomId).catch((function(e){return r.error("Error leaving unknown room, ignoring",e)})));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Object(x["a"])())}var dc,bc=n("d9d5"),yc=n("0444"),hc=n("6c2a");function mc(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function vc(e,t){return _c(e)||wc(e,t)||gc(e,t)||Oc()}function Oc(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function gc(e,t){if(e){if("string"===typeof e)return jc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?jc(e,t):void 0}}function jc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function wc(e,t){var n=e&&("undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0)if(o.push(r.value),t&&o.length===t)break}catch(u){c=!0,a=u}finally{try{i||null==n["return"]||n["return"]()}finally{if(c)throw a}}return o}}function _c(e){if(Array.isArray(e))return e}function kc(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(s){return void n(s)}c.done?t(u):Promise.resolve(u).then(r,a)}function Ec(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){kc(o,r,a,i,c,"next",e)}function c(e){kc(o,r,a,i,c,"throw",e)}i(void 0)}))}}function Tc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ac,Sc="m.notice";(function(e){e["offer"]="offer",e["answer"]="answer",e["candidates"]="candidates",e["hangup"]="hangup"})(Ac||(Ac={}));var xc=To["p"](To["j"]([To["v"]({type:To["l"](Ac.offer),sdp:To["s"]}),To["o"]({call_id:To["s"]})])),Pc=To["p"](To["j"]([To["v"]({type:To["l"](Ac.answer),sdp:To["s"]}),To["o"]({call_id:To["s"]})])),Rc=To["p"](To["j"]([To["v"]({type:To["l"](Ac.candidates),candidates:To["q"](To["y"])}),To["o"]({call_id:To["s"]})])),Nc=To["p"](To["j"]([To["v"]({type:To["l"](Ac.hangup)}),To["o"]({call_id:To["s"]})])),Cc=(dc={},Tc(dc,Ac.offer,xc),Tc(dc,Ac.answer,Pc),Tc(dc,Ac.candidates,Rc),Tc(dc,Ac.hangup,Nc),dc);function Dc(e){var t;return Array.isArray(e)&&3===e.length&&(null===(t=e[1])||void 0===t?void 0:t.readyState)}var Ic="peer hung up",Uc="channel closed",Mc="ping",Lc=["failed","closed","disconnected"],Bc=new WeakMap;function Fc(e){return Vc.apply(this,arguments)}function Vc(){return Vc=Ec(s.a.mark((function e(t){var n,r,a,o;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=Bc.get(t),!(n&&Date.now()<n[0])){e.next=3;break}return e.abrupt("return",n[1]);case 3:return e.next=5,t.turnServer().catch((function(){}));case 5:return r=e.sent,a=Date.now()+36e5,o=[],r&&"uris"in r&&(o.push({urls:r.uris,username:r.username,credentialType:"password",credential:r.password}),a=Date.now()+1e3*r.ttl),Bc.set(t,[a,o]),e.abrupt("return",o);case 11:case"end":return e.stop()}}),e)}))),Vc.apply(this,arguments)}function Wc(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=r.log;return e.pipe(Object(P["a"])(_t["messageReceived"].is),Object(P["a"])((function(e){var t=e.meta,r=e.payload;return t.address===n.peerAddress&&r.msgtype===Sc})),Object(D["a"])(s.a.mark((function e(n){var r;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,r=Object(ke["b"])(n.payload.text),r["type"]!==t){e.next=5;break}return e.next=5,Object(Se["l"])(Cc[t],r);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),null===a||void 0===a||a.info("Failed to decode WebRTC signaling message, ignoring",{text:n.payload.text,peerAddr:n.meta.address,peerId:n.payload.userId,error:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),Object(P["a"])((function(e){return!n.callId||e.call_id===n.callId})))}function Hc(e,t,n,r){var a=r.log;return Object(g["a"])(Wc(t,Ac.candidates,n,{log:a}).pipe(Object(S["a"])((function(e){return a.debug("RTC: received candidates",n.callId,e.candidates)})),Object(D["a"])((function(e){var t;return Object(w["a"])(null!==(t=e.candidates)&&void 0!==t?t:[])})),Object(D["a"])(function(){var t=Ec(s.a.mark((function t(r){return s.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.addIceCandidate(r);case 3:t.next=8;break;case 5:t.prev=5,t.t0=t["catch"](0),a.warn("RTC: error setting candidate, ignoring",n.callId,e.connectionState,r,t.t0);case 8:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(e){return t.apply(this,arguments)}}()),Object(x["a"])()),Object(Uo["a"])(e,"icecandidate").pipe(Object(N["a"])("candidate"),Object(U["a"])(Se["n"]),Object(yc["a"])(10),Object(P["a"])((function(e){return e.length>0})),Object(S["a"])((function(e){return a.debug("RTC: got candidates",n.callId,e)})),Object(T["a"])((function(e){var t={type:Ac.candidates,candidates:e,call_id:n.callId};return _t["messageSend"].request({message:Object(ke["c"])(t),msgtype:Sc,userId:n.peerId},{address:n.peerAddress,msgId:Object(we["e"])().toString()})}))))}function $c(e,t,n,r){var a=vc(e,3),o=a[0],i=a[1],c=a[2],u=vc(t,2),s=u[0],l=u[1],f=n.httpTimeout;return Object(g["a"])(Object(Uo["a"])(o,"connectionstatechange").pipe(Object(R["a"])(null),Object(D["a"])((function(){return Lc.includes(o.connectionState)?Object(oe["a"])(new Error("RTC: connection failed")):re["a"]}))),Object(Uo["a"])(i,"close").pipe(Object(be["a"])(Object(oe["a"])(new Error(Uc)))),Object(Uo["a"])(i,"error").pipe(Object(D["a"])((function(e){return Object(oe["a"])(e.error)}))),Wc(s,Ac.hangup,c,r).pipe(Object(be["a"])(Object(oe["a"])(new Error(Ic)))),Object(Uo["a"])(i,"open").pipe(Object(C["a"])(1),Object(Ae["n"])(f),Object(T["a"])((function(){return r.log.info("RTC: dataChannel open",i.label),c.callId=i.label,i.send(Mc),l.next(!0),l.complete(),Object(Lt["rtcChannel"])(i,{address:c.peerAddress})}))),Object(Uo["a"])(i,"message").pipe(Object(S["a"])((function(e){return r.log.debug("RTC: dataChannel message",i.label,e)})),Object(N["a"])("data"),Object(P["a"])((function(e){return"string"===typeof e})),Object(P["a"])((function(e){return e!==Mc})),Object(D["a"])((function(e){return Object(w["a"])(e.split("\n"))})),Object(hc["b"])(ui["b"]),Object(T["a"])((function(e){return Object(_t["messageReceived"])({text:e,message:Fo(e,c.peerAddress,r),ts:Date.now(),userId:c.peerId},{address:c.peerAddress})})))).pipe(Object(B["a"])((function(){return o.close()})))}function qc(e,t){var n=t.config$;return function(r){var a;return Object(ne["a"])((function(){return a=new ae["a"],r.pipe(Object(M["a"])(a))})).pipe(Object(Ae["h"])(Dc,Object(Ft["a"])(Object(F["a"])(n),Object(se["a"])((function(n){var r=vc(n,2),o=r[0],i=r[1];return $c(o,[e,a],i,t)})))))}}function Kc(e,t,n){var r=vc(t,2),a=r[0],o=r[1],i=n.matrix$,c=n.config$,u=n.log,l={callId:o.call_id,peerId:a.payload.userId,peerAddress:a.meta.address};u.info("RTC: callee answering",l);var f=new ae["a"];return i.pipe(Object(D["a"])(function(){var e=Ec(s.a.mark((function e(t){return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Fc(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Object(F["a"])(c),Object(D["a"])((function(t){var r=vc(t,2),i=r[0],c=r[1].fallbackIceServers,u=new RTCPeerConnection({iceServers:i.concat(c)}),p=0;return Object(g["a"])(Hc(u,e,l,n).pipe(Object(V["a"])(X()(f))),Object(ne["a"])(Ec(s.a.mark((function e(){return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",u.setRemoteDescription(o));case 1:case"end":return e.stop()}}),e)})))).pipe(Object(D["a"])(Ec(s.a.mark((function e(){return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",u.createAnswer());case 1:case"end":return e.stop()}}),e)})))),Object(Ae["g"])(function(){var e=Ec(s.a.mark((function e(t){return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",u.setLocalDescription(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Object(D["a"])((function(t){var n=vc(t,1),r=n[0],o={type:r.type,sdp:r.sdp,call_id:l.callId},i=_t["messageSend"].request({message:Object(ke["c"])(o),msgtype:Sc,userId:a.payload.userId},{address:l.peerAddress,msgId:Object(we["e"])().toString()});return Object(tr["a"])(e,i,Object(_e["g"])(_t["messageSend"],i.meta))})),Object(B["a"])((function(){return f.next(!0),f.complete()}))),Object(Uo["a"])(u,"datachannel").pipe(Object(T["a"])((function(e){var t=e.channel;return++p,[u,t,l]})),Object(C["a"])(1),Object(B["a"])((function(){return p?null:u.close()}))))})),qc(e,n))}function Gc(e,t,n,r){var a=vc(n,2),o=a[0],i=a[1];return Object(g["a"])(Wc(o,Ac.answer,t[2],r).pipe(Object(C["a"])(1),Object(D["a"])(function(){var e=Ec(s.a.mark((function e(n){return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r.log.info("RTC: got answer",n.call_id),e.next=3,t[0].setRemoteDescription(n);case 3:return e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Object(B["a"])((function(){return i.next(!0),i.complete()}))),Object(tr["a"])(o,e,Object(_e["g"])(_t["messageSend"],e.meta)).pipe(Object(ie["a"])(t)))}function Yc(e,t,n){var r=vc(e,2),a=r[0],o=r[1],i=n.matrix$,c=n.config$,u=n.log,l=n.address;return i.pipe(Object(D["a"])(function(){var e=Ec(s.a.mark((function e(t){return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Fc(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Object(F["a"])(c),Object(D["a"])((function(e){var r=vc(e,2),i=r[0],c=r[1].fallbackIceServers,f={callId:"".concat(l,"|").concat(a,"|").concat(Date.now()),peerId:o,peerAddress:a};u.info("RTC: caller calling",f);var p=new RTCPeerConnection({iceServers:i.concat(c)}),d=p.createDataChannel(f.callId,{ordered:!1}),b=new ae["a"],y=0;return Object(g["a"])(Hc(p,t,f,n).pipe(Object(V["a"])(X()(b))),Object(ne["a"])(Ec(s.a.mark((function e(){return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",p.createOffer());case 1:case"end":return e.stop()}}),e)})))).pipe(Object(D["a"])(function(){var e=Ec(s.a.mark((function e(t){return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,p.setLocalDescription(t);case 2:return e.abrupt("return",t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Object(D["a"])((function(e){var r={type:e.type,sdp:e.sdp,call_id:f.callId},o=_t["messageSend"].request({message:Object(ke["c"])(r),msgtype:Sc,userId:f.peerId},{address:a,msgId:Object(we["e"])().toString()});return Gc(o,[p,d,f],[t,b],n)})))).pipe(Object(P["a"])((function(e){return!Dc(e)||!y++})),Object(B["a"])((function(){return y?null:p.close()})))})),qc(t,n))}function Xc(e,t,n){var r=vc(t,2),a=r[0],o=r[1];return o?Yc([a,o],e,n):e.pipe(Object(Ae["d"])(Lt["matrixPresence"],(function(t){return t(Lt["matrixPresence"].request(void 0,{address:a})).pipe(Object(D["a"])((function(t){return Object(Ee["d"])(zt(t.payload.caps,ve["a"].WEBRTC),"peer doesn't support RTC"),Yc([a,t.payload.userId],e,n)})))})))}function Qc(e,t,n){var r=n.log;return Object(Ft["a"])(Object(se["a"])((function(n){var a,o,i=vc(n,3),c=i[2];return c.pipe(Object(S["a"])((function(e){!a&&Lt["rtcChannel"].is(e)&&e.payload&&t.next([!0,a=e.payload])})),Object(L["a"])((function(t){return r.info("RTC: callee channel error",e,t.message),o=t,re["a"]})),Object(B["a"])((function(){r.info("RTC: callee disconnecting",e),a&&t.next([!1,a,o])})),Object(M["a"])(t.pipe(Object(P["a"])((function(e){var t=vc(e,2),n=t[0],r=t[1];return n&&r!==a})))))})))}function zc(e,t,n){var r=n.log,a=n.config$;return Object(Ft["a"])(Object(ue["a"])((function(n){var o,i,c=vc(n,3),u=c[2];return Object(ne["a"])((function(){return o=void 0,i=void 0,u.pipe(Object(S["a"])({next:function(e){!o&&Lt["rtcChannel"].is(e)&&e.payload&&t.next([!0,o=e.payload])},error:function(t){r.info("RTC: caller channel error",e,t.message),i=t}}),Object(B["a"])((function(){o&&t.next([!1,o,i])})))})).pipe(Object(Po["a"])((function(t){return t.pipe(Object(F["a"])(a),Object(D["a"])((function(t,n){var a=vc(t,2),o=a[1],i=o.pollingInterval,c=o.httpTimeout;if(n>=5)return Object(_["a"])(!0);var u=Math.min(i*Math.pow(2,n),2*c);return r.info("RTC: caller retrying in",u,e,n),Object(k["a"])(u)})),Object(U["a"])((function(e){return!0!==e})),Object(B["a"])((function(){return r.info("RTC: caller giving up",e)})))})),Object(M["a"])(t.pipe(Object(P["a"])((function(e){var t=vc(e,2),n=t[0],r=t[1];return n&&r!==o})))))})))}function Jc(){return Object(Ft["a"])(Object(P["a"])(_t["messageReceived"].is),Object(P["a"])((function(e){return e.payload.msgtype===Sc&&!!e.payload.userId})),Object(Ae["g"])(s.a.mark((function e(t){var n;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,n=Object(ke["b"])(t.payload.text),n["type"]!==Ac.offer){e.next=5;break}return e.next=5,Object(Se["l"])(Cc[Ac.offer],n);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e["catch"](0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])}))))}function Zc(e,t){var n,r=t.address;return $["channelMonitored"].is(e)?n=e.meta.partner:mr["transferSigned"].is(e)?e.meta.direction===je["a"].SENT&&e.payload.message.initiator===r?n=e.payload.message.target:e.meta.direction===je["a"].RECEIVED&&e.payload.message.target===r&&(n=e.payload.message.initiator):(_t["messageSend"].request.is(e)&&e.payload.msgtype!==Sc||Lt["rtcChannel"].is(e)&&!e.payload)&&(n=e.meta.address),n}function eu(e,t){return Object(Ft["a"])(Object(D["a"])(s.a.mark((function n(r){var a,o,i,c,u,l;return s.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(a=vc(r,3),o=a[0],i=a[1],c=a[2],!o){n.next=4;break}return t.push(i),n.abrupt("return");case 4:if(Object(Se["o"])(t)!==i){n.next=10;break}return t.pop(),n.next=8,Object(Lt["rtcChannel"])(Object(Se["o"])(t),{address:e});case 8:n.next=12;break;case 10:u=t.indexOf(i),u>=0&&t.splice(u,1);case 12:if(Object(Ee["g"])([Ic,Uc],c)){n.next=16;break}return l={type:Ac.hangup,call_id:i.label},n.next=16,_t["messageSend"].request({message:Object(ke["c"])(l),msgtype:Sc},{address:e,msgId:Object(we["e"])().toString()});case 16:case"end":return n.stop()}}),n)}))))}function tu(e,t,n){mc(t);var r=e.pipe(Jc(),Object(T["a"])((function(t){var r=vc(t,2),a=r[0],o=r[1];return[a.meta.address,"callee",Kc(e,[a,o],n)]}))),a=e.pipe(Object(D["a"])(s.a.mark((function e(t){var r;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=Zc(t,n),!r){e.next=4;break}return e.next=4,[r];case 4:case"end":return e.stop()}}),e)}))),Object(T["a"])((function(t){return[t[0],"caller",Xc(e,t,n)]})));return Object(g["a"])(r,a).pipe(Object(ye["a"])((function(e){var t=vc(e,1),n=t[0];return n})),Object(D["a"])((function(t){var r=t.key,a=[],o=new bc["a"];return Object(g["a"])(t.pipe(Object(ye["a"])((function(e){var t=vc(e,2),n=t[1];return n})),Object(D["a"])((function(e){return"callee"===e.key?e.pipe(Qc(r,o,n)):e.pipe(Object(P["a"])((function(){return!a.length})),zc(r,o,n))})),Object(Ae["b"])(e),Object(B["a"])((function(){return setTimeout((function(){return o.complete()}),10)}))),o.pipe(eu(r,a)))})),Object(Ae["m"])(n.config$.pipe(Object(N["a"])("caps",ve["a"].WEBRTC),Object(Ae["b"])(e))))}function nu(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(s){return void n(s)}c.done?t(u):Promise.resolve(u).then(r,a)}function ru(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){nu(o,r,a,i,c,"next",e)}function c(e){nu(o,r,a,i,c,"throw",e)}i(void 0)}))}}function au(e){return cu(e)||iu(e)||lu(e)||ou()}function ou(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function iu(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function cu(e){if(Array.isArray(e))return fu(e)}function uu(e,t){return du(e)||pu(e,t)||lu(e,t)||su()}function su(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function lu(e,t){if(e){if("string"===typeof e)return fu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?fu(e,t):void 0}}function fu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function pu(e,t){var n=e&&("undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0)if(o.push(r.value),t&&o.length===t)break}catch(u){c=!0,a=u}finally{try{i||null==n["return"]||n["return"]()}finally{if(c)throw a}}return o}}function du(e){if(Array.isArray(e))return e}function bu(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function yu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function hu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yu(Object(n),!0).forEach((function(t){mu(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function mu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vu(e){var t,n=e.stale,r=e.udcDeposit,a=e.config.monitoringReward;return t={},mu(t,ve["a"].RECEIVE,!n&&null!==a&&void 0!==a&&a.gt(0)&&a.lte(r.balance)?1:0),mu(t,ve["a"].WEBRTC,"RTCPeerConnection"in globalThis?1:0),t}function Ou(e,t,n){return null===n?n:void 0!==n?hu(hu(hu({},e),t),n):null===t?t:hu(hu({},e),t)}function gu(e,t,n){bu(e);var r=n.defaultConfig,a=n.latest$;return Object(O["a"])([t.pipe(Object(Ae["i"])("config","caps")),a]).pipe(Object(T["a"])((function(e){var t=uu(e,2),n=t[0],a=t[1];return Ou(vu(a),r.caps,n)})),Object(A["a"])(h.a),Object(T["a"])((function(e){return Object(H["c"])({caps:e})})),Object(Ae["b"])(t))}function ju(e,t,n){bu(t);var r=n.config$,a=n.log,o=n.provider;return Object(g["a"])(r.pipe(Object(Ae["i"])("logger"),Object(S["a"])((function(e){return a.setLevel(e||"silent",!1)}))),r.pipe(Object(Ae["i"])("pollingInterval"),Object(S["a"])((function(e){return o.pollingInterval=e})))).pipe(Object(x["a"])(),Object(Ae["b"])(e))}var wu={configCapsEpic:gu,configReactEpic:ju};function _u(e,t,n){var r=n.defaultConfig,a=n.mediationFeeCalculator,o={balance:f["b"],totalDeposit:f["b"]},i=!1,c=e.pipe(Object(P["a"])(gt["udcDeposit"].success.is),Object(T["a"])((function(e){return{balance:e.payload.balance,totalDeposit:e.meta.totalDeposit}})),Object(R["a"])(o),Object(A["a"])((function(e,t){var n=e.balance,r=t.balance;return n.eq(r)}))),u=e.pipe(Object(P["a"])($["blockTime"].is),Object(N["a"])("payload","blockTime"),Object(R["a"])(15e3)),s=e.pipe(Object(P["a"])($["blockGasprice"].is),Object(N["a"])("payload","gasPrice"),Object(R["a"])(l["a"].from(1e9))),d=e.pipe(Object(P["a"])($["blockStale"].is),Object(N["a"])("payload","stale"),Object(R["a"])(i)),y=Object(g["a"])(t.pipe(Object(C["a"])(1),Object(N["a"])("config"),Object(T["a"])((function(e){var t=e.caps,n=e.monitoringReward;return Ou(vu({udcDeposit:o,stale:i,config:{monitoringReward:null!==n&&void 0!==n?n:r.monitoringReward}}),r.caps,t)}))),e.pipe(Object(P["a"])(H["c"].is),Object(N["a"])("payload","caps"))),h=Object(O["a"])([t.pipe(Object(Ae["i"])("config")),y]).pipe(Object(T["a"])((function(e){var t=uu(e,2),n=t[0],o=t[1];return hu(hu(hu({},r),n),{},{caps:o,mediationFees:a.decodeConfig(n.mediationFees,r.mediationFees)})}))),m=t.pipe(Object(C["a"])(1),Object(D["a"])((function(t){var n=Object(p["uniq"])(Object.values(t.channels).map((function(e){var t=e.partner;return t.address})));return e.pipe(Object(P["a"])(Lt["matrixPresence"].request.is),Object(I["a"])((function(e,t){return e.includes(t.meta.address)?e:[].concat(au(e),[t.meta.address])}),n),Object(R["a"])(n),Object(A["a"])())}))),v=e.pipe(Object(P["a"])(Lt["rtcChannel"].is),Object(I["a"])((function(e,t){return t.payload?hu(hu({},e),{},mu({},t.meta.address,t.payload)):b()(t.meta.address,e)}),{}),Object(R["a"])({}));return Object(O["a"])([Object(O["a"])([e,t,h,m,v]),Object(O["a"])([c,u,d,s])]).pipe(Object(T["a"])((function(e){var t=uu(e,2),n=uu(t[0],5),r=n[0],a=n[1],o=n[2],i=n[3],c=n[4],u=uu(t[1],4),s=u[0],l=u[1],f=u[2],p=u[3];return{action:r,state:a,config:o,whitelisted:i,rtc:c,udcDeposit:s,blockTime:l,stale:f,gasPrice:p}})))}var ku=hu(hu(hu(hu(hu(hu({},wu),a),r),c),i),o);function Eu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object.values(ku);return function(t,n,r){var a=t.pipe(Object(P["a"])(H["e"].is),Object(C["a"])(1)),o=t.pipe(Object(U["a"])(v()(H["e"].is),!0)),i=n.pipe(Object(M["a"])(a));return Object(j["a"])((function(){var e=_u(t,n,r).subscribe(r.latest$);return e.add((function(){return r.latest$.complete()})),e}),(function(){var t=new Set,n=Object(w["a"])(e).pipe(Object(D["a"])((function(e){return t.add(e.name),e(o,i,r).pipe(Object(L["a"])((function(t){return r.log.error("Epic error",e.name,e,t),Object(_["a"])(Object(H["e"])({reason:t}))})),Object(B["a"])((function(){return t.delete(e.name)})))})),Object(M["a"])(a.pipe(Object(F["a"])(r.config$),Object(V["a"])((function(e){var t=uu(e,2),n=(t[0],t[1].httpTimeout);return Object(k["a"])(n)})),Object(S["a"])((function(){return r.log.warn("Pending Epics :",t)}))))),c=r.db.busy$.pipe(Object(W["a"])((function(e){return!e})),Object(S["a"])((function(){return r.db.busy$.next(!0)})),Object(L["a"])((function(){return Object(_["a"])(null)})),Object(D["a"])(ru(s.a.mark((function e(){return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",r.db.close());case 1:case"end":return e.stop()}}),e)})))),Object(x["a"])(),Object(B["a"])((function(){r.db.busy$.next(!1),r.db.busy$.complete()})));return Object(E["a"])(n,c)}))}}},5303:function(e,t,n){},5778:function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"e",(function(){return f})),n.d(t,"f",(function(){return d})),n.d(t,"g",(function(){return y})),n.d(t,"b",(function(){return _})),n.d(t,"h",(function(){return E})),n.d(t,"a",(function(){return A})),n.d(t,"k",(function(){return P})),n.d(t,"i",(function(){return N})),n.d(t,"j",(function(){return D})),n.d(t,"c",(function(){return H}));var r,a=n("2111"),o=n("9201"),i=n("ca14");(function(e){e["DELIVERED"]="Delivered",e["PROCESSED"]="Processed",e["SECRET_REQUEST"]="SecretRequest",e["SECRET_REVEAL"]="RevealSecret",e["LOCKED_TRANSFER"]="LockedTransfer",e["UNLOCK"]="Unlock",e["LOCK_EXPIRED"]="LockExpired",e["WITHDRAW_REQUEST"]="WithdrawRequest",e["WITHDRAW_CONFIRMATION"]="WithdrawConfirmation",e["WITHDRAW_EXPIRED"]="WithdrawExpired",e["PFS_CAPACITY_UPDATE"]="PFSCapacityUpdate",e["PFS_FEE_UPDATE"]="PFSFeeUpdate",e["MONITOR_REQUEST"]="RequestMonitoring"})(r||(r={}));var c=a["p"](a["v"]({message_identifier:Object(i["j"])(8)})),u=a["p"](a["v"]({type:a["l"](r.DELIVERED),delivered_message_identifier:Object(i["j"])(8)})),s=u,l=a["p"](a["j"]([a["v"]({type:a["l"](r.PROCESSED)}),c])),f=l,p=a["p"](a["j"]([a["v"]({type:a["l"](r.SECRET_REQUEST),payment_identifier:Object(i["j"])(8),secrethash:i["c"],amount:Object(i["j"])(32),expiration:Object(i["j"])(32)}),c])),d=p,b=a["p"](a["j"]([a["v"]({type:a["l"](r.SECRET_REVEAL),secret:i["f"]}),c])),y=b,h=a["p"](a["j"]([a["v"]({chain_id:Object(i["j"])(32),token_network_address:i["a"],channel_identifier:Object(i["j"])(32),nonce:Object(i["j"])(8),transferred_amount:Object(i["j"])(32),locked_amount:Object(i["j"])(32),locksroot:i["c"]}),c])),m=a["p"](a["v"]({route:a["q"](i["a"])})),v=m,O=a["p"](a["v"]({routes:a["q"](v)})),g=O,j=a["p"](a["j"]([a["v"]({payment_identifier:Object(i["j"])(8),token:i["a"],recipient:i["a"],lock:o["d"],target:i["a"],initiator:i["a"],metadata:g}),h])),w=a["p"](a["j"]([a["v"]({type:a["l"](r.LOCKED_TRANSFER)}),j])),_=w,k=a["p"](a["j"]([a["v"]({type:a["l"](r.UNLOCK),payment_identifier:Object(i["j"])(8),secret:i["f"]}),h])),E=k,T=a["p"](a["j"]([a["v"]({type:a["l"](r.LOCK_EXPIRED),recipient:i["a"],secrethash:i["c"]}),h])),A=T,S=a["p"](a["v"]({chain_id:Object(i["j"])(32),token_network_address:i["a"],channel_identifier:Object(i["j"])(32),participant:i["a"],total_withdraw:Object(i["j"])(32),nonce:Object(i["j"])(8),expiration:Object(i["j"])(32)})),x=a["p"](a["j"]([a["v"]({type:a["l"](r.WITHDRAW_REQUEST)}),S,c])),P=x,R=a["p"](a["j"]([a["v"]({type:a["l"](r.WITHDRAW_CONFIRMATION)}),S,c])),N=R,C=a["p"](a["j"]([a["v"]({type:a["l"](r.WITHDRAW_EXPIRED)}),S,c])),D=C,I=a["p"](a["v"]({type:a["l"](r.PFS_CAPACITY_UPDATE),canonical_identifier:a["p"](a["v"]({chain_identifier:Object(i["j"])(32),token_network_address:i["a"],channel_identifier:Object(i["j"])(32)})),updating_participant:i["a"],other_participant:i["a"],updating_nonce:Object(i["j"])(8),other_nonce:Object(i["j"])(8),updating_capacity:Object(i["j"])(32),other_capacity:Object(i["j"])(32),reveal_timeout:Object(i["j"])(32)})),U=I,M=a["p"](a["v"]({type:a["l"](r.PFS_FEE_UPDATE),canonical_identifier:a["p"](a["v"]({chain_identifier:Object(i["j"])(32),token_network_address:i["a"],channel_identifier:Object(i["j"])(32)})),updating_participant:i["a"],timestamp:a["s"],fee_schedule:a["v"]({cap_fees:a["e"],imbalance_penalty:a["x"]([a["m"],a["q"](a["p"](a["u"]([Object(i["j"])(32),Object(i["j"])(32)])))]),proportional:Object(i["d"])(32),flat:Object(i["d"])(32)})})),L=M,B=a["p"](a["v"]({type:a["l"](r.MONITOR_REQUEST),balance_proof:a["v"]({chain_id:Object(i["j"])(32),token_network_address:i["a"],channel_identifier:Object(i["j"])(32),nonce:Object(i["j"])(8),balance_hash:i["c"],additional_hash:i["c"],signature:i["g"]}),monitoring_service_contract_address:i["a"],non_closing_participant:i["a"],non_closing_signature:i["g"],reward_amount:Object(i["j"])(32)})),F=B,V=[s,f,d,y,_,E,A,P,N,D,U,L,F],W=V,H=a["x"](W)},"59ec":function(e,t,n){"use strict";n.d(t,"b",(function(){return U})),n.d(t,"c",(function(){return M})),n.d(t,"g",(function(){return L})),n.d(t,"f",(function(){return B})),n.d(t,"e",(function(){return F})),n.d(t,"i",(function(){return V})),n.d(t,"j",(function(){return H})),n.d(t,"h",(function(){return G})),n.d(t,"a",(function(){return Y})),n.d(t,"d",(function(){return X}));var r,a=n("36d8"),o=n.n(a),i=n("c00b"),c=n("b97c"),u=n("905c9"),s=n("6da0"),l=n("007a"),f=n("09d5"),p=n("34ba"),d=n("331d"),b=n("ae8f"),y=n("258b"),h=n("cefa"),m=n("7f4a"),v=n("0eb1"),O=n("9201"),g=n("8120"),j=n("0ba5"),w=n("f2df"),_=n("46f7"),k=n("ca14"),E=n("1a78");function T(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(s){return void n(s)}c.done?t(u):Promise.resolve(u).then(r,a)}function A(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){T(o,r,a,i,c,"next",e)}function c(e){T(o,r,a,i,c,"throw",e)}i(void 0)}))}}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x(e,t){return N(e)||R(e,t)||D(e,t)||P()}function P(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function R(e,t){var n=e&&("undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0)if(o.push(r.value),t&&o.length===t)break}catch(u){c=!0,a=u}finally{try{i||null==n["return"]||n["return"]()}finally{if(c)throw a}}return o}}function N(e){if(Array.isArray(e))return e}function C(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=D(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function D(e,t){if(e){if("string"===typeof e)return I(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?I(e,t):void 0}}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function U(e){var t,n=[],r=C(e);try{for(r.s();!(t=r.n()).done;){var a=t.value;n.push(Object(_["a"])(a.expiration,32),Object(_["a"])(a.amount,32),a.secrethash)}}catch(o){r.e(o)}finally{r.f()}return Object(s["a"])(Object(c["b"])(n))}function M(e){return Object(f["c"])(e)}function L(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32;return Object(c["i"])(Object(l["a"])(e))}function B(){return i["a"].from(Date.now())}function F(){return i["a"].from(Date.now())}function V(e){return"_id"in e?e._id:"".concat(e.direction,":").concat(e.secrethash)}var W=new RegExp("^(".concat(Object.values(E["a"]).join("|"),"):(0x[a-f0-9]{64})$"),"i");function H(e){var t=e.match(W);Object(w["a"])(t,"Invalid transferKey format");var n=x(t,3),r=n[1],a=n[2];return{direction:r,secrethash:a}}var $=(r={},S(r,E["c"].expired,(function(e){var t;return null===(t=e.expiredProcessed)||void 0===t?void 0:t.ts})),S(r,E["c"].unlocked,(function(e){var t;return null===(t=e.unlockProcessed)||void 0===t?void 0:t.ts})),S(r,E["c"].expiring,(function(e){var t;return null===(t=e.expired)||void 0===t?void 0:t.ts})),S(r,E["c"].unlocking,(function(e){var t;return null===(t=e.unlock)||void 0===t?void 0:t.ts})),S(r,E["c"].registered,(function(e){var t;return null===(t=e.secretRegistered)||void 0===t?void 0:t.ts})),S(r,E["c"].revealed,(function(e){var t;return null===(t=e.secretReveal)||void 0===t?void 0:t.ts})),S(r,E["c"].requested,(function(e){var t;return null===(t=e.secretRequest)||void 0===t?void 0:t.ts})),S(r,E["c"].closed,(function(e){var t;return null===(t=e.channelClosed)||void 0===t?void 0:t.ts})),S(r,E["c"].received,(function(e){var t;return null===(t=e.transferProcessed)||void 0===t?void 0:t.ts})),S(r,E["c"].pending,(function(e){return e.transfer.ts})),r);function q(e){for(var t=0,n=Object.entries($);t<n.length;t++){var r=x(n[t],2),a=r[0],o=r[1],i=o(e);if(void 0!==i)return a}return E["c"].pending}function K(e){return!!(e.unlockProcessed||e.expiredProcessed||e.secretRegistered||e.channelSettled)}function G(e){var t=q(e),n=new Date(e.transfer.ts),r=new Date($[t](e)),a=e.transfer,o=e.direction,i=a.lock.amount.sub(e.fee),c=e.secretRequest&&e.secretRequest.amount.lt(i),u=!!(e.secretReveal||e.unlock||e.secretRegistered)||!(c||e.expired||e.channelClosed)&&void 0,s=K(e);return{key:V(e),secrethash:a.lock.secrethash,direction:o,status:t,initiator:a.initiator,partner:e.partner,target:a.target,metadata:a.metadata,paymentId:a.payment_identifier,chainId:a.chain_id.toNumber(),token:a.token,tokenNetwork:a.token_network_address,channelId:a.channel_identifier,value:i,fee:e.fee,amount:a.lock.amount,expirationBlock:a.lock.expiration.toNumber(),startedAt:n,changedAt:r,success:u,completed:s,secret:e.secret}}function Y(e,t,n,r){return r===u["a"]?Object(p["a"])(O["b"]):Object(d["a"])((function(){return e.find({selector:{channel:Object(g["e"])(t),direction:n}})})).pipe(Object(y["a"])((function(e){var t=e.docs;return Object(b["a"])(t)})),Object(y["a"])((function(e){var t=Object(k["l"])(E["d"],e);return Object(b["a"])([t.transfer,t.unlock,t.expired])})),Object(h["a"])(k["n"]),Object(m["a"])(j["g"]),Object(v["a"])((function(e){return Object(j["f"])(e)===r})))}function X(e,t,n){return Q.apply(this,arguments)}function Q(){return Q=A(o.a.mark((function e(t,n,r){return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("string"!==typeof r&&(r=V(r)),"address"in t){e.next=5;break}return e.next=4,t.pipe(Object(v["a"])()).toPromise();case 4:t=e.sent;case 5:if(!(r in t.transfers)){e.next=7;break}return e.abrupt("return",t.transfers[r]);case 7:return e.t0=k["l"],e.t1=E["d"],e.next=11,n.get(r);case 11:return e.t2=e.sent,e.abrupt("return",(0,e.t0)(e.t1,e.t2));case 13:case"end":return e.stop()}}),e)}))),Q.apply(this,arguments)}},"5ba5":function(e,t,n){"use strict";n("d079")},"5bbb":function(e,t,n){"use strict";n.d(t,"a",(function(){return O})),n.d(t,"c",(function(){return g})),n.d(t,"b",(function(){return j}));var r,a=n("87b8"),o=n("24c6"),i=n("2111"),c=n("0eb1"),u=n("2b5b"),s=n("d011"),l=n("438d"),f=n("0602"),p=n("1b23"),d=n("ca14");function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=i["v"]({urls:i["x"]([i["s"],i["d"](i["s"])])}),v=i["p"](i["j"]([i["v"]({matrixServerLookup:i["s"],revealTimeout:i["n"],settleTimeout:i["n"],expiryFactor:i["n"],httpTimeout:i["n"],discoveryRoom:i["x"]([i["s"],i["m"]]),additionalServices:i["q"](i["x"]([d["a"],i["s"]])),pfsMode:s["g"],pfsRoom:i["x"]([i["s"],i["m"]]),monitoringRoom:i["x"]([i["s"],i["m"]]),pfsSafetyMargin:i["x"]([i["n"],i["u"]([i["n"],i["n"]])]),pfsMaxPaths:i["n"],pfsMaxFee:Object(d["j"])(32),pfsIouTimeout:i["n"],confirmationBlocks:i["n"],monitoringReward:i["x"]([i["m"],Object(d["j"])(32)]),logger:i["k"]((r={},h(r,"",null),h(r,"trace",null),h(r,"debug",null),h(r,"info",null),h(r,"warn",null),h(r,"error",null),r)),caps:i["x"]([i["m"],f["a"]]),fallbackIceServers:i["d"](m),rateToSvt:i["r"](i["s"],Object(d["j"])(32)),pollingInterval:i["n"],minimumAllowance:Object(d["j"])(32),autoSettle:i["e"],autoUDCWithdraw:i["e"],mediationFees:i["y"],gasPriceFactor:i["n"]}),i["o"]({matrixServer:i["s"],subkey:i["e"]})])),O=i["p"](i["g"](i["o"](y(y({},v.type.types["0"].props),v.type.types["1"].props))));function g(e,t){var n,r=e.network,i=Object(p["c"])(r),c=1===r.chainId?"https://raw.githubusercontent.com/raiden-network/raiden-service-bundle/master/known_servers/known_servers-production-v1.2.0.json":"https://raw.githubusercontent.com/raiden-network/raiden-service-bundle/master/known_servers/known_servers-development-v1.2.0.json",l=null===(null===t||void 0===t?void 0:t.caps)?null:y((n={},h(n,u["a"].DELIVERY,0),h(n,u["a"].MEDIATE,0),h(n,u["a"].TO_DEVICE,1),n),null===t||void 0===t?void 0:t.caps);return y(y({matrixServerLookup:c,settleTimeout:500,revealTimeout:50,expiryFactor:1.1,httpTimeout:3e4,discoveryRoom:"raiden_".concat(i,"_discovery"),additionalServices:[],pfsMode:s["f"].auto,pfsRoom:"raiden_".concat(i,"_path_finding"),monitoringRoom:"raiden_".concat(i,"_monitoring"),pfsSafetyMargin:1,pfsMaxPaths:3,pfsMaxFee:Object(o["d"])("0.05"),pfsIouTimeout:2e5,confirmationBlocks:u["c"],monitoringReward:Object(o["d"])("5"),logger:"info",fallbackIceServers:[{urls:"stun:stun.l.google.com:19302"}],rateToSvt:{},pollingInterval:5e3,minimumAllowance:a["b"],autoSettle:!1,autoUDCWithdraw:!0,mediationFees:{},gasPriceFactor:1},t),{},{caps:l})}function j(e){var t,n=(t={_iter:void 0},h(t,Symbol.iterator,(function(){return this._iter=void 0,this})),h(t,"next",(function(){if(!this._iter){var t=5e3,n=6e4;e.pipe(Object(c["a"])()).subscribe((function(e){var r=e.pollingInterval,a=e.httpTimeout;t=r,n=2*a})),this._iter=Object(l["b"])(t,n)}return this._iter.next()})),t);return n}},6:function(e,t){},"60f8":function(e,t,n){e.exports=n.p+"img/transfer_eth_info.87f6409a.svg"},6485:function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e[e["LOW"]=0]="LOW",e[e["HIGH"]=1]="HIGH"}(r||(r={}))},"65e1":function(e,t,n){"use strict";n.d(t,"a",(function(){return v})),n.d(t,"c",(function(){return O})),n.d(t,"b",(function(){return g}));var r=n("30c0"),a=n("bbdc"),o=n("2111"),i=n("f5be"),c=n("b8ff"),u=n("9201"),s=n("5bbb"),l=n("d011"),f=n("1a78"),p=n("ee57"),d=n("ca14");function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=o["p"](o["v"]({address:d["a"],chainId:o["n"],registry:d["a"],blockNumber:o["n"],config:s["a"],channels:o["p"](o["r"](u["c"],c["a"])),oldChannels:o["p"](o["r"](o["s"],c["a"])),tokens:o["p"](o["r"](o["s"],d["a"])),transport:o["p"](o["o"]({server:o["s"],setup:p["a"]})),transfers:o["p"](o["r"](o["s"],f["d"])),iou:o["p"](o["r"](o["s"],o["r"](o["s"],Object(d["h"])(l["a"])))),pendingTxs:o["q"](i["a"]),services:l["j"]}),"RaidenState"),v=m;function O(e){var t=e.network,n=e.address,r=e.contractsInfo,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return y({address:n,chainId:t.chainId,registry:r.TokenNetworkRegistry.address,blockNumber:r.TokenNetworkRegistry.block_number,channels:{},oldChannels:{},tokens:{},transport:{},transfers:{},iou:{},pendingTxs:[],services:{},config:{}},a)}var g=O({network:Object(a["a"])("unspecified"),address:r["a"],contractsInfo:{TokenNetworkRegistry:{address:r["a"],block_number:0},ServiceRegistry:{address:r["a"],block_number:0},UserDeposit:{address:r["a"],block_number:0},SecretRegistry:{address:r["a"],block_number:0},MonitoringService:{address:r["a"],block_number:0},OneToN:{address:r["a"],block_number:0}}})},"66bc":function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("blurred-overlay",{attrs:{show:e.visible,fullscreen:""}},[n("v-dialog",{attrs:{value:e.visible,width:e.width,"hide-overlay":"",dark:"",persistent:e.hideClose},on:{"click:outside":function(t){return e.close()}}},[n("v-card",{staticClass:"raiden-dialog",attrs:{"data-cy":"raiden_dialog"}},[e.hideClose?e._e():n("v-btn",{staticClass:"raiden-dialog__close",attrs:{icon:""},on:{click:function(t){return e.close()}}},[n("v-icon",[e._v("mdi-close")])],1),e._t("default")],2)],1)],1)},a=[],o=n("6dbe"),i=n("5cf9"),c=n("0a08");function u(e){return u="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),e}function p(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}function d(e,t){return d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},d(e,t)}function b(e){var t=m();return function(){var n,r=v(e);if(t){var a=v(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return y(this,n)}}function y(e,t){return!t||"object"!==u(t)&&"function"!==typeof t?h(e):t}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}var O=function(e){p(n,e);var t=b(n);function n(){return s(this,n),t.apply(this,arguments)}return f(n,[{key:"close",value:function(){return!0}}]),n}(i["g"]);Object(o["__decorate"])([Object(i["e"])({required:!0,default:!1,type:Boolean})],O.prototype,"visible",void 0),Object(o["__decorate"])([Object(i["e"])({required:!1,default:!1,type:Boolean})],O.prototype,"hideClose",void 0),Object(o["__decorate"])([Object(i["e"])({required:!1,default:"350",type:String})],O.prototype,"width",void 0),Object(o["__decorate"])([Object(i["b"])()],O.prototype,"close",null),O=Object(o["__decorate"])([Object(i["a"])({components:{BlurredOverlay:c["a"]}})],O);var g=O,j=g,w=(n("a500"),n("a6c2")),_=n("411c"),k=n.n(_),E=n("9c46"),T=n("d58c"),A=n("c56b"),S=n("b503"),x=Object(w["a"])(j,r,a,!1,null,"46e7cf3b",null);t["a"]=x.exports;k()(x,{VBtn:E["a"],VCard:T["a"],VDialog:A["a"],VIcon:S["a"]})},"68e9":function(e,t,n){e.exports=n.p+"img/withdraw_tokens_info.95878cfb.svg"},"6af0":function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"info-overlay"},[r("div",{staticClass:"info-overlay__content"},[r("div",{staticClass:"info-overlay__content__header"},[r("header-content",{attrs:{"disable-back-button":"","disable-info-button":""}})],1),r("div",{staticClass:"info-overlay__content__close-icon"},[r("v-icon",{attrs:{icon:""},on:{click:function(t){return e.closeOverlay()}}},[e._v("mdi-close")])],1),r("div",{staticClass:"info-overlay__content__image"},[r("img",{attrs:{src:n("d009")("./"+e.$route.meta.infoOverlay.headerImage)}})]),r("span",{staticClass:"info-overlay__content__title"},[e._v(e._s(e.$t(e.$route.meta.infoOverlay.header)))]),r("span",{staticClass:"info-overlay__content__body"},[e._v(e._s(e.$t(e.$route.meta.infoOverlay.body)))]),r("div",{staticClass:"info-overlay__content__button"},[r("action-button",{attrs:{enabled:"",text:e.$t("info-overlay.done")},on:{click:function(t){return e.closeOverlay()}}})],1)])])},a=[],o=n("6dbe"),i=n("5cf9"),c=n("750b"),u=n("b592");function s(e){return s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t,n){return t&&f(e.prototype,t),n&&f(e,n),e}function d(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}function b(e,t){return b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},b(e,t)}function y(e){var t=v();return function(){var n,r=O(e);if(t){var a=O(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return h(this,n)}}function h(e,t){return!t||"object"!==s(t)&&"function"!==typeof t?m(e):t}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function O(e){return O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},O(e)}var g=function(e){d(n,e);var t=y(n);function n(){return l(this,n),t.apply(this,arguments)}return p(n,[{key:"closeOverlay",value:function(){}}]),n}(i["g"]);Object(o["__decorate"])([Object(i["b"])()],g.prototype,"closeOverlay",null),g=Object(o["__decorate"])([Object(i["a"])({components:{HeaderContent:u["a"],ActionButton:c["a"]}})],g);var j=g,w=j,_=(n("bcdd"),n("a6c2")),k=n("411c"),E=n.n(k),T=n("b503"),A=Object(_["a"])(w,r,a,!1,null,"21819c06",null);t["a"]=A.exports;E()(A,{VIcon:T["a"]})},"6c61":function(e,t,n){"use strict";n.d(t,"a",(function(){return it}));var r=n("2bde"),a=n.n(r),o=n("f5be"),i=n("30c0"),c=n("87b8"),u=n("65e1"),s=n("83ee"),l=n("1a78"),f=n("d276");function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e,t){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t,r=arguments.length>1?arguments[1]:void 0;for(var a in e){var o,i=e[a];if(i){var c=null!==(o=n[a])&&void 0!==o?o:t[a],u=i(c,r);u!==c&&(n=d(d({},n),{},b({},a,u)))}}return n}}var h=n("f799"),m=n("b8ff"),v=n("9201"),O=n("8120");function g(e){return g="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g(e)}function j(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=N(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function w(e,t){if(null==e)return{};var n,r,a=_(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function _(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}function k(e){var t=E(e,"string");return"symbol"===g(t)?t:String(t)}function E(e,t){if("object"!==g(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==g(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function T(e,t){return x(e)||S(e,t)||N(e,t)||A()}function A(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function S(e,t){var n=e&&("undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0)if(o.push(r.value),t&&o.length===t)break}catch(u){c=!0,a=u}finally{try{i||null==n["return"]||n["return"]()}finally{if(c)throw a}}return o}}function x(e){if(Array.isArray(e))return e}function P(e){return D(e)||C(e)||N(e)||R()}function R(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function N(e,t){if(e){if("string"===typeof e)return I(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?I(e,t):void 0}}function C(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function D(e){if(Array.isArray(e))return I(e)}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(Object(n),!0).forEach((function(t){L(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function B(e){if(null==e)throw new TypeError("Cannot destructure undefined")}var F=Object(f["d"])(u["b"].blockNumber).handle(h["newBlock"],(function(e,t){B(e);var n=t.payload;return n.blockNumber})),V=Object(f["d"])(u["b"].tokens).handle(h["tokenMonitored"],(function(e,t){var n=t.payload,r=n.token,a=n.tokenNetwork;return e[r]===a?e:M(M({},e),{},L({},r,a))}));function W(e,t){return e.filter((function(e){return e.type!==t.type||t.payload.txHash!==e.payload.txHash}))}var H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u["b"].pendingTxs,t=arguments.length>1?arguments[1]:void 0;if(o["a"].is(t)){if(void 0===t.payload.confirmed)return[].concat(P(W(e,t)),[t]);var n=W(e,t);return n.length!==e.length?n:e}return e},$={address:i["a"],deposit:c["h"],withdraw:c["h"],locks:[],balanceProof:v["b"],pendingWithdraws:[],nextNonce:c["e"]};function q(e,t){var n,r,a=Object(O["d"])(t.meta),o=e.channels[a];if((null!==(n=null===o||void 0===o?void 0:o.openBlock)&&void 0!==n?n:0)>=t.payload.txBlock||(null!==(r=null===o||void 0===o?void 0:o.id)&&void 0!==r?r:0)>=t.payload.id||!t.payload.confirmed)return e;var i={_id:Object(O["e"])(M(M({},t.meta),{},{id:t.payload.id})),id:t.payload.id,state:m["b"].open,token:t.payload.token,tokenNetwork:t.meta.tokenNetwork,settleTimeout:t.payload.settleTimeout,isFirstParticipant:t.payload.isFirstParticipant,openBlock:t.payload.txBlock,own:M(M({},$),{},{address:e.address}),partner:M(M({},$),{},{address:t.meta.partner})};return M(M({},e),{},{channels:M(M({},e.channels),{},L({},a,i))})}function K(e,t){var n,r;if(!t.payload.confirmed)return e;var a=Object(O["d"])(t.meta),o=e.channels[a];if((null===(n=o)||void 0===n?void 0:n.state)!==m["b"].open||o.id!==t.payload.id)return e;var i=t.payload.participant===o.partner.address?"partner":"own",c=h["channelWithdrawn"].is(t)?["withdraw",t.payload.totalWithdraw,o[i].pendingWithdraws.filter((function(e){return e.total_withdraw.gt(t.payload.totalWithdraw)}))]:["deposit",t.payload.totalDeposit,o[i].pendingWithdraws],u=T(c,3),s=u[0],l=u[1],f=u[2];return l.lte(o[i][s])?e:(o=M(M({},o),{},L({},i,M(M({},o[i]),{},(r={},L(r,s,l),L(r,"pendingWithdraws",f),r)))),M(M({},e),{},{channels:M(M({},e.channels),{},L({},a,o))}))}function G(e,t){var n,r=Object(O["d"])(t.meta),a=e.channels[r];if((null===(n=a)||void 0===n?void 0:n.id)!==t.payload.id)return e;if(void 0===t.payload.confirmed&&a.state===m["b"].open)a=M(M({},a),{},{state:m["b"].closing});else{if("closeBlock"in a||!t.payload.confirmed)return e;a=M(M({},a),{},{state:m["b"].closed,closeBlock:t.payload.txBlock,closeParticipant:t.payload.participant})}return M(M({},e),{},{channels:M(M({},e.channels),{},L({},r,a))})}function Y(e,t){var n=Object(O["d"])(t.meta),r=e.channels[n];if(!r)return e;if(h["channelClose"].request.is(t)&&r.state===m["b"].open)r=M(M({},r),{},{state:m["b"].closing});else if(h["channelSettle"].request.is(t)&&r.state===m["b"].settleable)r=M(M({},r),{},{state:m["b"].settling});else{if(!h["channelSettleable"].is(t)||r.state!==m["b"].closed)return e;r=M(M({},r),{},{state:m["b"].settleable})}return M(M({},e),{},{channels:M(M({},e.channels),{},L({},n,r))})}function X(e,t){var n=Object(O["d"])(t.meta),r=e.channels[n];if((null===r||void 0===r?void 0:r.id)!==t.payload.id||!("closeBlock"in r))return e;if(void 0===t.payload.confirmed&&r.state!==m["b"].settling)return M(M({},e),{},{channels:M(M({},e.channels),{},L({},n,M(M({},r),{},{state:m["b"].settling})))});if(t.payload.confirmed){var a=e.channels,o=(a[n],w(a,[n].map(k)));return M(M({},e),{},{channels:o,oldChannels:M(M({},e.oldChannels),{},L({},Object(O["e"])(r),M(M({},r),{},{state:m["b"].settled,settleBlock:t.payload.txBlock})))})}return e}function Q(e,t,n){var r=!1,a=e.map((function(e){return e.secrethash!==t||e.registered||e.expiration.lte(n)?e:(r=!0,M(M({},e),{},{registered:!0}))}));return r?a:e}function z(e,t){if(!t.payload.confirmed)return e;var n,r=t.meta.direction===l["a"].SENT?"own":"partner",a=P(Object.keys(e.channels)),o=j(a);try{for(o.s();!(n=o.n()).done;){var i=n.value,c=e.channels[i],u=Q(c[r].locks,t.meta.secrethash,t.payload.txBlock);u!==c[r].locks&&(e=M(M({},e),{},{channels:M(M({},e.channels),{},L({},i,M(M({},c),{},L({},r,M(M({},c[r]),{},{locks:u})))))}))}}catch(s){o.e(s)}finally{o.f()}return e}var J=Object(f["d"])(u["b"]).handle(h["channelOpen"].success,q).handle([h["channelDeposit"].success,h["channelWithdrawn"]],K).handle([h["channelClose"].request,h["channelSettleable"],h["channelSettle"].request],Y).handle(h["channelClose"].success,G).handle(h["channelSettle"].success,X).handle(s["transferSecretRegister"].success,z),Z=y({blockNumber:F,tokens:V,pendingTxs:H},u["b"]),ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u["b"],t=arguments.length>1?arguments[1]:void 0;return[Z,J].reduce((function(e,n){return n(e,t)}),e)},te=ee,ne=n("eed9");function re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?re(Object(n),!0).forEach((function(t){oe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function oe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ie,ce,ue=Object(f["d"])(u["b"].iou).handle(ne["iouPersist"],(function(e,t){return ae(ae({},e),{},oe({},t.meta.tokenNetwork,ae(ae({},e[t.meta.tokenNetwork]),{},oe({},t.meta.serviceAddress,t.payload.iou))))})).handle(ne["iouClear"],(function(e,t){return a()([t.meta.tokenNetwork,t.meta.serviceAddress],e)})),se=Object(f["d"])(u["b"].services).handle(ne["servicesValid"],(function(e,t){return t.payload})),le=y({iou:ue,services:se},u["b"]),fe=le,pe=n("ee9f"),de=n.n(pe),be=n("7de2"),ye=n("ca14"),he=n("59ec");function me(e){return me="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},me(e)}function ve(e,t){if(null==e)return{};var n,r,a=Oe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Oe(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}function ge(e){var t=je(e,"string");return"symbol"===me(t)?t:String(t)}function je(e,t){if("object"!==me(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==me(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function we(e){return Te(e)||Ee(e)||ke(e)||_e()}function _e(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ke(e,t){if(e){if("string"===typeof e)return Ae(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ae(e,t):void 0}}function Ee(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function Te(e){if(Array.isArray(e))return Ae(e)}function Ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Se(Object(n),!0).forEach((function(t){Pe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Se(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Pe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Re=(ie={},Pe(ie,l["a"].SENT,"own"),Pe(ie,l["a"].RECEIVED,"partner"),ie);function Ne(e,t){var n,r=Object(he["i"])(t.meta);if(!(r in e.transfers))return e;var a=e.transfers[r];return a.secret||(e=xe(xe({},e),{},{transfers:xe(xe({},e.transfers),{},Pe({},r,xe(xe({},a),{},{secret:t.payload.secret})))})),s["transferSecretRegister"].success.is(t)&&t.payload.confirmed&&t.payload.txBlock!==(null===(n=a.secretRegistered)||void 0===n?void 0:n.txBlock)&&t.payload.txBlock<a.expiration&&(e=xe(xe({},e),{},{transfers:xe(xe({},e.transfers),{},Pe({},r,xe(xe({},a),{},{secretRegistered:Object(ye["p"])(de()(["txHash","txBlock"],t.payload))})))})),e}function Ce(e,t){var n,r,a,o=t.payload.message,i=t.meta.secrethash,c=Object(he["i"])(t.meta),u=o.token_network_address,l=t.payload.partner,f=Object(O["d"])({tokenNetwork:u,partner:l}),p=Re[t.meta.direction],d=e.channels[f],b=c in e.transfers,y=s["transferUnlock"].success.is(t)?"unlock":"expired";if(s["transferSigned"].is(t)&&b||!s["transferSigned"].is(t)&&(!b||y in e.transfers[c])||(null===(n=d)||void 0===n?void 0:n.state)!==m["b"].open||!o.nonce.eq(d[p].nextNonce))return e;switch(t.type){case s["transferSigned"].type:r=[].concat(we(d[p].locks),[t.payload.message.lock]),a=xe(xe({_id:c,channel:Object(O["e"])(d)},t.meta),{},{transfer:Object(ye["p"])(t.payload.message),fee:t.payload.fee,expiration:t.payload.message.lock.expiration.toNumber(),partner:l,cleared:0});break;case s["transferUnlock"].success.type:case s["transferExpire"].success.type:r=d[p].locks.filter((function(e){return e.secrethash!==i})),a=xe(Pe({},y,Object(ye["p"])(t.payload.message)),e.transfers[c]);break}return d=xe(xe({},d),{},Pe({},p,xe(xe({},d[p]),{},{locks:r,balanceProof:Object(be["e"])(o),nextNonce:d[p].nextNonce.add(1)}))),xe(xe({},e),{},{channels:xe(xe({},e.channels),{},Pe({},f,d)),transfers:xe(xe({},e.transfers),{},Pe({},c,a))})}var De=(ce={},Pe(ce,s["transferSecretRequest"].type,"secretRequest"),Pe(ce,s["transferSecretReveal"].type,"secretReveal"),Pe(ce,s["transferProcessed"].type,"transferProcessed"),Pe(ce,s["transferUnlockProcessed"].type,"unlockProcessed"),Pe(ce,s["transferExpireProcessed"].type,"expiredProcessed"),ce);function Ie(e,t){var n=Object(he["i"])(t.meta),r=De[t.type];return!(n in e.transfers)||!s["transferSecretRequest"].is(t)&&r in e.transfers[n]||(e=xe(xe({},e),{},{transfers:xe(xe({},e.transfers),{},Pe({},n,xe(xe({},e.transfers[n]),{},Pe({},r,Object(ye["p"])(t.payload.message)))))})),e}function Ue(e,t){var n=Object(he["i"])(t.meta);if(n in e.transfers){var r=e.transfers,a=(r[n],ve(r,[n].map(ge)));e=xe(xe({},e),{},{transfers:a})}return e}function Me(e,t){var n=Object(he["i"])(t.meta);return n in e.transfers||(e=xe(xe({},e),{},{transfers:xe(xe({},e.transfers),{},Pe({},n,xe(xe({},t.payload),{},{cleared:0})))})),e}function Le(e,t){if(!t.payload.confirmed)return e;for(var n=h["channelClose"].success.is(t)?"channelClosed":"channelSettled",r=Object(O["e"])(xe({id:t.payload.id},t.meta)),a=0,o=Object.values(e.transfers);a<o.length;a++){var i=o[a];i.channel===r&&(e=xe(xe({},e),{},{transfers:xe(xe({},e.transfers),{},Pe({},Object(he["i"])(i),xe(xe({},i),{},Pe({},n,Object(ye["p"])(de()(["txHash","txBlock"],t.payload))))))}))}return e}function Be(e,t){var n,r=t.payload.message,a=Object(O["d"])(t.meta),o=e.channels[a],i=t.meta.direction===l["a"].RECEIVED!==s["withdrawMessage"].success.is(t)?"partner":"own";if((null===(n=o)||void 0===n?void 0:n.state)!==m["b"].open||!r.nonce.eq(o[i].nextNonce))return e;o=xe(xe({},o),{},Pe({},i,xe(xe({},o[i]),{},{nextNonce:o[i].nextNonce.add(1)})));var c=t.meta.direction===l["a"].RECEIVED?"partner":"own",u=[].concat(we(o[c].pendingWithdraws),[t.payload.message]);return o=xe(xe({},o),{},Pe({},c,xe(xe({},o[c]),{},{pendingWithdraws:u}))),xe(xe({},e),{},{channels:xe(xe({},e.channels),{},Pe({},a,o))})}function Fe(e,t){var n,r=Object(O["d"])(t.meta),a=e.channels[r];if((null===(n=a)||void 0===n?void 0:n.state)!==m["b"].open)return e;var o=t.meta.direction===l["a"].RECEIVED?"partner":"own",i=a[o].pendingWithdraws.filter((function(e){return!e.expiration.eq(t.meta.expiration)||!e.total_withdraw.eq(t.meta.totalWithdraw)}));return a=xe(xe({},a),{},Pe({},o,xe(xe({},a[o]),{},{pendingWithdraws:i}))),xe(xe({},e),{},{channels:xe(xe({},e.channels),{},Pe({},r,a))})}var Ve=Object(f["d"])(u["b"]).handle([s["transferSecret"],s["transferSecretRegister"].success],Ne).handle([s["transferSigned"],s["transferUnlock"].success,s["transferExpire"].success],Ce).handle([s["transferProcessed"],s["transferUnlockProcessed"],s["transferExpireProcessed"],s["transferSecretRequest"],s["transferSecretReveal"]],Ie).handle(s["transferClear"],Ue).handle(s["transferLoad"],Me).handle([h["channelClose"].success,h["channelSettle"].success],Le).handle([s["withdrawMessage"].request,s["withdrawMessage"].success,s["withdrawExpire"].success],Be).handle(s["withdrawCompleted"],Fe),We=Ve,He=n("fe07"),$e=n.n(He),qe=n("d890"),Ke=Object(f["d"])(u["b"].transport).handle(qe["matrixSetup"],(function(e,t){return $e()(e,t.payload)||(e=t.payload),e})),Ge=y({transport:Ke},u["b"]),Ye=Ge;function Xe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xe(Object(n),!0).forEach((function(t){ze(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ze(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Je(e,t){return rt(e)||nt(e,t)||et(e,t)||Ze()}function Ze(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function et(e,t){if(e){if("string"===typeof e)return tt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?tt(e,t):void 0}}function tt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function nt(e,t){var n=e&&("undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0)if(o.push(r.value),t&&o.length===t)break}catch(u){c=!0,a=u}finally{try{i||null==n["return"]||n["return"]()}finally{if(c)throw a}}return o}}function rt(e){if(Array.isArray(e))return e}var at=Object(f["d"])(u["b"]).handle(o["d"],(function(e,t){for(var n=t.payload,r=e.config,o=0,i=Object.entries(n);o<i.length;o++){var c=Je(i[o],2),u=c[0],s=c[1];void 0!==s?r=Qe(Qe({},r),{},ze({},u,s)):u in r&&(r=a()(u,r))}return r===e.config?e:Qe(Qe({},e),{},{config:r})})).handle(o["f"],(function(e){return Qe({},e)})),ot={configReducer:at,channelsReducer:te,transportReducer:Ye,transfersReducer:We,servicesReducer:fe},it=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u["b"],t=arguments.length>1?arguments[1]:void 0;return Object.values(ot).reduce((function(e,n){return n(e,t)}),e)}},"6cb9":function(e,t,n){e.exports=n.p+"img/transfer_info.1d9dd924.svg"},"6fce":function(e,t,n){},7:function(e,t){},"727f":function(e,t,n){"use strict";n("38b1")},7419:function(e,t,n){},"74ae":function(e,t,n){"use strict";n("3b50")},"74e4":function(e,t,n){"use strict";n.d(t,"a",(function(){return le})),n.d(t,"d",(function(){return fe})),n.d(t,"f",(function(){return de})),n.d(t,"c",(function(){return ve})),n.d(t,"e",(function(){return ge})),n.d(t,"g",(function(){return Ee})),n.d(t,"b",(function(){return Ne}));var r,a=n("36d8"),o=n.n(a),i=n("1b87"),c=n.n(i),u=n("111d"),s=n.n(u),l=n("590d"),f=n("a914"),p=n("0255"),d=n("331d"),b=n("2023"),y=n("a92c"),h=n("a489"),m=n("ae8f"),v=n("258b"),O=n("4a9c"),g=n("231d"),j=n("2ac2"),w=n("459b"),_=n("8120"),k=n("ee6c"),E=n("ca14");function T(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(s){return void n(s)}c.done?t(u):Promise.resolve(u).then(r,a)}function A(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){T(o,r,a,i,c,"next",e)}function c(e){T(o,r,a,i,c,"throw",e)}i(void 0)}))}}function S(){return x.apply(this,arguments)}function x(){return x=A(o.a.mark((function e(){var t,a,i,c,u;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!r){e.next=2;break}return e.abrupt("return",r);case 2:if(null===(t=globalThis.location)||void 0===t||!t.href){e.next=11;break}return e.next=5,n.e("chunk-3eadbefa").then(n.bind(null,"65ab"));case 5:a=e.sent,i=a.default,l["a"].plugin(i),r="indexeddb",e.next=17;break;case 11:return e.next=13,n.e("chunk-1c957bf6").then(n.bind(null,"8b2c"));case 13:c=e.sent,u=c.default,l["a"].plugin(u),r="leveldb";case 17:return e.abrupt("return",r);case 18:case"end":return e.stop()}}),e)}))),x.apply(this,arguments)}function P(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(s){return void n(s)}c.done?t(u):Promise.resolve(u).then(r,a)}function R(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){P(o,r,a,i,c,"next",e)}function c(e){P(o,r,a,i,c,"throw",e)}i(void 0)}))}}var N={1:function(){var e=R(o.a.mark((function e(t){return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("state.address"!==t._id){e.next=2;break}return e.abrupt("return",[t,{_id:"state.services",value:{}}]);case 2:return e.abrupt("return",[t]);case 3:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},C=N,D=["_rev"];function I(e,t){if(null==e)return{};var n,r,a=U(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function U(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}function M(e,t){return F(e)||B(e,t)||W(e,t)||L()}function L(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function B(e,t){var n=e&&("undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0)if(o.push(r.value),t&&o.length===t)break}catch(u){c=!0,a=u}finally{try{i||null==n["return"]||n["return"]()}finally{if(c)throw a}}return o}}function F(e){if(Array.isArray(e))return e}function V(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=W(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function W(e,t){if(e){if("string"===typeof e)return H(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?H(e,t):void 0}}function H(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(Object(n),!0).forEach((function(t){K(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function K(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function G(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(s){return void n(s)}c.done?t(u):Promise.resolve(u).then(r,a)}function Y(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){G(o,r,a,i,c,"next",e)}function c(e){G(o,r,a,i,c,"throw",e)}i(void 0)}))}}function X(e){return function(){return new Q(e.apply(this,arguments))}}function Q(e){var t,n;function r(e,r){return new Promise((function(o,i){var c={key:e,arg:r,resolve:o,reject:i,next:null};n?n=n.next=c:(t=n=c,a(e,r))}))}function a(t,n){try{var r=e[t](n),i=r.value,c=i instanceof J;Promise.resolve(c?i.wrapped:i).then((function(e){c?a("return"===t?"return":"next",e):o(r.done?"return":"normal",e)}),(function(e){a("throw",e)}))}catch(u){o("throw",u)}}function o(e,r){switch(e){case"return":t.resolve({value:r,done:!0});break;case"throw":t.reject(r);break;default:t.resolve({value:r,done:!1});break}t=t.next,t?a(t.key,t.arg):n=null}this._invoke=r,"function"!==typeof e.return&&(this.return=void 0)}function z(e){return new J(e)}function J(e){this.wrapped=e}function Z(e){var t;if("undefined"!==typeof Symbol&&(Symbol.asyncIterator&&(t=e[Symbol.asyncIterator]),null==t&&Symbol.iterator&&(t=e[Symbol.iterator])),null==t&&(t=e["@@asyncIterator"]),null==t&&(t=e["@@iterator"]),null==t)throw new TypeError("Object is not async iterable");return t.call(e)}function ee(e,t){var n={},r=!1;function a(n,a){return r=!0,a=new Promise((function(t){t(e[n](a))})),{done:!1,value:t(a)}}return n["undefined"!==typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},n.next=function(e){return r?(r=!1,e):a("next",e)},"function"===typeof e.throw&&(n.throw=function(e){if(r)throw r=!1,e;return a("throw",e)}),"function"===typeof e.return&&(n.return=function(e){return r?(r=!1,e):a("return",e)}),n}Q.prototype["function"===typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},Q.prototype.next=function(e){return this._invoke("next",e)},Q.prototype.throw=function(e){return this._invoke("throw",e)},Q.prototype.return=function(e){return this._invoke("return",e)},l["a"].plugin(f["a"]);var te="state.",ne="channels.";function re(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e,r=e+"ï¿°";return t?{startkey:r,endkey:n,descending:t}:{startkey:n,endkey:r}}function ae(e){return oe.apply(this,arguments)}function oe(){return oe=Y(o.a.mark((function e(t){var n,r,a;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=new Set,e.next=3,t.allDocs({startkey:"a",endkey:"zï¿°"});case 3:return r=e.sent,r.rows.forEach((function(e){var t=e.id;return n.add(t)})),a=new p["a"](!1),e.abrupt("return",Object.assign(t,{storageKeys:n,busy$:a}));case 7:case"end":return e.stop()}}),e)}))),oe.apply(this,arguments)}function ie(e){return ce.apply(this,arguments)}function ce(){return ce=Y(o.a.mark((function e(t){var n,r;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=new this(t),e.next=3,n.info();case 3:if(r=e.sent,0!==r.doc_count||0!=r.update_seq){e.next=8;break}return e.next=7,n.destroy();case 7:return e.abrupt("return");case 8:return e.abrupt("return",ae(n));case 9:case"end":return e.stop()}}),e,this)}))),ce.apply(this,arguments)}function ue(e){return se.apply(this,arguments)}function se(){return se=Y(o.a.mark((function e(t){var n;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=new this(t),n.setMaxListeners(30),e.next=4,Promise.all([n.createIndex({index:{name:"byCleared",fields:["cleared","direction"]}}),n.createIndex({index:{name:"byPartner",fields:["direction","partner"]}}),n.createIndex({index:{name:"bySecrethash",fields:["secrethash"]}}),n.createIndex({index:{name:"byChannel",fields:["channel"]}})]);case 4:return e.abrupt("return",ae(n));case 5:case"end":return e.stop()}}),e,this)}))),se.apply(this,arguments)}function le(e,t){return Object(d["a"])((function(){var n=e.changes(t);return Object(b["a"])(Object(y["a"])(n,"change"),Object(y["a"])(n,"error").pipe(Object(v["a"])((function(e){return Object(h["a"])(e)})))).pipe(Object(O["a"])(0),Object(g["a"])(Object(y["a"])(n,"complete")),Object(j["a"])((function(){return n.cancel()})))}))}function fe(e){return pe.apply(this,arguments)}function pe(){return pe=Y(o.a.mark((function e(t){var n,r,a,i,c,u,s,l,f,p,d,b,y,h,m,v,O,g;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.constructor.__defaults.log,r={channels:{},oldChannels:{},transfers:{}},e.next=4,t.allDocs(q(q({},re(te)),{},{include_docs:!0}));case 4:a=e.sent,i=V(a.rows);try{for(i.s();!(c=i.n()).done;)u=c.value,s=u.id,l=u.doc,r[s.substr(te.length)]=l.value}catch(o){i.e(o)}finally{i.f()}return e.next=9,t.allDocs(q(q({},re(ne)),{},{include_docs:!0}));case 9:f=e.sent,p=V(f.rows);try{for(p.s();!(d=p.n()).done;)b=d.value,y=b.id,h=b.doc,"settleBlock"in h?r.oldChannels[y]=q(q({},h),{},{_id:y.substr(ne.length)}):r.channels[Object(_["d"])(h)]=q(q({},h),{},{_id:y.substr(ne.length)})}catch(o){p.e(o)}finally{p.f()}return e.next=14,t.find({selector:{cleared:0,direction:{$exists:!0}}});case 14:m=e.sent,m.warning&&(null===n||void 0===n||n.warn(m.warning,"getRaidenState")),v=V(m.docs);try{for(v.s();!(O=v.n()).done;)g=O.value,r.transfers[g._id]=g}catch(o){v.e(o)}finally{v.f()}if(!("address"in r)){e.next=20;break}return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),pe.apply(this,arguments)}function de(e,t){return be.apply(this,arguments)}function be(){return be=Y(o.a.mark((function e(t,n){var r,a,i,c,u,s,l,f,p,d,b,y;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(r=[],a=0,i=Object.entries(n);a<i.length;a++)if(c=M(i[a],2),u=c[0],s=c[1],"channels"===u||"oldChannels"===u)for(l=0,f=Object.values(s);l<f.length;l++)p=f[l],r.push(q(q({},p),{},{_id:ne+p._id}));else if("transfers"===u)for(d=0,b=Object.values(s);d<b.length;d++)y=b[d],r.push(y);else r.push({_id:te+u,value:s});return e.next=4,t.bulkDocs(r);case 4:case"end":return e.stop()}}),e)}))),be.apply(this,arguments)}function ye(e){return Object.keys(e).map((function(e){return+e})).sort()}function he(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C;return null!==(e=Object(E["o"])(ye(t)))&&void 0!==e?e:0}function me(e){return+e.name.match(/_(\d+)$/)[1]}function ve(){return Oe.apply(this,arguments)}function Oe(){return Oe=Y(o.a.mark((function e(){var t,n=arguments;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=n.length>0&&void 0!==n[0]?n[0]:{log:s.a},t.log||(t.log=s.a),t.adapter){e.next=6;break}return e.next=5,S();case 5:t.adapter=e.sent;case 6:return e.abrupt("return",l["a"].defaults(t));case 7:case"end":return e.stop()}}),e)}))),Oe.apply(this,arguments)}function ge(e){return je.apply(this,arguments)}function je(){return je=Y(o.a.mark((function e(t){var n,r,a,i,c,u,s,l,f,p,b,y,h,O=this,g=arguments;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=g.length>1&&void 0!==g[1]?g[1]:C,r=g.length>2&&void 0!==g[2]&&g[2],a=this.__defaults.log,i=ye(n),c=0,s=i.length-1;case 6:if(!(s>=0)){e.next=18;break}return l=i[s],e.next=10,ie.call(this,"".concat(t,"_").concat(l));case 10:if(f=e.sent,!f){e.next=15;break}return c=l,u=f,e.abrupt("break",18);case 15:--s,e.next=6;break;case 18:if(u){e.next=22;break}return e.next=21,ie.call(this,"".concat(t,"_").concat(c));case 21:u=e.sent;case 22:if(u){e.next=27;break}return c=he(n),e.next=26,ue.call(this,"".concat(t,"_").concat(c));case 26:u=e.sent;case 27:p=V(i),e.prev=28,y=o.a.mark((function e(){var i,s,l;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(i=b.value,!(i<=c)){e.next=3;break}return e.abrupt("return","continue");case 3:return e.next=5,ue.call(O,"".concat(t,"_").concat(i));case 5:return s=e.sent,e.prev=6,l=/^[a-z]/i,e.next=10,le(u,{since:0,include_docs:!0,filter:function(e){var t=e._id;return l.test(t)}}).pipe(Object(w["a"])((function(e){return Object(d["a"])((function(){return n[i](e.doc,u)})).pipe(Object(v["a"])((function(e){return Object(m["a"])(e)})),Object(w["a"])(function(){var e=Y(o.a.mark((function e(t){var n;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t._rev,n=I(t,D),e.abrupt("return",s.put(n));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))}))).toPromise();case 10:e.next=17;break;case 12:throw e.prev=12,e.t0=e["catch"](6),null===a||void 0===a||a.error("Error migrating db",{from:c,to:i},e.t0),s.destroy(),e.t0;case 17:if(null===a||void 0===a||a.info("Migrated db",{name:t,from:c,to:i}),!r){e.next=23;break}return e.next=21,u.destroy();case 21:e.next=25;break;case 23:return e.next=25,u.close();case 25:c=i,u=s;case 27:case"end":return e.stop()}}),e,null,[[6,12]])})),p.s();case 31:if((b=p.n()).done){e.next=38;break}return e.delegateYield(y(),"t0",33);case 33:if(h=e.t0,"continue"!==h){e.next=36;break}return e.abrupt("continue",36);case 36:e.next=31;break;case 38:e.next=43;break;case 40:e.prev=40,e.t1=e["catch"](28),p.e(e.t1);case 43:return e.prev=43,p.f(),e.finish(43);case 46:return Object(k["d"])(me(u)===he(n),"Not latest version"),e.abrupt("return",u);case 48:case"end":return e.stop()}}),e,this,[[28,40,43,46]])}))),je.apply(this,arguments)}function we(e){return _e.apply(this,arguments)}function _e(){return _e=Y(o.a.mark((function e(t){return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.t0=me(t),e.next=3,t.get(te+"chainId");case 3:return e.t1=e.sent.value,e.next=6,t.get(te+"registry");case 6:return e.t2=e.sent.value,e.next=9,t.get(te+"address");case 9:return e.t3=e.sent.value,e.next=12,t.get(te+"blockNumber");case 12:return e.t4=e.sent.value,e.abrupt("return",{_id:"_meta",version:e.t0,network:e.t1,registry:e.t2,address:e.t3,blockNumber:e.t4});case 14:case"end":return e.stop()}}),e)}))),_e.apply(this,arguments)}function ke(e){return"function"===typeof e[Symbol.asyncIterator]}function Ee(e,t){return Te.apply(this,arguments)}function Te(){return Te=Y(o.a.mark((function e(t,n){var r,a,i,c,u,s,l,f,p,d,b,y,h,m,v,O,g=arguments;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=g.length>2&&void 0!==g[2]?g[2]:C,a=g.length>3&&void 0!==g[3]&&g[3],i=this.__defaults.log,c=ke(t)?t[Symbol.asyncIterator]():t[Symbol.iterator](),e.next=6,c.next();case 6:u=e.sent,Object(k["d"])(!u.done&&"_meta"===u.value._id,'first yielded value must be "_meta"'),s=u.value,l=he(r);case 10:if(!(l>=s.version)){e.next=28;break}return f="".concat(n,"_").concat(l),e.next=14,ie.call(this,f);case 14:if(p=e.sent,p){e.next=17;break}return e.abrupt("continue",25);case 17:return e.next=19,we(p);case 19:return d=e.sent,Object(k["d"])(s.version>=l&&s.blockNumber>=d.blockNumber,k["b"].RDN_STATE_MIGRATION),Object(k["d"])(s.address===d.address,[k["b"].RDN_STATE_ADDRESS_MISMATCH,{expected:d.address,received:s.address}],null===i||void 0===i?void 0:i.error),Object(k["d"])(s.registry===d.registry&&s.network===d.network,[k["b"].RDN_STATE_NETWORK_MISMATCH,{expectedRegistry:d.registry,receivedRegistry:s.registry,expectedNetwork:d.network,receivedNetwork:s.network}],null===i||void 0===i?void 0:i.error),e.next=25,p.destroy();case 25:--l,e.next=10;break;case 28:return b="".concat(n,"_").concat(s.version),e.next=31,ue.call(this,b);case 31:return y=e.sent,e.next=34,c.next();case 34:h=e.sent;case 35:if(h.done){e.next=45;break}return m=h.value,"_rev"in m&&delete m["_rev"],e.next=40,Promise.all([c.next(),y.put(m)]);case 40:v=e.sent,O=M(v,1),h=O[0],e.next=35;break;case 45:return null===i||void 0===i||i.warn("Replaced/loaded database",{name:n,meta:s}),e.next=48,y.close();case 48:return e.next=50,ge.call(this,n,r,a);case 50:return e.abrupt("return",e.sent);case 51:case"end":return e.stop()}}),e,this)}))),Te.apply(this,arguments)}function Ae(e){return e?e.slice(0,-1)+String.fromCharCode(e.slice(-1).charCodeAt(0)+1):""}function Se(e){return xe.apply(this,arguments)}function xe(){return xe=X(o.a.mark((function e(t){var n,r,a,i,u,s,l,f,p=arguments;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=p.length>1&&void 0!==p[1]?p[1]:{},r=n.batch,a=void 0===r?10:r,u=t.changes({since:"now",live:!0}),u.on("change",(function(e){var t=e.id;return i=t})),e.prev=3,e.next=6,we(t);case 6:s="a";case 7:return e.next=10,z(t.allDocs({startkey:s,endkey:"ï¿°",limit:a,include_docs:!0}));case 10:return l=e.sent,e.delegateYield(ee(Z(l.rows.map((function(e){var t=e.doc;return c()(["_rev"],t)}))),z),"t0",12);case 12:if(Object(k["d"])(!i,["Database changed while dumping",{key:i}]),f=Object(E["o"])(l.rows),!f){e.next=18;break}s=Ae(f.id),e.next=19;break;case 18:return e.abrupt("break",21);case 19:e.next=7;break;case 21:return e.prev=21,u.cancel(),e.finish(21);case 24:case"end":return e.stop()}}),e,null,[[3,,21,24]])}))),xe.apply(this,arguments)}function Pe(e){return Re.apply(this,arguments)}function Re(){return Re=Y(o.a.mark((function e(t){return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",ue.call(t.constructor,t.name));case 1:case"end":return e.stop()}}),e)}))),Re.apply(this,arguments)}function Ne(e,t){return Ce.apply(this,arguments)}function Ce(){return Ce=Y(o.a.mark((function e(t,n){var r,a,i,c,u,s,l,f,p,d,b,y;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:r=t.constructor.__defaults.log,a=!1,i=10;case 3:if(!(i>0)){e.next=56;break}e.prev=4,c=[],u=!0,s=!1,e.prev=8,f=Z(Se(t,n));case 10:return e.next=12,f.next();case 12:return p=e.sent,u=p.done,e.next=16,p.value;case 16:if(d=e.sent,u){e.next=23;break}b=d,c.push(b);case 20:u=!0,e.next=10;break;case 23:e.next=29;break;case 25:e.prev=25,e.t0=e["catch"](8),s=!0,l=e.t0;case 29:if(e.prev=29,e.prev=30,u||null==f.return){e.next=34;break}return e.next=34,f.return();case 34:if(e.prev=34,!s){e.next=37;break}throw l;case 37:return e.finish(34);case 38:return e.finish(29);case 39:if(!a){e.next=42;break}return e.next=42,t.close();case 42:return e.abrupt("return",c);case 45:if(e.prev=45,e.t1=e["catch"](4),null===e.t1||void 0===e.t1||null===(y=e.t1.message)||void 0===y||!y.includes("database is closed")){e.next=52;break}return a=!0,e.next=51,Pe(t);case 51:t=e.sent;case 52:null===r||void 0===r||r.warn("Restarting dump because",e.t1);case 53:--i,e.next=3;break;case 56:throw new Error("Could not dump database");case 57:case"end":return e.stop()}}),e,null,[[4,45],[8,25,29,39],[30,,34,38]])}))),Ce.apply(this,arguments)}},"750b":function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-btn",{staticClass:"text-capitalize action-button",class:{"action-button--sticky":e.sticky,"action-button--full-width":e.fullWidth,"action-button--angular":e.angular},style:{width:e.width,height:e.height},attrs:{type:"submit",disabled:!e.enabled,loading:e.loading,"data-cy":"action_button",depressed:"",large:""},on:{click:function(t){return e.click()}},scopedSlots:e._u([e.loadingText?{key:"loader",fn:function(){return[n("div",{staticClass:"action-button__loading"},[n("span",[e._v(e._s(e.loadingText))]),n("v-progress-linear",{staticClass:"action-button__loading__indicator",attrs:{indeterminate:"",rounded:""}})],1)]},proxy:!0}:null],null,!0)},[e._v(" "+e._s(e.text)+" "),e.arrow?n("v-icon",{attrs:{right:""}},[e._v("keyboard_arrow_right")]):e._e()],1)},a=[],o=n("6dbe"),i=n("5cf9");function c(e){return c="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}function f(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}function d(e){var t=h();return function(){var n,r=m(e);if(t){var a=m(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return b(this,n)}}function b(e,t){return!t||"object"!==c(t)&&"function"!==typeof t?y(e):t}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}var v=function(e){f(n,e);var t=d(n);function n(){return u(this,n),t.apply(this,arguments)}return l(n,[{key:"click",value:function(){return!0}}]),n}(i["g"]);Object(o["__decorate"])([Object(i["e"])({required:!0,type:Boolean})],v.prototype,"enabled",void 0),Object(o["__decorate"])([Object(i["e"])({required:!0})],v.prototype,"text",void 0),Object(o["__decorate"])([Object(i["e"])({type:Boolean,default:!1})],v.prototype,"loading",void 0),Object(o["__decorate"])([Object(i["e"])({type:String})],v.prototype,"loadingText",void 0),Object(o["__decorate"])([Object(i["e"])({type:Boolean,default:!1})],v.prototype,"sticky",void 0),Object(o["__decorate"])([Object(i["e"])({type:Boolean,default:!1})],v.prototype,"arrow",void 0),Object(o["__decorate"])([Object(i["e"])({type:String,default:"250px"})],v.prototype,"width",void 0),Object(o["__decorate"])([Object(i["e"])({type:Boolean,default:!1})],v.prototype,"fullWidth",void 0),Object(o["__decorate"])([Object(i["e"])({type:String,default:"40px"})],v.prototype,"height",void 0),Object(o["__decorate"])([Object(i["e"])({type:Boolean,default:!1})],v.prototype,"angular",void 0),Object(o["__decorate"])([Object(i["b"])()],v.prototype,"click",null),v=Object(o["__decorate"])([Object(i["a"])({})],v);var O=v,g=O,j=(n("74ae"),n("a6c2")),w=n("411c"),_=n.n(w),k=n("9c46"),E=n("b503"),T=n("452d"),A=Object(j["a"])(g,r,a,!1,null,"616272c7",null);t["a"]=A.exports;_()(A,{VBtn:k["a"],VIcon:E["a"],VProgressLinear:T["a"]})},"77fd":function(e,t,n){"use strict";var r=n("6dbe"),a=n("5cf9");function o(e){return o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),e}function s(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}function f(e){var t=b();return function(){var n,r=y(e);if(t){var a=y(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return p(this,n)}}function p(e,t){return!t||"object"!==o(t)&&"function"!==typeof t?d(e):t}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}var h=function(e){s(n,e);var t=f(n);function n(){return i(this,n),t.apply(this,arguments)}return u(n,[{key:"$blockie",value:function(e){return e?this.$identicon.getIdenticon(e):this.$identicon.getIdenticon("0x000")}}]),n}(a["g"]);h=Object(r["__decorate"])([a["a"]],h),t["a"]=h},"7de2":function(e,t,n){"use strict";n.d(t,"a",(function(){return T})),n.d(t,"b",(function(){return x})),n.d(t,"f",(function(){return C})),n.d(t,"e",(function(){return D})),n.d(t,"d",(function(){return I})),n.d(t,"c",(function(){return U})),n.d(t,"h",(function(){return M})),n.d(t,"g",(function(){return B}));var r,a=n("36d8"),o=n.n(a),i=n("b97c"),c=n("905c9"),u=n("6da0"),s=n("f211"),l=n("699d"),f=n("8379"),p=n("111d"),d=n.n(p),b=n("2b5b"),y=n("f2df"),h=n("46f7"),m=n("ca14"),v=n("8173"),O=n("5778");function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function w(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(s){return void n(s)}c.done?t(u):Promise.resolve(u).then(r,a)}function _(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){w(o,r,a,i,c,"next",e)}function c(e){w(o,r,a,i,c,"throw",e)}i(void 0)}))}}function k(e){return k="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k(e)}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var T,A=(r={},E(r,O["d"].DELIVERED,12),E(r,O["d"].PROCESSED,0),E(r,O["d"].SECRET_REQUEST,3),E(r,O["d"].SECRET_REVEAL,11),E(r,O["d"].LOCKED_TRANSFER,7),E(r,O["d"].UNLOCK,4),E(r,O["d"].LOCK_EXPIRED,13),E(r,O["d"].WITHDRAW_REQUEST,15),E(r,O["d"].WITHDRAW_CONFIRMATION,16),E(r,O["d"].WITHDRAW_EXPIRED,17),E(r,O["d"].PFS_CAPACITY_UPDATE,-1),E(r,O["d"].PFS_FEE_UPDATE,-1),E(r,O["d"].MONITOR_REQUEST,-1),r);function S(e){var t=e.routes.map((function(e){return Object(u["a"])(Object(s["encode"])(e.route))}));return Object(u["a"])(Object(s["encode"])(t))}function x(e){var t=e.transferredAmount,n=e.lockedAmount,r=e.locksroot,a=c["a"];return t.isZero()&&n.isZero()&&(r===c["a"]||r===b["d"])||(a=Object(u["a"])(Object(i["b"])([Object(h["a"])(t,32),Object(h["a"])(n,32),Object(h["a"])(r,32)]))),a}function P(e){var t;switch(e.type){case O["d"].LOCKED_TRANSFER:t=Object(u["a"])(Object(i["b"])([Object(h["a"])(A[e.type],1),Object(h["a"])(e.message_identifier,8),Object(h["a"])(e.payment_identifier,8),Object(h["a"])(e.lock.expiration,32),Object(h["a"])(e.token,20),Object(h["a"])(e.recipient,20),Object(h["a"])(e.target,20),Object(h["a"])(e.initiator,20),Object(h["a"])(e.lock.secrethash,32),Object(h["a"])(e.lock.amount,32),S(e.metadata)]));break;case O["d"].UNLOCK:t=Object(u["a"])(Object(i["b"])([Object(h["a"])(A[e.type],1),Object(h["a"])(e.message_identifier,8),Object(h["a"])(e.payment_identifier,8),Object(h["a"])(e.secret,32)]));break;case O["d"].LOCK_EXPIRED:t=Object(u["a"])(Object(i["b"])([Object(h["a"])(A[e.type],1),Object(h["a"])(e.message_identifier,8),Object(h["a"])(e.recipient,20),Object(h["a"])(e.secrethash,32)]));break}return t}function R(e){switch(e.type){case O["d"].DELIVERED:return Object(i["i"])(Object(i["b"])([Object(h["a"])(A[e.type],1),Object(h["a"])(0,3),Object(h["a"])(e.delivered_message_identifier,8)]));case O["d"].PROCESSED:return Object(i["i"])(Object(i["b"])([Object(h["a"])(A[e.type],1),Object(h["a"])(0,3),Object(h["a"])(e.message_identifier,8)]));case O["d"].LOCKED_TRANSFER:case O["d"].UNLOCK:case O["d"].LOCK_EXPIRED:var t=P(e),n=x({transferredAmount:e.transferred_amount,lockedAmount:e.locked_amount,locksroot:e.locksroot});return Object(i["i"])(Object(i["b"])([Object(h["a"])(e.token_network_address,20),Object(h["a"])(e.chain_id,32),Object(h["a"])(T.BALANCE_PROOF,32),Object(h["a"])(e.channel_identifier,32),Object(h["a"])(n,32),Object(h["a"])(e.nonce,32),Object(h["a"])(t,32)]));case O["d"].SECRET_REQUEST:return Object(i["i"])(Object(i["b"])([Object(h["a"])(A[e.type],1),Object(h["a"])(0,3),Object(h["a"])(e.message_identifier,8),Object(h["a"])(e.payment_identifier,8),Object(h["a"])(e.secrethash,32),Object(h["a"])(e.amount,32),Object(h["a"])(e.expiration,32)]));case O["d"].SECRET_REVEAL:return Object(i["i"])(Object(i["b"])([Object(h["a"])(A[e.type],1),Object(h["a"])(0,3),Object(h["a"])(e.message_identifier,8),Object(h["a"])(e.secret,32)]));case O["d"].WITHDRAW_REQUEST:case O["d"].WITHDRAW_CONFIRMATION:return Object(i["i"])(Object(i["b"])([Object(h["a"])(e.token_network_address,20),Object(h["a"])(e.chain_id,32),Object(h["a"])(T.WITHDRAW,32),Object(h["a"])(e.channel_identifier,32),Object(h["a"])(e.participant,20),Object(h["a"])(e.total_withdraw,32),Object(h["a"])(e.expiration,32)]));case O["d"].WITHDRAW_EXPIRED:return Object(i["i"])(Object(i["b"])([Object(h["a"])(A[e.type],1),Object(h["a"])(0,3),Object(h["a"])(e.nonce,32),Object(h["a"])(e.message_identifier,8),Object(h["a"])(e.token_network_address,20),Object(h["a"])(e.chain_id,32),Object(h["a"])(T.WITHDRAW,32),Object(h["a"])(e.channel_identifier,32),Object(h["a"])(e.participant,20),Object(h["a"])(e.total_withdraw,32),Object(h["a"])(e.expiration,32)]));case O["d"].PFS_CAPACITY_UPDATE:return Object(i["i"])(Object(i["b"])([Object(h["a"])(e.canonical_identifier.chain_identifier,32),Object(h["a"])(e.canonical_identifier.token_network_address,20),Object(h["a"])(e.canonical_identifier.channel_identifier,32),Object(h["a"])(e.updating_participant,20),Object(h["a"])(e.other_participant,20),Object(h["a"])(e.updating_nonce,8),Object(h["a"])(e.other_nonce,8),Object(h["a"])(e.updating_capacity,32),Object(h["a"])(e.other_capacity,32),Object(h["a"])(e.reveal_timeout,32)]));case O["d"].PFS_FEE_UPDATE:return Object(i["i"])(Object(i["b"])([Object(h["a"])(e.canonical_identifier.chain_identifier,32),Object(h["a"])(e.canonical_identifier.token_network_address,20),Object(h["a"])(e.canonical_identifier.channel_identifier,32),Object(h["a"])(e.updating_participant,20),Object(h["a"])(e.fee_schedule.cap_fees,1),Object(h["a"])(e.fee_schedule.flat,32),Object(h["a"])(e.fee_schedule.proportional,32),Object(s["encode"])(e.fee_schedule.imbalance_penalty?e.fee_schedule.imbalance_penalty.map((function(e){return e.map((function(e){return e.isZero()?"0x":e.toHexString()}))})):"0x"),Object(l["f"])(e.timestamp)]));case O["d"].MONITOR_REQUEST:return Object(i["i"])(Object(i["b"])([Object(h["a"])(e.monitoring_service_contract_address,20),Object(h["a"])(e.balance_proof.chain_id,32),Object(h["a"])(T.MS_REWARD,32),Object(h["a"])(e.balance_proof.token_network_address,20),Object(h["a"])(e.non_closing_participant,20),Object(h["a"])(e.non_closing_signature,65),Object(h["a"])(e.reward_amount,32)]))}}function N(e){return m["g"].is(e.signature)}function C(e){return Object(f["b"])(Object(i["a"])(R(e)),e.signature)}function D(e){return{chainId:e.chain_id,tokenNetworkAddress:e.token_network_address,channelId:e.channel_identifier,nonce:e.nonce,transferredAmount:e.transferred_amount,lockedAmount:e.locked_amount,locksroot:e.locksroot,additionalHash:P(e),signature:e.signature}}function I(e){return"signature"in e?Object(h["c"])(Object(m["h"])(O["c"]).encode(e)):Object(h["c"])(O["c"].encode(e))}function U(e){var t=Object(h["b"])(e);return Object(y["a"])(t&&"object"===k(t)&&"type"in t&&Object.values(O["d"]).some((function(e){return e===t["type"]})),"Invalid message type: ".concat(null===t||void 0===t?void 0:t["type"])),"signature"in t?Object(m["l"])(Object(m["h"])(O["c"]),t):Object(m["l"])(O["c"],t)}function M(e,t){return L.apply(this,arguments)}function L(){return L=_(o.a.mark((function e(t,n){var r,a,c,u=arguments;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=u.length>2&&void 0!==u[2]?u[2]:{log:d.a},a=r.log,!N(n)){e.next=3;break}return e.abrupt("return",n);case 3:return a.debug('Signing message "'.concat(n.type,'"'),n),e.next=6,t.signMessage(Object(i["a"])(R(n)));case 6:return c=e.sent,e.abrupt("return",j(j({},n),{},{signature:c}));case 8:case"end":return e.stop()}}),e)}))),L.apply(this,arguments)}function B(e){return function(t){return v["messageReceived"].is(t)&&(Array.isArray(e)?e.some((function(e){return e.is(t.payload.message)})):e.is(t.payload.message))}}(function(e){e[e["BALANCE_PROOF"]=1]="BALANCE_PROOF",e[e["BALANCE_PROOF_UPDATE"]=2]="BALANCE_PROOF_UPDATE",e[e["WITHDRAW"]=3]="WITHDRAW",e[e["COOP_SETTLE"]=4]="COOP_SETTLE",e[e["IOU"]=5]="IOU",e[e["MS_REWARD"]=6]="MS_REWARD"})(T||(T={}))},8:function(e,t){},8089:function(e,t,n){"use strict";n.d(t,"e",(function(){return rt})),n.d(t,"f",(function(){return it})),n.d(t,"i",(function(){return ct})),n.d(t,"m",(function(){return ut})),n.d(t,"b",(function(){return st})),n.d(t,"d",(function(){return lt})),n.d(t,"a",(function(){return ft})),n.d(t,"o",(function(){return dt})),n.d(t,"c",(function(){return yt})),n.d(t,"h",(function(){return mt})),n.d(t,"k",(function(){return Ot})),n.d(t,"l",(function(){return gt})),n.d(t,"g",(function(){return wt})),n.d(t,"p",(function(){return kt})),n.d(t,"n",(function(){return St})),n.d(t,"j",(function(){return xt}));var r=n("36d8"),a=n.n(r),o=n("4fe5"),i=n("87b8"),c=n("2b89"),u=n("09d5"),s=n("699d"),l=n("8379"),f=n("7ff5"),p=n.n(f),d=n("fe07"),b=n.n(d),y=n("427e"),h=n.n(y),m=n("111d"),v=n.n(m),O=n("2023"),g=n("331d"),j=n("3912"),w=n("516a"),_=n("4a9c"),k=n("cefa"),E=n("7f4a"),T=n("dd00"),A=n("58be"),S=n("0eb1"),x=n("dd5b"),P=n("daae"),R=n("18df"),N=n("258b"),C=n("f5be"),D=n("f799"),I=n("b8ff"),U=n("8120"),M=n("5bbb"),L=n("2b5b"),B=n("de7d"),F=n("74e4"),V=n("3501"),W=n("ee79"),H=n("31a7"),$=n("a0df"),q=n("4c29"),K=n("1f0b"),G=n("0ff6"),Y=n("b4cc"),X=n("8173"),Q=n("d011"),z=n("65e1"),J=n("c00b"),Z=n("30c0"),ee=n("79b8"),te=n("2111"),ne=n("f2df"),re=n("ca14");function ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ae(Object(n),!0).forEach((function(t){ie(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ae(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ie(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ce(e){return le(e)||se(e)||de(e)||ue()}function ue(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function se(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function le(e){if(Array.isArray(e))return be(e)}function fe(e,t){return he(e)||ye(e,t)||de(e,t)||pe()}function pe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function de(e,t){if(e){if("string"===typeof e)return be(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?be(e,t):void 0}}function be(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ye(e,t){var n=e&&("undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0)if(o.push(r.value),t&&o.length===t)break}catch(u){c=!0,a=u}finally{try{i||null==n["return"]||n["return"]()}finally{if(c)throw a}}return o}}function he(e){if(Array.isArray(e))return e}var me=ee["Decimal"].clone({precision:40,rounding:ee["Decimal"].ROUND_HALF_EVEN}),ve=new me(0),Oe=new me(1);function ge(e){var t=parseInt(e);return Object(ne["a"])(void 0!==t&&t==e),t}function je(e,t){var n=fe(t,2),r=n[0],a=n[1];return Object(ne["a"])(e.gt(0),"no output channel capacity available"),function(t){var n=new me(t.toHexString()),o=r(n),i=function(e){return o.add(a(e.neg())).sub(n).add(e)},c=ve,u=i(c);Object(ne["a"])(u.lt(0),"input transfer not enough to pay minimum fees");var s=e,l=i(s);Object(ne["a"])(l.gte(0),"output capacity not enough to mediate transfer");while(1){var f=s.add(c).div(2),p=i(f),d=p.sub(u).div(f.sub(c)),b=l.sub(p).div(s.sub(f));if(b.sub(d).abs().lt(1e-6))break;u.isNegative()!==p.isNegative()?(s=f,l=p):(c=f,u=p)}var y=c.sub(u.mul(s.sub(c)).div(l.sub(u)));return Object(re["l"])(Object(re["d"])(32),n.sub(y).toFixed(0,me.ROUND_HALF_EVEN))}}var we={name:"flat",emptySchedule:{flat:i["h"]},decodeConfig:function(e,t){return Object(re["l"])(Object(re["d"])(32),null!==e&&void 0!==e?e:t).div(2)},channelFee:function(e){var t=new me(e.toHexString());return function(){return t}},fee:function(e){var t=Object(re["l"])(Object(re["d"])(32),e.mul(2));return function(){return t}},schedule:function(e){return{flat:e}}},_e={name:"proportional",emptySchedule:{proportional:i["h"]},decodeConfig:function(e,t){var n=new me(ge(null!==e&&void 0!==e?e:t)).div(1e6),r=n.div(n.add(2)).mul(1e6);return r.toDecimalPlaces(0,me.ROUND_HALF_EVEN).toNumber()},channelFee:function(e){var t=new me(e).div(1e6);return function(e){return e.mul(t).abs()}},fee:function(e){var t=new me(e).div(1e6);return function(e){var n=new me(e.toHexString()),r=n.mul(Oe.sub(t).div(Oe.add(t))),a=n.sub(r);return Object(re["l"])(Object(re["d"])(32),a.toFixed(0,me.ROUND_HALF_EVEN))}},schedule:function(e){return{proportional:J["a"].from(e)}}};function ke(e,t,n){var r=t.sub(e);Object(ne["a"])(n>=2&&r.gte(n-1),"invalid linspace params");for(var a=n-1,o=new me(r.toString()).div(a),i=[e],c=1;c<a;c++)i.push(e.add(o.mul(c).toFixed(0,me.ROUND_HALF_EVEN)));return[].concat(i,[t])}function Ee(e,t){Object(ne["a"])(t.length>=2,"invalid linspace");var n=t[0][0],r=t[t.length-1][0];if(e.eq(r.toHexString()))return t.length-2;var a=new me(r.sub(n).toHexString()),o=a.div(t.length-1),i=Math.floor(e.sub(n.toHexString()).div(o).toNumber()),c=0;do{if(i<0)return-1;if(i>=t.length-1)return t.length-1;c=e.gte(t[i+1][0].toHexString())?-1:e.lt(t[i][0].toHexString())?1:0,i+=c}while(c);return i}function Te(e,t,n){var r=fe(t,2),a=r[0],o=r[1],i=fe(n,2),c=i[0],u=i[1];return e.sub(a.toHexString()).mul(u.sub(o).toHexString()).div(c.sub(a).toHexString()).add(o.toHexString())}function Ae(e,t){var n=Ee(e,t);return n<0?n=0:n>=t.length-1&&(n=t.length-2),Te(e,t[n],t[n+1])}function Se(e,t){var n=21,r=new me("0.1");Object(ne["a"])(e.gt(0),"not enough capacity");var a=new me(e.toHexString()),o=me.min(n,a.add(1)).toNumber(),c=ke(i["h"],e,o);if(0===t)return[[i["h"],i["h"]],[e,i["h"]]];var u=new me(t).div(1e6);Object(ne["a"])(u.lte(r.div(2)),"Too high imbalance fee");var s=a.mul(u),l=r,f=s,p=a.div(2),d=me.min(10,l.mul(p).div(f)),b=function(e){return J["a"].from(new me(e.toHexString()).sub(p).abs().pow(d).mul(f).div(p.pow(d)).toFixed(0,me.ROUND_HALF_EVEN))};return c.map((function(e){return[e,b(e)]}))}var xe={name:"imbalance",emptySchedule:{imbalance_penalty:null},decodeConfig:function(e,t){var n=ge(null!==e&&void 0!==e?e:t);return Object(ne["a"])(n>=0&&n<=5e4,"Too high imbalance fee"),n},channelFee:function(e,t){var n=Object(U["c"])(t),r=n.totalCapacity,a=n.ownCapacity;if(!e||!r.gt(0))return function(){return ve};var o=Se(r,e),i=Ae(new me(a.toHexString()),o);return function(e){return Ae(e.add(a.toHexString()),o).sub(i)}},fee:function(e,t,n){var r=this.channelFee(e,t),a=this.channelFee(e,n),o=new me(Object(U["c"])(n).ownCapacity.toHexString());return je(o,[r,a])},schedule:function(e,t){var n=Object(U["c"])(t),r=n.totalCapacity;if(!e||!r.gt(0))return{imbalance_penalty:null};var a=Se(r,e);return{imbalance_penalty:a}}};function Pe(e){var t=Object.assign.apply(Object,[{cap_fees:!0}].concat(ce(Object.values(e).map((function(e){return e.emptySchedule}))))),n=te["x"]([te["w"],te["r"](te["s"],te["r"](te["s"],te["y"]))]),r={name:"standard",emptySchedule:t,decodeConfig:function(t,r){for(var a=oe(oe({},Object(re["l"])(n,t)),Object(re["l"])(n,r)),o=0,i=Object.entries(a);o<i.length;o++){for(var c,u=fe(i[o],2),s=u[0],l=u[1],f=Object(re["l"])(re["a"],s),p={cap:null===(c=l.cap)||void 0===c||c},d=0,b=Object.entries(e);d<b.length;d++){var y=fe(b[d],2),h=y[0],m=y[1],v=h;v in l&&(p[v]=m.decodeConfig(l[h]))}a[f]=p}return a},channelFee:function(t,n){var r,a=n.token,o=null!==(r=t[a])&&void 0!==r?r:t[Z["a"]],i=Object.entries(e).map((function(e){var t=fe(e,2),r=t[0],a=t[1],i=null===o||void 0===o?void 0:o[r];if(i)return a.channelFee(i,n)})).filter(re["n"]);return function(e){return i.reduce((function(t,n){return t.add(n(e))}),ve)}},fee:function(e,n,r){var a,o,c,u=this.channelFee(e,n),s=this.channelFee(e,r),l=new me(Object(U["c"])(r).ownCapacity.toHexString()),f=null!==(a=null===(o=null!==(c=e[n.token])&&void 0!==c?c:e[Z["a"]])||void 0===o?void 0:o.cap)&&void 0!==a?a:t.cap_fees,p=je(l,[u,s]);return function(e){var t=p(e);return f&&t.lt(0)&&(t=i["h"]),t}},schedule:function(n,r){var a,o=r.token,i=null!==(a=n[o])&&void 0!==a?a:n[Z["a"]];return Object.assign.apply(Object,[{},t,void 0!==(null===i||void 0===i?void 0:i.cap)?{cap_fees:i.cap}:void 0].concat(ce(Object.entries(e).map((function(e){var t=fe(e,2),n=t[0],a=t[1],o=n,c=null===i||void 0===i?void 0:i[o];return c?a.schedule(c,r):{}})))))}};return r}var Re=Pe({flat:we,proportional:_e,imbalance:xe}),Ne=n("1a78"),Ce=n("59ec"),De=n("d276"),Ie=n("46f7"),Ue=n("ee6c"),Me=n("1b23"),Le=n("325b"),Be=["state"];function Fe(e,t){if(null==e)return{};var n,r,a=Ve(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Ve(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}function We(e){return qe(e)||$e(e)||Ye(e)||He()}function He(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function $e(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function qe(e){if(Array.isArray(e))return Xe(e)}function Ke(e,t){return ze(e)||Qe(e,t)||Ye(e,t)||Ge()}function Ge(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ye(e,t){if(e){if("string"===typeof e)return Xe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Xe(e,t):void 0}}function Xe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Qe(e,t){var n=e&&("undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0)if(o.push(r.value),t&&o.length===t)break}catch(u){c=!0,a=u}finally{try{i||null==n["return"]||n["return"]()}finally{if(c)throw a}}return o}}function ze(e){if(Array.isArray(e))return e}function Je(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(s){return void n(s)}c.done?t(u):Promise.resolve(u).then(r,a)}function Ze(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Je(o,r,a,i,c,"next",e)}function c(e){Je(o,r,a,i,c,"throw",e)}i(void 0)}))}}function et(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?et(Object(n),!0).forEach((function(t){nt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):et(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function nt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var rt=function(e){switch(e.name){case"rinkeby":return tt(tt({},H.contracts),G.contracts);case"ropsten":return tt(tt({},$.contracts),Y.contracts);case"goerli":return tt(tt({},V.contracts),q.contracts);case"homestead":return tt(tt({},W.contracts),K.contracts);default:throw new Ue["c"](Ue["b"].RDN_UNRECOGNIZED_NETWORK,{network:e.name})}};function at(e,t,n){return ot.apply(this,arguments)}function ot(){return ot=Ze(a.a.mark((function e(t,n,r){var o,i,c,f,p,d,b;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return c=null!==(o=null!==r&&void 0!==r?r:null===globalThis||void 0===globalThis||null===(i=globalThis.location)||void 0===i?void 0:i.origin)&&void 0!==o?o:"unknown",f="=== RAIDEN SUBKEY GENERATION ===\n\nNetwork: ".concat(Object(Me["c"])(t).toUpperCase(),"\nRaiden dApp URL: ").concat(c,"\n\nWARNING: ensure this signature is being requested from Raiden dApp running at URL above by comparing it to your browser's url bar.\nSigning this message at any other address WILL give it FULL control of this subkey's funds, tokens and Raiden channels!"),e.next=4,n.signMessage(Object(s["f"])(f));case 4:return p=e.sent,d=Object(u["c"])(p),b=new l["a"](d,n.provider),e.abrupt("return",{signer:b,address:b.address});case 8:case"end":return e.stop()}}),e)}))),ot.apply(this,arguments)}var it=function(){var e=Ze(a.a.mark((function e(t,n,r,i){var c,u,s,f,p;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!o["a"].isSigner(t)){e.next=15;break}if(t.provider!==n){e.next=5;break}c=t,e.next=10;break;case 5:if(!(t instanceof l["a"])){e.next=9;break}c=t.connect(n),e.next=10;break;case 9:throw new Ue["c"](Ue["b"].RDN_SIGNER_NOT_CONNECTED,{account:t.toString(),provider:n.toString()});case 10:return e.next=12,c.getAddress();case 12:u=e.sent,e.next=38;break;case 15:if("number"!==typeof t){e.next=22;break}return c=n.getSigner(t),e.next=19,c.getAddress();case 19:u=e.sent,e.next=38;break;case 22:if(!re["a"].is(t)){e.next=32;break}return e.next=25,n.listAccounts();case 25:if(f=e.sent,f.includes(t)){e.next=28;break}throw new Ue["c"](Ue["b"].RDN_ACCOUNT_NOT_FOUND,{account:t,accounts:JSON.stringify(f)});case 28:c=n.getSigner(t),u=t,e.next=38;break;case 32:if(!re["e"].is(t)){e.next=37;break}c=new l["a"](t,n),u=c.address,e.next=38;break;case 37:throw new Ue["c"](Ue["b"].RDN_STRING_ACCOUNT_INVALID);case 38:if(!r){e.next=51;break}return s={signer:c,address:u},e.t0=at,e.next=43,n.getNetwork();case 43:return e.t1=e.sent,e.t2=s.signer,e.t3=i,e.next=48,(0,e.t0)(e.t1,e.t2,e.t3);case 48:p=e.sent,c=p.signer,u=p.address;case 51:return e.abrupt("return",{signer:c,address:u,main:s});case 52:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}();function ct(e,t){return Object(O["a"])(Object(F["a"])(t,{since:0,include_docs:!0,selector:{direction:{$in:Object.values(Ne["a"])}}}).pipe(Object(_["a"])("doc"),Object(k["a"])(re["n"]),Object(E["a"])((function(e){return Object(re["l"])(Ne["d"],e)}))),e.pipe(Object(Le["i"])("transfers"),Object(Le["e"])(),Object(_["a"])(1))).pipe(Object(E["a"])(Ce["h"]))}var ut=function(e){return Object.values(e).reduce((function(e,t){var n=Object(U["c"])(t),r=tt({state:t.state,id:t.id,token:t.token,tokenNetwork:t.tokenNetwork,settleTimeout:t.settleTimeout,openBlock:t.openBlock,closeBlock:"closeBlock"in t?t.closeBlock:void 0,partner:t.partner.address,balance:n.ownBalance,capacity:n.ownCapacity},n);return tt(tt({},e),{},nt({},t.token,tt(tt({},e[t.token]),{},nt({},t.partner.address,r))))}),{})};function st(e,t){var n=e.signer,r=e.address,a=e.main;return a&&!t?a:{signer:n,address:r}}function lt(e,t){return e.signer===t?e:e.connect(t)}function ft(e,t,n,r){return pt.apply(this,arguments)}function pt(){return pt=Ze(a.a.mark((function e(t,n,r,o){var i,c,u,s,l,f=arguments;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=f.length>4&&void 0!==f[4]?f[4]:{log:v.a},c=i.log,e.prev=1,e.next=4,(s=t.functions)[n].apply(s,We(r));case 4:u=e.sent,e.next=11;break;case 7:throw e.prev=7,e.t0=e["catch"](1),c.error("Error sending ".concat(n," tx"),e.t0),new Ue["c"](o,{error:e.t0.message});case 11:return c.debug("sent ".concat(n,' tx "').concat(u.hash,'" to "').concat(t.address,'"')),e.prev=12,e.next=15,u.wait();case 15:l=e.sent,Object(ne["a"])(l.status,"tx status: ".concat(l.status)),e.next=23;break;case 19:throw e.prev=19,e.t1=e["catch"](12),c.error("Error mining ".concat(n," tx"),e.t1),new Ue["c"](o,{transactionHash:u.hash});case 23:return c.debug("".concat(n,' tx "').concat(u.hash,'" successfuly mined!')),e.abrupt("return",l);case 25:case"end":return e.stop()}}),e,null,[[1,7],[12,19]])}))),pt.apply(this,arguments)}function dt(e,t,n){return bt.apply(this,arguments)}function bt(){return bt=Ze(a.a.mark((function e(t,n,r){var o,i,c,u,s;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o=n.latest$,i=n.config$,c=n.provider,u=t.blockNumber,s=t.transactionHash,e.abrupt("return",o.pipe(Object(Le["i"])("state","blockNumber"),Object(T["a"])(i),Object(k["a"])((function(e){var t=Ke(e,2),n=t[0],a=t[1].confirmationBlocks;return u+(null!==r&&void 0!==r?r:a)<=n})),Object(A["a"])((function(e){var t=Ke(e,2),n=t[0],a=t[1].confirmationBlocks;return Object(g["a"])((function(){return c.getTransactionReceipt(s)})).pipe(Object(E["a"])((function(e){if(null!==e&&void 0!==e&&e.confirmations&&e.confirmations>=(null!==r&&void 0!==r?r:a))return e.blockNumber;if(u+2*(null!==r&&void 0!==r?r:a)<n)throw new Ue["c"](Ue["b"].RDN_TRANSACTION_REORG,{transactionHash:s})})))})),Object(S["a"])(re["n"])).toPromise());case 4:case"end":return e.stop()}}),e)}))),bt.apply(this,arguments)}function yt(e,t){return ht.apply(this,arguments)}function ht(){return ht=Ze(a.a.mark((function e(t,n){var r,o,i,c,u,s,l,f,p,d,b;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o=B["h"].connect(n,t),e.next=3,o.msc_address();case 3:return i=e.sent,c=B["c"].connect(i,t),e.next=7,c.token_network_registry();case 7:return u=e.sent,s=B["f"].connect(u,t),e.next=11,s.secret_registry_address();case 11:return l=e.sent,e.next=14,c.service_registry();case 14:return f=e.sent,e.next=17,t.getBlockNumber();case 17:return p=e.sent,e.next=20,Object(Me["b"])(t,tt(tt({},s.filters.TokenNetworkCreated(null,null)),{},{fromBlock:1,toBlock:p})).pipe(Object(_["a"])("blockNumber"),Object(k["a"])(re["n"]),Object(x["a"])(1)).toPromise();case 20:return d=e.sent,null!==(r=d)&&void 0!==r||(d=0),e.next=24,o.one_to_n_address();case 24:return b=e.sent,e.abrupt("return",{TokenNetworkRegistry:{address:u,block_number:d},ServiceRegistry:{address:f,block_number:d},UserDeposit:{address:n,block_number:d},SecretRegistry:{address:l,block_number:d},MonitoringService:{address:i,block_number:d},OneToN:{address:b,block_number:d}});case 26:case"end":return e.stop()}}),e)}))),ht.apply(this,arguments)}function mt(e){return vt.apply(this,arguments)}function vt(){return vt=Ze(a.a.mark((function e(t){return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",t.pipe(Object(_["a"])("udcDeposit","balance"),Object(S["a"])((function(e){return!!e&&e.lt(i["b"])}))).toPromise());case 1:case"end":return e.stop()}}),e)}))),vt.apply(this,arguments)}function Ot(e){return e.pipe(Object(S["a"])(Object(De["e"])([C["g"],C["e"]])),Object(E["a"])((function(e){if(C["e"].is(e)){if(Object.values(L["f"]).some((function(t){return t===e.payload.reason})))return;throw e.payload}return e.payload}))).toPromise()}function gt(e){var t=e.log,n=e.getTokenContract;return h()(function(){var e=Ze(a.a.mark((function e(r){var o,i,c,u,s,l,f;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return Object(ne["a"])(re["a"].is(r),[Ue["b"].DTA_INVALID_ADDRESS,{token:r}],t.info),o=n(r),e.next=4,Promise.all([o.callStatic.totalSupply(),o.callStatic.decimals(),o.callStatic.name().catch(p()(void 0)),o.callStatic.symbol().catch(p()(void 0))]);case 4:return i=e.sent,c=Ke(i,4),u=c[0],s=c[1],l=c[2],f=c[3],e.abrupt("return",{totalSupply:u,decimals:s,name:l,symbol:f});case 11:case"end":return e.stop()}}),e)})));function r(t){return e.apply(this,arguments)}return r}())}function jt(e,t){var n,r,a,o=t.address,i=t.network,c=t.contractsInfo,u=e[0];Object(ne["a"])("_meta"===(null===u||void 0===u?void 0:u._id),Ue["b"].RDN_STATE_MIGRATION),Object(ne["a"])(u.address===o,Ue["b"].RDN_STATE_ADDRESS_MISMATCH),Object(ne["a"])(u.registry===c.TokenNetworkRegistry.address,Ue["b"].RDN_STATE_NETWORK_MISMATCH),Object(ne["a"])(u.network===i.chainId,Ue["b"].RDN_STATE_NETWORK_MISMATCH),Object(ne["a"])((null===(n=e.find((function(e){return"state.address"===e._id})))||void 0===n?void 0:n.value)===o,Ue["b"].RDN_STATE_ADDRESS_MISMATCH),Object(ne["a"])((null===(r=e.find((function(e){return"state.chainId"===e._id})))||void 0===r?void 0:r.value)===i.chainId,Ue["b"].RDN_STATE_NETWORK_MISMATCH),Object(ne["a"])((null===(a=e.find((function(e){return"state.registry"===e._id})))||void 0===a?void 0:a.value)===c.TokenNetworkRegistry.address,Ue["b"].RDN_STATE_NETWORK_MISMATCH)}function wt(e){return _t.apply(this,arguments)}function _t(){return _t=Ze(a.a.mark((function e(t){var n,r,o,i,c,u,s,l,f,p,d,b,y=arguments;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.address,r=t.network,o=t.contractsInfo,i=t.log,c=y.length>1&&void 0!==y[1]?y[1]:{},u=["raiden",Object(Me["c"])(r),o.TokenNetworkRegistry.address,n].join("_"),l=c.state,f=Fe(c,Be),p=l,e.next=7,Object(F["c"])(tt(tt({},f),{},{log:i}));case 7:if(d=e.sent,!p){e.next=16;break}return"string"===typeof p&&(p=Object(Ie["b"])(p)),jt(p,{address:n,network:r,contractsInfo:o}),e.next=13,F["g"].call(d,p,u);case 13:s=e.sent,e.next=19;break;case 16:return e.next=18,F["e"].call(d,u);case 18:s=e.sent;case 19:return e.next=21,Object(F["d"])(s);case 21:if(b=e.sent,b){e.next=28;break}return b=Object(z["c"])({network:r,address:n,contractsInfo:o}),e.next=26,Object(F["f"])(s,b);case 26:e.next=29;break;case 28:b=Object(re["l"])(z["a"],b);case 29:return e.abrupt("return",{db:s,state:b});case 30:case"end":return e.stop()}}),e)}))),_t.apply(this,arguments)}function kt(e,t,n){return Et.apply(this,arguments)}function Et(){return Et=Ze(a.a.mark((function e(t,n,r){var o,i,c,u;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(o=r.meta,i=r.config,i.pfsMode!==Q["f"].disabled){e.next=3;break}return e.abrupt("return");case 3:return c={service:Q["h"].PFS,msgId:""},u=!1,e.abrupt("return",Object(De["a"])(X["messageServiceSend"],c,t.pipe(Object(T["a"])(n),Object(P["a"])((function(e){var t,n=Ke(e,2),r=n[0],a=n[1];if(D["channelDeposit"].success.is(r)&&r.payload.confirmed)u=!0;else if(u&&!c.msgId&&X["messageServiceSend"].request.is(r)){var i=r.payload.message;"PFSCapacityUpdate"===i.type&&i.canonical_identifier.token_network_address===o.tokenNetwork&&i.canonical_identifier.channel_identifier.eq(null===(t=a.channels[Object(U["d"])(o)])||void 0===t?void 0:t.id)&&(c.msgId=r.meta.msgId)}})),Object(_["a"])(0),Object(R["a"])((function(e){return!(D["channelDeposit"].failure.is(e)&&b()(e.meta,o))})))));case 6:case"end":return e.stop()}}),e)}))),Et.apply(this,arguments)}var Tt=[I["b"].settleable,I["b"].settling],At=[I["b"].closed].concat(Tt);function St(e,t){return e.pipe(Object(S["a"])(),Object(N["a"])((function(n){var r=n.channels,a=r[Object(U["d"])(t)];return Object(ne["a"])(a&&At.includes(a.state),Ue["b"].CNL_NO_SETTLEABLE_OR_SETTLING_CHANNEL_FOUND),e.pipe(Object(Le["i"])("channels",Object(U["d"])(t)))})),Object(S["a"])((function(e){return Tt.includes(e.state)})))}function xt(e,t,n){var r,a,o,i,u,s=n.db,l=n.state,f=n.config,p=n.main,d=e.provider;Object(ne["a"])(d&&d instanceof c["a"]&&d.network,"Signer must be connected to a JsonRpcProvider");var b=d.network,y=new j["a"](1),m=y.pipe(Object(Le["i"])("config")),O=new w["a"],g=l.address,_=Object(M["c"])({network:b},f),k=v.a.getLogger("raiden:".concat(g));return{latest$:y,config$:m,matrix$:O,provider:d,network:b,signer:e,address:l.address,log:k,defaultConfig:_,contractsInfo:t,registryContract:B["f"].connect(t.TokenNetworkRegistry.address,null!==(r=null===p||void 0===p?void 0:p.signer)&&void 0!==r?r:e),getTokenNetworkContract:h()((function(t){var n;return B["g"].connect(t,null!==(n=null===p||void 0===p?void 0:p.signer)&&void 0!==n?n:e)})),getTokenContract:h()((function(t){var n;return B["b"].connect(t,null!==(n=null===p||void 0===p?void 0:p.signer)&&void 0!==n?n:e)})),serviceRegistryContract:B["e"].connect(t.ServiceRegistry.address,null!==(a=null===p||void 0===p?void 0:p.signer)&&void 0!==a?a:e),userDepositContract:B["h"].connect(t.UserDeposit.address,null!==(o=null===p||void 0===p?void 0:p.signer)&&void 0!==o?o:e),secretRegistryContract:B["d"].connect(t.SecretRegistry.address,null!==(i=null===p||void 0===p?void 0:p.signer)&&void 0!==i?i:e),monitoringServiceContract:B["c"].connect(t.MonitoringService.address,null!==(u=null===p||void 0===p?void 0:p.signer)&&void 0!==u?u:e),main:p,db:s,init$:new j["a"],mediationFeeCalculator:Re}}},"80bf":function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e["DISCLAIMER"]="disclaimer",e["TRANSFER"]="transfer",e["TRANSFER_STEPS"]="transfer-steps",e["SELECT_TOKEN"]="select-token",e["SELECT_HUB"]="select-hub",e["HOME"]="home",e["NO_CONNECTED_TOKEN"]="no-connected-token",e["CHANNELS"]="channels",e["OPEN_CHANNEL"]="open-channel",e["ACCOUNT_ROOT"]="account-root",e["ACCOUNT_BACKUP"]="account-backup",e["ACCOUNT_RAIDEN"]="account-raiden",e["ACCOUNT_SETTINGS"]="account-settings",e["ACCOUNT_WITHDRAWAL"]="account-withdrawal",e["ACCOUNT_UDC"]="account-udc",e["NOTIFICATIONS"]="notifications"}(r||(r={}))},8120:function(e,t,n){"use strict";n.d(t,"d",(function(){return C})),n.d(t,"e",(function(){return D})),n.d(t,"c",(function(){return I})),n.d(t,"b",(function(){return U})),n.d(t,"f",(function(){return M})),n.d(t,"a",(function(){return L}));var r=n("36d8"),a=n.n(r),o=n("87b8"),i=n("3912"),c=n("34ba"),u=n("331d"),s=n("daae"),l=n("258b"),f=n("7f4a"),p=n("4a9c"),d=n("1c01"),b=n("231d"),y=n("cefa"),h=n("bd71"),m=n("5778"),v=n("ee6c"),O=n("325b"),g=n("ca14");function j(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(s){return void n(s)}c.done?t(u):Promise.resolve(u).then(r,a)}function w(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){j(o,r,a,i,c,"next",e)}function c(e){j(o,r,a,i,c,"throw",e)}i(void 0)}))}}function _(e,t){return T(e)||E(e,t)||x(e,t)||k()}function k(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function E(e,t){var n=e&&("undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0)if(o.push(r.value),t&&o.length===t)break}catch(u){c=!0,a=u}finally{try{i||null==n["return"]||n["return"]()}finally{if(c)throw a}}return o}}function T(e){if(Array.isArray(e))return e}function A(e){return R(e)||P(e)||x(e)||S()}function S(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function x(e,t){if(e){if("string"===typeof e)return N(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?N(e,t):void 0}}function P(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function R(e){if(Array.isArray(e))return N(e)}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function C(e){var t=e.tokenNetwork,n=e.partner,r="string"===typeof n?n:n.address;return"".concat(t,"@").concat(r)}function D(e){return"_id"in e&&e._id?e._id:"".concat(C(e),"#").concat(e.id.toString().padStart(9,"0"))}function I(e){var t=e.own.withdraw,n=e.partner.withdraw,r=e.own.balanceProof.transferredAmount,a=e.partner.balanceProof.transferredAmount,i=e.own.locks.filter((function(e){return e.registered})).reduce((function(e,t){return e.add(t.amount)}),o["h"]),c=e.partner.locks.filter((function(e){return e.registered})).reduce((function(e,t){return e.add(t.amount)}),o["h"]),u=r.add(i),s=a.add(c),l=e.own.balanceProof.lockedAmount.sub(i),f=e.partner.balanceProof.lockedAmount.sub(c),p=s.sub(u),d=u.sub(s),b=g["k"].apply(void 0,[t].concat(A(e.own.pendingWithdraws.filter((function(e){return e.type===m["d"].WITHDRAW_REQUEST})).map((function(e){return e.total_withdraw}))))),y=g["k"].apply(void 0,[n].concat(A(e.partner.pendingWithdraws.filter((function(e){return e.type===m["d"].WITHDRAW_REQUEST})).map((function(e){return e.total_withdraw}))))),h=e.own.deposit.sub(b).sub(l).add(p),v=e.partner.deposit.sub(y).sub(f).add(d),O=e.own.deposit.add(p).sub(l),j=O.sub(t),w=e.partner.deposit.add(d).sub(f),_=w.sub(n),k=e.own.deposit.sub(e.own.withdraw).add(e.partner.deposit).sub(e.partner.withdraw);return{ownDeposit:e.own.deposit,ownWithdraw:t,ownTransferred:r,ownLocked:l,ownBalance:p,ownCapacity:h,ownOnchainUnlocked:i,ownUnlocked:u,partnerDeposit:e.partner.deposit,partnerWithdraw:n,partnerTransferred:a,partnerLocked:f,partnerBalance:d,partnerCapacity:v,partnerOnchainUnlocked:c,partnerUnlocked:s,ownTotalWithdrawable:O,ownWithdrawable:j,partnerTotalWithdrawable:w,partnerWithdrawable:_,totalCapacity:k}}function U(e,t,n){var r=n.log,a=n.provider;return function(n){return n.pipe(Object(s["a"])((function(t){return r.debug("sent ".concat(e,' tx "').concat(t.hash,'" to "').concat(t.to,'"'))})),Object(l["a"])((function(e){return Object(O["k"])((function(){return e.wait()}),a.pollingInterval,{onErrors:v["h"]}).pipe(Object(f["a"])((function(t){return[e,t]})))})),Object(f["a"])((function(n){var a,o,i,c=_(n,2),u=c[0],s=c[1];if(!s.status||!s.transactionHash||!s.blockNumber)throw new v["c"](t,{status:null!==(a=s.status)&&void 0!==a?a:null,transactionHash:null!==(o=s.transactionHash)&&void 0!==o?o:null,blockNumber:null!==(i=s.blockNumber)&&void 0!==i?i:null});return r.debug("".concat(e,' tx "').concat(s.transactionHash,'" successfuly mined!')),[u,s]})))}}function M(e){return e.pipe(Object(p["a"])("channels"),Object(O["e"])(),Object(p["a"])(1),Object(d["a"])(D,void 0,void 0,(function(){return new i["a"](1)})),Object(f["a"])((function(t){var n=t.key.split("#"),r=_(n,2),a=r[0],o=r[1],i=+o;return t.pipe(Object(b["a"])(e.pipe(Object(y["a"])((function(e){var t,n=e.channels;return(null===(t=n[a])||void 0===t?void 0:t.id)!==i})))))})))}function L(e,t,n){var r=_(e,3),i=r[0],s=r[1],f=r[2],d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:v["b"].RDN_APPROVE_TRANSACTION_FAILED,b=arguments.length>4?arguments[4]:void 0,y=b.provider,m=b.log,O=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{minimumAllowance:o["h"]},j=O.minimumAllowance,k=O.gasPrice;if(Object(v["d"])(i.gte(f),[v["b"].RDN_INSUFFICIENT_BALANCE,{current:i.toString(),required:f.toString()}]),s.gte(f))return Object(c["a"])(!0);var E=Object(c["a"])(!0);return s.isZero()||(E=Object(u["a"])(w(a.a.mark((function e(){return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",t.approve(n,0,{gasPrice:k}));case 1:case"end":return e.stop()}}),e)})))).pipe(U("approve",d,{log:m,provider:y}),Object(h["a"])(!0))),E.pipe(Object(l["a"])(w(a.a.mark((function e(){return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",t.approve(n,Object(g["k"])(j,f),{gasPrice:k}));case 1:case"end":return e.stop()}}),e)})))),U("approve",d,{log:m,provider:y}),Object(p["a"])(1))}},8173:function(e,t,n){"use strict";n.r(t),n.d(t,"messageSend",(function(){return u})),n.d(t,"messageServiceSend",(function(){return s})),n.d(t,"messageReceived",(function(){return l}));var r=n("2111"),a=n("d011"),o=n("d276"),i=n("ca14"),c=n("5778"),u=Object(o["c"])(r["v"]({address:i["a"],msgId:r["s"]}),"message/send/request","message/send/success","message/send/failure",r["j"]([r["v"]({message:r["x"]([r["s"],Object(i["h"])(c["c"])])}),r["o"]({msgtype:r["s"],userId:r["s"]})]),r["x"]([r["w"],r["v"]({via:r["s"],tookMs:r["n"],retries:r["n"]})])),s=Object(o["c"])(r["v"]({service:a["i"],msgId:r["s"]}),"message/service/send/request","message/service/send/success","message/service/send/failure",r["v"]({message:Object(i["h"])(c["c"])}),r["x"]([r["w"],r["v"]({via:r["y"],tookMs:r["n"],retries:r["n"]})])),l=Object(o["b"])("message/received",r["j"]([r["v"]({text:r["s"],ts:r["n"]}),r["o"]({message:r["x"]([c["c"],Object(i["h"])(c["c"])]),userId:r["s"],msgtype:r["s"]})]),r["v"]({address:i["a"]}))},"83ee":function(e,t,n){"use strict";n.r(t),n.d(t,"transfer",(function(){return f})),n.d(t,"transferSigned",(function(){return p})),n.d(t,"transferProcessed",(function(){return d})),n.d(t,"transferSecret",(function(){return b})),n.d(t,"transferSecretRegister",(function(){return y})),n.d(t,"transferSecretRequest",(function(){return h})),n.d(t,"transferSecretReveal",(function(){return m})),n.d(t,"transferUnlock",(function(){return v})),n.d(t,"transferUnlockProcessed",(function(){return O})),n.d(t,"transferExpire",(function(){return g})),n.d(t,"transferExpireProcessed",(function(){return j})),n.d(t,"transferClear",(function(){return w})),n.d(t,"transferLoad",(function(){return _})),n.d(t,"withdraw",(function(){return E})),n.d(t,"withdrawMessage",(function(){return T})),n.d(t,"withdrawExpire",(function(){return A})),n.d(t,"withdrawCompleted",(function(){return S}));var r=n("2111"),a=n("9201"),o=n("5778"),i=n("d011"),c=n("d276"),u=n("ca14"),s=n("1a78"),l=r["v"]({secrethash:u["c"],direction:s["b"]}),f=Object(c["c"])(l,"transfer/request","transfer/success","transfer/failure",r["j"]([r["v"]({tokenNetwork:u["a"],target:u["a"],value:Object(u["j"])(32),paths:i["e"],paymentId:Object(u["j"])(8)}),r["o"]({secret:u["f"],expiration:r["n"],initiator:u["a"]})]),r["o"]({balanceProof:Object(u["h"])(a["a"])})),p=Object(c["b"])("transfer/signed",r["v"]({message:Object(u["h"])(o["b"]),fee:Object(u["d"])(32),partner:u["a"]}),l),d=Object(c["b"])("transfer/processed",r["v"]({message:Object(u["h"])(o["e"])}),l),b=Object(c["b"])("transfer/secret",r["v"]({secret:u["f"]}),l),y=Object(c["c"])(l,"transfer/secret/register/request","transfer/secret/register/success","transfer/secret/register/failure",r["j"]([r["v"]({secret:u["f"]}),r["o"]({subkey:r["e"]})]),r["v"]({secret:u["f"],txHash:u["c"],txBlock:r["n"],confirmed:r["x"]([r["w"],r["e"]])})),h=Object(c["b"])("transfer/secret/request",r["v"]({message:Object(u["h"])(o["f"])}),l),m=Object(c["b"])("transfer/secret/reveal",r["v"]({message:Object(u["h"])(o["g"])}),l),v=Object(c["c"])(l,"transfer/unlock/request","transfer/unlock/success","transfer/unlock/failure",void 0,r["v"]({message:Object(u["h"])(o["h"]),partner:u["a"]})),O=Object(c["b"])("transfer/unlock/processed",r["v"]({message:Object(u["h"])(o["e"])}),l),g=Object(c["c"])(l,"transfer/expire/request","transfer/expire/success","transfer/expire/failure",void 0,r["v"]({message:Object(u["h"])(o["a"]),partner:u["a"]})),j=Object(c["b"])("transfer/expire/processed",r["v"]({message:Object(u["h"])(o["e"])}),l),w=Object(c["b"])("transfer/clear",r["w"],l),_=Object(c["b"])("transfer/load",s["d"],l),k=r["v"]({direction:s["b"],tokenNetwork:u["a"],partner:u["a"],totalWithdraw:Object(u["j"])(32),expiration:r["n"]}),E=Object(c["c"])(k,"withdraw/request","withdraw/success","withdraw/failure",r["w"],r["v"]({txHash:u["c"],txBlock:r["n"],confirmed:r["x"]([r["w"],r["e"]])})),T=Object(c["c"])(k,"withdraw/message/request","withdraw/message/success","withdraw/message/failure",r["v"]({message:Object(u["h"])(o["k"])}),r["v"]({message:Object(u["h"])(o["i"])})),A=Object(c["c"])(k,"withdraw/expire/request","withdraw/expire/success","withdraw/expire/failure",r["w"],r["v"]({message:Object(u["h"])(o["j"])})),S=Object(c["b"])("withdraw/completed",r["w"],k)},"84c0":function(e,t,n){"use strict";n("1218")},"87a2":function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return r}));var r,a=function(){return{label:"",title:"",description:""}},o=function(){return{name:"",symbol:"",address:"",opening:0,open:0,closing:0,closed:0,settling:0,settled:0}},i={name:"",chainId:-1};(function(e){e["UNSUPPORTED_NETWORK"]="unsupported-network",e["SDK_INITIALIZATION_FAILED"]="sdk-initialization-failed",e["STATE_MIGRATION_FAILED"]="state-migration-failed"})(r||(r={}))},"87b1":function(e,t,n){"use strict";n.d(t,"a",(function(){return T})),n.d(t,"b",(function(){return F})),n.d(t,"c",(function(){return ae}));var r=n("36d8"),a=n.n(r),o=n("fbcd"),i=n("2fca");function c(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(s){return void n(s)}c.done?t(u):Promise.resolve(u).then(r,a)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){c(o,r,a,i,u,"next",e)}function u(e){c(o,r,a,i,u,"throw",e)}i(void 0)}))}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),e}var p=function(){function e(){s(this,e);var t=this.constructor.isAvailable;if(!t)throw new Error("The provider is not available.")}return f(e,null,[{key:"isDisabled",value:function(){var e=u(a.a.mark((function e(){var t,n,r;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i["a"].configuration();case 2:return n=e.sent,r=null!==(t=n.disabled_ethereum_providers)&&void 0!==t?t:[],e.abrupt("return",r.includes(this.providerName));case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),e}();function d(e){return d="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function b(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(s){return void n(s)}c.done?t(u):Promise.resolve(u).then(r,a)}function y(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){b(o,r,a,i,c,"next",e)}function c(e){b(o,r,a,i,c,"throw",e)}i(void 0)}))}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t,n){return t&&m(e.prototype,t),n&&m(e,n),e}function O(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}function g(e,t){return g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},g(e,t)}function j(e){var t=k();return function(){var n,r=E(e);if(t){var a=E(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return w(this,n)}}function w(e,t){return!t||"object"!==d(t)&&"function"!==typeof t?_(e):t}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function E(e){return E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},E(e)}p.isAvailable=!1;var T=function(e){O(n,e);var t=j(n);function n(e,r){var a;return h(this,n),a=t.call(this),a.provider=new o["b"].JsonRpcProvider(e),a.account=r,a}return v(n,null,[{key:"link",value:function(){var e=y(a.a.mark((function e(t){return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new this(t.rpcUrl,t.privateKey));case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}]),n}(p);function A(e){return A="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},A(e)}function S(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(s){return void n(s)}c.done?t(u):Promise.resolve(u).then(r,a)}function x(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){S(o,r,a,i,c,"next",e)}function c(e){S(o,r,a,i,c,"throw",e)}i(void 0)}))}}function P(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function R(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function N(e,t,n){return t&&R(e.prototype,t),n&&R(e,n),e}function C(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&D(e,t)}function D(e,t){return D=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},D(e,t)}function I(e){var t=L();return function(){var n,r=B(e);if(t){var a=B(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return U(this,n)}}function U(e,t){return!t||"object"!==A(t)&&"function"!==typeof t?M(e):t}function M(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function L(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function B(e){return B=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},B(e)}T.providerName="direct_rpc_provider",T.isAvailable=!0;var F=function(e){C(n,e);var t=I(n);function n(e){var r;return P(this,n),r=t.call(this),r.account=0,r.provider=new o["b"].Web3Provider(e),r}return N(n,null,[{key:"isAvailable",get:function(){return!!window.ethereum||!!window.web3}},{key:"link",value:function(){var e=x(a.a.mark((function e(){var t;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n.isAvailable){e.next=2;break}throw new Error("No injected provider is available.");case 2:if(!window.ethereum){e.next=9;break}return window.ethereum.autoRefreshOnNetworkChange=!1,e.next=6,window.ethereum.request({method:"eth_requestAccounts"});case 6:t=window.ethereum,e.next=10;break;case 9:t=window.web3.currentProvider;case 10:return t.on("chainChanged",V),t.on("disconnect",V),e.abrupt("return",new this(t));case 13:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),n}(p);function V(){window.location.replace(window.location.origin)}F.providerName="injected_provider";var W=n("6e47"),H=n.n(W);function $(e){return $="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$(e)}function q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function K(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(s){return void n(s)}c.done?t(u):Promise.resolve(u).then(r,a)}function G(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){K(o,r,a,i,c,"next",e)}function c(e){K(o,r,a,i,c,"throw",e)}i(void 0)}))}}function Y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function X(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Q(e,t,n){return t&&X(e.prototype,t),n&&X(e,n),e}function z(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&J(e,t)}function J(e,t){return J=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},J(e,t)}function Z(e){var t=ne();return function(){var n,r=re(e);if(t){var a=re(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ee(this,n)}}function ee(e,t){return!t||"object"!==$(t)&&"function"!==typeof t?te(e):t}function te(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ne(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function re(e){return re=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},re(e)}var ae=function(e){z(n,e);var t=Z(n);function n(e){var r;return Y(this,n),r=t.call(this),r.account=0,r.provider=new o["b"].Web3Provider(e),r}return Q(n,null,[{key:"link",value:function(){var e=G(a.a.mark((function e(t){var r,o;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=(null===t||void 0===t?void 0:t.bridgeUrl)||void 0,void 0!==t.rpcUrl||void 0!==t.infuraId){e.next=5;break}throw new Error("One of the options RPC URL or Infura Id are required to link.");case 5:if(void 0===t.rpcUrl||void 0===t.infuraId){e.next=9;break}throw new Error("Only one link option allowed. Either a RPC URL or a Infura Id.");case 9:if(void 0===t.rpcUrl){e.next=15;break}return e.next=12,oe(t.rpcUrl,r);case 12:o=e.sent,e.next=16;break;case 15:t.infuraId&&(o=ce(t.infuraId,r));case 16:return e.next=18,o.enable();case 18:return o.on("chainChanged",ue),o.on("disconnect",ue),e.abrupt("return",new n(o));case 21:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()}]),n}(p);function oe(e,t){return ie.apply(this,arguments)}function ie(){return ie=G(a.a.mark((function e(t,n){var r,i,c;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=new o["b"].JsonRpcProvider(t),e.next=3,r.getNetwork();case 3:return i=e.sent,c={bride:n,rpc:q({},i.chainId,t)},e.abrupt("return",new H.a(c));case 6:case"end":return e.stop()}}),e)}))),ie.apply(this,arguments)}function ce(e,t){return new H.a({bridge:t,infuraId:e})}function ue(){window.location.replace(window.location.origin)}ae.providerName="wallet_connect",ae.isAvailable=!0},"8aa9":function(e,t,n){"use strict";n.d(t,"b",(function(){return I})),n.d(t,"a",(function(){return B}));var r=n("36d8"),a=n.n(r),o=n("489c"),i=n("111d"),c=n.n(i);function u(e){return f(e)||l(e)||m(e)||s()}function s(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function f(e){if(Array.isArray(e))return v(e)}function p(e,t){return y(e)||b(e,t)||m(e,t)||d()}function d(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function b(e,t){var n=e&&("undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0)if(o.push(r.value),t&&o.length===t)break}catch(u){c=!0,a=u}finally{try{i||null==n["return"]||n["return"]()}finally{if(c)throw a}}return o}}function y(e){if(Array.isArray(e))return e}function h(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=m(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function m(e,t){if(e){if("string"===typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(e,t):void 0}}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function O(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(s){return void n(s)}c.done?t(u):Promise.resolve(u).then(r,a)}function g(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){O(o,r,a,i,c,"next",e)}function c(e){O(o,r,a,i,c,"throw",e)}i(void 0)}))}}function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var k,E="logs",T=void 0;function A(e){var t=e.toString();return e.stack?e.stack.startsWith(t)?e.stack:"".concat(t,"\n").concat(e.stack):t}function S(e){var t,n,r,a;if("%c prev state"!==e[0]&&(null===(t=e[0])||void 0===t||null===(n=t.startsWith)||void 0===n||!n.call(t,"action %c"))&&"â€”â€” log end â€”â€”"!==e[0]){var o=null===(r=e[2])||void 0===r||null===(a=r.payload)||void 0===a?void 0:a.blockNumber;if(!o)return e=e.map((function(e){return e instanceof Error?A(e):(null===e||void 0===e?void 0:e.payload)instanceof Error?w(w({},e),{},{payload:A(e.payload)}):e})),"string"===typeof e[1]&&e[1].startsWith("color:")&&e.splice(1,1),e;T=o}}function x(e){if("string"===typeof e)return e;try{return JSON.stringify(e)}catch(t){try{return e.toString()}catch(t){return"<unserializable>"}}}function P(e){return R.apply(this,arguments)}function R(){return R=g(a.a.mark((function e(t){var n;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if((null===(n=k)||void 0===n?void 0:n.name)!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Object(o["a"])(t,1,{upgrade:function(e){var t=e.createObjectStore(E);t.createIndex("by-logger","logger"),t.createIndex("by-level","level")}});case 4:k=e.sent;case 5:case"end":return e.stop()}}),e)}))),R.apply(this,arguments)}var N=/^raiden:(0x[0-9a-f]{40})$/i;function C(e){return D.apply(this,arguments)}function D(){return D=g(a.a.mark((function e(t){return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(N.test(t)){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,P(t);case 4:case"end":return e.stop()}}),e)}))),D.apply(this,arguments)}function I(){return U.apply(this,arguments)}function U(){return U=g(a.a.mark((function e(){var t,n,r,o,i=arguments;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=i.length>0&&void 0!==i[0]?i[0]:["matrix"],"undefined"===typeof k){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,P("raiden");case 5:for(n=function(){var e=o[r],t=e.methodFactory;function n(e,n,r){var a=this,o=t.call(this,e,n,r),i=r.toString();return C(i),function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];o.call.apply(o,[a].concat(n));var c=S(n);c&&k.put(E,w({logger:i,level:e,message:c},T?{block:T}:{}),Date.now()).catch((function(){return k.put(E,w({logger:i,level:e,message:n.map(x)},T?{block:T}:{}),Date.now())}))}}n.allowOverwrite=!0,e.methodFactory=n},r=0,o=[c.a].concat(u(t.map(c.a.getLogger)));r<o.length;r++)n();case 7:case"end":return e.stop()}}),e)}))),U.apply(this,arguments)}var M=[[/(\\?["']?access_?token\\?["']?\s*[=:]\s*\\?["']?)[\w-]+(\\?["']?)/gi,"$1<redacted>$2"],[/(\\?["']?secret\\?["']?\s*[=:]\s*)\[[^\]]+\]/gi,'$1["<redacted>"]'],[/(\\?["']?secret\\?["']?\s*[=:]\s*\\?["']?)\w+(\\?["']?)/gi,"$1<redacted>$2"]];function L(e){var t,n=h(M);try{for(n.s();!(t=n.n()).done;){var r=p(t.value,2),a=r[0],o=r[1];e=e.replace(a,o)}}catch(i){n.e(i)}finally{n.f()}return e}function B(){return F.apply(this,arguments)}function F(){return F=g(a.a.mark((function e(){var t,n,r,o,i,c,u,s,l,f,p,d,b;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t="",e.next=3,k.transaction(E).store.openCursor();case 3:n=e.sent,r=Date.now(),o=!0;case 6:if(!n){e.next=20;break}return i=n.value,c=i.logger,u=i.level,s=i.message,l=i.block,f=s.map((function(e){return"string"===typeof e?e:JSON.stringify(e)})).join(" "),r=+n.key,p=new Date(n.key).toISOString(),d=l?" #".concat(l):"",b=void 0,c!==k.name||o?(b=" @ ".concat(c),o=!1):b="",t+="".concat(p).concat(d).concat(b," [").concat(u,"] \t=> ").concat(f,"\n"),e.next=17,n.continue();case 17:n=e.sent,e.next=6;break;case 20:return t=L(t),e.abrupt("return",[r,t]);case 22:case"end":return e.stop()}}),e)}))),F.apply(this,arguments)}},"8d82":function(e,t,n){},"8f83":function(e,t,n){e.exports=n.p+"img/info.1557b307.svg"},9:function(e,t){},9008:function(e,t,n){"use strict";n("5303")},9201:function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return l})),n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return d}));var r=n("87b8"),a=n("30c0"),o=n("905c9"),i=n("2111"),c=n("2b5b"),u=n("ca14"),s=i["s"],l=(i["s"],i["j"]([i["v"]({amount:Object(u["j"])(32),expiration:Object(u["j"])(32),secrethash:u["c"]}),i["o"]({registered:i["l"](!0)})],"Lock")),f=i["p"](i["v"]({chainId:Object(u["j"])(32),tokenNetworkAddress:u["a"],channelId:Object(u["j"])(32),nonce:Object(u["j"])(8),transferredAmount:Object(u["j"])(32),lockedAmount:Object(u["j"])(32),locksroot:u["c"],additionalHash:u["c"]})),p=f,d={chainId:r["h"],tokenNetworkAddress:a["a"],channelId:r["h"],nonce:r["h"],transferredAmount:r["h"],lockedAmount:r["h"],locksroot:c["d"],additionalHash:o["a"],signature:c["g"]}},9662:function(e,t,n){e.exports=n.p+"img/open_channel_info.7e9ea0d5.svg"},"9a49":function(e,t,n){"use strict";function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function c(e,t,n){return c="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=u(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(n):a.value}},c(e,t,n||e)}function u(e,t){while(!Object.prototype.hasOwnProperty.call(e,t))if(e=v(e),null===e)break;return e}function s(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}function l(e){var t=y();return function(){var n,r=v(e);if(t){var a=v(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return f(this,n)}}function f(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){var t="function"===typeof Map?new Map:void 0;return d=function(e){if(null===e||!h(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return b(e,arguments,v(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),m(n,e)},d(e)}function b(e,t,n){return b=y()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var a=Function.bind.apply(e,r),o=new a;return n&&m(o,n.prototype),o},b.apply(null,arguments)}function y(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function h(e){return-1!==Function.toString.call(e).indexOf("[native code]")}function m(e,t){return m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},m(e,t)}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}n.d(t,"a",(function(){return O}));var O=function(e){s(n,e);var t=l(n);function n(e){var r;return a(this,n),r=t.call(this),r.max=e,r}return i(n,[{key:"get",value:function(e){var t;return this.has(e)&&(t=c(v(n.prototype),"get",this).call(this,e),this.delete(e),c(v(n.prototype),"set",this).call(this,e,t)),t}},{key:"set",value:function(e,t){this.get(e),c(v(n.prototype),"set",this).call(this,e,t);while(this.size>this.max){var r=this.keys().next().value;this.delete(r)}return this}}]),n}(d(Map))},"9b19":function(e,t,n){e.exports=n.p+"img/logo.5c4b022d.svg"},a0df:function(e){e.exports=JSON.parse('{"contracts_version":null,"chain_id":3,"contracts":{"SecretRegistry":{"address":"0xC6CD0b14519DACA6c8784c1c35619Bda5F90f490","transaction_hash":"0xa344e1897011a18229421d25bb69968fad7c3e78da39c7d975d502d7efc183db","block_number":7931782,"gas_cost":247286,"constructor_arguments":[]},"TokenNetworkRegistry":{"address":"0xAe40f2c0a6c72498F330a1e4CCF1527D9F028443","transaction_hash":"0x111e0bacec7f113f78463923046d545516bb35bdccb813e9dcc03ca707cdbf1e","block_number":7931794,"gas_cost":4001594,"constructor_arguments":["0xC6CD0b14519DACA6c8784c1c35619Bda5F90f490",3,20,555428,1.157920892373162e+77]}},"token_networks":[{"token_network_address":"0x2FA965fE214570bab9D676B5DE7EAffd5b82fcAe","constructor_arguments":{"_token_address":"0x342d1D825B1c8790522E0B8999DB876ddEE82052","_secret_registry":"0xC6CD0b14519DACA6c8784c1c35619Bda5F90f490","_chain_id":3,"_settlement_timeout_min":20,"_settlement_timeout_max":555428,"_deprecation_executor":"0x062C12c01D0f17fC9eAa33940D994594d91a0182","_channel_participant_deposit_limit":1.157920892373162e+77,"_token_network_deposit_limit":1.157920892373162e+77}}]}')},a2b8:function(e,t,n){"use strict";n("bbb7")},a32b:function(e){e.exports=JSON.parse('{"PFS_EMPTY_URL":"A registered Pathfinding Service returned an empty service URL.","PFS_INVALID_URL":"A registered Pathfinding Service returned an invalid service URL.","PFS_INVALID_INFO":"Could not find any valid Pathfinding service. Client and PFS versions are possibly out-of-sync.","PFS_TOO_EXPENSIVE":"Pathfinding Service price higher than pfsMaxFee.","PFS_NO_ROUTES_FOUND":"No valid routes found.","PFS_ERROR_RESPONSE":"Pathfinding Service request returned an error","PFS_DISABLED":"Pathfinding Service is disabled and no direct route is available.","PFS_UNKNOWN_TOKEN_NETWORK":"No open channels on this token network.","PFS_TARGET_OFFLINE":"The requested target is offline.","PFS_TARGET_NO_RECEIVE":"The requested target doesn\'t receive transfers.","PFS_LAST_IOU_REQUEST_FAILED":"The request for the last IOU has failed.","PFS_IOU_SIGNATURE_MISMATCH":"The signature of the last IOU did not match.","PFS_NO_ROUTES_BETWEEN_NODES":"No route between nodes found.","CNL_INVALID_STATE":"Invalid channel state.","CNL_NO_OPEN_CHANNEL_FOUND":"No open channel has been found.","CNL_NO_OPEN_OR_CLOSING_CHANNEL_FOUND":"No open or closing channel has been found.","CNL_NO_SETTLEABLE_OR_SETTLING_CHANNEL_FOUND":"No settleable or settling channel has been found.","CNL_APPROVE_TRANSACTION_FAILED":"Token approve transaction reverted.","CNL_OPENCHANNEL_FAILED":"TokenNetwork.openChannel transaction reverted.","CNL_SETTOTALDEPOSIT_FAILED":"TokenNetwork.setTotalDeposit transaction reverted.","CNL_CLOSECHANNEL_FAILED":"TokenNetwork.closeChannel transaction reverted.","CNL_SETTLE_INVALID_BALANCEHASH":"Could not find BalanceProof matching on-chain closing data. This client may have had its state cleared and can\'t settle.","CNL_SETTLE_FAILED":"TokenNetwork.settleChannel transaction reverted.","CNL_SETTLE_AUTO_ENABLED":"Interactive channel settlement disabled when config.autoSettle is enabled; request will be made automatically","CNL_UPDATE_NONCLOSING_BP_FAILED":"updateNonClosingBalanceProof transaction reverted.","CNL_ONCHAIN_UNLOCK_FAILED":"on-chain unlock transaction reverted.","CNL_WITHDRAW_PENDING":"There\'s already a withdraw request pending.","CNL_WITHDRAW_RETRY_CONFIRMATION":"Retrying pending WithdrawConfirmation. Confirm or try again later.","CNL_WITHDRAW_TRANSACTION_FAILED":"Withdraw transaction has failed.","CNL_WITHDRAW_EXPIRES_SOON":"Withdraw request expired or expires too soon.","CNL_WITHDRAW_EXPIRED":"Withdraw request expired.","CNL_WITHDRAW_AMOUNT_TOO_LOW":"Withdraw request contains an amount smaller than already withdrawn.","CNL_WITHDRAW_AMOUNT_TOO_HIGH":"Withdraw request contains an amount bigger than channel\'s liquidity.","XFER_EXPIRED":"Transfer expired.","XFER_CHANNEL_CLOSED_PREMATURELY":"Channel was closed before secret got reveiled or transfer unlocked.","XFER_REFUNDED":"Transfer has been refunded.","XFER_INVALID_SECRETREQUEST":"Invalid SecretRequest received","XFER_ALREADY_COMPLETED":"Not waiting for transfer, it\'s already completed.","XFER_REGISTERSECRET_TX_FAILED":"SecretRegistry.registerSecret transaction reverted","TRNS_NO_MATRIX_SERVERS":"Could not contact any Matrix servers.","TRNS_NO_VALID_USER":"Could not find a user with a valid signature.","TRNS_NO_SERVERNAME":"Could not get server name from Matrix server.","TRNS_MESSAGE_SIGNATURE_MISMATCH":"Unable to decode message due to signature mismatch.","RDN_GENERAL_ERROR":"An unknown error occured.","RDN_ASSERT_ERROR":"An unknown assertion failed.","RDN_MINT_FAILED":"Failed to mint tokens.","RDN_MINT_MAINNET":"Minting is only allowed on test networks.","RDN_REGISTER_TOKEN_FAILED":"Failed to register tokens.","RDN_REGISTER_TOKEN_MAINNET":"Registering a token is only allowed on test networks.","RDN_REGISTER_TOKEN_REGISTERED":"Token is already registered.","RDN_APPROVE_TRANSACTION_FAILED":"Approve transaction has failed.","RDN_DEPOSIT_TRANSACTION_FAILED":"Deposit transaction has failed.","RDN_TRANSFER_ONCHAIN_BALANCE_FAILED":"Failed to transfer on-chain balance.","RDN_TRANSFER_ONCHAIN_TOKENS_FAILED":"Failed to transfer on-chain tokens.","RDN_UNRECOGNIZED_NETWORK":"No deploy info provided nor recognized network.","RDN_SIGNER_NOT_CONNECTED":"The signing account is not connected to the provider.","RDN_ACCOUNT_NOT_FOUND":"Account not found in provider.","RDN_STRING_ACCOUNT_INVALID":"String account must be either a 0x-encoded address or private key.","RDN_TRANSACTION_REORG":"Transaction has been mined but got removed by a reorg.","RDN_STATE_MIGRATION":"Could not replace stored state with older, provided state.","RDN_SUBKEY_NOT_SET":"Can\'t send tx from subkey if not set.","RDN_INSUFFICIENT_BALANCE":"Insufficient balance.","RDN_INSUFFICIENT_ALLOWANCE":"Requested allowance smaller than deposit.","RDN_NOT_A_TOKEN":"Not a token contract.","RDN_STATE_ADDRESS_MISMATCH":"Mismatch between provided account and loaded state.","RDN_STATE_NETWORK_MISMATCH":"Mismatch between network or registry address and loaded state","RDN_ALREADY_STARTED":"Already started or stopped!","RDN_UNKNOWN_TOKEN_NETWORK":"Unknown Tokennetwork","RDN_INVALID_SECRET":"Invalid provided secret.","RDN_INVALID_SECRETHASH":"Invalid provided secrethash.","RDN_SECRET_SECRETHASH_MISMATCH":"Provided secrethash must match the sha256 hash of provided secret.","RDN_UNKNOWN_TRANSFER":"Unknown transfer.","RDN_DATABASE_DELETED":"Database deleted!","DTA_NEGATIVE_NUMBER":"Encountered negative number while encoding to HEX string.","DTA_NUMBER_TOO_LARGE":"Encountered a number that is too large to be encoded.","DTA_ARRAY_LENGTH_DIFFERENCE":"Expected length of HEX string differs from integer array input.","DTA_UNENCODABLE_DATA":"Passed data is not a HEX string nor integer array.","DTA_NON_POSITIVE_NUMBER":"Number must be positive.","DTA_INVALID_ADDRESS":"Invalid address parameter.","DTA_INVALID_DEPOSIT":"Invalid deposit parameter.","DTA_INVALID_TIMEOUT":"Invalid timeout parameter.","DTA_INVALID_AMOUNT":"Invalid amount parameter.","DTA_INVALID_PAYMENT_ID":"Invalid payment identifier parameter.","DTA_INVALID_PATH":"Invalid path parameter.","DTA_INVALID_PFS":"Invalid path finding service parameter.","UDC_DEPOSIT_OUTDATED":"The UDC contains a target balance different than requested deposit","UDC_PLAN_WITHDRAW_FAILED":"An error occurred while planning to withdraw from the User Deposit contract.","UDC_PLAN_WITHDRAW_GT_ZERO":"The planned withdraw amount has to be greater than zero.","UDC_PLAN_WITHDRAW_EXCEEDS_AVAILABLE":"The planned withdraw amount exceeds the total amount available for withdrawing.","UDC_WITHDRAW_NO_BALANCE":"There is no balances left to withdraw from UDC.","UDC_WITHDRAW_FAILED":"An error occurred while withdrawing from the UDC.","UDC_WITHDRAW_AUTO_ENABLED":"Interactive UDC withdraw disabled when config.autoUDCWithdraw is enabled; request will be made automatically","UDC_WITHDRAW_NO_PLAN":"No plan currently registered; you must call Raiden.planUDCWithdraw first","UDC_WITHDRAW_TOO_LARGE":"Your current plan is not enough to withdraw the requested amount"}')},a3d5:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("fbcd");function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}var c=function(){function e(){a(this,e)}return i(e,null,[{key:"toEth",value:function(e){return r["c"].formatEther(e)}},{key:"toUnits",value:function(e,t){var n=r["c"].formatUnits(e,t);return 0===t?n.split(".")[0]:n}},{key:"decimalsOverflow",value:function(e,t){var n;return n=e.indexOf(".")>0?e.split(".")[1]:"",n.length>t}},{key:"parse",value:function(e,t){return r["c"].parseUnits(e.endsWith(".")?e.substring(0,e.length-1):e,t)}}]),e}()},a500:function(e,t,n){"use strict";n("6fce")},ad88:function(e,t,n){"use strict";n("8d82")},b4cc:function(e){e.exports=JSON.parse('{"contracts_version":null,"chain_id":3,"contracts":{"ServiceRegistry":{"address":"0x3b47ae7d1B6B73341c7C9238669500DC3EE322c8","transaction_hash":"0x4d02a48e464d2b9d1e15f86e20b9bee240bac2919c0e6671ae3027106f2943b2","block_number":7931820,"gas_cost":1999628,"constructor_arguments":["0x78BaE89c310B2bc53981176a0bc95F6caf1C86d1","0x062C12c01D0f17fC9eAa33940D994594d91a0182",2e+21,6,5,17280000,1000,15552000]},"UserDeposit":{"address":"0x70e27B28Ce6BF060889D6606169B88519edf83E2","transaction_hash":"0x4d6606b19fed986698af1784c2aa37654d94dd32f273a9efc985286092ab02eb","block_number":7931832,"gas_cost":1530470,"constructor_arguments":["0x78BaE89c310B2bc53981176a0bc95F6caf1C86d1",1.157920892373162e+77]},"MonitoringService":{"address":"0xBf86C5d8cC05Ff64419d3cDe505509397869ef06","transaction_hash":"0xde25f2d4a4a7f594c139512a246c9ba006a5f0ce9cd801c3f3d8f6e625411584","block_number":7931856,"gas_cost":1949889,"constructor_arguments":["0x78BaE89c310B2bc53981176a0bc95F6caf1C86d1","0x3b47ae7d1B6B73341c7C9238669500DC3EE322c8","0x70e27B28Ce6BF060889D6606169B88519edf83E2","0xAe40f2c0a6c72498F330a1e4CCF1527D9F028443"]},"OneToN":{"address":"0xCC911b7292157A41170C103E6fE2fE10A3B504F5","transaction_hash":"0xafcf5f55b6bb9845f7ed95079c952fbd13e867e30277cc0455901072e38536b9","block_number":7931882,"gas_cost":1097785,"constructor_arguments":["0x70e27B28Ce6BF060889D6606169B88519edf83E2",3,"0x3b47ae7d1B6B73341c7C9238669500DC3EE322c8"]}}}')},b592:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{staticClass:"header-content pa-0",attrs:{fluid:""}},[r("v-row",{attrs:{align:"center","no-gutters":""}},[r("v-col",{attrs:{cols:"2"}},[e.canNavigateBack?r("v-btn",{attrs:{"data-cy":"header-content_back-button",height:"36px",width:"36px",icon:""},on:{click:function(t){return e.navigateBack()}}},[r("v-img",{attrs:{src:n("0dd2")}})],1):e._e()],1),r("v-col",{staticClass:"header-content__title",attrs:{cols:"auto"}},[r("div",{staticClass:"header-content__title__route"},[r("span",{staticClass:"header-content__title__route__name"},[e._v(e._s(e.$route.meta.title))]),e.availableInfoOverlay&&!e.disableInfoButton?r("v-btn",{staticClass:"header-content__title__route__info",attrs:{icon:"","x-small":""}},[r("v-img",{staticClass:"header-content__title__route__info__icon",attrs:{src:n("8f83"),width:"10px"},on:{click:function(t){return e.showInfo()}}})],1):e._e()],1),e.showNetwork?r("span",{staticClass:"header-content__title__network"},[e._v(e._s(e.network))]):e._e()]),r("v-col",{attrs:{cols:"2"}},[e._t("default")],2)],1)],1)},a=[],o=n("6dbe"),i=n("5cf9"),c=n("94ea");function u(e){return u="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t,n){return t&&d(e.prototype,t),n&&d(e,n),e}function y(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}function h(e,t){return h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},h(e,t)}function m(e){var t=g();return function(){var n,r=j(e);if(t){var a=j(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return v(this,n)}}function v(e,t){return!t||"object"!==u(t)&&"function"!==typeof t?O(e):t}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function j(e){return j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},j(e)}var w=function(e){y(n,e);var t=m(n);function n(){return p(this,n),t.apply(this,arguments)}return b(n,[{key:"showInfo",value:function(){}},{key:"navigateBack",value:function(){}},{key:"availableInfoOverlay",get:function(){return!!this.$route.meta.infoOverlay}},{key:"canNavigateBack",get:function(){return!this.disableBackButton&&!this.$route.meta.cannotNavigateBack}}]),n}(i["g"]);Object(o["__decorate"])([Object(i["e"])({type:Boolean,default:!1})],w.prototype,"disableBackButton",void 0),Object(o["__decorate"])([Object(i["e"])({type:Boolean,default:!1})],w.prototype,"showNetwork",void 0),Object(o["__decorate"])([Object(i["e"])({type:Boolean,default:!1})],w.prototype,"disableInfoButton",void 0),Object(o["__decorate"])([Object(i["b"])()],w.prototype,"showInfo",null),Object(o["__decorate"])([Object(i["b"])()],w.prototype,"navigateBack",null),w=Object(o["__decorate"])([Object(i["a"])({computed:l(l({},Object(c["e"])(["isConnected"])),Object(c["c"])(["network"]))})],w);var _=w,k=_,E=(n("bbd4"),n("a6c2")),T=n("411c"),A=n.n(T),S=n("9c46"),x=n("1fb1"),P=n("f56c"),R=n("1331"),N=n("e614"),C=Object(E["a"])(k,r,a,!1,null,"287b8de7",null);t["a"]=C.exports;A()(C,{VBtn:S["a"],VCol:x["a"],VContainer:P["a"],VImg:R["a"],VRow:N["a"]})},b777:function(e,t,n){},b8ff:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return l}));var r,a=n("2111"),o=n("0ba5"),i=n("ca14"),c=n("9201");(function(e){e["open"]="open",e["closing"]="closing",e["closed"]="closed",e["settleable"]="settleable",e["settling"]="settling",e["settled"]="settled"})(r||(r={}));var u=a["p"](a["v"]({address:i["a"],deposit:Object(i["j"])(32),withdraw:Object(i["j"])(32),locks:a["q"](c["d"]),balanceProof:Object(i["h"])(c["a"]),pendingWithdraws:a["q"](a["x"]([Object(i["h"])(o["e"]),Object(i["h"])(o["c"]),Object(i["h"])(o["d"])])),nextNonce:Object(i["j"])(8)}),"ChannelEnd"),s=u,l=a["j"]([a["p"](a["v"]({_id:a["s"],id:a["n"],token:i["a"],tokenNetwork:i["a"],settleTimeout:a["n"],isFirstParticipant:a["e"],openBlock:a["n"],own:s,partner:s}),"Channel"),a["x"]([a["p"](a["v"]({state:a["x"]([a["l"](r.open),a["l"](r.closing)])}),"state[open|closing]"),a["j"]([a["p"](a["v"]({closeBlock:a["n"],closeParticipant:i["a"]}),"ChannelClosed"),a["x"]([a["p"](a["v"]({state:a["x"]([a["l"](r.closed),a["l"](r.settleable),a["l"](r.settling)])}),"state[closed|settleable|settling]"),a["p"](a["v"]({state:a["l"](r.settled),settleBlock:a["n"]}),"state[settled]")])])])])},bbb7:function(e,t,n){},bbd4:function(e,t,n){"use strict";n("b777")},bcdd:function(e,t,n){"use strict";n("c12f")},bf6c:function(e){e.exports=JSON.parse('{"sdk":"0.17.0","contracts":"0.37.5"}')},c12f:function(e,t,n){},c50f:function(e,t,n){"use strict";n("0f05")},ca14:function(e,t,n){"use strict";n.d(t,"l",(function(){return g})),n.d(t,"n",(function(){return j})),n.d(t,"b",(function(){return w})),n.d(t,"d",(function(){return k})),n.d(t,"j",(function(){return E})),n.d(t,"g",(function(){return T})),n.d(t,"c",(function(){return A})),n.d(t,"f",(function(){return S})),n.d(t,"e",(function(){return x})),n.d(t,"a",(function(){return R})),n.d(t,"i",(function(){return N})),n.d(t,"p",(function(){return C})),n.d(t,"q",(function(){return D})),n.d(t,"h",(function(){return I})),n.d(t,"m",(function(){return U})),n.d(t,"o",(function(){return M})),n.d(t,"k",(function(){return L}));var r=n("2d67"),a=n("c00b"),o=n("b97c"),i=n("87b8"),c=n("a91f"),u=n("2111"),s=n("c2c4"),l=n("427e"),f=n.n(l),p=n("ee6c"),d=["ts"];function b(e,t){if(null==e)return{};var n,r,a=y(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function y(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O(e){if(Object(c["isLeft"])(e))throw new Error(s["PathReporter"].report(e).join("\n"))}function g(e,t,n,r){try{var a=e.decode(t);return O(a),a.right}catch(o){throw null===r||void 0===r||r("__decode failed:",e,t),n?n instanceof Error?n:new p["c"](n):o}}function j(e){return null!=e}var w=new u["b"]("BigNumber",a["a"].isBigNumber,(function(e,t){try{return u["t"](a["a"].from(e))}catch(n){return u["h"](e,t)}}),(function(e){return e.toString()})),_=f()((function(e){return u["f"](u["s"],(function(t){return"string"===typeof t&&(e?Object(o["d"])(t)===e:Object(o["l"])(t))}),"HexString")})),k=f()((function(e){var t=e?i["h"].sub(i["f"].pow(8*e-1)):void 0,n=e?i["f"].pow(8*e-1):void 0;return u["f"](w,(function(e){return w.is(e)&&(!t||!n||e.gte(t)&&e.lt(n))}),"Int")})),E=f()((function(e){var t=e?i["h"]:void 0,n=e?i["f"].pow(8*e):void 0;return u["f"](w,(function(e){return w.is(e)&&(!t||!n||e.gte(t)&&e.lt(n))}),"UInt")})),T=_(65),A=_(32),S=_(32),x=_(32);function P(e){try{return Object(r["a"])(e)===e}catch(t){return!1}}var R=new u["a"]("Address",P,(function(e,t){try{return u["t"](Object(r["a"])(e))}catch(n){return u["h"](e,t)}}),u["i"],_(20),P),N=f()((function(e){return u["j"]([e,u["p"](u["v"]({ts:u["n"]}))])}));function C(e){return m(m({},e),{},{ts:Date.now()})}function D(e){e.ts;var t=b(e,d);return t}var I=f()((function(e){return u["j"]([e,u["p"](u["v"]({signature:T}))])})),U=f()((function(e){return new u["b"]("instanceOf(".concat(e,")"),(function(t){var n;return(null===t||void 0===t||null===(n=t.constructor)||void 0===n?void 0:n.name)===e}),(function(t,n){var r;return(null===t||void 0===t||null===(r=t.constructor)||void 0===r?void 0:r.name)===e?u["t"](t):u["h"](t,n)}),u["i"])}));function M(e){return e[e.length-1]}function L(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return e.lt(t)?t:e}))}},cd49:function(e,t,n){"use strict";n.r(t);var r=n("d74d");r["b"].registerHooks(["beforeRouteEnter","beforeRouteLeave","beforeRouteUpdate"]);n("0f75");r["b"].registerHooks(["beforeRouteEnter","beforeRouteLeave","beforeRouteUpdate"]);var a=n("e832"),o=n("b7e6"),i=n.n(o);function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),e}var l=function(){function e(){c(this,e),this.cache={}}return s(e,[{key:"getIdenticon",value:function(e){var t=this.cache[e];if(t)return t;var n=i()(e);return this.cache[e]=n,n}}]),e}();function f(e,t){e.prototype.$identicon=new l}var p=n("4af9"),d=n("c217"),b=n.n(d),y=n("e6ee"),h=n.n(y),m=n("79e0"),v=n.n(m),O=n("0cb2"),g=n.n(O),j=n("605b"),w=n.n(j),_=n("fe07"),k=n.n(_),E=n("c38e"),T=n.n(E),A=n("6298"),S=n.n(A),x=n("94ea"),P=n("fbac"),R=n("f455"),N=n("87a2"),C=n("6485");function D(e,t){return t.id-e.id}var I={notifications:function(e){return Object.values(e.notifications).sort(D)},notificationQueue:function(e){return Object.values(e.notifications).filter((function(e){return e.importance===C["a"].HIGH&&!0===e.display})).sort(D)}},U=n("d8a5");function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){B(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function B(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function F(e){return $(e)||H(e)||W(e)||V()}function V(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function W(e,t){if(e){if("string"===typeof e)return q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?q(e,t):void 0}}function H(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function $(e){if(Array.isArray(e))return q(e)}function q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function K(e){var t=Object.values(e).map((function(e){return e.id}));return Math.max.apply(Math,F(t).concat([0]))+1}var G,Y={notificationDelete:function(e,t){var n=L({},e.notifications);delete n[t],e.notifications=n},notificationsViewed:function(e){e.newNotifications=!1},notificationAddOrReplace:function(e,t){var n,r,a,o,i,c,u=e.notifications,s=Object.values(u).filter((function(e){var n=e.txHash;return n&&n===t.txHash})),l=null!==(n=null===(r=s[0])||void 0===r?void 0:r.id)&&void 0!==n?n:K(u),f=null===(a=s[0])||void 0===a||!a.id,p=L(L({},t),{},{id:l,received:new Date,display:f,context:null!==(o=t.context)&&void 0!==o?o:U["a"].NONE,importance:null!==(i=t.importance)&&void 0!==i?i:C["a"].LOW,duration:null!==(c=t.duration)&&void 0!==c?c:5e3});e.notifications=L(L({},u),{},B({},p.id,p)),e.newNotifications=!0},setNotificationShown:function(e,t){e.notifications[t].display=!1},clear:function(e){e.notifications=[]}},X=function(){return{notifications:{},newNotifications:!1}},Q=X(),z=Q,J={namespaced:!0,mutations:Y,state:z,getters:I},Z={setTokenAddress:function(e,t){e.tokenAddress=t},setToken:function(e,t){e.token=t},setPlannedWithdrawal:function(e,t){e.plannedWithdrawal=t},clearPlannedWithdrawal:function(e){e.plannedWithdrawal=void 0}},ee=function(){return{tokenAddress:"",token:void 0,plannedWithdrawal:void 0}},te=ee(),ne=te,re={namespaced:!0,mutations:Z,state:ne},ae={getEthereumProviderOptions:function(e){return function(t){var n;return null!==(n=e.ethereumProviderOptions[t])&&void 0!==n?n:{}}}},oe={enableRaidenAccount:function(e){e.useRaidenAccount=!0},disableRaidenAccount:function(e){e.useRaidenAccount=!1},saveEthereumProviderOptions:function(e,t){e.ethereumProviderOptions[t.providerName]=t.providerOptions}},ie=function(){return{useRaidenAccount:!0,ethereumProviderOptions:{}}},ce=ie(),ue=ce,se={namespaced:!0,state:ue,getters:ae,mutations:oe},le=new P["a"]({key:"raiden_dapp_settings",modules:["userSettings"]});function fe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fe(Object(n),!0).forEach((function(t){de(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function de(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function be(e,t){return Oe(e)||ve(e,t)||he(e,t)||ye()}function ye(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function he(e,t){if(e){if("string"===typeof e)return me(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?me(e,t):void 0}}function me(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ve(e,t){var n=e&&("undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0)if(o.push(r.value),t&&o.length===t)break}catch(u){c=!0,a=u}finally{try{i||null==n["return"]||n["return"]()}finally{if(c)throw a}}return o}}function Oe(e){if(Array.isArray(e))return e}a["a"].use(x["b"]);var ge={isConnected:!1,blockNumber:0,defaultAccount:"",accountBalance:"0.0",raidenAccountBalance:"",channels:{},tokens:{},transfers:{},presences:{},network:N["b"],stateBackup:"",config:{},disclaimerAccepted:!1,stateBackupReminderDateMs:0,persistDisclaimerAcceptance:!1,versionInfo:{activeVersion:null!==(G="0.17.0")&&void 0!==G?G:"0.0.0",availableVersion:void 0,updateIsMandatory:!1}};function je(){return h()(ge)}var we=function(e,t){return e.balance&&t.balance&&(!e.balance.isZero()||!t.balance.isZero())},_e=new P["b"]({reducer:function(e){return{disclaimerAccepted:!!e.persistDisclaimerAcceptance&&e.disclaimerAccepted}},filter:function(e){return"acceptDisclaimer"===e.type},key:"disclaimer"}),ke=new P["b"]({reducer:function(e){return{stateBackupReminderDateMs:e.stateBackupReminderDateMs}},filter:function(e){return"updateStateBackupReminderDate"===e.type},key:"backupReminder"}),Ee={state:je(),mutations:{setConnected:function(e){e.isConnected=!0},setDisconnected:function(e){e.isConnected=!1},account:function(e,t){e.defaultAccount=t},updateBlock:function(e,t){e.blockNumber=t},balance:function(e,t){e.accountBalance=t},raidenAccountBalance:function(e,t){e.raidenAccountBalance=t},updateChannels:function(e,t){e.channels=t},updateTokens:function(e,t){for(var n=0,r=Object.entries(t);n<r.length;n++){var a=be(r[n],2),o=a[0],i=a[1];o in e.tokens&&k()(i,e.tokens[o])||(o in e.tokens?e.tokens[o]=pe(pe({},e.tokens[o]),i):e.tokens=pe(pe({},e.tokens),{},de({},o,i)))}},updatePresence:function(e,t){e.presences=pe(pe({},e.presences),t)},network:function(e,t){e.network=t},reset:function(e){var t=e.disclaimerAccepted,n=e.stateBackup,r=e.stateBackupReminderDateMs;Object.assign(e,pe(pe({},je()),{},{disclaimerAccepted:t,stateBackup:n,stateBackupReminderDateMs:r}))},updateTransfers:function(e,t){e.transfers=pe(pe({},e.transfers),{},de({},t.key,t))},backupState:function(e,t){e.stateBackup=t},clearBackupState:function(e){e.stateBackup=""},updateConfig:function(e,t){e.config=t},acceptDisclaimer:function(e,t){e.disclaimerAccepted=!0,e.persistDisclaimerAcceptance=t},updateStateBackupReminderDate:function(e,t){e.stateBackupReminderDateMs=t},setAvailableVersion:function(e,t){b.a.validate(t)&&(e.versionInfo=pe(pe({},e.versionInfo),{},{availableVersion:t}))},setUpdateIsMandatory:function(e){e.versionInfo=pe(pe({},e.versionInfo),{},{updateIsMandatory:!0})}},actions:{},getters:{tokensWithChannels:function(e){for(var t={},n=0,r=Object.entries(e.tokens);n<r.length;n++){var a=be(r[n],2),o=a[0],i=a[1];e.channels[o]&&(t[o]=i)}return t},tokens:function(e){var t=function(e,t){return e.address=t.token,e[t.state]+=1,e};return T()(v()(g()(e.channels),(function(e){return!w()(e)})),(function(n){var r=S()(n,t,Object(N["d"])()),a=e.tokens[r.address];return a&&(r.name=a.name||"",r.symbol=a.symbol||""),r}))},allTokens:function(e){return Object.values(e.tokens).sort((function(e,t){return we(e,t)?t.balance.gt(e.balance)?1:-1:e.symbol&&t.symbol?e.symbol.localeCompare(t.symbol):0}))},channels:function(e){return function(t){var n=[],r=e.channels[t];return r&&!w()(r)&&(n=g()(r)),n}},openChannels:function(e){return Object.keys(e.channels).length>0},token:function(e){return function(t){return t in e.tokens?e.tokens[t]:null}},network:function(e){return Object(R["f"])(e.network)},mainnet:function(e){return 1===e.network.chainId},channelWithBiggestCapacity:function(e,t){return function(e){var n=t.channels(e),r=n.filter((function(e){return e.state===R["b"].open})),a=r.sort((function(e,t){var n=e.capacity.sub(t.capacity);return n.lt(0)?1:n.gt(0)?-1:0}));return a[0]}},pendingTransfers:function(e){var t=e.transfers;return Object.keys(t).filter((function(e){var n=t[e].completed;return!n})).reduce((function(e,n){return e[n]=t[n],e}),{})},transfer:function(e){return function(t){return Object.values(e.transfers).find((function(e){return e.paymentId.eq(t)}))}},versionUpdateAvailable:function(e){var t=e.versionInfo,n=t.activeVersion,r=t.availableVersion;return!!n&&!!r&&b.a.compare(r,n,">")}},plugins:[le.plugin,_e.plugin,ke.plugin],modules:{notifications:J,userDepositContract:re,userSettings:se}},Te=new x["b"].Store(Ee),Ae=n("80bf");function Se(e,t,r){null===t.name?r({name:Ae["a"].HOME}):e.matched.length&&(e.matched[0].components.default=t.matched[0].components.default,e.matched[0].components.modal=function(){return n.e("chunk-3cb28422").then(n.bind(null,"47f5"))}),r()}var xe=[Ae["a"].ACCOUNT_ROOT,Ae["a"].ACCOUNT_BACKUP,Ae["a"].ACCOUNT_SETTINGS],Pe=function(e,t){var n,r=t.state.isConnected,a=xe.includes(null!==(n=e.name)&&void 0!==n?n:""),o=e.name===Ae["a"].HOME;if(!a)return r||o?!r&&o?null:r&&o?{name:Ae["a"].TRANSFER}:void 0:{name:Ae["a"].HOME,query:{redirectTo:e.fullPath}}},Re=function(e,t){var n=t.state.disclaimerAccepted,r=e.name===Ae["a"].DISCLAIMER;return n||r?!n&&r?null:n&&r?{name:Ae["a"].HOME}:void 0:{name:Ae["a"].DISCLAIMER,query:{redirectTo:e.fullPath}}};function Ne(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Ce(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function Ce(e,t){if(e){if("string"===typeof e)return De(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?De(e,t):void 0}}function De(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ie(e,t,n){var r,a=Ne(this.children);try{for(a.s();!(r=a.n()).done;){var o=r.value,i=o(e,this.store);if(null===i)return void n();if(void 0!==i)return void n(i)}}catch(c){a.e(c)}finally{a.f()}n({})}var Ue=[Ae["a"].ACCOUNT_ROOT,Ae["a"].ACCOUNT_BACKUP,Ae["a"].ACCOUNT_RAIDEN,Ae["a"].ACCOUNT_SETTINGS,Ae["a"].ACCOUNT_WITHDRAWAL,Ae["a"].ACCOUNT_UDC],Me=[Ae["a"].SELECT_TOKEN,Ae["a"].SELECT_HUB,Ae["a"].OPEN_CHANNEL],Le=function(e,t){var n,r,a=t.getters.tokensWithChannels,o=0===Object.keys(a).length,i=e.name===Ae["a"].NO_CONNECTED_TOKEN,c=Ue.includes(null!==(n=e.name)&&void 0!==n?n:""),u=Me.includes(null!==(r=e.name)&&void 0!==r?r:"");if(!c)return u?null:o&&!i?{name:Ae["a"].NO_CONNECTED_TOKEN}:o&&i?null:!o&&i?{name:Ae["a"].TRANSFER}:void 0};function Be(e,t,r){null===t.name?r({name:Ae["a"].HOME}):e.matched.length&&(e.matched[0].components.default=t.matched[0].components.default,e.matched[0].components.notifications=function(){return n.e("chunk-4c8285c4").then(n.bind(null,"c284"))}),r()}var Fe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"disclaimer",attrs:{"data-cy":"disclaimer"}},[n("div",{staticClass:"disclaimer__content"},[n("div",{staticClass:"disclaimer__content__text"},[n("span",{staticClass:"disclaimer__content__text__header"},[e._v(" "+e._s(e.$t("disclaimer.user-info.header"))+" ")]),n("span",{staticClass:"disclaimer__content__text__body"},[e._v(e._s(e.$t("disclaimer.user-info.body")))]),n("div",e._l(e.$t("disclaimer.user-info.bullet-points"),(function(t,r){return n("ul",{key:r,staticClass:"disclaimer__content__text__bullet-points"},[n("li",[e._v(" "+e._s(t.text)+" "),n("a",{attrs:{href:e.disclaimerUrlMappings[r],target:"_blank"}},[e._v(" "+e._s(t.link)+" ")])])])})),0),e.imprint&&e.terms?n("span",{staticClass:"disclaimer__content__text__header, imprint_terms_header"},[e._v(" "+e._s(e.$t("disclaimer.terms.header"))+" ")]):e._e(),e.imprint&&e.terms?n("i18n",{staticClass:"disclaimer__content__text__imprint-terms-body",attrs:{path:"disclaimer.terms.body",tag:"span"}},[n("a",{attrs:{href:e.terms,target:"_blank"}},[e._v(" "+e._s(e.$t("disclaimer.terms.link-name-terms"))+" ")]),n("a",{attrs:{href:e.imprint,target:"_blank"}},[e._v(" "+e._s(e.$t("disclaimer.terms.link-name-policy"))+" ")])]):e._e(),n("span",{staticClass:"disclaimer__content__text__header"},[e._v(" "+e._s(e.$t("disclaimer.disclaimer.header"))+" ")]),n("span",{staticClass:"disclaimer__content__text__body"},[e._v(e._s(e.$t("disclaimer.disclaimer.body")))]),n("span",{staticClass:"disclaimer__content__text__header"},[e._v(" "+e._s(e.$t("disclaimer.privacy.header"))+" ")]),e._l(e.$t("disclaimer.privacy.body"),(function(t,r){return n("div",{key:r,staticClass:"disclaimer__content__text__body"},[n("span",[e._v(e._s(t))])])}))],2),n("v-checkbox",{staticClass:"disclaimer__content__accept-checkbox",attrs:{"data-cy":"disclaimer_accept_checkbox",label:e.$t("disclaimer.accept-checkbox"),dense:"","hide-details":""},model:{value:e.checkedAccept,callback:function(t){e.checkedAccept=t},expression:"checkedAccept"}}),n("v-checkbox",{staticClass:"disclaimer__content__persist-checkbox",attrs:{"data-cy":"disclaimer_persist_checkbox",label:e.$t("disclaimer.persist-checkbox"),dense:"","hide-details":""},model:{value:e.checkedPersist,callback:function(t){e.checkedPersist=t},expression:"checkedPersist"}})],1),n("action-button",{staticClass:"disclaimer__accept-button",attrs:{text:e.$t("disclaimer.accept-button"),"data-cy":"disclaimer_accept_button",enabled:e.checkedAccept,"full-width":"",sticky:""},on:{click:e.accept}})],1)},Ve=[],We=n("6dbe"),He=n("5cf9"),$e=n("750b");function qe(e){return qe="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qe(e)}function Ke(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ge(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ye(e,t,n){return t&&Ge(e.prototype,t),n&&Ge(e,n),e}function Xe(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Qe(e,t)}function Qe(e,t){return Qe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Qe(e,t)}function ze(e){var t=et();return function(){var n,r=tt(e);if(t){var a=tt(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Je(this,n)}}function Je(e,t){return!t||"object"!==qe(t)&&"function"!==typeof t?Ze(e):t}function Ze(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function et(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function tt(e){return tt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},tt(e)}var nt=function(e){Xe(n,e);var t=ze(n);function n(){var e;return Ke(this,n),e=t.apply(this,arguments),e.checkedAccept=!1,e.checkedPersist=!1,e.disclaimerUrlMappings={portal:"https://developer.raiden.network",docs:"https://docs.raiden.network",videos:"https://www.youtube.com/channel/UCoUP_hnjUddEvbxmtNCcApg",medium:"https://medium.com/@raiden_network"},e}return Ye(n,[{key:"imprint",get:function(){return"https://raiden.network/privacy.html"}},{key:"terms",get:function(){return"https://github.com/raiden-network/light-client/blob/master/TERMS.md"}},{key:"navigationTarget",get:function(){var e=this.$route.query.redirectTo;return e?{path:e}:{name:Ae["a"].HOME}}},{key:"accept",value:function(){this.$store.commit("acceptDisclaimer",this.checkedPersist),this.$router.push(this.navigationTarget)}}]),n}(He["g"]);nt=Object(We["__decorate"])([Object(He["a"])({components:{ActionButton:$e["a"]}})],nt);var rt=nt,at=rt,ot=(n("ad88"),n("a6c2")),it=n("411c"),ct=n.n(it),ut=n("0591"),st=Object(ot["a"])(at,Fe,Ve,!1,null,"1dd09c60",null),lt=st.exports;ct()(st,{VCheckbox:ut["a"]});var ft=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"home",attrs:{fluid:"","data-cy":"home"}},[r("v-row",{attrs:{"no-gutters":""}},[r("v-col",{attrs:{cols:"12"}},[r("div",{staticClass:"home__logo-container"},[r("v-img",{staticClass:"home__logo-container__logo",attrs:{src:n("9b19"),"aspect-ratio":"1",contain:""}})],1)])],1),r("v-row",{attrs:{"no-gutters":""}},[r("v-col",{attrs:{cols:"12"}},[r("div",{staticClass:"home__app-welcome text-center"},[e._v(" "+e._s(e.$t("home.welcome"))+" ")])])],1),r("v-row",{attrs:{"no-gutters":""}},[r("v-col",{attrs:{cols:"12"}},[r("div",{staticClass:"home__disclaimer text-center font-weight-light"},[e._v(" "+e._s(e.$t("home.disclaimer"))+" ")]),r("i18n",{staticClass:"home__getting-started text-center font-weight-light",attrs:{path:"home.getting-started.description",tag:"div"}},[r("a",{attrs:{href:"https://github.com/raiden-network/light-client#getting-started",target:"_blank"}},[e._v(" "+e._s(e.$t("home.getting-started.link-name"))+" ")])])],1)],1),r("v-row",{attrs:{"no-gutters":""}},[r("v-col",{staticClass:"mt-10",attrs:{cols:"12"}},[r("connection-manager")],1)],1)],1)},pt=[],dt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"connection-manager"},[n("v-alert",{staticClass:"connection-manager__error-message font-weight-light",class:{"connection-manager__error-message--hidden":!e.errorCode},attrs:{color:"error",icon:"warning"}},[e._v(" "+e._s(e.translatedErrorCode)+" ")]),e.showProviderButtons?[e._l(e.providerList,(function(t,r){return[e.isProviderDisabled(r)?e._e():n("action-button",{key:"button_"+r,staticClass:"connection-manager__provider-dialog-button",attrs:{"data-cy":"connection-manager__provider-dialog-button__"+r,enabled:t.factory.isAvailable,text:e.$t(t.buttonText),width:"280px"},on:{click:function(t){return e.openProviderDialog(r)}}})]}))]:e._e(),e._l(e.providerList,(function(t,r){return[e.isProviderDialogVisible(r)?n(t.dialogComponent,{key:"dialog_"+r,tag:"component",on:{linkEstablished:e.onProviderLinkEstablished,cancel:function(t){return e.closeProviderDialog(r)}}}):e._e()]})),e.inProgress?[n("connection-pending-dialog",{on:{"reset-connection":e.resetConnection}})]:e._e()],2)},bt=[],yt=n("36d8"),ht=n.n(yt),mt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("raiden-dialog",{attrs:{visible:!0,"hide-close":!0}},[n("v-card-title",[e._v(" "+e._s(e.$t("connection-manager.dialogs.connection-pending.title"))+" ")]),n("v-card-text",[n("spinner"),e._v(" "+e._s(e.$t("connection-manager.dialogs.connection-pending.text"))+" ")],1),n("v-card-actions",[n("action-button",{attrs:{text:e.$t("connection-manager.dialogs.connection-pending.button"),enabled:!0},on:{click:e.resetConnection}})],1)],1)},vt=[],Ot=n("66bc"),gt=n("0527");function jt(e){return jt="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jt(e)}function wt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function kt(e,t,n){return t&&_t(e.prototype,t),n&&_t(e,n),e}function Et(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Tt(e,t)}function Tt(e,t){return Tt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Tt(e,t)}function At(e){var t=Pt();return function(){var n,r=Rt(e);if(t){var a=Rt(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return St(this,n)}}function St(e,t){return!t||"object"!==jt(t)&&"function"!==typeof t?xt(e):t}function xt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Pt(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Rt(e){return Rt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Rt(e)}var Nt=function(e){Et(n,e);var t=At(n);function n(){return wt(this,n),t.apply(this,arguments)}return kt(n,[{key:"resetConnection",value:function(){}}]),n}(He["g"]);Object(We["__decorate"])([Object(He["b"])("reset-connection")],Nt.prototype,"resetConnection",null),Nt=Object(We["__decorate"])([Object(He["a"])({components:{ActionButton:$e["a"],RaidenDialog:Ot["a"],Spinner:gt["a"]}})],Nt);var Ct=Nt,Dt=Ct,It=n("e47e"),Ut=Object(ot["a"])(Dt,mt,vt,!1,null,null,null),Mt=Ut.exports;ct()(Ut,{VCardActions:It["a"],VCardText:It["c"],VCardTitle:It["d"]});var Lt,Bt=n("2fca"),Ft=n("87b1");function Vt(e){return Vt="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vt(e)}function Wt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ht(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wt(Object(n),!0).forEach((function(t){sn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $t(e,t){return Xt(e)||Yt(e,t)||Kt(e,t)||qt()}function qt(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Kt(e,t){if(e){if("string"===typeof e)return Gt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Gt(e,t):void 0}}function Gt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Yt(e,t){var n=e&&("undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0)if(o.push(r.value),t&&o.length===t)break}catch(u){c=!0,a=u}finally{try{i||null==n["return"]||n["return"]()}finally{if(c)throw a}}return o}}function Xt(e){if(Array.isArray(e))return e}function Qt(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(s){return void n(s)}c.done?t(u):Promise.resolve(u).then(r,a)}function zt(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Qt(o,r,a,i,c,"next",e)}function c(e){Qt(o,r,a,i,c,"throw",e)}i(void 0)}))}}function Jt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function en(e,t,n){return t&&Zt(e.prototype,t),n&&Zt(e,n),e}function tn(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&nn(e,t)}function nn(e,t){return nn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},nn(e,t)}function rn(e){var t=cn();return function(){var n,r=un(e);if(t){var a=un(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return an(this,n)}}function an(e,t){return!t||"object"!==Vt(t)&&"function"!==typeof t?on(e):t}function on(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cn(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function un(e){return un=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},un(e)}function sn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ln(e){return e.message&&e.message.includes("No deploy info provided")?N["a"].UNSUPPORTED_NETWORK:e.message&&e.message.includes("Could not replace stored state")?N["a"].STATE_MIGRATION_FAILED:N["a"].SDK_INITIALIZATION_FAILED}var fn=Object(x["a"])("userSettings"),pn=fn.mapState,dn=(Lt={},sn(Lt,Ft["b"].providerName,{factory:Ft["b"],buttonText:"connection-manager.dialogs.injected-provider.header",dialogComponent:function(){return n.e("chunk-999b6682").then(n.bind(null,"073a"))}}),sn(Lt,Ft["c"].providerName,{factory:Ft["c"],buttonText:"connection-manager.dialogs.wallet-connect-provider.header",dialogComponent:function(){return Promise.all([n.e("chunk-8c002adc"),n.e("chunk-60216f0b")]).then(n.bind(null,"f634"))}}),sn(Lt,Ft["a"].providerName,{factory:Ft["a"],buttonText:"connection-manager.dialogs.direct-rpc-provider.header",dialogComponent:function(){return Promise.all([n.e("chunk-8c002adc"),n.e("chunk-2d0ac3da")]).then(n.bind(null,"1962"))}}),Lt),bn=function(e){tn(n,e);var t=rn(n);function n(){var e;return Jt(this,n),e=t.apply(this,arguments),e.inProgress=!1,e.errorCode=null,e.providerList=dn,e.providerDialogOpenState=Object.fromEntries(Object.keys(e.providerList).map((function(e){return[e,!1]}))),e.providerDisabledState=Object.fromEntries(Object.keys(e.providerList).map((function(e){return[e,!0]}))),e}return en(n,[{key:"showProviderButtons",get:function(){return!this.isConnected&&!this.inProgress}},{key:"translatedErrorCode",get:function(){if(this.errorCode){var e="error-codes.".concat(this.errorCode.toString());return this.$t(e)}return""}},{key:"isProviderDisabled",value:function(e){var t;return null===(t=this.providerDisabledState[e])||void 0===t||t}},{key:"isProviderDialogVisible",value:function(e){var t;return null!==(t=this.providerDialogOpenState[e])&&void 0!==t&&t}},{key:"openProviderDialog",value:function(e){this.providerDialogOpenState[e]=!0}},{key:"closeProviderDialog",value:function(e){this.providerDialogOpenState[e]=!1}},{key:"created",value:function(){this.checkForDisabledProviders()}},{key:"checkForDisabledProviders",value:function(){var e=zt(ht.a.mark((function e(){var t,n,r,a=this;return ht.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(t=function(){var e=$t(r[n],2),t=e[0],o=e[1];o.factory.isDisabled().then((function(e){a.providerDisabledState[t]=e}))},n=0,r=Object.entries(this.providerList);n<r.length;n++)t();case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"closeAllProviderDialogs",value:function(){this.providerDialogOpenState=Object.fromEntries(Object.keys(this.providerDialogOpenState).map((function(e){return[e,!1]})))}},{key:"onProviderLinkEstablished",value:function(){var e=zt(ht.a.mark((function e(t){return ht.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.closeAllProviderDialogs(),e.next=3,this.connect(t);case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"connect",value:function(){var e=zt(ht.a.mark((function e(t){var n,r,a;return ht.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.isConnected&&!this.inProgress){e.next=2;break}throw new Error("Can only connect once!");case 2:return this.inProgress=!0,this.errorCode=null,this.$store.commit("reset"),e.next=7,Bt["a"].configuration();case 7:return n=e.sent,r=!!this.useRaidenAccount||void 0,e.next=11,t.provider.getNetwork();case 11:if(a=e.sent,1!==a.chainId){e.next=16;break}return this.errorCode=N["a"].UNSUPPORTED_NETWORK,this.inProgress=!1,e.abrupt("return");case 16:return e.prev=16,e.next=19,this.$raiden.connect(t.provider,t.account,this.stateBackup,n.per_network,r);case 19:e.next=26;break;case 21:return e.prev=21,e.t0=e["catch"](16),this.errorCode=ln(e.t0),this.inProgress=!1,e.abrupt("return");case 26:this.$store.commit("setConnected"),this.$store.commit("clearBackupState");case 28:case"end":return e.stop()}}),e,this,[[16,21]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"resetConnection",value:function(){localStorage.removeItem("walletconnect"),window.location.replace(window.location.origin)}}]),n}(He["g"]);bn=Object(We["__decorate"])([Object(He["a"])({computed:Ht(Ht({},Object(x["e"])(["isConnected","stateBackup"])),pn(["useRaidenAccount"])),components:{ActionButton:$e["a"],ConnectionPendingDialog:Mt}})],bn);var yn=bn,hn=yn,mn=(n("cd89"),n("36c4")),vn=Object(ot["a"])(hn,dt,bt,!1,null,"433b1767",null),On=vn.exports;function gn(e){return gn="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gn(e)}function jn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jn(Object(n),!0).forEach((function(t){_n(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _n(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function En(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Tn(e,t,n){return t&&En(e.prototype,t),n&&En(e,n),e}function An(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Sn(e,t)}function Sn(e,t){return Sn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Sn(e,t)}function xn(e){var t=Nn();return function(){var n,r=Cn(e);if(t){var a=Cn(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Pn(this,n)}}function Pn(e,t){return!t||"object"!==gn(t)&&"function"!==typeof t?Rn(e):t}function Rn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Nn(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Cn(e){return Cn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Cn(e)}ct()(vn,{VAlert:mn["a"]});var Dn=function(e){An(n,e);var t=xn(n);function n(){return kn(this,n),t.apply(this,arguments)}return Tn(n,[{key:"navigationTarget",get:function(){var e=this.$route.query.redirectTo;return e?{path:e}:{name:Ae["a"].TRANSFER}}},{key:"onConnectionEstablished",value:function(e){e&&this.$router.push(this.navigationTarget)}}]),n}(He["g"]);Object(We["__decorate"])([Object(He["h"])("isConnected",{immediate:!0})],Dn.prototype,"onConnectionEstablished",null),Dn=Object(We["__decorate"])([Object(He["a"])({computed:wn({},Object(x["e"])(["isConnected"])),components:{ConnectionManager:On}})],Dn);var In=Dn,Un=In,Mn=(n("5ba5"),n("1fb1")),Ln=n("1331"),Bn=n("e614"),Fn=Object(ot["a"])(Un,ft,pt,!1,null,"a1115054",null),Vn=Fn.exports;ct()(Fn,{VCol:Mn["a"],VImg:Ln["a"],VRow:Bn["a"]});var Wn=[{path:"/",name:Ae["a"].DISCLAIMER,meta:{title:"Disclaimer",cannotNavigateBack:!0},component:lt},{path:"*",redirect:"/"},{path:"/home",name:Ae["a"].HOME,meta:{title:"Raiden dApp",cannotNavigateBack:!0},component:Vn},{path:"/no_connected_token",name:Ae["a"].NO_CONNECTED_TOKEN,meta:{title:"Connect",cannotNavigateBack:!0},component:function(){return n.e("chunk-2d0abce7").then(n.bind(null,"179d"))}},{path:"/transfer/:token?",name:Ae["a"].TRANSFER,meta:{title:"Transfer",cannotNavigateBack:!0,infoOverlay:{headerImage:"transfer_info.svg",header:"info-overlay.transfer.header",body:"info-overlay.transfer.body"}},component:function(){return Promise.all([n.e("chunk-04c2b6fd"),n.e("chunk-0f95fc66"),n.e("chunk-7dc38c0e"),n.e("chunk-140e999f"),n.e("chunk-63616879")]).then(n.bind(null,"ded4"))}},{path:"/transfer/:token/:target",name:Ae["a"].TRANSFER_STEPS,meta:{title:"Transfer",infoOverlay:{headerImage:"transfer_steps_info.svg",header:"info-overlay.transfer-steps.header",body:"info-overlay.transfer-steps.body"}},component:function(){return Promise.all([n.e("chunk-04c2b6fd"),n.e("chunk-0f95fc66"),n.e("chunk-7dc38c0e"),n.e("chunk-60ea682c")]).then(n.bind(null,"146c"))}},{path:"/connect",name:Ae["a"].SELECT_TOKEN,meta:{title:"Select Token"},component:function(){return Promise.all([n.e("chunk-04c2b6fd"),n.e("chunk-59dffb81")]).then(n.bind(null,"eb67"))}},{path:"/connect/:token",name:Ae["a"].SELECT_HUB,meta:{title:"Select Hub",infoOverlay:{headerImage:"select_hub_info.svg",header:"info-overlay.select-hub.header",body:"info-overlay.select-hub.body"}},component:function(){return Promise.all([n.e("chunk-0f95fc66"),n.e("chunk-140e999f"),n.e("chunk-9d9798b0")]).then(n.bind(null,"5876"))}},{path:"/connect/:token/:partner",name:Ae["a"].OPEN_CHANNEL,meta:{title:"Open Channel",infoOverlay:{headerImage:"open_channel_info.svg",header:"info-overlay.open-channel.header",body:"info-overlay.open-channel.body"}},component:function(){return Promise.all([n.e("chunk-0f95fc66"),n.e("chunk-7dc38c0e"),n.e("chunk-f52be460")]).then(n.bind(null,"9db2"))}},{path:"/channels/:token",name:Ae["a"].CHANNELS,meta:{title:"Channels",infoOverlay:{headerImage:"channels_info.svg",header:"info-overlay.channels.header",body:"info-overlay.channels.body"}},component:function(){return Promise.all([n.e("chunk-04c2b6fd"),n.e("chunk-0f95fc66"),n.e("chunk-7dc38c0e"),n.e("chunk-4171b9d9")]).then(n.bind(null,"3a90"))}},{path:"/notifications",name:Ae["a"].NOTIFICATIONS,beforeEnter:Be},{path:"/account",beforeEnter:Se,children:[{path:"/",name:Ae["a"].ACCOUNT_ROOT,meta:{title:"Account"},component:function(){return Promise.all([n.e("chunk-04c2b6fd"),n.e("chunk-4bec154f")]).then(n.bind(null,"f18d"))}},{path:"backup",name:Ae["a"].ACCOUNT_BACKUP,meta:{title:"Backup State",infoOverlay:{headerImage:"backup_state_info.svg",header:"info-overlay.account-backup.header",body:"info-overlay.account-backup.body"}},component:function(){return Promise.all([n.e("chunk-04c2b6fd"),n.e("chunk-61ac107b")]).then(n.bind(null,"248bd"))}},{path:"raiden",name:Ae["a"].ACCOUNT_RAIDEN,meta:{title:"Raiden Account",infoOverlay:{headerImage:"transfer_eth_info.svg",header:"info-overlay.account-raiden.header",body:"info-overlay.account-raiden.body"}},component:function(){return Promise.all([n.e("chunk-0f95fc66"),n.e("chunk-f5e06b08")]).then(n.bind(null,"9114"))}},{path:"settings",name:Ae["a"].ACCOUNT_SETTINGS,meta:{title:"Settings"},component:function(){return Promise.all([n.e("chunk-04c2b6fd"),n.e("chunk-27ac4652")]).then(n.bind(null,"5d16"))}},{path:"withdrawal",name:Ae["a"].ACCOUNT_WITHDRAWAL,meta:{title:"Withdrawal",infoOverlay:{headerImage:"withdraw_tokens_info.svg",header:"info-overlay.account-withdrawal.header",body:"info-overlay.account-withdrawal.body"}},component:function(){return Promise.all([n.e("chunk-04c2b6fd"),n.e("chunk-5d456560")]).then(n.bind(null,"c917"))}},{path:"udc",name:Ae["a"].ACCOUNT_UDC,meta:{title:"UDC",infoOverlay:{headerImage:"udc_info.svg",header:"info-overlay.account-udc.header",body:"info-overlay.account-udc.body"}},component:function(){return Promise.all([n.e("chunk-0f95fc66"),n.e("chunk-df30bf38")]).then(n.bind(null,"4c07"))}}]}];a["a"].use(p["a"]);var Hn=new p["a"]({base:"/",mode:"hash",routes:Wn});Hn.beforeEach(Ie.bind({store:Te,children:[Re,Pe,Le]}));var $n=Hn,qn=n("22b7"),Kn=n("fbcd"),Gn=n("590d"),Yn=n("cefa"),Xn=n("58be"),Qn=n("573d"),zn=n.n(Qn),Jn=n("2726");function Zn(){var e=n("49f8"),t={};return e.keys().forEach((function(n){var r=n.match(/([A-Za-z0-9-_]+)\./i);if(r&&r.length>1){var a=r[1];t[a]=e(n)}})),t}a["a"].use(Jn["a"]);var er=new Jn["a"]({locale:"en",fallbackLocale:"en",messages:Zn()}),tr=n("a3d5");function nr(e){return nr="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nr(e)}function rr(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fr(e,t)}function ar(e){var t=sr();return function(){var n,r=pr(e);if(t){var a=pr(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return or(this,n)}}function or(e,t){return!t||"object"!==nr(t)&&"function"!==typeof t?ir(e):t}function ir(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cr(e){var t="function"===typeof Map?new Map:void 0;return cr=function(e){if(null===e||!lr(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return ur(e,arguments,pr(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),fr(n,e)},cr(e)}function ur(e,t,n){return ur=sr()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var a=Function.bind.apply(e,r),o=new a;return n&&fr(o,n.prototype),o},ur.apply(null,arguments)}function sr(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function lr(e){return-1!==Function.toString.call(e).indexOf("[native code]")}function fr(e,t){return fr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},fr(e,t)}function pr(e){return pr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},pr(e)}function dr(e,t){return hr(e)||yr(e,t)||jr(e,t)||br()}function br(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function yr(e,t){var n=e&&("undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0)if(o.push(r.value),t&&o.length===t)break}catch(u){c=!0,a=u}finally{try{i||null==n["return"]||n["return"]()}finally{if(c)throw a}}return o}}function hr(e){if(Array.isArray(e))return e}function mr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mr(Object(n),!0).forEach((function(t){Or(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Or(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gr(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=jr(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function jr(e,t){if(e){if("string"===typeof e)return wr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?wr(e,t):void 0}}function wr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _r(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(s){return void n(s)}c.done?t(u):Promise.resolve(u).then(r,a)}function kr(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){_r(o,r,a,i,c,"next",e)}function c(e){_r(o,r,a,i,c,"throw",e)}i(void 0)}))}}function Er(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Tr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ar(e,t,n){return t&&Tr(e.prototype,t),n&&Tr(e,n),e}function Sr(e){return void 0===e?er.t("notifications.tx-state-pending"):e?er.t("notifications.tx-state-confirmed"):""}var xr=function(){function e(t,n){var r=this;Er(this,e),this._userDepositTokenAddress="",this.disconnect=kr(ht.a.mark((function e(){return ht.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,r.raiden.stop();case 2:case"end":return e.stop()}}),e)}))),this.getAccount=function(){return r.raiden.address},this.getMainAccount=function(){return r.raiden.mainAddress},this._raiden=void 0,this.store=t,this.router=n}return Ar(e,[{key:"raiden",get:function(){if(void 0===this._raiden)throw new Error("Raiden instance was not initialized");return this._raiden}},{key:"updateBalances",value:function(){var e=kr(ht.a.mark((function e(){return ht.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.t0=this.store,e.next=3,this.getBalance();case 3:return e.t1=e.sent,e.t0.commit.call(e.t0,"balance",e.t1),e.t2=this.store,e.next=8,this.getBalance(this.raiden.address);case 8:e.t3=e.sent,e.t2.commit.call(e.t2,"raidenAccountBalance",e.t3);case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"fetchTokenList",value:function(){var e=kr(ht.a.mark((function e(){var t,n,r,a,o,i;return ht.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.raiden.getTokenList();case 2:t=e.sent,n=[],r={},a=gr(t);try{for(a.s();!(o=a.n()).done;)i=o.value,n.push(i),r[i]={address:i}}catch(c){a.e(c)}finally{a.f()}return this.store.commit("updateTokens",r),e.next=10,this.fetchAndUpdateTokenData(n);case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"monitoringReward",get:function(){return this.raiden.config.monitoringReward}},{key:"ensResolve",value:function(){var e=kr(ht.a.mark((function e(t){return ht.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.raiden.resolveName(t);case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e["catch"](0),new Pr(e.t0);case 9:case"end":return e.stop()}}),e,this,[[0,6]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"connect",value:function(){var t=kr(ht.a.mark((function t(n,r,a){var o,i,c,u,s=this,l=arguments;return ht.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return o=l.length>3&&void 0!==l[3]?l[3]:{},i=l.length>4?l[4]:void 0,t.next=4,e.createRaiden(n,r,a,i);case 4:return c=t.sent,this._raiden=c,this.usingSubkey=null!==i&&void 0!==i&&i,u=this.getAccount(),this.store.commit("account",u),t.next=11,c.userDepositTokenAddress();case 11:return this._userDepositTokenAddress=t.sent,this.store.commit("userDepositContract/setTokenAddress",this._userDepositTokenAddress),t.next=15,this.monitorPreSetTokens(o);case 15:return c.events$.pipe(Object(Yn["a"])((function(e){return"block/new"===e.type}))).subscribe((function(e){return s.store.commit("updateBlock",e.payload.blockNumber)})),c.events$.pipe(Object(Yn["a"])((function(e){return"block/new"===e.type})),Object(Xn["a"])((function(){return s.updateUserDepositContractToken()}))).subscribe(),c.events$.pipe(Object(Yn["a"])((function(e){return"raiden/shutdown"===e.type}))).subscribe((function(){s.store.commit("reset"),s.router.push({name:Ae["a"].HOME})})),c.config$.subscribe(function(){var e=kr(ht.a.mark((function e(t){var n;return ht.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(s.store.commit("updateConfig",t),null!==(n=t.caps)&&void 0!==n&&n[R["a"].RECEIVE]){e.next=4;break}return e.next=4,s.notifyNoReceive();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c.events$.subscribe(function(){var e=kr(ht.a.mark((function e(t){var n;return ht.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("token/monitored"!==t.type){e.next=5;break}s.store.commit("updateTokens",Or({},t.payload.token,{address:t.payload.token})),s.fetchAndUpdateTokenData([t.payload.token]),e.next=47;break;case 5:if("matrix/presence/success"!==t.type){e.next=9;break}s.store.commit("updatePresence",Or({},t.meta.address,t.payload.available)),e.next=47;break;case 9:if("ms/balanceProof/sent"!==t.type){e.next=16;break}if(t.payload.confirmed){e.next=12;break}return e.abrupt("return");case 12:return e.next=14,s.notifyBalanceProofSend(t.payload.monitoringService,t.payload.partner,t.payload.reward,t.payload.txHash);case 14:e.next=47;break;case 16:if("udc/withdraw/success"!==t.type){e.next=23;break}if(t.payload.confirmed){e.next=19;break}return e.abrupt("return");case 19:return e.next=21,s.notifyWithdrawal(t.meta.amount,t.payload.withdrawal);case 21:e.next=47;break;case 23:if("udc/withdraw/plan/failure"!==t.type){e.next=28;break}return e.next=26,s.notifyWithdrawalFailure(null===(n=t.payload)||void 0===n?void 0:n.code,t.meta.amount,t.payload.message);case 26:e.next=47;break;case 28:if("channel/settle/success"!==t.type){e.next=34;break}if(!t.payload.confirmed){e.next=32;break}return e.next=32,s.notifyChannelSettleSuccess(t.meta.partner);case 32:e.next=47;break;case 34:if("channel/settle/failure"!==t.type){e.next=39;break}return e.next=37,s.notifyChannelSettleFailure(t.meta.partner);case 37:e.next=47;break;case 39:if("channel/open/success"!==t.type){e.next=44;break}return e.next=42,s.notifyChannelOpenSuccess(t.payload.txBlock,t.payload.txHash,t.payload.confirmed,t.meta.partner);case 42:e.next=47;break;case 44:if("channel/open/failed"!==t.type){e.next=47;break}return e.next=47,s.notifyChannelOpenFailed(t.payload.message);case 47:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c.events$.subscribe((function(e){s.updatePlannedUserDepositWithdrawals(e)})),c.channels$.subscribe((function(e){s.store.commit("updateChannels",e)})),c.transfers$.subscribe((function(e){s.store.commit("updateTransfers",e)})),this.store.commit("network",c.network),window.addEventListener("beforeunload",(function(e){return e.preventDefault(),""})),t.next=27,c.start();case 27:return t.t0=this.store,t.next=30,this.getBalance();case 30:if(t.t1=t.sent,t.t0.commit.call(t.t0,"balance",t.t1),!i){t.next=38;break}return t.t2=this.store,t.next=36,this.getBalance(c.address);case 36:t.t3=t.sent,t.t2.commit.call(t.t2,"raidenAccountBalance",t.t3);case 38:case"end":return t.stop()}}),t,this)})));function n(e,n,r){return t.apply(this,arguments)}return n}()},{key:"notifyNoReceive",value:function(){var e=kr(ht.a.mark((function e(){return ht.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.store.commit("notifications/notificationAddOrReplace",{icon:er.t("notifications.no-receive.icon"),title:er.t("notifications.no-receive.title"),description:er.t("notifications.no-receive.description"),importance:C["a"].HIGH,context:U["a"].WARNING});case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"monitorPreSetTokens",value:function(){var e=kr(ht.a.mark((function e(t){var n,r,a,o,i,c,u;return ht.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=this.raiden.network.chainId,o=null!==(n=null===(r=t[a])||void 0===r?void 0:r.monitored)&&void 0!==n?n:[],i=gr(o),e.prev=3,i.s();case 5:if((c=i.n()).done){e.next=11;break}return u=c.value,e.next=9,this.raiden.monitorToken(u);case 9:e.next=5;break;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e["catch"](3),i.e(e.t0);case 16:return e.prev=16,i.f(),e.finish(16);case 19:case"end":return e.stop()}}),e,this,[[3,13,16,19]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"notifyWithdrawalFailure",value:function(){var e=kr(ht.a.mark((function e(t,n,r){var a,o,i,c,u,s;return ht.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(["UDC_PLAN_WITHDRAW_GT_ZERO","UDC_PLAN_WITHDRAW_EXCEEDS_AVAILABLE","UDC_PLAN_WITHDRAW_FAILED"].indexOf(t)>=0)){e.next=2;break}return e.abrupt("return");case 2:o=this.store.state.userDepositContract.token,i=null!==(a=o.decimals)&&void 0!==a?a:18,c=tr["a"].toUnits(n,i),u="string"===typeof t?er.t("notifications.withdrawal.failure.descriptions.".concat(t),{amount:c,symbol:o.symbol}):void 0,s=u||er.t("notifications.withdrawal.failure.description",{amount:c,symbol:o.symbol,message:r}),this.store.commit("notifications/notificationAddOrReplace",{title:er.t("notifications.withdrawal.failure.title"),description:s,context:U["a"].ERROR,importance:C["a"].HIGH});case 8:case"end":return e.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"notifyWithdrawal",value:function(){var e=kr(ht.a.mark((function e(t,n){var r,a,o,i,c,u;return ht.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=this.store.state.userDepositContract.token,o=null!==(r=a.decimals)&&void 0!==r?r:18,i=tr["a"].toUnits(t,o),c=tr["a"].toUnits(n,o),u={icon:er.t("notifications.withdrawn.icon"),title:er.t("notifications.withdrawn.title"),description:er.t("notifications.withdrawn.description",{plannedAmount:i,withdrawnAmount:c,symbol:a.symbol}),context:U["a"].INFO,importance:C["a"].HIGH},this.usingSubkey&&(u=vr(vr({},u),{},{link:er.t("notifications.withdrawn.link"),dappRoute:Ae["a"].ACCOUNT_WITHDRAWAL})),this.store.commit("notifications/notificationAddOrReplace",u);case 7:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"notifyBalanceProofSend",value:function(){var e=kr(ht.a.mark((function e(t,n,r,a){var o,i,c,u;return ht.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:i=this.store.state.userDepositContract.token,c=null!==(o=i.decimals)&&void 0!==o?o:18,u=tr["a"].toUnits(r,c),this.store.commit("notifications/notificationAddOrReplace",{title:er.t("notifications.ms-balance-proof.title"),description:er.t("notifications.ms-balance-proof.description",{monitoringService:t,partner:n,reward:u,symbol:i.symbol,txHash:a}),context:U["a"].INFO,importance:C["a"].HIGH});case 4:case"end":return e.stop()}}),e,this)})));function t(t,n,r,a){return e.apply(this,arguments)}return t}()},{key:"notifyChannelSettleSuccess",value:function(){var e=kr(ht.a.mark((function e(t){var n;return ht.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=er.t("notifications.settlement.success.description",{partner:t}),this.store.commit("notifications/notificationAddOrReplace",{title:er.t("notifications.settlement.success.title"),description:n,icon:er.t("notifications.settlement.icon"),context:U["a"].NONE,importance:C["a"].HIGH});case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"notifyChannelSettleFailure",value:function(){var e=kr(ht.a.mark((function e(t){return ht.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.store.commit("notifications/notificationAddOrReplace",{title:er.t("notifications.settlement.failure.title"),description:er.t("notifications.settlement.failure.description",{partner:t}),icon:er.t("notifications.settlement.icon"),context:U["a"].NONE,importance:C["a"].HIGH});case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"notifyChannelOpenSuccess",value:function(){var e=kr(ht.a.mark((function e(t,n,r,a){var o,i,c,u,s,l,f,p,d,b;return ht.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:c=null!==(o=null===(i=this.store.state.config)||void 0===i?void 0:i.confirmationBlocks)&&void 0!==o?o:0,u=t+c,s=er.t("notifications.channel-open.icon"),l="",f="",void 0===r||!0===r?(l=er.t("notifications.channel-open.success.title"),p=Sr(r),f=er.t("notifications.channel-open.success.description",{partner:a,state:p})):(d=er.t("notifications.tx-reorged-failure-reason"),l=er.t("notifications.channel-open.failure.title"),f=er.t("notifications.channel-open.failure.description",{reason:d})),b={title:l,description:f,icon:s,txHash:n,txConfirmationBlock:u,importance:C["a"].HIGH},this.store.commit("notifications/notificationAddOrReplace",b);case 8:case"end":return e.stop()}}),e,this)})));function t(t,n,r,a){return e.apply(this,arguments)}return t}()},{key:"notifyChannelOpenFailed",value:function(){var e=kr(ht.a.mark((function e(t){return ht.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.store.commit("notifications/notificationAddOrReplace",{title:er.t("notifications.channel-open.failure.title"),description:er.t("notifications.channel-open.failure.description",{reason:t}),icon:er.t("notifications.channel-open.icon"),importance:C["a"].HIGH});case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"updatePlannedUserDepositWithdrawals",value:function(){var e=kr(ht.a.mark((function e(t){return ht.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:"udc/withdraw/plan/success"===t.type?!1===t.payload.confirmed?this.store.commit("userDepositContract/clearPlannedWithdrawal"):this.store.commit("userDepositContract/setPlannedWithdrawal",{txHash:t.payload.txHash,txBlock:t.payload.txBlock,amount:t.meta.amount,withdrawBlock:t.payload.block,confirmed:t.payload.confirmed}):"udc/withdraw/success"===t.type&&t.payload.confirmed&&this.store.commit("userDepositContract/clearPlannedWithdrawal");case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getBalance",value:function(){var e=kr(ht.a.mark((function e(t){var n;return ht.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.raiden.getBalance(t);case 2:return n=e.sent,e.abrupt("return",tr["a"].toEth(n));case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getToken",value:function(){var e=kr(ht.a.mark((function e(t){var n,r,a,o,i,c,u,s;return ht.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=this.raiden,e.prev=1,e.next=4,Promise.all([n.getTokenBalance(t),n.getTokenInfo(t)]);case 4:return r=e.sent,a=dr(r,2),o=a[0],i=a[1],c=i.decimals,u=i.symbol,s=i.name,e.abrupt("return",{name:s,symbol:u,balance:o,decimals:c,address:t});case 14:return e.prev=14,e.t0=e["catch"](1),e.abrupt("return",null);case 17:case"end":return e.stop()}}),e,this,[[1,14]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"openChannel",value:function(){var e=kr(ht.a.mark((function e(t,n,r,a){var o,i;return ht.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o=function(e,t){a&&a({current:e,total:t})},i=this.raiden,o(1,3),e.next=5,i.openChannel(t,n,{deposit:r},(function(e){return e.type===R["c"].OPENED?o(2,3):""}));case 5:case"end":return e.stop()}}),e,this)})));function t(t,n,r,a){return e.apply(this,arguments)}return t}()},{key:"closeChannel",value:function(){var e=kr(ht.a.mark((function e(t,n){return ht.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.raiden.closeChannel(t,n);case 2:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"deposit",value:function(){var e=kr(ht.a.mark((function e(t,n,r){return ht.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.raiden.depositChannel(t,n,r);case 2:case"end":return e.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"withdraw",value:function(){var e=kr(ht.a.mark((function e(t,n,r){return ht.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.raiden.withdrawChannel(t,n,r);case 2:case"end":return e.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"settleChannel",value:function(){var e=kr(ht.a.mark((function e(t,n){return ht.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.raiden.settleChannel(t,n);case 2:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"updateUserDepositContractToken",value:function(){var e=kr(ht.a.mark((function e(){var t;return ht.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getToken(this._userDepositTokenAddress);case 2:t=e.sent,this.store.commit("userDepositContract/setToken",t);case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"fetchAndUpdateTokenData",value:function(){var e=kr(ht.a.mark((function e(){var t,n,r=this,a=arguments;return ht.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=a.length>0&&void 0!==a[0]?a[0]:Object.values(this.store.state.tokens).map((function(e){return e.address})),t.length){e.next=3;break}return e.abrupt("return");case 3:return n=function(){var e=kr(ht.a.mark((function e(t){return ht.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",r.getToken(t).then((function(e){e&&r.store.commit("updateTokens",Or({},e.address,e))})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.next=6,zn()(6,t,n);case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"transfer",value:function(){var e=kr(ht.a.mark((function e(t,n,r,a,o){var i;return ht.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.raiden.transfer(t,n,r,{paymentId:o,paths:a});case 2:return i=e.sent,e.next=5,this.raiden.waitTransfer(i);case 5:case"end":return e.stop()}}),e,this)})));function t(t,n,r,a,o){return e.apply(this,arguments)}return t}()},{key:"findRoutes",value:function(){var e=kr(ht.a.mark((function e(t,n,r,a){return ht.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.raiden.findRoutes(t,n,r,{pfs:a});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(t,n,r,a){return e.apply(this,arguments)}return t}()},{key:"fetchServices",value:function(){var e=kr(ht.a.mark((function e(){return ht.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.raiden.findPFS();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"directRoute",value:function(){var e=kr(ht.a.mark((function e(t,n,r){return ht.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.raiden.directRoute(t,n,r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"mint",value:function(){var e=kr(ht.a.mark((function e(t,n){return ht.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.raiden.mint(t,n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"depositToUDC",value:function(){var e=kr(ht.a.mark((function e(t,n){return ht.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.raiden.depositToUDC(t,(function(e){return e.type===R["c"].APPROVED?n():null}));case 2:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"planUDCWithdraw",value:function(){var e=kr(ht.a.mark((function e(t){return ht.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this.raiden.planUDCWithdraw(t));case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getUDCCapacity",value:function(){var e=kr(ht.a.mark((function e(){return ht.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this.raiden.getUDCCapacity());case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getAvailability",value:function(){var e=kr(ht.a.mark((function e(t){var n,r;return ht.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.raiden.getAvailability(t);case 3:return n=e.sent,r=n.available,e.abrupt("return",r);case 8:e.prev=8,e.t0=e["catch"](0),this.store.commit("updatePresence",Or({},t,!1));case 11:return e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e,this,[[0,8]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"stopAndGetDatabaseDump",value:function(){var e=kr(ht.a.mark((function e(){return ht.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this._raiden.stop(),e.abrupt("return",this._raiden.dumpDatabase());case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"transferToRaidenAccount",value:function(){var e=kr(ht.a.mark((function e(t){return ht.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.raiden.transferOnchainBalance(this.raiden.address,Kn["c"].parseEther(t));case 2:return e.next=4,this.updateBalances();case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"transferToMainAccount",value:function(){var e=kr(ht.a.mark((function e(t){var n;return ht.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=this.raiden.mainAddress,!n){e.next=6;break}return e.next=4,this.raiden.transferOnchainBalance(n,Kn["c"].parseEther(t),{subkey:!0});case 4:return e.next=6,this.updateBalances();case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"transferOnChainTokens",value:function(){var e=kr(ht.a.mark((function e(t,n){var r;return ht.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=this.raiden.mainAddress,r){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,this.raiden.transferOnchainTokens(t,r,n,{subkey:!0});case 5:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"getRaidenAccountBalances",value:function(){var e=kr(ht.a.mark((function e(){var t,n,r,a,o,i,c,u=this;return ht.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=this.raiden,t.mainAddress){e.next=3;break}return e.abrupt("return",[]);case 3:return e.next=5,t.getTokenList();case 5:return n=e.sent,r={},a=function(){var e=kr(ht.a.mark((function e(n){return ht.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",t.getTokenBalance(n,t.address).then((function(e){e.gt(Kn["a"].Zero)&&(r[n]={address:n,balance:e})})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.next=10,zn()(6,n,a);case 10:if(o={},Object.keys(r).forEach((function(e){var t=u.store.state.tokens[e];t&&(o[e]=vr(vr({},t),r[e]),delete r[e])})),i=function(){var e=kr(ht.a.mark((function e(n){return ht.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",t.getTokenInfo(n).then((function(e){o[n]=vr(vr({},e),r[n])})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c=Object.keys(r),!(c.length>0)){e.next=17;break}return e.next=17,zn()(6,c,i);case 17:return e.abrupt("return",Object.values(o));case 18:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"monitorToken",value:function(){var e=kr(ht.a.mark((function e(t){return ht.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.raiden.monitorToken(t);case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getTokenBalance",value:function(){var e=kr(ht.a.mark((function e(t,n){var r;return ht.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.raiden.getTokenBalance(t,n);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"getSuggestedPartners",value:function(){var e=kr(ht.a.mark((function e(t){return ht.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.raiden.suggestPartners(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}],[{key:"createRaiden",value:function(){var e=kr(ht.a.mark((function e(t){var r,a,o,i,c,u,s,l,f,p=arguments;return ht.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=p.length>1&&void 0!==p[1]?p[1]:0,a=p.length>2?p[2]:void 0,o=p.length>3?p[3]:void 0,i={state:a},"cordova-sqlite"!==Object({VUE_APP_PFS:"https://pfs.demo001.env.raiden.network",VUE_APP_MATRIX_SERVER:"https://transport.demo001.env.raiden.network",VUE_APP_UDC_ADDRESS:"0x0794F09913AA8C77C8c5bdd1Ec4Bb51759Ee0cC5",VUE_APP_HUB:"hub.raiden.eth",VUE_APP_ALLOW_MAINNET:"false",VUE_APP_IMPRINT:"https://raiden.network/privacy.html",VUE_APP_TERMS:"https://github.com/raiden-network/light-client/blob/master/TERMS.md",VUE_APP_CONFIGURATION_URL:"config.production.json",NODE_ENV:"production",VUE_APP_I18N_LOCALE:"en",VUE_APP_I18N_FALLBACK_LOCALE:"en",VUE_APP_SERVICE_WORKER_DISABLED:"false",BASE_URL:"/"}).VUE_APP_DB_ADAPTER){e.next=12;break}return e.next=7,n.e("chunk-2f161406").then(n.t.bind(null,"09f4",7));case 7:c=e.sent,u=c.default,Gn["a"].plugin(u),s=qn["a"].getPlatform(),"android"===s?i=vr(vr({},i),{},{adapter:"cordova-sqlite",location:"default"}):"ios"===s&&(i=vr(vr({},i),{},{adapter:"cordova-sqlite",iosDatabaseLocation:"Library"}));case 12:return e.prev=12,e.next=15,Bt["a"].contracts();case 15:return f=e.sent,e.next=18,R["e"].create(t,r,i,null!==(l="0x0794F09913AA8C77C8c5bdd1Ec4Bb51759Ee0cC5")&&void 0!==l?l:f,vr(vr(vr(vr(vr({pfsSafetyMargin:1.1},{pfsMode:R["d"].onlyAdditional,additionalServices:["https://pfs.demo001.env.raiden.network"]}),{},{matrixServer:"https://transport.demo001.env.raiden.network",matrixServerLookup:Object({VUE_APP_PFS:"https://pfs.demo001.env.raiden.network",VUE_APP_MATRIX_SERVER:"https://transport.demo001.env.raiden.network",VUE_APP_UDC_ADDRESS:"0x0794F09913AA8C77C8c5bdd1Ec4Bb51759Ee0cC5",VUE_APP_HUB:"hub.raiden.eth",VUE_APP_ALLOW_MAINNET:"false",VUE_APP_IMPRINT:"https://raiden.network/privacy.html",VUE_APP_TERMS:"https://github.com/raiden-network/light-client/blob/master/TERMS.md",VUE_APP_CONFIGURATION_URL:"config.production.json",NODE_ENV:"production",VUE_APP_I18N_LOCALE:"en",VUE_APP_I18N_FALLBACK_LOCALE:"en",VUE_APP_SERVICE_WORKER_DISABLED:"false",BASE_URL:"/"}).VUE_APP_MATRIX_LIST_URL},Object({VUE_APP_PFS:"https://pfs.demo001.env.raiden.network",VUE_APP_MATRIX_SERVER:"https://transport.demo001.env.raiden.network",VUE_APP_UDC_ADDRESS:"0x0794F09913AA8C77C8c5bdd1Ec4Bb51759Ee0cC5",VUE_APP_HUB:"hub.raiden.eth",VUE_APP_ALLOW_MAINNET:"false",VUE_APP_IMPRINT:"https://raiden.network/privacy.html",VUE_APP_TERMS:"https://github.com/raiden-network/light-client/blob/master/TERMS.md",VUE_APP_CONFIGURATION_URL:"config.production.json",NODE_ENV:"production",VUE_APP_I18N_LOCALE:"en",VUE_APP_I18N_FALLBACK_LOCALE:"en",VUE_APP_SERVICE_WORKER_DISABLED:"false",BASE_URL:"/"}).VUE_APP_REVEAL_TIMEOUT&&+Object({VUE_APP_PFS:"https://pfs.demo001.env.raiden.network",VUE_APP_MATRIX_SERVER:"https://transport.demo001.env.raiden.network",VUE_APP_UDC_ADDRESS:"0x0794F09913AA8C77C8c5bdd1Ec4Bb51759Ee0cC5",VUE_APP_HUB:"hub.raiden.eth",VUE_APP_ALLOW_MAINNET:"false",VUE_APP_IMPRINT:"https://raiden.network/privacy.html",VUE_APP_TERMS:"https://github.com/raiden-network/light-client/blob/master/TERMS.md",VUE_APP_CONFIGURATION_URL:"config.production.json",NODE_ENV:"production",VUE_APP_I18N_LOCALE:"en",VUE_APP_I18N_FALLBACK_LOCALE:"en",VUE_APP_SERVICE_WORKER_DISABLED:"false",BASE_URL:"/"}).VUE_APP_REVEAL_TIMEOUT?{revealTimeout:+Object({VUE_APP_PFS:"https://pfs.demo001.env.raiden.network",VUE_APP_MATRIX_SERVER:"https://transport.demo001.env.raiden.network",VUE_APP_UDC_ADDRESS:"0x0794F09913AA8C77C8c5bdd1Ec4Bb51759Ee0cC5",VUE_APP_HUB:"hub.raiden.eth",VUE_APP_ALLOW_MAINNET:"false",VUE_APP_IMPRINT:"https://raiden.network/privacy.html",VUE_APP_TERMS:"https://github.com/raiden-network/light-client/blob/master/TERMS.md",VUE_APP_CONFIGURATION_URL:"config.production.json",NODE_ENV:"production",VUE_APP_I18N_LOCALE:"en",VUE_APP_I18N_FALLBACK_LOCALE:"en",VUE_APP_SERVICE_WORKER_DISABLED:"false",BASE_URL:"/"}).VUE_APP_REVEAL_TIMEOUT}:void 0),Object({VUE_APP_PFS:"https://pfs.demo001.env.raiden.network",VUE_APP_MATRIX_SERVER:"https://transport.demo001.env.raiden.network",VUE_APP_UDC_ADDRESS:"0x0794F09913AA8C77C8c5bdd1Ec4Bb51759Ee0cC5",VUE_APP_HUB:"hub.raiden.eth",VUE_APP_ALLOW_MAINNET:"false",VUE_APP_IMPRINT:"https://raiden.network/privacy.html",VUE_APP_TERMS:"https://github.com/raiden-network/light-client/blob/master/TERMS.md",VUE_APP_CONFIGURATION_URL:"config.production.json",NODE_ENV:"production",VUE_APP_I18N_LOCALE:"en",VUE_APP_I18N_FALLBACK_LOCALE:"en",VUE_APP_SERVICE_WORKER_DISABLED:"false",BASE_URL:"/"}).VUE_APP_SETTLE_TIMEOUT&&+Object({VUE_APP_PFS:"https://pfs.demo001.env.raiden.network",VUE_APP_MATRIX_SERVER:"https://transport.demo001.env.raiden.network",VUE_APP_UDC_ADDRESS:"0x0794F09913AA8C77C8c5bdd1Ec4Bb51759Ee0cC5",VUE_APP_HUB:"hub.raiden.eth",VUE_APP_ALLOW_MAINNET:"false",VUE_APP_IMPRINT:"https://raiden.network/privacy.html",VUE_APP_TERMS:"https://github.com/raiden-network/light-client/blob/master/TERMS.md",VUE_APP_CONFIGURATION_URL:"config.production.json",NODE_ENV:"production",VUE_APP_I18N_LOCALE:"en",VUE_APP_I18N_FALLBACK_LOCALE:"en",VUE_APP_SERVICE_WORKER_DISABLED:"false",BASE_URL:"/"}).VUE_APP_SETTLE_TIMEOUT?{settleTimeout:+Object({VUE_APP_PFS:"https://pfs.demo001.env.raiden.network",VUE_APP_MATRIX_SERVER:"https://transport.demo001.env.raiden.network",VUE_APP_UDC_ADDRESS:"0x0794F09913AA8C77C8c5bdd1Ec4Bb51759Ee0cC5",VUE_APP_HUB:"hub.raiden.eth",VUE_APP_ALLOW_MAINNET:"false",VUE_APP_IMPRINT:"https://raiden.network/privacy.html",VUE_APP_TERMS:"https://github.com/raiden-network/light-client/blob/master/TERMS.md",VUE_APP_CONFIGURATION_URL:"config.production.json",NODE_ENV:"production",VUE_APP_I18N_LOCALE:"en",VUE_APP_I18N_FALLBACK_LOCALE:"en",VUE_APP_SERVICE_WORKER_DISABLED:"false",BASE_URL:"/"}).VUE_APP_SETTLE_TIMEOUT}:void 0),Object({VUE_APP_PFS:"https://pfs.demo001.env.raiden.network",VUE_APP_MATRIX_SERVER:"https://transport.demo001.env.raiden.network",VUE_APP_UDC_ADDRESS:"0x0794F09913AA8C77C8c5bdd1Ec4Bb51759Ee0cC5",VUE_APP_HUB:"hub.raiden.eth",VUE_APP_ALLOW_MAINNET:"false",VUE_APP_IMPRINT:"https://raiden.network/privacy.html",VUE_APP_TERMS:"https://github.com/raiden-network/light-client/blob/master/TERMS.md",VUE_APP_CONFIGURATION_URL:"config.production.json",NODE_ENV:"production",VUE_APP_I18N_LOCALE:"en",VUE_APP_I18N_FALLBACK_LOCALE:"en",VUE_APP_SERVICE_WORKER_DISABLED:"false",BASE_URL:"/"}).VUE_APP_CONFIRMATION_BLOCKS&&+Object({VUE_APP_PFS:"https://pfs.demo001.env.raiden.network",VUE_APP_MATRIX_SERVER:"https://transport.demo001.env.raiden.network",VUE_APP_UDC_ADDRESS:"0x0794F09913AA8C77C8c5bdd1Ec4Bb51759Ee0cC5",VUE_APP_HUB:"hub.raiden.eth",VUE_APP_ALLOW_MAINNET:"false",VUE_APP_IMPRINT:"https://raiden.network/privacy.html",VUE_APP_TERMS:"https://github.com/raiden-network/light-client/blob/master/TERMS.md",VUE_APP_CONFIGURATION_URL:"config.production.json",NODE_ENV:"production",VUE_APP_I18N_LOCALE:"en",VUE_APP_I18N_FALLBACK_LOCALE:"en",VUE_APP_SERVICE_WORKER_DISABLED:"false",BASE_URL:"/"}).VUE_APP_CONFIRMATION_BLOCKS?{confirmationBlocks:+Object({VUE_APP_PFS:"https://pfs.demo001.env.raiden.network",VUE_APP_MATRIX_SERVER:"https://transport.demo001.env.raiden.network",VUE_APP_UDC_ADDRESS:"0x0794F09913AA8C77C8c5bdd1Ec4Bb51759Ee0cC5",VUE_APP_HUB:"hub.raiden.eth",VUE_APP_ALLOW_MAINNET:"false",VUE_APP_IMPRINT:"https://raiden.network/privacy.html",VUE_APP_TERMS:"https://github.com/raiden-network/light-client/blob/master/TERMS.md",VUE_APP_CONFIGURATION_URL:"config.production.json",NODE_ENV:"production",VUE_APP_I18N_LOCALE:"en",VUE_APP_I18N_FALLBACK_LOCALE:"en",VUE_APP_SERVICE_WORKER_DISABLED:"false",BASE_URL:"/"}).VUE_APP_CONFIRMATION_BLOCKS}:void 0),Object({VUE_APP_PFS:"https://pfs.demo001.env.raiden.network",VUE_APP_MATRIX_SERVER:"https://transport.demo001.env.raiden.network",VUE_APP_UDC_ADDRESS:"0x0794F09913AA8C77C8c5bdd1Ec4Bb51759Ee0cC5",VUE_APP_HUB:"hub.raiden.eth",VUE_APP_ALLOW_MAINNET:"false",VUE_APP_IMPRINT:"https://raiden.network/privacy.html",VUE_APP_TERMS:"https://github.com/raiden-network/light-client/blob/master/TERMS.md",VUE_APP_CONFIGURATION_URL:"config.production.json",NODE_ENV:"production",VUE_APP_I18N_LOCALE:"en",VUE_APP_I18N_FALLBACK_LOCALE:"en",VUE_APP_SERVICE_WORKER_DISABLED:"false",BASE_URL:"/"}).VUE_APP_EXPIRY_FACTOR&&+Object({VUE_APP_PFS:"https://pfs.demo001.env.raiden.network",VUE_APP_MATRIX_SERVER:"https://transport.demo001.env.raiden.network",VUE_APP_UDC_ADDRESS:"0x0794F09913AA8C77C8c5bdd1Ec4Bb51759Ee0cC5",VUE_APP_HUB:"hub.raiden.eth",VUE_APP_ALLOW_MAINNET:"false",VUE_APP_IMPRINT:"https://raiden.network/privacy.html",VUE_APP_TERMS:"https://github.com/raiden-network/light-client/blob/master/TERMS.md",VUE_APP_CONFIGURATION_URL:"config.production.json",NODE_ENV:"production",VUE_APP_I18N_LOCALE:"en",VUE_APP_I18N_FALLBACK_LOCALE:"en",VUE_APP_SERVICE_WORKER_DISABLED:"false",BASE_URL:"/"}).VUE_APP_EXPIRY_FACTOR?{expiryFactor:+Object({VUE_APP_PFS:"https://pfs.demo001.env.raiden.network",VUE_APP_MATRIX_SERVER:"https://transport.demo001.env.raiden.network",VUE_APP_UDC_ADDRESS:"0x0794F09913AA8C77C8c5bdd1Ec4Bb51759Ee0cC5",VUE_APP_HUB:"hub.raiden.eth",VUE_APP_ALLOW_MAINNET:"false",VUE_APP_IMPRINT:"https://raiden.network/privacy.html",VUE_APP_TERMS:"https://github.com/raiden-network/light-client/blob/master/TERMS.md",VUE_APP_CONFIGURATION_URL:"config.production.json",NODE_ENV:"production",VUE_APP_I18N_LOCALE:"en",VUE_APP_I18N_FALLBACK_LOCALE:"en",VUE_APP_SERVICE_WORKER_DISABLED:"false",BASE_URL:"/"}).VUE_APP_EXPIRY_FACTOR}:void 0),o,Object({VUE_APP_PFS:"https://pfs.demo001.env.raiden.network",VUE_APP_MATRIX_SERVER:"https://transport.demo001.env.raiden.network",VUE_APP_UDC_ADDRESS:"0x0794F09913AA8C77C8c5bdd1Ec4Bb51759Ee0cC5",VUE_APP_HUB:"hub.raiden.eth",VUE_APP_ALLOW_MAINNET:"false",VUE_APP_IMPRINT:"https://raiden.network/privacy.html",VUE_APP_TERMS:"https://github.com/raiden-network/light-client/blob/master/TERMS.md",VUE_APP_CONFIGURATION_URL:"config.production.json",NODE_ENV:"production",VUE_APP_I18N_LOCALE:"en",VUE_APP_I18N_FALLBACK_LOCALE:"en",VUE_APP_SERVICE_WORKER_DISABLED:"false",BASE_URL:"/"}).VUE_APP_SUBKEY_ORIGIN_URL);case 18:return e.abrupt("return",e.sent);case 21:throw e.prev=21,e.t0=e["catch"](12),new Rr(e.t0);case 24:case"end":return e.stop()}}),e,null,[[12,21]])})));function t(t){return e.apply(this,arguments)}return t}()}]),e}(),Pr=function(e){rr(n,e);var t=ar(n);function n(){return Er(this,n),t.apply(this,arguments)}return n}(cr(Error)),Rr=function(e){rr(n,e);var t=ar(n);function n(){return Er(this,n),t.apply(this,arguments)}return n}(cr(Error));function Nr(e,t){e.prototype.$raiden=new xr(Te,$n)}var Cr,Dr,Ir,Ur=n("47c8"),Mr=n.n(Ur);function Lr(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(s){return void n(s)}c.done?t(u):Promise.resolve(u).then(r,a)}function Br(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Lr(o,r,a,i,c,"next",e)}function c(e){Lr(o,r,a,i,c,"throw",e)}i(void 0)}))}}function Fr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(function(e){e["INSTALLATION_ERROR"]="installation_error",e["RELOAD_WINDOW"]="reload_window",e["CACHE_IS_INVALID"]="cache_is_invalid"})(Cr||(Cr={})),function(e){e["UPDATE"]="update",e["VERIFY_CACHE"]="verify_cache"}(Dr||(Dr={}));var Vr,Wr=(null!==(Ir="/")&&void 0!==Ir?Ir:"/")+"version.json",Hr=function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:36e5,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e4;Fr(this,e),this.store=t,this.update=function(){var e;navigator.serviceWorker&&(null===(e=navigator.serviceWorker.controller)||void 0===e||e.postMessage(Dr.UPDATE))},this.onMessage=function(e){if(e.data)switch(e.data){case Cr.INSTALLATION_ERROR:case Cr.CACHE_IS_INVALID:n.setUpdateIsMandatory();break;case Cr.RELOAD_WINDOW:n.reloadWindow();break;default:break}},this.updateAvailableVersion=Br(ht.a.mark((function e(){var t,r,a;return ht.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(Wr);case 3:return t=e.sent,e.next=6,t.json();case 6:if(r=e.sent,a=r.version.version,!b.a.validate(a)){e.next=12;break}n.store.commit("setAvailableVersion",a),e.next=13;break;case 12:throw new Error("Maleformed version string: ".concat(a));case 13:e.next=18;break;case 15:e.prev=15,e.t0=e["catch"](0),console.warn("Failed to get (a valid) version: ".concat(e.t0.message));case 18:case"end":return e.stop()}}),e,null,[[0,15]])}))),this.verifyCacheValidity=function(){var e;null===(e=navigator.serviceWorker.controller)||void 0===e||e.postMessage(Dr.VERIFY_CACHE)},this.reloadWindow=function(){window.location.reload()},this.setUpdateIsMandatory=function(){n.store.commit("setUpdateIsMandatory")},navigator.serviceWorker&&(navigator.serviceWorker.addEventListener("message",this.onMessage),this.updateAvailableVersion(),setInterval(this.updateAvailableVersion,r),setInterval(this.verifyCacheValidity,a))};function $r(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(s){return void n(s)}c.done?t(u):Promise.resolve(u).then(r,a)}function qr(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){$r(o,r,a,i,c,"next",e)}function c(e){$r(o,r,a,i,c,"throw",e)}i(void 0)}))}}var Kr=Mr.a.join(null!==(Vr="/")&&void 0!==Vr?Vr:"/","service-worker.js");function Gr(){var e=!!navigator.serviceWorker.controller;e||navigator.serviceWorker.register(Kr)}function Yr(e,t){return Xr.apply(this,arguments)}function Xr(){return Xr=qr(ht.a.mark((function e(t,n){var r,a;return ht.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.prototype.$serviceWorkerAssistant=new Hr(Te),r="serviceWorker"in navigator,a=!0,r&&a&&(window.onload=Gr);case 4:case"end":return e.stop()}}),e)}))),Xr.apply(this,arguments)}n("8935"),n("8b61"),n("4fa6");var Qr=n("8d28");a["a"].use(Qr["a"]);var zr=new Qr["a"]({icons:{iconfont:"mdi"},theme:{options:{customProperties:!0},dark:!0,themes:{dark:{notification:"#ea6464",primary:"#28A5C8",secondary:"#0A6E87",pending:"#fdd327",success:"#1dc512",failed:"#ea6464"}}}}),Jr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",{attrs:{dark:""}},[n("install-banner"),n("div",{attrs:{id:"application-wrapper"}},[n("router-view",{attrs:{name:"modal"}}),n("transition",{attrs:{name:"slide"}},[n("router-view",{attrs:{name:"notifications"}})],1),n("div",{attrs:{id:"application-content"}},[n("app-header"),n("v-main",[n("v-container",{staticClass:"application__container fill-height",attrs:{fluid:""}},[n("router-view")],1)],1)],1)],1),e.imprint&&e.terms?n("div",{staticClass:"imprint"},[n("a",{staticClass:"imprint__policy",attrs:{href:e.imprint,target:"_blank"}},[e._v(" "+e._s(e.$t("application.privacy-policy"))+" ")]),n("a",{staticClass:"imprint__terms",attrs:{href:e.terms,target:"_blank"}},[e._v(" "+e._s(e.$t("application.terms"))+" ")])]):e._e(),n("offline-snackbar"),n("update-snackbar"),n("receiving-ongoing-snackbar"),n("notification-snackbar")],1)},Zr=[],ea=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"app-header"},[e.showInfoOverlay?r("info-overlay",{on:{"close-overlay":function(t){e.showInfoOverlay=!1}}}):e._e(),r("header-content",{staticClass:"app-header__content",attrs:{"show-network":!e.showTitleOnly},on:{"show-info":function(t){e.showInfoOverlay=!0},"navigate-back":function(t){return e.navigateBack()}}},[r("div",{staticClass:"app-header__content__icons"},[e.showTitleOnly?e._e():r("v-btn",{staticClass:"app-header__content__icons__notifications-button",attrs:{"data-cy":"app-header_content_icons_notifications-button",icon:"",height:"30px",width:"25px"},nativeOn:{click:function(t){return e.notificationPanel()}}},[e.newNotifications?r("v-badge",{attrs:{color:"notification",overlap:"",bordered:"",dot:""}},[r("v-img",{attrs:{height:"30px",width:"25px",src:n("db7b")}})],1):r("v-img",{attrs:{height:"30px",width:"25px",src:n("db7b")}})],1),e.isDisclaimerRoute?e._e():r("header-identicon",{staticClass:"app-header__content__icons__identicon",attrs:{"data-cy":"app-header_content_icons_identicon"},nativeOn:{click:function(t){return e.accountMenu()}}})],1)])],1)},ta=[],na=n("b592"),ra=n("233e"),aa=n("6af0"),oa=n("152b");function ia(e){return ia="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ia(e)}function ca(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ua(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ca(Object(n),!0).forEach((function(t){sa(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ca(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function sa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function la(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pa(e,t,n){return t&&fa(e.prototype,t),n&&fa(e,n),e}function da(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ba(e,t)}function ba(e,t){return ba=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ba(e,t)}function ya(e){var t=va();return function(){var n,r=Oa(e);if(t){var a=Oa(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ha(this,n)}}function ha(e,t){return!t||"object"!==ia(t)&&"function"!==typeof t?ma(e):t}function ma(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function va(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Oa(e){return Oa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Oa(e)}var ga=Object(x["a"])("notifications"),ja=ga.mapState,wa=ga.mapMutations,_a=function(e){da(n,e);var t=ya(n);function n(){var e;return la(this,n),e=t.apply(this,arguments),e.showInfoOverlay=!1,e}return pa(n,[{key:"isDisclaimerRoute",get:function(){return this.$route.name===Ae["a"].DISCLAIMER}},{key:"showTitleOnly",get:function(){return this.isDisclaimerRoute||!this.isConnected}},{key:"navigateBack",value:function(){this.onBackClicked()}},{key:"notificationPanel",value:function(){this.notificationsViewed(),this.navigateToNotifications(),this.showInfoOverlay=!1}},{key:"accountMenu",value:function(){this.navigateToAccount(),this.showInfoOverlay=!1}}]),n}(Object(He["c"])(oa["a"]));_a=Object(We["__decorate"])([Object(He["a"])({components:{InfoOverlay:aa["a"],HeaderContent:na["a"],HeaderIdenticon:ra["a"]},computed:ua(ua({},Object(x["e"])(["isConnected"])),ja(["newNotifications"])),methods:ua({},wa(["notificationsViewed"]))})],_a);var ka=_a,Ea=ka,Ta=(n("727f"),n("4675")),Aa=n("9c46"),Sa=Object(ot["a"])(Ea,ea,ta,!1,null,"ea324d9c",null),xa=Sa.exports;ct()(Sa,{VBadge:Ta["a"],VBtn:Aa["a"],VImg:Ln["a"]});var Pa=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.visible?n("v-banner",{staticClass:"install-banner",attrs:{color:"#1e1e1e","two-line":""},scopedSlots:e._u([{key:"actions",fn:function(t){var r=t.dismiss;return[n("v-btn",{staticClass:"install-banner__install-button",attrs:{dark:"",text:"",outlined:""},on:{click:e.install}},[e._v(" "+e._s(e.$t("install-banner.install"))+" ")]),n("v-btn",{staticClass:"install-banner__dismiss-button",attrs:{dark:"",text:"",outlined:""},on:{click:r}},[e._v(" "+e._s(e.$t("install-banner.dismiss"))+" ")])]}}],null,!1,3359785919)},[e.$vuetify.breakpoint.mobile?[e._v(" "+e._s(e.$t("install-banner.message-mobile"))+" ")]:[e._v(" "+e._s(e.$t("install-banner.message-desktop"))+" ")]],2):e._e()},Ra=[];function Na(e){return Na="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Na(e)}function Ca(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(s){return void n(s)}c.done?t(u):Promise.resolve(u).then(r,a)}function Da(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Ca(o,r,a,i,c,"next",e)}function c(e){Ca(o,r,a,i,c,"throw",e)}i(void 0)}))}}function Ia(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ua(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ma(e,t,n){return t&&Ua(e.prototype,t),n&&Ua(e,n),e}function La(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ba(e,t)}function Ba(e,t){return Ba=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ba(e,t)}function Fa(e){var t=Ha();return function(){var n,r=$a(e);if(t){var a=$a(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Va(this,n)}}function Va(e,t){return!t||"object"!==Na(t)&&"function"!==typeof t?Wa(e):t}function Wa(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ha(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function $a(e){return $a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},$a(e)}var qa=function(e){La(n,e);var t=Fa(n);function n(){var e;return Ia(this,n),e=t.apply(this,arguments),e.visible=!1,e.installEvent=void 0,e}return Ma(n,[{key:"created",value:function(){window.addEventListener("beforeinstallprompt",this.onBeforeInstallPrompt)}},{key:"onBeforeInstallPrompt",value:function(e){e.preventDefault(),this.installEvent=e,this.visible=!0}},{key:"install",value:function(){var e=Da(ht.a.mark((function e(){return ht.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.installEvent){e.next=2;break}return e.abrupt("return");case 2:return this.visible=!1,e.next=5,this.installEvent.prompt();case 5:this.installEvent=void 0;case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),n}(He["g"]);qa=Object(We["__decorate"])([He["a"]],qa);var Ka=qa,Ga=Ka,Ya=n("1a6b"),Xa=Object(ot["a"])(Ga,Pa,Ra,!1,null,null,null),Qa=Xa.exports;ct()(Xa,{VBanner:Ya["a"],VBtn:Aa["a"]});var za=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.isVisible?r("v-snackbar",{staticClass:"notification-snackbar",attrs:{value:e.isVisible,timeout:e.notificationToShow.duration,app:"",rounded:"","max-width":"550px",color:"primary"},on:{input:e.dismiss},scopedSlots:e._u([{key:"action",fn:function(t){var n=t.attrs;return[r("v-btn",e._b({attrs:{"data-cy":"notification-snackbar__dismiss-button",icon:"",left:""},on:{click:function(t){return e.dismiss()}}},"v-btn",n,!1),[r("v-icon",[e._v("mdi-close")])],1)]}}],null,!1,2634841300),model:{value:e.notificationToShow.display,callback:function(t){e.$set(e.notificationToShow,"display",t)},expression:"notificationToShow.display"}},[r("div",{staticClass:"notification-snackbar__area",on:{click:e.open}},[r("img",{attrs:{src:n("4cd4")}}),r("span",{staticClass:"notification-snackbar__area__title"},[e._v(" "+e._s(e.notificationToShow.title)+" ")])])]):e._e()},Ja=[];function Za(e){return Za="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Za(e)}function eo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function to(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eo(Object(n),!0).forEach((function(t){no(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function no(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ro(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ao(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function oo(e,t,n){return t&&ao(e.prototype,t),n&&ao(e,n),e}function io(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&co(e,t)}function co(e,t){return co=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},co(e,t)}function uo(e){var t=fo();return function(){var n,r=po(e);if(t){var a=po(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return so(this,n)}}function so(e,t){return!t||"object"!==Za(t)&&"function"!==typeof t?lo(e):t}function lo(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fo(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function po(e){return po=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},po(e)}var bo=Object(x["a"])("notifications"),yo=bo.mapGetters,ho=bo.mapMutations,mo=function(e){io(n,e);var t=uo(n);function n(){return ro(this,n),t.apply(this,arguments)}return oo(n,[{key:"notificationToShow",get:function(){return this.notificationQueue[0]}},{key:"isVisible",get:function(){return void 0!==this.notificationToShow}},{key:"dismiss",value:function(){this.notificationToShow&&this.setNotificationShown(this.notificationToShow.id)}},{key:"open",value:function(){this.dismiss(),this.navigateToNotifications()}}]),n}(Object(He["c"])(oa["a"]));mo=Object(We["__decorate"])([Object(He["a"])({computed:to({},yo(["notificationQueue"])),methods:to({},ho(["setNotificationShown"]))})],mo);var vo=mo,Oo=vo,go=(n("a2b8"),n("b503")),jo=n("5dee"),wo=Object(ot["a"])(Oo,za,Ja,!1,null,"020e2213",null),_o=wo.exports;ct()(wo,{VBtn:Aa["a"],VIcon:go["a"],VSnackbar:jo["a"]});var ko=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.offline?n("span",[n("blurred-overlay",{attrs:{show:e.offline,fullscreen:!0}}),n("v-snackbar",{attrs:{timeout:-1,color:"error"},model:{value:e.offline,callback:function(t){e.offline=t},expression:"offline"}},[e._v(" "+e._s(e.$t("general.offline"))+" "),n("v-icon",[e._v("mdi-alert")])],1)],1):e._e()},Eo=[],To=n("0a08");function Ao(e){return Ao="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ao(e)}function So(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Po(e,t,n){return t&&xo(e.prototype,t),n&&xo(e,n),e}function Ro(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&No(e,t)}function No(e,t){return No=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},No(e,t)}function Co(e){var t=Uo();return function(){var n,r=Mo(e);if(t){var a=Mo(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Do(this,n)}}function Do(e,t){return!t||"object"!==Ao(t)&&"function"!==typeof t?Io(e):t}function Io(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Uo(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Mo(e){return Mo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Mo(e)}var Lo=function(e){Ro(n,e);var t=Co(n);function n(){var e;return So(this,n),e=t.apply(this,arguments),e.offline=!1,e}return Po(n,[{key:"handleOnline",value:function(){this.offline=!1}},{key:"handleOffline",value:function(){this.offline=!0}},{key:"mounted",value:function(){this.offline=!navigator.onLine,window.addEventListener("offline",this.handleOffline),window.addEventListener("online",this.handleOnline)}},{key:"beforeDestroy",value:function(){window.removeEventListener("offline",this.handleOffline),window.removeEventListener("online",this.handleOnline)}}]),n}(He["g"]);Lo=Object(We["__decorate"])([Object(He["a"])({components:{BlurredOverlay:To["a"]}})],Lo);var Bo=Lo,Fo=Bo,Vo=Object(ot["a"])(Fo,ko,Eo,!1,null,null,null),Wo=Vo.exports;ct()(Vo,{VIcon:go["a"],VSnackbar:jo["a"]});var Ho=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.show?n("transition",{attrs:{name:"delay"}},[n("v-snackbar",{staticClass:"receiving-ongoing-snackbar",attrs:{timeout:"-1",color:"primary"},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[n("span",{staticClass:"receiving-ongoing-snackbar__warning"},[e._v(" "+e._s(e.$t("transfer.receiving-transfer-snackbar"))+" ")])])],1):e._e()},$o=[];function qo(e){return qo="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qo(e)}function Ko(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Go(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ko(Object(n),!0).forEach((function(t){Yo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ko(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Yo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zo(e,t,n){return t&&Qo(e.prototype,t),n&&Qo(e,n),e}function Jo(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Zo(e,t)}function Zo(e,t){return Zo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Zo(e,t)}function ei(e){var t=ri();return function(){var n,r=ai(e);if(t){var a=ai(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ti(this,n)}}function ti(e,t){return!t||"object"!==qo(t)&&"function"!==typeof t?ni(e):t}function ni(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ri(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function ai(e){return ai=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ai(e)}var oi=function(e){Jo(n,e);var t=ei(n);function n(){return Xo(this,n),t.apply(this,arguments)}return zo(n,[{key:"pendingReceivedTransfers",get:function(){return Object.values(this.pendingTransfers).filter((function(e){return"received"===e.direction}))}},{key:"show",get:function(){return Object.keys(this.pendingReceivedTransfers).length>0}}]),n}(He["g"]);oi=Object(We["__decorate"])([Object(He["a"])({computed:Go({},Object(x["c"])(["pendingTransfers"]))})],oi);var ii=oi,ci=ii,ui=(n("c50f"),Object(ot["a"])(ci,Ho,$o,!1,null,"4795eb56",null)),si=ui.exports;ct()(ui,{VSnackbar:jo["a"]});var li=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.visible?n("span",[n("blurred-overlay",{attrs:{show:e.blocking,fullscreen:!0}}),n("v-snackbar",{staticClass:"update-snackbar",attrs:{timeout:-1,color:"primary"},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[n("v-container",{staticClass:"d-flex align-center py-0"},[n("div",{staticClass:"update-snackbar__message"},[e._v(e._s(e.message))]),n("v-btn",{staticClass:"ml-5",attrs:{dark:"",text:"",loading:e.isUpdating},on:{click:e.update}},[e._v(" "+e._s(e.$t("update.update"))+" ")])],1)],1)],1):e._e()},fi=[];function pi(e){return pi="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pi(e)}function di(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?di(Object(n),!0).forEach((function(t){yi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):di(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function yi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hi(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(s){return void n(s)}c.done?t(u):Promise.resolve(u).then(r,a)}function mi(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){hi(o,r,a,i,c,"next",e)}function c(e){hi(o,r,a,i,c,"throw",e)}i(void 0)}))}}function vi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Oi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gi(e,t,n){return t&&Oi(e.prototype,t),n&&Oi(e,n),e}function ji(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wi(e,t)}function wi(e,t){return wi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},wi(e,t)}function _i(e){var t=Ti();return function(){var n,r=Ai(e);if(t){var a=Ai(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ki(this,n)}}function ki(e,t){return!t||"object"!==pi(t)&&"function"!==typeof t?Ei(e):t}function Ei(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ti(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Ai(e){return Ai=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ai(e)}var Si=function(e){ji(n,e);var t=_i(n);function n(){var e;return vi(this,n),e=t.apply(this,arguments),e.isUpdating=!1,e}return gi(n,[{key:"visible",get:function(){return this.versionUpdateAvailable||this.versionInfo.updateIsMandatory}},{key:"blocking",get:function(){return this.versionInfo.updateIsMandatory}},{key:"message",get:function(){if(this.visible){var e=this.versionInfo.updateIsMandatory?"mandatory":"optional";return this.$t("update.".concat(e))}return""}},{key:"update",value:function(){var e=mi(ht.a.mark((function e(){return ht.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.isUpdating=!0,!this.isConnected){e.next=4;break}return e.next=4,this.$raiden.disconnect();case 4:this.$serviceWorkerAssistant.update();case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),n}(He["g"]);Si=Object(We["__decorate"])([Object(He["a"])({components:{BlurredOverlay:To["a"]},computed:bi(bi({},Object(x["e"])(["isConnected","versionInfo"])),Object(x["c"])(["versionUpdateAvailable"]))})],Si);var xi=Si,Pi=xi,Ri=(n("84c0"),n("f56c")),Ni=Object(ot["a"])(Pi,li,fi,!1,null,"2e6862f8",null),Ci=Ni.exports;function Di(e){return Di="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Di(e)}function Ii(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ui(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Mi(e,t,n){return t&&Ui(e.prototype,t),n&&Ui(e,n),e}function Li(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Bi(e,t)}function Bi(e,t){return Bi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Bi(e,t)}function Fi(e){var t=Hi();return function(){var n,r=$i(e);if(t){var a=$i(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Vi(this,n)}}function Vi(e,t){return!t||"object"!==Di(t)&&"function"!==typeof t?Wi(e):t}function Wi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Hi(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function $i(e){return $i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},$i(e)}ct()(Ni,{VBtn:Aa["a"],VContainer:Ri["a"],VSnackbar:jo["a"]});var qi=function(e){Li(n,e);var t=Fi(n);function n(){return Ii(this,n),t.apply(this,arguments)}return Mi(n,[{key:"imprint",get:function(){return"https://raiden.network/privacy.html"}},{key:"terms",get:function(){return"https://github.com/raiden-network/light-client/blob/master/TERMS.md"}},{key:"destroyed",value:function(){this.$raiden.disconnect()}}]),n}(Object(He["c"])(oa["a"]));qi=Object(We["__decorate"])([Object(He["a"])({components:{AppHeader:xa,OfflineSnackbar:Wo,UpdateSnackbar:Ci,NotificationSnackbar:_o,ReceivingOngoingSnackbar:si,InstallBanner:Qa}})],qi);var Ki=qi,Gi=Ki,Yi=(n("0933"),n("072b")),Xi=n("e8f8"),Qi=Object(ot["a"])(Gi,Jr,Zr,!1,null,"058f4910",null),zi=Qi.exports;ct()(Qi,{VApp:Yi["a"],VContainer:Ri["a"],VMain:Xi["a"]});var Ji=n("8aa9");a["a"].config.productionTip=!1,Object(Ji["b"])(),a["a"].use(Nr),a["a"].use(f),a["a"].use(Yr),new a["a"]({vuetify:zr,router:$n,store:Te,i18n:er,render:function(e){return e(zi)}}).$mount("#app")},cd89:function(e,t,n){"use strict";n("f386")},d009:function(e,t,n){var r={"./backup_state_info.svg":"1924","./channels_info.svg":"18cb","./open_channel_info.svg":"9662","./select_hub_info.svg":"f496","./transfer_eth_info.svg":"60f8","./transfer_info.svg":"6cb9","./transfer_steps_info.svg":"fb60","./udc_info.svg":"d43a","./withdraw_tokens_info.svg":"68e9"};function a(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=o,e.exports=a,a.id="d009"},d011:function(e,t,n){"use strict";n.d(t,"h",(function(){return s})),n.d(t,"i",(function(){return l})),n.d(t,"f",(function(){return f})),n.d(t,"g",(function(){return p})),n.d(t,"d",(function(){return d})),n.d(t,"e",(function(){return b})),n.d(t,"c",(function(){return y})),n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return m})),n.d(t,"k",(function(){return O})),n.d(t,"j",(function(){return g}));var r,a=n("2111"),o=n("48a3"),i=n.n(o),c=n("ca14");function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s={PFS:"path_finding",MS:"monitoring"},l=a["k"](i()(s)),f=(r={},u(r,s.PFS,"PATH_FINDING"),u(r,s.MS,"MONITORING"),{disabled:"disabled",auto:"auto",onlyAdditional:"onlyAdditional"}),p=a["k"](i()(f)),d=a["p"](a["j"]([a["v"]({result:a["d"](a["p"](a["v"]({path:a["q"](c["a"]),estimated_fee:Object(c["d"])(32)})))}),a["o"]({feedback_token:a["s"]})])),b=a["d"](a["p"](a["v"]({path:a["q"](c["a"]),fee:Object(c["d"])(32)}))),y=a["p"](a["v"]({address:c["a"],url:a["s"],rtt:a["n"],price:Object(c["j"])(32),token:c["a"]})),h=a["p"](a["v"]({sender:c["a"],receiver:c["a"],amount:Object(c["j"])(32),expiration_block:Object(c["j"])(32),one_to_n_address:c["a"],chain_id:Object(c["j"])(32)})),m=a["p"](a["v"]({last_iou:Object(c["h"])(h)})),v=a["p"](a["v"]({address:c["a"],capacity:Object(c["j"])(32),centrality:a["x"]([a["n"],a["s"]]),score:a["x"]([a["n"],a["s"]]),uptime:a["x"]([a["n"],a["s"]])}),"SuggestedPartner"),O=a["d"](v,"SuggestedPartners"),g=a["p"](a["r"](a["s"],a["n"]),"ServicesValidityMap")},d079:function(e,t,n){},d0dd:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return Ae}));var r=n("36d8"),a=n.n(r),o=(n("40b2"),n("c00b")),i=n("30c0"),c=n("87b8"),u=n("2b89"),s=n("f45b"),l=n("8730"),f=n.n(l),p=n("427e"),d=n.n(p),b=n("ea1b"),y=n.n(b),h=n("111d"),m=n.n(h),v=n("7276"),O=n("384a"),g=n("1ed4"),j=n("06f1"),w=n("34ba"),_=n("2023"),k=n("331d"),E=n("dae3"),T=n("ae8f"),A=n("a489"),S=n("8509"),x=n("ebf5"),P=n("7f4a"),R=n("cefa"),N=n("94e7"),C=n("0eb1"),D=n("258b"),I=n("4a9c"),U=n("459b"),M=n("72251"),L=n("423d"),B=n("f5be"),F=n("f799"),V=n("b8ff"),W=n("8120"),H=n("5bbb"),$=n("2b5b"),q=n("de7d"),K=n("74e4"),G=n("50e7"),Y=n("8089"),X=n("db2c5"),Q=n("6c61"),z=n("eed9"),J=n("d011"),Z=n("358d"),ee=n("83ee"),te=n("1a78"),ne=n("59ec"),re=n("d890"),ae=n("05eb"),oe=n("f2df"),ie=n("d276"),ce=n("46f7"),ue=n("ee6c"),se=n("1b23"),le=n("325b"),fe=n("ca14"),pe=n("bf6c");function de(e){return me(e)||he(e)||ye(e)||be()}function be(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ye(e,t){if(e){if("string"===typeof e)return ve(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ve(e,t):void 0}}function he(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function me(e){if(Array.isArray(e))return ve(e)}function ve(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ge(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oe(Object(n),!0).forEach((function(t){je(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function je(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function we(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(s){return void n(s)}c.done?t(u):Promise.resolve(u).then(r,a)}function _e(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){we(o,r,a,i,c,"next",e)}function c(e){we(o,r,a,i,c,"throw",e)}i(void 0)}))}}function ke(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ee(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Te(e,t,n){return t&&Ee(e.prototype,t),n&&Ee(e,n),e}var Ae=function(){function t(e,n){var r=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object(G["a"])(),i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Q["a"];ke(this,t),this.deps=n,this.epic=o,this.action$=this.deps.latest$.pipe(Object(le["i"])("action"),Object(x["a"])(1)),this.state$=this.deps.latest$.pipe(Object(le["i"])("state")),this.channels$=this.state$.pipe(Object(le["i"])("channels"),Object(P["a"])(Y["m"])),this.events$=this.action$.pipe(Object(R["a"])(Object(ie["e"])(B["b"]))),this.transfers$=Object(Y["i"])(this.state$,this.deps.db),this.config$=this.deps.config$,this.blockTime$=this.deps.latest$.pipe(Object(le["i"])("blockTime")),this.synced=Object(Y["k"])(this.action$),this.getTokenInfo=Object(Y["l"])(this.deps),this.resolveName=this.deps.provider.resolveName.bind(this.deps.provider),this.userDepositTokenAddress=d()(_e(a.a.mark((function e(){return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",r.deps.userDepositContract.callStatic.token());case 1:case"end":return e.stop()}}),e)})))),n.provider.resetEventsBlock(e.blockNumber+1);var c=!(null===globalThis||void 0===globalThis||!globalThis.location),u=Object(g["createLogger"])(ge({predicate:function(){return r.log.getLevel()<=m.a.levels.INFO},logger:this.log,level:{prevState:!1,action:"info",error:"error",nextState:"debug"}},c?{}:{colors:!1}));this.epicMiddleware=Object(j["a"])({dependencies:n});var s=Object(X["a"])(n.db);this.store=Object(v["createStore"])(i,e,Object(O["composeWithDevTools"])(Object(v["applyMiddleware"])(u,s,this.epicMiddleware))),n.config$.subscribe((function(e){return r.config=e})),Object(G["b"])(Object(w["a"])(Object(B["d"])({})),Object(w["a"])(this.store.getState()),n).subscribe((function(e){return n.latest$.next(e)}))}return Te(t,[{key:"start",value:function(){var n=_e(a.a.mark((function n(){var r,o=this;return a.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return Object(oe["a"])(this.epicMiddleware,ue["b"].RDN_ALREADY_STARTED,this.log.info),this.log.info("Starting Raiden Light-Client",{prevBlockNumber:this.state.blockNumber,address:this.address,TokenNetworkRegistry:this.deps.contractsInfo.TokenNetworkRegistry.address,network:{name:this.deps.network.name,chainId:this.deps.network.chainId},"raiden-ts":t.version,"raiden-contracts":t.contractVersion,config:this.config,versions:null===(r=e)||void 0===r?void 0:r.versions}),this.deps.latest$.subscribe({complete:function(){return o.epicMiddleware=null}}),this.epicMiddleware.run(this.epic),this.epicMiddleware=void 0,this.store.dispatch(Object(B["f"])()),n.next=8,this.synced;case 8:case"end":return n.stop()}}),n,this)})));function r(){return n.apply(this,arguments)}return r}()},{key:"started",get:function(){if(!this.epicMiddleware)return void 0===this.epicMiddleware}},{key:"stop",value:function(){var e=_e(a.a.mark((function e(){return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.started&&this.store.dispatch(Object(B["e"])({reason:$["f"].STOP})),void 0===this.started){e.next=4;break}return e.next=4,this.deps.db.busy$.toPromise();case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"log",get:function(){return this.deps.log}},{key:"state",get:function(){return this.store.getState()}},{key:"address",get:function(){return this.deps.address}},{key:"mainAddress",get:function(){var e;return null===(e=this.deps.main)||void 0===e?void 0:e.address}},{key:"network",get:function(){return this.deps.network}},{key:"getBlockNumber",value:function(){var e=_e(a.a.mark((function e(){var t;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=this.deps.provider.blockNumber,!(t&&t>=this.deps.contractsInfo.TokenNetworkRegistry.block_number)){e.next=5;break}return e.abrupt("return",t);case 5:return e.next=7,this.deps.provider.getBlockNumber();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"contractsInfo",get:function(){return this.deps.contractsInfo}},{key:"updateConfig",value:function(e){"mediationFees"in e&&this.deps.mediationFeeCalculator.decodeConfig(e.mediationFees,this.deps.defaultConfig.mediationFees),this.store.dispatch(Object(B["d"])(Object(fe["l"])(H["a"],e)))}},{key:"dumpDatabase",value:function(){var e=_e(a.a.mark((function e(){return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(void 0===this.started){e.next=3;break}return e.next=3,this.deps.db.busy$.toPromise();case 3:return e.abrupt("return",Object(K["b"])(this.deps.db));case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getBalance",value:function(e){var t;return e=null!==(t=e)&&void 0!==t?t:Object(Y["b"])(this.deps,this.config.subkey).address,Object(oe["a"])(fe["a"].is(e),[ue["b"].DTA_INVALID_ADDRESS,{address:e}],this.log.info),this.deps.provider.getBalance(e)}},{key:"getTokenBalance",value:function(){var e=_e(a.a.mark((function e(t,n){var r,o;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=null!==(r=n)&&void 0!==r?r:Object(Y["b"])(this.deps,this.config.subkey).address,Object(oe["a"])(fe["a"].is(n),[ue["b"].DTA_INVALID_ADDRESS,{address:n}],this.log.info),Object(oe["a"])(fe["a"].is(t),[ue["b"].DTA_INVALID_ADDRESS,{token:t}],this.log.info),o=this.deps.getTokenContract(t),e.abrupt("return",o.callStatic.balanceOf(n));case 5:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"getTokenList",value:function(){var e=_e(a.a.mark((function e(){var t=this;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.t0=se["b"],e.t1=this.deps.provider,e.t2=ge,e.t3=ge({},this.deps.registryContract.filters.TokenNetworkCreated(null,null)),e.t4={},e.t5=this.deps.contractsInfo.TokenNetworkRegistry.block_number,e.next=8,this.getBlockNumber();case 8:return e.t6=e.sent,e.t7={fromBlock:e.t5,toBlock:e.t6},e.t8=(0,e.t2)(e.t3,e.t4,e.t7),e.next=13,(0,e.t0)(e.t1,e.t8).pipe(Object(P["a"])((function(e){return t.deps.registryContract.interface.parseLog(e)})),Object(R["a"])((function(e){return!!e.args.token_address})),Object(P["a"])((function(e){return e.args.token_address})),Object(N["a"])()).toPromise();case 13:return e.abrupt("return",e.sent);case 14:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"monitorToken",value:function(){var e=_e(a.a.mark((function e(t){var n;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(Object(oe["a"])(fe["a"].is(t),[ue["b"].DTA_INVALID_ADDRESS,{token:t}],this.log.info),n=this.state.tokens[t],!n){e.next=4;break}return e.abrupt("return",n);case 4:return e.next=6,this.deps.registryContract.token_to_token_networks(t);case 6:return n=e.sent,Object(oe["a"])(n&&n!==i["a"],ue["b"].RDN_UNKNOWN_TOKEN_NETWORK,this.log.info),this.store.dispatch(Object(F["tokenMonitored"])({token:t,tokenNetwork:n,fromBlock:this.deps.contractsInfo.TokenNetworkRegistry.block_number})),e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"openChannel",value:function(){var e=_e(a.a.mark((function e(t,n){var r,o,i,c,u,s,l,f,p,d,b,y,h,m,v,O=arguments;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o=O.length>2&&void 0!==O[2]?O[2]:{},i=O.length>3?O[3]:void 0,Object(oe["a"])(fe["a"].is(t),[ue["b"].DTA_INVALID_ADDRESS,{token:t}],this.log.info),Object(oe["a"])(fe["a"].is(n),[ue["b"].DTA_INVALID_ADDRESS,{partner:n}],this.log.info),e.next=6,this.monitorToken(t);case 6:return c=e.sent,Object(oe["a"])(!o.subkey||this.deps.main,ue["b"].RDN_SUBKEY_NOT_SET,this.log.info),u=o.settleTimeout?Object(fe["l"])(Object(fe["j"])(4),o.settleTimeout,ue["b"].DTA_INVALID_TIMEOUT,this.log.info).toNumber():void 0,s=o.deposit?Object(fe["l"])(Object(fe["j"])(32),o.deposit,ue["b"].DTA_INVALID_DEPOSIT,this.log.info):void 0,l=null===(r=o.confirmConfirmation)||void 0===r||r,f={tokenNetwork:c,partner:n},p=Object(ie["a"])(F["channelOpen"],f,this.action$).then((function(e){var t=e.txHash;return t})),d=Object(ie["a"])(F["channelOpen"],f,this.action$,!0),null!==s&&void 0!==s&&s.gt(0)&&(b=Object(ie["a"])(F["channelDeposit"],f,this.action$,!0).then((function(e){var t=e.txHash;return t})),y=Object(Y["p"])(this.action$,this.state$,{meta:f,config:this.config})),this.store.dispatch(F["channelOpen"].request(ge(ge({},o),{},{settleTimeout:u,deposit:s}),f)),e.next=18,p;case 18:return h=e.sent,null===i||void 0===i||i({type:ae["a"].OPENED,payload:{txHash:h}}),e.next=22,d;case 22:if(null===i||void 0===i||i({type:ae["a"].CONFIRMED,payload:{txHash:h}}),!b){e.next=30;break}return e.next=26,b;case 26:return m=e.sent,null===i||void 0===i||i({type:ae["a"].DEPOSITED,payload:{txHash:m}}),e.next=30,y;case 30:if(!l){e.next=39;break}return e.t0=Y["o"],e.next=34,this.deps.provider.getTransactionReceipt(null!==(v=m)&&void 0!==v?v:h);case 34:return e.t1=e.sent,e.t2=this.deps,e.t3=2*this.config.confirmationBlocks,e.next=39,(0,e.t0)(e.t1,e.t2,e.t3);case 39:return e.abrupt("return",h);case 40:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"depositChannel",value:function(){var e=_e(a.a.mark((function e(t,n,r){var o,i,c,u,s,l,f,p,d,b,y=arguments;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o=y.length>3&&void 0!==y[3]?y[3]:{},i=o.subkey,c=o.confirmConfirmation,Object(oe["a"])(fe["a"].is(t),[ue["b"].DTA_INVALID_ADDRESS,{token:t}],this.log.info),Object(oe["a"])(fe["a"].is(n),[ue["b"].DTA_INVALID_ADDRESS,{partner:n}],this.log.info),u=this.state,s=u.tokens[t],Object(oe["a"])(s,ue["b"].RDN_UNKNOWN_TOKEN_NETWORK,this.log.info),Object(oe["a"])(!i||this.deps.main,ue["b"].RDN_SUBKEY_NOT_SET,this.log.info),l=Object(fe["l"])(Object(fe["j"])(32),r,ue["b"].DTA_INVALID_DEPOSIT,this.log.info),f={tokenNetwork:s,partner:n},p=Object(Y["p"])(this.action$,this.state$,{meta:f,config:this.config}),d=Object(ie["a"])(F["channelDeposit"],f,this.action$,!0).then((function(e){var t=e.txHash;return t})),this.store.dispatch(F["channelDeposit"].request({deposit:l,subkey:i},f)),e.next=14,d;case 14:return b=e.sent,e.next=17,p;case 17:if(null!==c&&void 0!==c&&!c){e.next=26;break}return e.t0=Y["o"],e.next=21,this.deps.provider.getTransactionReceipt(b);case 21:return e.t1=e.sent,e.t2=this.deps,e.t3=2*this.config.confirmationBlocks,e.next=26,(0,e.t0)(e.t1,e.t2,e.t3);case 26:return e.abrupt("return",b);case 27:case"end":return e.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"closeChannel",value:function(){var e=_e(a.a.mark((function e(t,n){var r,o,i,c,u,s,l=arguments;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=l.length>2&&void 0!==l[2]?l[2]:{},o=r.subkey,Object(oe["a"])(fe["a"].is(t),[ue["b"].DTA_INVALID_ADDRESS,{token:t}],this.log.info),Object(oe["a"])(fe["a"].is(n),[ue["b"].DTA_INVALID_ADDRESS,{partner:n}],this.log.info),i=this.state,c=i.tokens[t],Object(oe["a"])(c,ue["b"].RDN_UNKNOWN_TOKEN_NETWORK,this.log.info),Object(oe["a"])(!o||this.deps.main,ue["b"].RDN_SUBKEY_NOT_SET,this.log.info),u={tokenNetwork:c,partner:n},s=Object(ie["a"])(F["channelClose"],u,this.action$,!0).then((function(e){var t=e.txHash;return t})),this.store.dispatch(F["channelClose"].request(o?{subkey:o}:void 0,u)),e.abrupt("return",s);case 11:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"settleChannel",value:function(){var e=_e(a.a.mark((function e(t,n){var r,o,i,c,u,s,l=arguments;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=l.length>2&&void 0!==l[2]?l[2]:{},o=r.subkey,Object(oe["a"])(fe["a"].is(t),[ue["b"].DTA_INVALID_ADDRESS,{token:t}],this.log.info),Object(oe["a"])(fe["a"].is(n),[ue["b"].DTA_INVALID_ADDRESS,{partner:n}],this.log.info),i=this.state,c=i.tokens[t],Object(oe["a"])(c,ue["b"].RDN_UNKNOWN_TOKEN_NETWORK,this.log.info),Object(oe["a"])(!o||this.deps.main,ue["b"].RDN_SUBKEY_NOT_SET,this.log.info),Object(oe["a"])(!this.config.autoSettle,ue["b"].CNL_SETTLE_AUTO_ENABLED,this.log.info),u={tokenNetwork:c,partner:n},e.next=11,Object(Y["n"])(this.state$,u).toPromise();case 11:return s=Object(ie["a"])(F["channelSettle"],u,this.action$,!0).then((function(e){var t=e.txHash;return t})),this.store.dispatch(F["channelSettle"].request(o?{subkey:o}:void 0,u)),e.abrupt("return",s);case 14:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"getAvailability",value:function(){var e=_e(a.a.mark((function e(t){var n,r;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return Object(oe["a"])(fe["a"].is(t),[ue["b"].DTA_INVALID_ADDRESS,{address:t}],this.log.info),n={address:t},r=Object(ie["a"])(re["matrixPresence"],n,this.action$),this.store.dispatch(re["matrixPresence"].request(void 0,n)),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"transfer",value:function(){var e=_e(a.a.mark((function e(t,n,r){var o,i,c,u,s,l,f,p,d,b,y=this,h=arguments;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o=h.length>3&&void 0!==h[3]?h[3]:{},Object(oe["a"])(fe["a"].is(t),[ue["b"].DTA_INVALID_ADDRESS,{token:t}],this.log.info),Object(oe["a"])(fe["a"].is(n),[ue["b"].DTA_INVALID_ADDRESS,{target:n}],this.log.info),i=this.state.tokens[t],Object(oe["a"])(i,ue["b"].RDN_UNKNOWN_TOKEN_NETWORK,this.log.info),c=Object(fe["l"])(Object(fe["j"])(32),r,ue["b"].DTA_INVALID_AMOUNT,this.log.info),u=void 0!==o.paymentId?Object(fe["l"])(Object(fe["j"])(8),o.paymentId,ue["b"].DTA_INVALID_PAYMENT_ID,this.log.info):Object(ne["f"])(),s=o.paths?Object(fe["l"])(J["e"],o.paths,ue["b"].DTA_INVALID_PATH,this.log.info):void 0,l=o.pfs?Object(fe["l"])(J["c"],o.pfs,ue["b"].DTA_INVALID_PFS,this.log.info):void 0,f=o.lockTimeout?this.state.blockNumber+o.lockTimeout:void 0,Object(oe["a"])(void 0===o.secret||fe["f"].is(o.secret),ue["b"].RDN_INVALID_SECRET,this.log.info),Object(oe["a"])(void 0===o.secrethash||fe["c"].is(o.secrethash),ue["b"].RDN_INVALID_SECRETHASH,this.log.info),p=o.secret?o.secret:o.secrethash?void 0:Object(ne["g"])(),d=o.secrethash||Object(ne["c"])(p),Object(oe["a"])(!p||Object(ne["c"])(p)===d,ue["b"].RDN_SECRET_SECRETHASH_MISMATCH,this.log.info),b={tokenNetwork:i,target:n,value:c},e.abrupt("return",Object(_["a"])(this.action$.pipe(Object(C["a"])(Object(ie["g"])(z["pathFind"],b)),Object(P["a"])((function(e){if(z["pathFind"].failure.is(e))throw e.payload;return e.payload.paths}))),Object(k["a"])((function(){return y.store.dispatch(z["pathFind"].request({paths:s,pfs:l},b)),E["a"]}))).pipe(Object(D["a"])((function(e){return Object(_["a"])(y.action$.pipe(Object(R["a"])(Object(ie["e"])([ee["transferSigned"],ee["transfer"].failure])),Object(C["a"])((function(e){return e.meta.direction===te["a"].SENT&&e.meta.secrethash===d})),Object(P["a"])((function(e){if(ee["transfer"].failure.is(e))throw e.payload;return Object(ne["i"])(e.meta)}))),Object(k["a"])((function(){return y.store.dispatch(ee["transfer"].request({tokenNetwork:i,target:n,value:c,paths:e,paymentId:u,secret:p,expiration:f},{secrethash:d,direction:te["a"].SENT})),E["a"]})))}))).toPromise());case 17:case"end":return e.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"waitTransfer",value:function(){var e=_e(a.a.mark((function e(t){var n,r,o,i,c,u,s;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=Object(ne["j"])(t),o=r.direction,i=r.secrethash,c=this.state.transfers[t],c){e.next=14;break}return e.prev=3,e.t0=fe["l"],e.t1=te["d"],e.next=8,this.deps.db.get(t);case 8:e.t2=e.sent,c=(0,e.t0)(e.t1,e.t2),e.next=14;break;case 12:e.prev=12,e.t3=e["catch"](3);case 14:if(Object(oe["a"])(c,ue["b"].RDN_UNKNOWN_TRANSFER,this.log.info),u=Object(ne["h"])(c),!u.completed){e.next=22;break}if(!u.success){e.next=21;break}return e.abrupt("return",u);case 21:throw new ue["c"](ue["b"].XFER_ALREADY_COMPLETED,{status:u.status});case 22:return e.next=24,Object(ie["a"])(ee["transfer"],{secrethash:i,direction:o},this.action$);case 24:return e.next=26,this.state$.pipe(Object(I["a"])("transfers",t),Object(C["a"])((function(e){return!!e.unlockProcessed}))).toPromise();case 26:return s=e.sent,this.log.info("Transfer successful",{key:t,partner:s.partner,initiator:s.transfer.initiator,target:s.transfer.target,fee:s.fee.toString(),lockAmount:s.transfer.lock.amount.toString(),targetReceived:null===(n=s.secretRequest)||void 0===n?void 0:n.amount.toString(),transferTime:s.unlockProcessed.ts-s.transfer.ts}),e.abrupt("return",Object(ne["h"])(s));case 29:case"end":return e.stop()}}),e,this,[[3,12]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"findRoutes",value:function(){var e=_e(a.a.mark((function e(t,n,r){var o,i,c,u,s,l,f=arguments;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o=f.length>3&&void 0!==f[3]?f[3]:{},Object(oe["a"])(fe["a"].is(t),[ue["b"].DTA_INVALID_ADDRESS,{token:t}],this.log.info),Object(oe["a"])(fe["a"].is(n),[ue["b"].DTA_INVALID_ADDRESS,{target:n}],this.log.info),i=this.state.tokens[t],Object(oe["a"])(i,ue["b"].RDN_UNKNOWN_TOKEN_NETWORK,this.log.info),c=Object(fe["l"])(Object(fe["j"])(32),r),u=o.pfs?Object(fe["l"])(J["c"],o.pfs):void 0,s={tokenNetwork:i,target:n,value:c},l=Object(ie["a"])(z["pathFind"],s,this.action$).then((function(e){var t=e.paths;return t})),this.store.dispatch(z["pathFind"].request({pfs:u},s)),e.abrupt("return",l);case 11:case"end":return e.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"directRoute",value:function(){var e=_e(a.a.mark((function e(t,n,r){var o,i,c,u;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return Object(oe["a"])(fe["a"].is(t),[ue["b"].DTA_INVALID_ADDRESS,{token:t}],this.log.info),Object(oe["a"])(fe["a"].is(n),[ue["b"].DTA_INVALID_ADDRESS,{target:n}],this.log.info),o=this.state.tokens[t],Object(oe["a"])(o,ue["b"].RDN_UNKNOWN_TOKEN_NETWORK,this.log.info),i=Object(fe["l"])(Object(fe["j"])(32),r),c={tokenNetwork:o,target:n,value:i},u=Object(ie["a"])(z["pathFind"],c,this.action$).then((function(e){var t=e.paths;return t}),(function(){})),this.store.dispatch(z["pathFind"].request({pfs:null},c)),e.abrupt("return",u);case 9:case"end":return e.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"findPFS",value:function(){var e=_e(a.a.mark((function e(){var t;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return Object(oe["a"])(this.config.pfsMode!==J["f"].disabled,ue["b"].PFS_DISABLED,this.log.info),e.next=3,this.synced;case 3:return t=de(this.config.additionalServices),this.config.pfsMode===J["f"].auto&&t.push.apply(t,de(Object.keys(this.state.services))),e.abrupt("return",Object(Z["d"])(t,this.deps).toPromise());case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"mint",value:function(){var e=_e(a.a.mark((function e(t,n){var r,o,i,c,u,s,l,f,p,d,b,y=arguments;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=y.length>2&&void 0!==y[2]?y[2]:{},o=r.subkey,i=r.to,Object(oe["a"])(fe["a"].is(t),[ue["b"].DTA_INVALID_ADDRESS,{token:t}],this.log.info),Object(oe["a"])(!o||this.deps.main,ue["b"].RDN_SUBKEY_NOT_SET,this.log.info),Object(oe["a"])(1!==this.deps.network.chainId,ue["b"].RDN_MINT_MAINNET,this.log.info),c=Object(Y["b"])(this.deps,null!==o&&void 0!==o?o:this.config.subkey),u=c.signer,s=c.address,l=q["a"].connect(t,u),f=null!==i&&void 0!==i?i:s,Object(oe["a"])(fe["a"].is(f),[ue["b"].DTA_INVALID_ADDRESS,{beneficiary:f}],this.log.info),e.next=10,this.deps.latest$.pipe(Object(C["a"])(),Object(I["a"])("gasPrice")).toPromise();case 10:return p=e.sent,d=Object(fe["l"])(Object(fe["j"])(32),n,ue["b"].DTA_INVALID_AMOUNT),e.next=14,Object(Y["a"])(l,"mintFor",[d,f,{gasPrice:p}],ue["b"].RDN_MINT_FAILED,{log:this.log});case 14:return b=e.sent,e.next=17,Object(Y["o"])(b,this.deps,1);case 17:return e.abrupt("return",b.transactionHash);case 18:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"registerToken",value:function(){var e=_e(a.a.mark((function e(t){var n,r,o,i,u,s,l,f=arguments;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=f.length>1&&void 0!==f[1]?f[1]:c["b"],r=f.length>2&&void 0!==f[2]?f[2]:c["b"],Object(oe["a"])(fe["a"].is(t),[ue["b"].DTA_INVALID_ADDRESS,{token:t}],this.log.info),Object(oe["a"])(1!==this.deps.network.chainId,ue["b"].RDN_REGISTER_TOKEN_MAINNET,this.log.info),o=Object(Y["b"])(this.deps,this.config.subkey),i=o.signer,u=Object(Y["d"])(this.deps.registryContract,i),e.next=8,this.monitorToken(t).then((function(e){throw new ue["c"](ue["b"].RDN_REGISTER_TOKEN_REGISTERED,{tokenNetwork:e})}),(function(){}));case 8:return e.next=10,this.deps.latest$.pipe(Object(C["a"])(),Object(I["a"])("gasPrice")).toPromise();case 10:return s=e.sent,e.next=13,Object(Y["a"])(u,"createERC20TokenNetwork",[t,n,r,{gasPrice:s}],ue["b"].RDN_REGISTER_TOKEN_FAILED,{log:this.log});case 13:return l=e.sent,e.next=16,Object(Y["o"])(l,this.deps);case 16:return e.next=18,this.monitorToken(t);case 18:return e.abrupt("return",e.sent);case 19:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getUDCCapacity",value:function(){var e=_e(a.a.mark((function e(){var t,n,r;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(Y["h"])(this.deps.latest$);case 2:return t=e.sent,n=this.state.blockNumber,r=Object.values(this.state.iou).reduce((function(e,t){return[].concat(de(e),de(Object.values(t).filter((function(e){return e.expiration_block.gte(n)}))))}),[]).reduce((function(e,t){return e.add(t.amount)}),c["h"]),e.abrupt("return",t.sub(r));case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getUDCTotalDeposit",value:function(){var e=_e(a.a.mark((function e(){return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this.deps.latest$.pipe(Object(I["a"])("udcDeposit","totalDeposit"),Object(C["a"])((function(e){return!!e&&e.lt(c["b"])}))).toPromise());case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"depositToUDC",value:function(){var e=_e(a.a.mark((function e(t,n){var r,o,i,u,s,l,f,p,d=arguments;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=d.length>2&&void 0!==d[2]?d[2]:{},o=r.subkey,Object(oe["a"])(!o||this.deps.main,ue["b"].RDN_SUBKEY_NOT_SET,this.log.info),i=Object(fe["l"])(Object(fe["j"])(32),t,ue["b"].DTA_INVALID_DEPOSIT,this.log.info),Object(oe["a"])(i.gt(c["h"]),ue["b"].DTA_NON_POSITIVE_NUMBER,this.log.info),e.next=6,this.deps.userDepositContract.callStatic.total_deposit(this.address);case 6:return u=e.sent,s={totalDeposit:u.add(i)},l=Object(ie["a"])(z["udcDeposit"],s,this.action$,!1).then((function(e){return e.txHash})),this.store.dispatch(z["udcDeposit"].request({deposit:i,subkey:o},s)),e.next=12,l;case 12:return f=e.sent,null===n||void 0===n||n({type:ae["a"].DEPOSITED,payload:{txHash:f}}),p=Object(ie["a"])(z["udcDeposit"],s,this.action$,!0).then((function(e){return e.txHash})),e.next=17,p;case 17:return f=e.sent,null===n||void 0===n||n({type:ae["a"].CONFIRMED,payload:{txHash:f}}),e.abrupt("return",f);case 20:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"transferOnchainBalance",value:function(){var e=_e(a.a.mark((function e(t){var n,r,i,u,s,l,f,p,d,b,y,h,m,v,O=arguments;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=O.length>1&&void 0!==O[1]?O[1]:c["b"],r=O.length>2&&void 0!==O[2]?O[2]:{},i=r.subkey,u=r.gasPrice,Object(oe["a"])(fe["a"].is(t),[ue["b"].DTA_INVALID_ADDRESS,{to:t}],this.log.info),Object(oe["a"])(!i||this.deps.main,ue["b"].RDN_SUBKEY_NOT_SET,this.log.info),s=Object(Y["b"])(this.deps,null!==i&&void 0!==i?i:this.config.subkey),l=s.signer,f=s.address,!u){e.next=9;break}e.t0=o["a"].from(u),e.next=12;break;case 9:return e.next=11,this.deps.latest$.pipe(Object(C["a"])(),Object(I["a"])("gasPrice")).toPromise();case 11:e.t0=e.sent;case 12:return p=e.t0,d=o["a"].from(21e3),e.next=16,this.getBalance(f);case 16:return b=e.sent,y=b.sub(p.mul(d)),Object(oe["a"])(y.gt(c["h"]),[ue["b"].RDN_INSUFFICIENT_BALANCE,{transferable:y.toString()}],this.log.info),h=y.lte(n)?y:o["a"].from(n),e.next=22,l.sendTransaction({to:t,value:h,gasPrice:p,gasLimit:d});case 22:return m=e.sent,e.next=25,m.wait();case 25:return v=e.sent,Object(oe["a"])(v.status,ue["b"].RDN_TRANSFER_ONCHAIN_BALANCE_FAILED,this.log.info),e.abrupt("return",m.hash);case 28:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"transferOnchainTokens",value:function(){var e=_e(a.a.mark((function e(t,n){var r,i,u,s,l,f,p,d,b,y,h,m=arguments;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=m.length>2&&void 0!==m[2]?m[2]:c["b"],i=m.length>3&&void 0!==m[3]?m[3]:{},u=i.subkey,Object(oe["a"])(fe["a"].is(t),[ue["b"].DTA_INVALID_ADDRESS,{token:t}],this.log.info),Object(oe["a"])(fe["a"].is(n),[ue["b"].DTA_INVALID_ADDRESS,{to:n}],this.log.info),Object(oe["a"])(!u||this.deps.main,ue["b"].RDN_SUBKEY_NOT_SET,this.log.info),s=Object(Y["b"])(this.deps,null!==u&&void 0!==u?u:this.config.subkey),l=s.signer,f=s.address,p=Object(Y["d"])(this.deps.getTokenContract(t),l),e.next=9,this.getTokenBalance(t,f);case 9:return d=e.sent,b=d.lte(r)?d:o["a"].from(r),e.next=13,this.deps.latest$.pipe(Object(C["a"])(),Object(I["a"])("gasPrice")).toPromise();case 13:return y=e.sent,e.next=16,Object(Y["a"])(p,"transfer",[n,b,{gasPrice:y}],ue["b"].RDN_TRANSFER_ONCHAIN_TOKENS_FAILED,{log:this.log});case 16:return h=e.sent,e.abrupt("return",h.transactionHash);case 18:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"getUDCWithdrawPlan",value:function(){var e=_e(a.a.mark((function e(){var t;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.deps.userDepositContract.withdraw_plans(this.address);case 2:if(t=e.sent,!t.withdraw_block.isZero()){e.next=5;break}return e.abrupt("return");case 5:return e.abrupt("return",{amount:t.amount,block:t.withdraw_block.toNumber(),ready:t.withdraw_block.lte(this.state.blockNumber)});case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"planUDCWithdraw",value:function(){var e=_e(a.a.mark((function e(t){var n,r;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={amount:Object(fe["l"])(Object(fe["j"])(32),t,ue["b"].DTA_INVALID_AMOUNT,this.log.error)},r=Object(ie["a"])(z["udcWithdrawPlan"],n,this.action$,!0).then((function(e){var t=e.txHash;return t})),this.store.dispatch(z["udcWithdrawPlan"].request(void 0,n)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"withdrawFromUDC",value:function(){var e=_e(a.a.mark((function e(t){var n,r,o;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return Object(oe["a"])(!this.config.autoUDCWithdraw,ue["b"].UDC_WITHDRAW_AUTO_ENABLED,this.log.warn),e.next=3,this.getUDCWithdrawPlan();case 3:if(n=e.sent,Object(oe["a"])(n,ue["b"].UDC_WITHDRAW_NO_PLAN,this.log.warn),t?Object(oe["a"])(n.amount.gte(t),ue["b"].UDC_WITHDRAW_TOO_LARGE,this.log.warn):t=n.amount,r={amount:Object(fe["l"])(Object(fe["j"])(32),t,ue["b"].DTA_INVALID_AMOUNT,this.log.error)},n.ready){e.next=10;break}return e.next=10,this.state$.pipe(Object(le["i"])("blockNumber"),Object(C["a"])((function(e){return e>=n.block}))).toPromise();case 10:return o=Object(ie["a"])(z["udcWithdraw"],r,this.action$,!0).then((function(e){var t=e.txHash;return t})),this.store.dispatch(z["udcWithdraw"].request(void 0,r)),e.abrupt("return",o);case 13:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"withdrawChannel",value:function(){var e=_e(a.a.mark((function e(t,n,r){var o,i,c,u,s,l,f,p,d,b;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return Object(oe["a"])(fe["a"].is(t),[ue["b"].DTA_INVALID_ADDRESS,{token:t}],this.log.info),Object(oe["a"])(fe["a"].is(n),[ue["b"].DTA_INVALID_ADDRESS,{partner:n}],this.log.info),o=this.state.tokens[t],Object(oe["a"])(o,ue["b"].RDN_UNKNOWN_TOKEN_NETWORK,this.log.info),i=this.state.channels[Object(W["d"])({tokenNetwork:o,partner:n})],Object(oe["a"])((null===i||void 0===i?void 0:i.state)===V["b"].open,ue["b"].CNL_NO_OPEN_CHANNEL_FOUND,this.log.error),c=Object(W["c"])(i),u=c.ownWithdrawable,s=c.ownWithdraw,l=Object(fe["l"])(Object(fe["j"])(32),null!==r&&void 0!==r?r:u,ue["b"].DTA_INVALID_AMOUNT,this.log.info),f=s.add(l),p=this.state.blockNumber+2*this.config.revealTimeout,d={direction:te["a"].SENT,tokenNetwork:o,partner:n,totalWithdraw:f,expiration:p},b=Object(ie["a"])(ee["withdraw"],d,this.action$,!0).then((function(e){var t=e.txHash;return t})),this.store.dispatch(ee["withdraw"].request(void 0,d)),e.abrupt("return",b);case 14:case"end":return e.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"suggestPartners",value:function(){var e=_e(a.a.mark((function e(t){var n,r,o,i,c=this,u=arguments;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=u.length>1&&void 0!==u[1]?u[1]:{},Object(oe["a"])(fe["a"].is(t),[ue["b"].DTA_INVALID_ADDRESS,{token:t}],this.log.info),r=this.state.tokens[t],Object(oe["a"])(r,ue["b"].RDN_UNKNOWN_TOKEN_NETWORK,this.log.info),!n.pfs){e.next=8;break}e.t0=[Object(fe["l"])(J["c"],n.pfs)],e.next=11;break;case 8:return e.next=10,this.findPFS();case 10:e.t0=e.sent;case 11:return o=e.t0,e.abrupt("return",Object(T["a"])(o).pipe(Object(U["a"])((function(e){return Object(S["a"])("".concat(e.url,"/api/v1/").concat(r,"/suggest_partner"),{method:"GET",headers:{"Content-Type":"application/json"}}).pipe(Object(M["a"])(c.config.httpTimeout),Object(D["a"])(function(){var e=_e(a.a.mark((function e(t){return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",t.text());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Object(P["a"])((function(e){var t=Object(fe["l"])(J["k"],Object(ce["b"])(e));if(!t.length)throw i=[],new Error("PFS returned no suggested partners");return t})),Object(L["a"])((function(t){return c.log.info("Could not fetch PFS suggested partners",e,t),i||(i=t),E["a"]})))})),Object(C["a"])(),Object(L["a"])((function(e){return Array.isArray(i)?Object(w["a"])(i):Object(A["a"])(null!==(t=i)&&void 0!==t?t:e);var t}))).toPromise());case 13:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}],[{key:"create",value:function(){var e=_e(a.a.mark((function e(t,n,r,o,i,c,l){var p,d,b,h,v,O,g,j,w,_,k,E;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return p="string"===typeof t?new u["a"](t):t instanceof u["a"]?t:new s["a"](t),e.next=3,p.getNetwork();case 3:if(d=e.sent,o){e.next=8;break}b=Object(Y["e"])(d),e.next=16;break;case 8:if("string"!==typeof o){e.next=15;break}return Object(oe["a"])(fe["a"].is(o),[ue["b"].DTA_INVALID_ADDRESS,{contractsOrUserDepositAddress:o}]),e.next=12,Object(Y["c"])(p,o);case 12:b=e.sent,e.next=16;break;case 15:b=o;case 16:return e.next=18,Object(Y["f"])(n,p,c,l);case 18:return h=e.sent,v=h.signer,O=h.address,g=h.main,e.next=24,Object(Y["g"])({network:d,contractsInfo:b,address:O,log:m.a.getLogger("raiden:".concat(O))},r);case 24:return j=e.sent,w=j.state,_=j.db,Object(oe["a"])(O===w.address,[ue["b"].RDN_STATE_ADDRESS_MISMATCH,{account:O,state:w.address}]),Object(oe["a"])(d.chainId===w.chainId&&b.TokenNetworkRegistry.address===w.registry,[ue["b"].RDN_STATE_NETWORK_MISMATCH,{network:d.chainId,contracts:b.TokenNetworkRegistry.address,stateNetwork:w.chainId,stateRegistry:w.registry}]),k=i&&Object(fe["l"])(H["a"],y()(i,f.a)),E=Object(Y["j"])(v,b,{db:_,state:w,config:k,main:g}),e.abrupt("return",new this(w,E));case 32:case"end":return e.stop()}}),e,this)})));function t(t,n,r,a,o,i,c){return e.apply(this,arguments)}return t}()},{key:"version",get:function(){return pe.sdk}},{key:"contractVersion",get:function(){return pe.contracts}}]),t}()}).call(this,n("6fc9"))},d276:function(e,t,n){"use strict";n.d(t,"e",(function(){return E})),n.d(t,"b",(function(){return T})),n.d(t,"c",(function(){return A})),n.d(t,"g",(function(){return x})),n.d(t,"f",(function(){return P})),n.d(t,"a",(function(){return R})),n.d(t,"d",(function(){return C}));var r=n("36d8"),a=n.n(r),o=n("2111"),i=n("53b1"),c=n.n(i),u=n("cefa"),s=n("dd5b"),l=n("7f4a"),f=n("f2df"),p=n("ee6c"),d=n("ca14");function b(e){return v(e)||m(e)||h(e)||y()}function y(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function h(e,t){if(e){if("string"===typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?O(e,t):void 0}}function m(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function v(e){if(Array.isArray(e))return O(e)}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(s){return void n(s)}c.done?t(u):Promise.resolve(u).then(r,a)}function j(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){g(o,r,a,i,c,"next",e)}function c(e){g(o,r,a,i,c,"throw",e)}i(void 0)}))}}function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){k(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E(e){var t=Array.isArray(e)?e:[e];function n(e){return null!=e&&t.some((function(t){return t.is(e)}))}return(arguments.length<=1?0:arguments.length-1)>0?n(arguments.length<=1?void 0:arguments[1]):n}function T(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],a=t[1],i=t[2],c=t[3],u=o["v"](_(_(_({type:o["l"](r)},a?{payload:a}:null),i?{meta:i}:null),c?{error:o["l"](c)}:null)),s=function(e){return(null===e||void 0===e?void 0:e["type"])===r},l=_({codec:u,type:r,is:s},void 0!==c?{error:c}:null),f=function(e,t){return _(_(_({type:r},a?{payload:e}:null),i?{meta:t}:null),void 0!==c?{error:c}:null)};return Object.assign(f,l)}function A(e,t,n,r,a,i){var c=!(arguments.length<=6)&&arguments.length-6?arguments.length<=6?void 0:arguments[6]:o["c"],u=T(t,a,e),s=T(n,i,e),l=T(r,c,e,!0);return{request:u,success:s,failure:l}}function S(e){var t=function(t){return c()(t.meta,e,(function(e,t){return d["b"].is(e)&&d["b"].is(t)?e.eq(t):void 0}))};return!(arguments.length<=1)&&arguments.length-1?t(arguments.length<=1?void 0:arguments[1]):t}function x(e,t){var n=function(n){return E([e.success,e.failure],n)&&S(t,n)};return!(arguments.length<=2)&&arguments.length-2?n(arguments.length<=2?void 0:arguments[2]):n}function P(e,t){function n(e){var t;return"boolean"===typeof(null===e||void 0===e||null===(t=e["payload"])||void 0===t?void 0:t["confirmed"])}var r=function(r){return x(e,t,r)&&(e.failure.is(r)||n(r))};return!(arguments.length<=2)&&arguments.length-2?r(arguments.length<=2?void 0:arguments[2]):r}function R(e,t,n,r){return N.apply(this,arguments)}function N(){return N=j(a.a.mark((function e(t,n,r,o){return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",r.pipe(Object(u["a"])(o?P(t,n):x(t,n)),Object(u["a"])((function(e){return void 0===o||!t.success.is(e)||"confirmed"in e.payload})),Object(s["a"])(1),Object(l["a"])((function(e){var n;if(t.failure.is(e))throw e.payload;if(!1===(null===(n=e.payload)||void 0===n?void 0:n.confirmed))throw new p["c"](p["b"].RDN_TRANSACTION_REORG,{transactionHash:e.payload.txHash});return e.payload}))).toPromise());case 1:case"end":return e.stop()}}),e)}))),N.apply(this,arguments)}function C(e){function t(n){var r=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e,r=arguments.length>1?arguments[1]:void 0;return r.type in n&&n[r.type][0].is(r)?n[r.type][1](t,r):t};function a(e,r){var a=Array.isArray(e)?e:[e];return Object(f["a"])(!a.some((function(e){return e.type in n})),"Already handled"),t(Object.assign.apply(Object,[{},n].concat(b(a.map((function(e){return k({},e.type,[e,r])}))))))}return Object.assign(r,{handle:a})}return t({})}},d43a:function(e,t,n){e.exports=n.p+"img/udc_info.92f96cdc.svg"},d890:function(e,t,n){"use strict";n.r(t),n.d(t,"matrixSetup",(function(){return u})),n.d(t,"matrixPresence",(function(){return s})),n.d(t,"rtcChannel",(function(){return l}));var r=n("2111"),a=n("d276"),o=n("ca14"),i=n("ee57"),c=r["v"]({address:o["a"]}),u=Object(a["b"])("matrix/setup",r["v"]({server:r["s"],setup:i["a"]})),s=Object(a["c"])(c,"matrix/presence/request","matrix/presence/success","matrix/presence/failure",void 0,r["j"]([r["v"]({userId:r["s"],available:r["e"],ts:r["n"]}),r["o"]({caps:r["r"](r["s"],r["c"])})])),l=Object(a["b"])("rtc/channel",r["x"]([r["w"],Object(o["m"])("RTCDataChannel")]),c)},d8a5:function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e["NONE"]="none",e["INFO"]="info",e["WARNING"]="warning",e["ERROR"]="error"}(r||(r={}))},db2c5:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var r=n("36d8"),a=n.n(r),o=n("605b"),i=n.n(o),c=n("ee6c");function u(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=b(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t){return m(e)||h(e,t)||b(e,t)||d()}function d(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function b(e,t){if(e){if("string"===typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(e,t):void 0}}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t){var n=e&&("undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0)if(o.push(r.value),t&&o.length===t)break}catch(u){c=!0,a=u}finally{try{i||null==n["return"]||n["return"]()}finally{if(c)throw a}}return o}}function m(e){if(Array.isArray(e))return e}function v(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(s){return void n(s)}c.done?t(u):Promise.resolve(u).then(r,a)}function O(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){v(o,r,a,i,c,"next",e)}function c(e){v(o,r,a,i,c,"throw",e)}i(void 0)}))}}function g(e){var t={},n=function(){var n=O(a.a.mark((function n(){var r;return a.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,e.info();case 2:Object(c["d"])(!e.__opts.versionchanged,c["b"].RDN_DATABASE_DELETED),r=a.a.mark((function n(){var r,o,i,c,s,f,d,b;return a.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=t,t={},o=Object.keys(r),n.next=5,e.allDocs({keys:o});case 5:return i=n.sent,c=function(e){var t=i.rows.find((function(t){return t.id===e}));return null!==t&&void 0!==t&&t.value.deleted?{_rev:t.value.rev,deleted:!1}:t&&!("error"in t)?{_rev:t.value.rev}:void 0},n.next=9,e.bulkDocs(Object.entries(r).map((function(e){var t=p(e,2),n=t[0],r=t[1];return l(l({},r),{},{_id:n},c(n))})));case 9:s=n.sent,f=u(s);try{for(f.s();!(d=f.n()).done;)b=d.value,"error"in b&&b.error&&b.id&&!(b.id in t)&&(t[b.id]=r[b.id])}catch(a){f.e(a)}finally{f.f()}case 12:case"end":return n.stop()}}),n)}));case 4:if(i()(t)){n.next=8;break}return n.delegateYield(r(),"t0",6);case 6:n.next=4;break;case 8:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return function(r){return function(a){return function(o){var i=r.getState(),c=a(o),u=r.getState();if(u===i)return c;for(var s in u){var f=s;if(u[f]!==i[f])if("channels"===f||"oldChannels"===f){for(var p in u[f])if(u[f][p]!==i[f][p]){var d="channels.".concat(u[f][p]._id);e.storageKeys.add(d),t[d]=u[f][p]}}else if("transfers"===f){for(var b in u.transfers)u.transfers[b]!==i.transfers[b]&&(e.storageKeys.add(b),t[b]=u.transfers[b]);for(var y in i.transfers)y in u.transfers||(t[y]=l(l({},i.transfers[y]),{},{cleared:Date.now()}))}else{var h="state.".concat(f);e.storageKeys.add(h),t[h]={value:u[f]}}}return e.busy$.value||(e.busy$.next(!0),n().then((function(){return e.busy$.next(!1)}),(function(t){return e.busy$.error(t)}))),c}}}}},db7b:function(e,t,n){e.exports=n.p+"img/notifications.9b9982fe.svg"},de7d:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return O})),n.d(t,"c",(function(){return k})),n.d(t,"d",(function(){return D})),n.d(t,"e",(function(){return B})),n.d(t,"g",(function(){return oe})),n.d(t,"f",(function(){return le})),n.d(t,"h",(function(){return Ee}));var r=n("fbcd"),a=n("bf95");function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}var u=[{inputs:[{internalType:"uint256",name:"initial_supply",type:"uint256"},{internalType:"uint8",name:"decimal_units",type:"uint8"},{internalType:"string",name:"token_name",type:"string"},{internalType:"string",name:"token_symbol",type:"string"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_owner",type:"address"},{indexed:!0,internalType:"address",name:"_spender",type:"address"},{indexed:!1,internalType:"uint256",name:"_value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_to",type:"address"},{indexed:!0,internalType:"uint256",name:"_num",type:"uint256"}],name:"Minted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_from",type:"address"},{indexed:!0,internalType:"address",name:"_to",type:"address"},{indexed:!1,internalType:"uint256",name:"_value",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[],name:"_decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_owner",type:"address"},{internalType:"address",name:"_spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"remaining",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_spender",type:"address"},{internalType:"uint256",name:"_value",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"success",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"balance",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"balances",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"decimals",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"num",type:"uint256"}],name:"mint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"num",type:"uint256"},{internalType:"address",name:"target",type:"address"}],name:"mintFor",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"multiplier",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner_address",outputs:[{internalType:"address payable",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"supply",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_to",type:"address"},{internalType:"uint256",name:"_value",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"success",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_from",type:"address"},{internalType:"address",name:"_to",type:"address"},{internalType:"uint256",name:"_value",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"success",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"transferFunds",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"version",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"}],s=function(){function e(){o(this,e)}return c(e,null,[{key:"createInterface",value:function(){return new r["c"].Interface(u)}},{key:"connect",value:function(e,t){return new a["a"](e,u,t)}}]),e}();function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t,n){return t&&f(e.prototype,t),n&&f(e,n),e}s.abi=u;var d=[{inputs:[{internalType:"contract Token",name:"_token",type:"address"},{internalType:"uint256",name:"_release_at",type:"uint256"},{internalType:"address",name:"_withdrawer",type:"address"},{internalType:"contract ServiceRegistryConfigurableParameters",name:"_service_registry",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"release_at",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"token",outputs:[{internalType:"contract Token",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address payable",name:"_to",type:"address"}],name:"withdraw",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"withdrawer",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"}],b=function(){function e(){l(this,e)}return p(e,null,[{key:"createInterface",value:function(){return new r["c"].Interface(d)}},{key:"connect",value:function(e,t){return new a["a"](e,d,t)}}]),e}();function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t,n){return t&&h(e.prototype,t),n&&h(e,n),e}b.abi=d;var v=[{inputs:[{internalType:"uint256",name:"_initialAmount",type:"uint256"},{internalType:"uint8",name:"_decimalUnits",type:"uint8"},{internalType:"string",name:"_tokenName",type:"string"},{internalType:"string",name:"_tokenSymbol",type:"string"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_owner",type:"address"},{indexed:!0,internalType:"address",name:"_spender",type:"address"},{indexed:!1,internalType:"uint256",name:"_value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_from",type:"address"},{indexed:!0,internalType:"address",name:"_to",type:"address"},{indexed:!1,internalType:"uint256",name:"_value",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[],name:"_decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_owner",type:"address"},{internalType:"address",name:"_spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"remaining",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_spender",type:"address"},{internalType:"uint256",name:"_value",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"success",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_spender",type:"address"},{internalType:"uint256",name:"_value",type:"uint256"},{internalType:"bytes",name:"_extraData",type:"bytes"}],name:"approveAndCall",outputs:[{internalType:"bool",name:"success",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"balance",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"balances",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"decimals",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"supply",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_to",type:"address"},{internalType:"uint256",name:"_value",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"success",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_from",type:"address"},{internalType:"address",name:"_to",type:"address"},{internalType:"uint256",name:"_value",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"success",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"version",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"}],O=function(){function e(){y(this,e)}return m(e,null,[{key:"createInterface",value:function(){return new r["c"].Interface(v)}},{key:"connect",value:function(e,t){return new a["a"](e,v,t)}}]),e}();function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e,t,n){return t&&j(e.prototype,t),n&&j(e,n),e}O.abi=v;var _=[{inputs:[{internalType:"address",name:"_token_address",type:"address"},{internalType:"address",name:"_service_registry_address",type:"address"},{internalType:"address",name:"_udc_address",type:"address"},{internalType:"address",name:"_token_network_registry_address",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"token_network_address",type:"address"},{indexed:!1,internalType:"uint256",name:"channel_identifier",type:"uint256"},{indexed:!1,internalType:"uint256",name:"reward_amount",type:"uint256"},{indexed:!0,internalType:"uint256",name:"nonce",type:"uint256"},{indexed:!0,internalType:"address",name:"ms_address",type:"address"},{indexed:!0,internalType:"address",name:"raiden_node_address",type:"address"}],name:"NewBalanceProofReceived",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"ms_address",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!0,internalType:"bytes32",name:"reward_identifier",type:"bytes32"}],name:"RewardClaimed",type:"event"},{inputs:[{internalType:"uint256",name:"channel_identifier",type:"uint256"},{internalType:"address",name:"token_network_address",type:"address"},{internalType:"address",name:"closing_participant",type:"address"},{internalType:"address",name:"non_closing_participant",type:"address"}],name:"claimReward",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"contract_address",type:"address"}],name:"contractExists",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"closed_at_block",type:"uint256"},{internalType:"uint256",name:"settle_timeout",type:"uint256"},{internalType:"address",name:"participant1",type:"address"},{internalType:"address",name:"participant2",type:"address"},{internalType:"address",name:"monitoring_service_address",type:"address"}],name:"firstBlockAllowedToMonitor",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"contract TokenNetwork",name:"token_network",type:"address"},{internalType:"uint256",name:"channel_identifier",type:"uint256"},{internalType:"address",name:"closing_participant",type:"address"},{internalType:"address",name:"non_closing_participant",type:"address"},{internalType:"address",name:"monitoring_service_address",type:"address"}],name:"firstBlockAllowedToMonitorChannel",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"closing_participant",type:"address"},{internalType:"address",name:"non_closing_participant",type:"address"},{internalType:"bytes32",name:"balance_hash",type:"bytes32"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"bytes32",name:"additional_hash",type:"bytes32"},{internalType:"bytes",name:"closing_signature",type:"bytes"},{internalType:"bytes",name:"non_closing_signature",type:"bytes"},{internalType:"uint256",name:"reward_amount",type:"uint256"},{internalType:"address",name:"token_network_address",type:"address"},{internalType:"bytes",name:"reward_proof_signature",type:"bytes"}],name:"monitor",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"service_registry",outputs:[{internalType:"contract ServiceRegistry",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"token",outputs:[{internalType:"contract Token",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"token_network_registry",outputs:[{internalType:"contract TokenNetworkRegistry",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"user_deposit",outputs:[{internalType:"contract UserDeposit",name:"",type:"address"}],stateMutability:"view",type:"function"}],k=function(){function e(){g(this,e)}return w(e,null,[{key:"createInterface",value:function(){return new r["c"].Interface(_)}},{key:"connect",value:function(e,t){return new a["a"](e,_,t)}}]),e}();function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function T(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function A(e,t,n){return t&&T(e.prototype,t),n&&T(e,n),e}k.abi=_;var S=[{inputs:[{internalType:"address",name:"_deposit_contract",type:"address"},{internalType:"uint256",name:"_chain_id",type:"uint256"},{internalType:"address",name:"_service_registry_contract",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"sender",type:"address"},{indexed:!0,internalType:"address",name:"receiver",type:"address"},{indexed:!1,internalType:"uint256",name:"expiration_block",type:"uint256"},{indexed:!1,internalType:"uint256",name:"transferred",type:"uint256"}],name:"Claimed",type:"event"},{inputs:[{internalType:"address[]",name:"senders",type:"address[]"},{internalType:"address[]",name:"receivers",type:"address[]"},{internalType:"uint256[]",name:"amounts",type:"uint256[]"},{internalType:"uint256[]",name:"expiration_blocks",type:"uint256[]"},{internalType:"address",name:"one_to_n_address",type:"address"},{internalType:"bytes",name:"signatures",type:"bytes"}],name:"bulkClaim",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"chain_id",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"receiver",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"expiration_block",type:"uint256"},{internalType:"address",name:"one_to_n_address",type:"address"},{internalType:"bytes",name:"signature",type:"bytes"}],name:"claim",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"contract_address",type:"address"}],name:"contractExists",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"deposit_contract",outputs:[{internalType:"contract UserDeposit",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"service_registry_contract",outputs:[{internalType:"contract ServiceRegistry",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"}],name:"settled_sessions",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}],x=function(){function e(){E(this,e)}return A(e,null,[{key:"createInterface",value:function(){return new r["c"].Interface(S)}},{key:"connect",value:function(e,t){return new a["a"](e,S,t)}}]),e}();function P(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function R(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function N(e,t,n){return t&&R(e.prototype,t),n&&R(e,n),e}x.abi=S;var C=[{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"secrethash",type:"bytes32"},{indexed:!1,internalType:"bytes32",name:"secret",type:"bytes32"}],name:"SecretRevealed",type:"event"},{inputs:[{internalType:"bytes32",name:"secrethash",type:"bytes32"}],name:"getSecretRevealBlockHeight",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"secret",type:"bytes32"}],name:"registerSecret",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32[]",name:"secrets",type:"bytes32[]"}],name:"registerSecretBatch",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"}],D=function(){function e(){P(this,e)}return N(e,null,[{key:"createInterface",value:function(){return new r["c"].Interface(C)}},{key:"connect",value:function(e,t){return new a["a"](e,C,t)}}]),e}();function I(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function U(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function M(e,t,n){return t&&U(e.prototype,t),n&&U(e,n),e}D.abi=C;var L=[{inputs:[{internalType:"contract Token",name:"_token_for_registration",type:"address"},{internalType:"address",name:"_controller",type:"address"},{internalType:"uint256",name:"_initial_price",type:"uint256"},{internalType:"uint256",name:"_price_bump_numerator",type:"uint256"},{internalType:"uint256",name:"_price_bump_denominator",type:"uint256"},{internalType:"uint256",name:"_decay_constant",type:"uint256"},{internalType:"uint256",name:"_min_price",type:"uint256"},{internalType:"uint256",name:"_registration_duration",type:"uint256"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"service",type:"address"},{indexed:!1,internalType:"uint256",name:"valid_till",type:"uint256"},{indexed:!1,internalType:"uint256",name:"deposit_amount",type:"uint256"},{indexed:!1,internalType:"contract Deposit",name:"deposit_contract",type:"address"}],name:"RegisteredService",type:"event"},{inputs:[{internalType:"uint256",name:"_price_bump_numerator",type:"uint256"},{internalType:"uint256",name:"_price_bump_denominator",type:"uint256"},{internalType:"uint256",name:"_decay_constant",type:"uint256"},{internalType:"uint256",name:"_min_price",type:"uint256"},{internalType:"uint256",name:"_registration_duration",type:"uint256"}],name:"changeParameters",outputs:[{internalType:"bool",name:"_success",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"contract_address",type:"address"}],name:"contractExists",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"controller",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"currentPrice",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"decay_constant",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_set_price",type:"uint256"},{internalType:"uint256",name:"_seconds_passed",type:"uint256"}],name:"decayedPrice",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_limit_amount",type:"uint256"}],name:"deposit",outputs:[{internalType:"bool",name:"_success",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"deprecated",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"everMadeDepositsLen",outputs:[{internalType:"uint256",name:"_len",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"ever_made_deposits",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_address",type:"address"}],name:"hasValidRegistration",outputs:[{internalType:"bool",name:"_has_registration",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"min_price",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"price_bump_denominator",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"price_bump_numerator",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"registration_duration",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"service_valid_till",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"setDeprecationSwitch",outputs:[{internalType:"bool",name:"_success",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"new_url",type:"string"}],name:"setURL",outputs:[{internalType:"bool",name:"_success",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"set_price",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"set_price_at",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"token",outputs:[{internalType:"contract Token",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"urls",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"}],B=function(){function e(){I(this,e)}return M(e,null,[{key:"createInterface",value:function(){return new r["c"].Interface(L)}},{key:"connect",value:function(e,t){return new a["a"](e,L,t)}}]),e}();function F(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function V(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function W(e,t,n){return t&&V(e.prototype,t),n&&V(e,n),e}B.abi=L;var H=[{inputs:[{internalType:"uint256",name:"_price_bump_numerator",type:"uint256"},{internalType:"uint256",name:"_price_bump_denominator",type:"uint256"},{internalType:"uint256",name:"_decay_constant",type:"uint256"},{internalType:"uint256",name:"_min_price",type:"uint256"},{internalType:"uint256",name:"_registration_duration",type:"uint256"}],name:"changeParameters",outputs:[{internalType:"bool",name:"_success",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"controller",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"currentPrice",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"decay_constant",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_set_price",type:"uint256"},{internalType:"uint256",name:"_seconds_passed",type:"uint256"}],name:"decayedPrice",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"deprecated",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"min_price",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"price_bump_denominator",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"price_bump_numerator",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"registration_duration",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"setDeprecationSwitch",outputs:[{internalType:"bool",name:"_success",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"set_price",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"set_price_at",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}],$=function(){function e(){F(this,e)}return W(e,null,[{key:"createInterface",value:function(){return new r["c"].Interface(H)}},{key:"connect",value:function(e,t){return new a["a"](e,H,t)}}]),e}();function q(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function K(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function G(e,t,n){return t&&K(e.prototype,t),n&&K(e,n),e}$.abi=H;var Y=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_owner",type:"address"},{indexed:!0,internalType:"address",name:"_spender",type:"address"},{indexed:!1,internalType:"uint256",name:"_value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_from",type:"address"},{indexed:!0,internalType:"address",name:"_to",type:"address"},{indexed:!1,internalType:"uint256",name:"_value",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"_owner",type:"address"},{internalType:"address",name:"_spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"remaining",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_spender",type:"address"},{internalType:"uint256",name:"_value",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"success",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"balance",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"balances",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"decimals",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"supply",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_to",type:"address"},{internalType:"uint256",name:"_value",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"success",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_from",type:"address"},{internalType:"address",name:"_to",type:"address"},{internalType:"uint256",name:"_value",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"success",type:"bool"}],stateMutability:"nonpayable",type:"function"}],X=function(){function e(){q(this,e)}return G(e,null,[{key:"createInterface",value:function(){return new r["c"].Interface(Y)}},{key:"connect",value:function(e,t){return new a["a"](e,Y,t)}}]),e}();function Q(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function J(e,t,n){return t&&z(e.prototype,t),n&&z(e,n),e}X.abi=Y;var Z=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_owner",type:"address"},{indexed:!0,internalType:"address",name:"_spender",type:"address"},{indexed:!1,internalType:"uint256",name:"_value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_from",type:"address"},{indexed:!0,internalType:"address",name:"_to",type:"address"},{indexed:!1,internalType:"uint256",name:"_value",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"_owner",type:"address"},{internalType:"address",name:"_spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"remaining",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_spender",type:"address"},{internalType:"uint256",name:"_value",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"success",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"balance",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"decimals",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"supply",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_to",type:"address"},{internalType:"uint256",name:"_value",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"success",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_from",type:"address"},{internalType:"address",name:"_to",type:"address"},{internalType:"uint256",name:"_value",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"success",type:"bool"}],stateMutability:"nonpayable",type:"function"}],ee=function(){function e(){Q(this,e)}return J(e,null,[{key:"createInterface",value:function(){return new r["c"].Interface(Z)}},{key:"connect",value:function(e,t){return new a["a"](e,Z,t)}}]),e}();function te(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ne(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function re(e,t,n){return t&&ne(e.prototype,t),n&&ne(e,n),e}ee.abi=Z;var ae=[{inputs:[{internalType:"address",name:"_token_address",type:"address"},{internalType:"address",name:"_secret_registry",type:"address"},{internalType:"uint256",name:"_chain_id",type:"uint256"},{internalType:"uint256",name:"_settlement_timeout_min",type:"uint256"},{internalType:"uint256",name:"_settlement_timeout_max",type:"uint256"},{internalType:"address",name:"_deprecation_executor",type:"address"},{internalType:"uint256",name:"_channel_participant_deposit_limit",type:"uint256"},{internalType:"uint256",name:"_token_network_deposit_limit",type:"uint256"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"channel_identifier",type:"uint256"},{indexed:!0,internalType:"address",name:"closing_participant",type:"address"},{indexed:!0,internalType:"uint256",name:"nonce",type:"uint256"},{indexed:!1,internalType:"bytes32",name:"balance_hash",type:"bytes32"}],name:"ChannelClosed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"channel_identifier",type:"uint256"},{indexed:!0,internalType:"address",name:"participant",type:"address"},{indexed:!1,internalType:"uint256",name:"total_deposit",type:"uint256"}],name:"ChannelNewDeposit",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"channel_identifier",type:"uint256"},{indexed:!0,internalType:"address",name:"participant1",type:"address"},{indexed:!0,internalType:"address",name:"participant2",type:"address"},{indexed:!1,internalType:"uint256",name:"settle_timeout",type:"uint256"}],name:"ChannelOpened",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"channel_identifier",type:"uint256"},{indexed:!1,internalType:"uint256",name:"participant1_amount",type:"uint256"},{indexed:!1,internalType:"bytes32",name:"participant1_locksroot",type:"bytes32"},{indexed:!1,internalType:"uint256",name:"participant2_amount",type:"uint256"},{indexed:!1,internalType:"bytes32",name:"participant2_locksroot",type:"bytes32"}],name:"ChannelSettled",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"channel_identifier",type:"uint256"},{indexed:!0,internalType:"address",name:"receiver",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"},{indexed:!1,internalType:"bytes32",name:"locksroot",type:"bytes32"},{indexed:!1,internalType:"uint256",name:"unlocked_amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"returned_tokens",type:"uint256"}],name:"ChannelUnlocked",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"channel_identifier",type:"uint256"},{indexed:!0,internalType:"address",name:"participant",type:"address"},{indexed:!1,internalType:"uint256",name:"total_withdraw",type:"uint256"}],name:"ChannelWithdraw",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bool",name:"new_value",type:"bool"}],name:"DeprecationSwitch",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"channel_identifier",type:"uint256"},{indexed:!0,internalType:"address",name:"closing_participant",type:"address"},{indexed:!0,internalType:"uint256",name:"nonce",type:"uint256"},{indexed:!1,internalType:"bytes32",name:"balance_hash",type:"bytes32"}],name:"NonClosingBalanceProofUpdated",type:"event"},{inputs:[],name:"MAX_SAFE_UINT256",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"chain_id",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"channel_counter",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"channel_participant_deposit_limit",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"channels",outputs:[{internalType:"uint256",name:"settle_block_number",type:"uint256"},{internalType:"enum TokenNetwork.ChannelState",name:"state",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"channel_identifier",type:"uint256"},{internalType:"address",name:"non_closing_participant",type:"address"},{internalType:"address",name:"closing_participant",type:"address"},{internalType:"bytes32",name:"balance_hash",type:"bytes32"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"bytes32",name:"additional_hash",type:"bytes32"},{internalType:"bytes",name:"non_closing_signature",type:"bytes"},{internalType:"bytes",name:"closing_signature",type:"bytes"}],name:"closeChannel",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"contract_address",type:"address"}],name:"contractExists",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"deprecate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"deprecation_executor",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"participant",type:"address"},{internalType:"address",name:"partner",type:"address"}],name:"getChannelIdentifier",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"channel_identifier",type:"uint256"},{internalType:"address",name:"participant1",type:"address"},{internalType:"address",name:"participant2",type:"address"}],name:"getChannelInfo",outputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"enum TokenNetwork.ChannelState",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"channel_identifier",type:"uint256"},{internalType:"address",name:"participant",type:"address"},{internalType:"address",name:"partner",type:"address"}],name:"getChannelParticipantInfo",outputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bool",name:"",type:"bool"},{internalType:"bytes32",name:"",type:"bytes32"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes32",name:"",type:"bytes32"},{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"participant",type:"address"},{internalType:"address",name:"partner",type:"address"}],name:"getParticipantsHash",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"uint256",name:"channel_identifier",type:"uint256"},{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"receiver",type:"address"}],name:"getUnlockIdentifier",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"participant1",type:"address"},{internalType:"address",name:"participant2",type:"address"},{internalType:"uint256",name:"settle_timeout",type:"uint256"}],name:"openChannel",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"}],name:"participants_hash_to_channel_identifier",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"safety_deprecation_switch",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"secret_registry",outputs:[{internalType:"contract SecretRegistry",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"channel_identifier",type:"uint256"},{internalType:"address",name:"participant",type:"address"},{internalType:"uint256",name:"total_deposit",type:"uint256"},{internalType:"address",name:"partner",type:"address"}],name:"setTotalDeposit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"channel_identifier",type:"uint256"},{internalType:"address",name:"participant",type:"address"},{internalType:"uint256",name:"total_withdraw",type:"uint256"},{internalType:"uint256",name:"expiration_block",type:"uint256"},{internalType:"bytes",name:"participant_signature",type:"bytes"},{internalType:"bytes",name:"partner_signature",type:"bytes"}],name:"setTotalWithdraw",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"channel_identifier",type:"uint256"},{internalType:"address",name:"participant1",type:"address"},{internalType:"uint256",name:"participant1_transferred_amount",type:"uint256"},{internalType:"uint256",name:"participant1_locked_amount",type:"uint256"},{internalType:"bytes32",name:"participant1_locksroot",type:"bytes32"},{internalType:"address",name:"participant2",type:"address"},{internalType:"uint256",name:"participant2_transferred_amount",type:"uint256"},{internalType:"uint256",name:"participant2_locked_amount",type:"uint256"},{internalType:"bytes32",name:"participant2_locksroot",type:"bytes32"}],name:"settleChannel",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"channel_identifier",type:"uint256"},{components:[{internalType:"address",name:"participant",type:"address"},{internalType:"uint256",name:"transferred_amount",type:"uint256"},{internalType:"uint256",name:"locked_amount",type:"uint256"},{internalType:"bytes32",name:"locksroot",type:"bytes32"}],internalType:"struct TokenNetwork.SettleInput",name:"participant1_settlement",type:"tuple"},{components:[{internalType:"address",name:"participant",type:"address"},{internalType:"uint256",name:"transferred_amount",type:"uint256"},{internalType:"uint256",name:"locked_amount",type:"uint256"},{internalType:"bytes32",name:"locksroot",type:"bytes32"}],internalType:"struct TokenNetwork.SettleInput",name:"participant2_settlement",type:"tuple"}],name:"settleChannel2",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"settlement_timeout_max",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"settlement_timeout_min",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"token",outputs:[{internalType:"contract Token",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"token_network_deposit_limit",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"channel_identifier",type:"uint256"},{internalType:"address",name:"receiver",type:"address"},{internalType:"address",name:"sender",type:"address"},{internalType:"bytes",name:"locks",type:"bytes"}],name:"unlock",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"channel_identifier",type:"uint256"},{internalType:"address",name:"closing_participant",type:"address"},{internalType:"address",name:"non_closing_participant",type:"address"},{internalType:"bytes32",name:"balance_hash",type:"bytes32"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"bytes32",name:"additional_hash",type:"bytes32"},{internalType:"bytes",name:"closing_signature",type:"bytes"},{internalType:"bytes",name:"non_closing_signature",type:"bytes"}],name:"updateNonClosingBalanceProof",outputs:[],stateMutability:"nonpayable",type:"function"}],oe=function(){function e(){te(this,e)}return re(e,null,[{key:"createInterface",value:function(){return new r["c"].Interface(ae)}},{key:"connect",value:function(e,t){return new a["a"](e,ae,t)}}]),e}();function ie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ce(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ue(e,t,n){return t&&ce(e.prototype,t),n&&ce(e,n),e}oe.abi=ae;var se=[{inputs:[{internalType:"address",name:"_secret_registry_address",type:"address"},{internalType:"uint256",name:"_chain_id",type:"uint256"},{internalType:"uint256",name:"_settlement_timeout_min",type:"uint256"},{internalType:"uint256",name:"_settlement_timeout_max",type:"uint256"},{internalType:"uint256",name:"_max_token_networks",type:"uint256"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"token_address",type:"address"},{indexed:!0,internalType:"address",name:"token_network_address",type:"address"}],name:"TokenNetworkCreated",type:"event"},{inputs:[],name:"chain_id",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"contract_address",type:"address"}],name:"contractExists",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_token_address",type:"address"},{internalType:"uint256",name:"_channel_participant_deposit_limit",type:"uint256"},{internalType:"uint256",name:"_token_network_deposit_limit",type:"uint256"}],name:"createERC20TokenNetwork",outputs:[{internalType:"address",name:"token_network_address",type:"address"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"deprecation_executor",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"max_token_networks",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"secret_registry_address",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"settlement_timeout_max",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"settlement_timeout_min",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"token_network_created",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"token_to_token_networks",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"}],le=function(){function e(){ie(this,e)}return ue(e,null,[{key:"createInterface",value:function(){return new r["c"].Interface(se)}},{key:"connect",value:function(e,t){return new a["a"](e,se,t)}}]),e}();function fe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function de(e,t,n){return t&&pe(e.prototype,t),n&&pe(e,n),e}le.abi=se;var be=[{inputs:[{internalType:"uint256",name:"a",type:"uint256"},{internalType:"uint256",name:"b",type:"uint256"}],name:"failsafe_addition",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"uint256",name:"a",type:"uint256"},{internalType:"uint256",name:"b",type:"uint256"}],name:"failsafe_subtract",outputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"uint256",name:"participant1_deposit",type:"uint256"},{internalType:"uint256",name:"participant1_withdrawn",type:"uint256"},{internalType:"uint256",name:"participant1_transferred",type:"uint256"},{internalType:"uint256",name:"participant1_locked",type:"uint256"},{internalType:"uint256",name:"participant2_deposit",type:"uint256"},{internalType:"uint256",name:"participant2_withdrawn",type:"uint256"},{internalType:"uint256",name:"participant2_transferred",type:"uint256"},{internalType:"uint256",name:"participant2_locked",type:"uint256"}],name:"getMaxPossibleReceivableAmount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"uint256",name:"a",type:"uint256"},{internalType:"uint256",name:"b",type:"uint256"}],name:"max",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"uint256",name:"a",type:"uint256"},{internalType:"uint256",name:"b",type:"uint256"}],name:"min",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[],name:"signature_prefix",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"}],ye=function(){function e(){fe(this,e)}return de(e,null,[{key:"createInterface",value:function(){return new r["c"].Interface(be)}},{key:"connect",value:function(e,t){return new a["a"](e,be,t)}}]),e}();function he(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function me(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ve(e,t,n){return t&&me(e.prototype,t),n&&me(e,n),e}ye.abi=be;var Oe=[{inputs:[{internalType:"address",name:"udc_address",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"receiver",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"success",type:"bool"}],stateMutability:"nonpayable",type:"function"}],ge=function(){function e(){he(this,e)}return ve(e,null,[{key:"createInterface",value:function(){return new r["c"].Interface(Oe)}},{key:"connect",value:function(e,t){return new a["a"](e,Oe,t)}}]),e}();function je(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function we(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _e(e,t,n){return t&&we(e.prototype,t),n&&we(e,n),e}ge.abi=Oe;var ke=[{inputs:[{internalType:"address",name:"_token_address",type:"address"},{internalType:"uint256",name:"_whole_balance_limit",type:"uint256"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!1,internalType:"uint256",name:"newBalance",type:"uint256"}],name:"BalanceReduced",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"withdrawer",type:"address"},{indexed:!1,internalType:"uint256",name:"plannedBalance",type:"uint256"}],name:"WithdrawPlanned",type:"event"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"balances",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"contract_address",type:"address"}],name:"contractExists",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"beneficiary",type:"address"},{internalType:"uint256",name:"new_total_deposit",type:"uint256"}],name:"deposit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"effectiveBalance",outputs:[{internalType:"uint256",name:"remaining_balance",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_msc_address",type:"address"},{internalType:"address",name:"_one_to_n_address",type:"address"}],name:"init",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"msc_address",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"one_to_n_address",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"}],name:"planWithdraw",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"token",outputs:[{internalType:"contract Token",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"total_deposit",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"receiver",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"success",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"whole_balance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"whole_balance_limit",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"}],name:"withdraw",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"withdraw_delay",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"withdraw_plans",outputs:[{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"withdraw_block",type:"uint256"}],stateMutability:"view",type:"function"}],Ee=function(){function e(){je(this,e)}return _e(e,null,[{key:"createInterface",value:function(){return new r["c"].Interface(ke)}},{key:"connect",value:function(e,t){return new a["a"](e,ke,t)}}]),e}();function Te(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ae(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Se(e,t,n){return t&&Ae(e.prototype,t),n&&Ae(e,n),e}Ee.abi=ke;var xe=[{inputs:[{internalType:"address",name:"contract_address",type:"address"}],name:"contractExists",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"}],Pe=function(){function e(){Te(this,e)}return Se(e,null,[{key:"createInterface",value:function(){return new r["c"].Interface(xe)}},{key:"connect",value:function(e,t){return new a["a"](e,xe,t)}}]),e}();Pe.abi=xe},edd4:function(e){e.exports=JSON.parse('{"disclaimer":{"user-info":{"header":"Important Information for Users","body":"The Raiden Light Client  is an application that allows you to interact with the Raiden network. If you haven\'t used Raiden before we recommend that you:","bullet-points":{"portal":{"text":"Checkout the","link":"developer portal"},"docs":{"text":"Look at the","link":"documentation"},"videos":{"text":"Learn more by watching","link":"explanatory videos"},"medium":{"text":"Read blog posts on","link":"Medium"}}},"terms":{"header":"Terms of Use","body":"By accessing the Raiden Light Client through our website you agree to the {0} and {1}.","link-name-terms":"Terms of Use","link-name-policy":"Privacy Policy"},"disclaimer":{"header":"Disclaimer","body":"The Raiden Light Client is a beta version of experimental open source software released as a test version under an MIT license and may contain errors and/or bugs. No guarantee or representation whatsoever is made regarding its suitability (or its use) for any purpose or regarding its compliance with any applicable laws and regulations. Use of the Raiden Light Client is at your own risk and discretion and by using the software you warrant and represent that you have read this disclaimer, understand its contents, assume all risk related thereto and hereby release, waive, discharge and covenant not to hold us or any of our officers, employees or affiliates from and for any direct or indirect damage resulting from the Raiden Light Client or the use thereof. Such to the extent as permissible by applicable laws and regulations."},"privacy":{"header":"Privacy Warning","body":["Please be aware, that by using the Raiden Light Client, among others your Ethereum address, channels, channel deposits, settlements and the Ethereum address of your channel counterparty will be stored on the Ethereum chain, i.e. on servers of Ethereum node operators and ergo are to a certain extent publicly available. The same might also be stored on systems of parties running Raiden nodes connected to the same token network. Data present in the Ethereum chain is very unlikely to be able to be changed, removed or deleted from the public arena.","Also be aware, that data on individual Raiden token transfers will be made available via the Matrix protocol to the recipient, intermediating nodes of a specific transfer as well as to the Matrix server operators, see Raiden Transport Specification."]},"accept-checkbox":"I have read, understood and hereby agree to the above Terms of Use, Privacy Policy including the Disclaimer and Privacy Warning","persist-checkbox":"Donâ€™t display this message on start up","accept-button":"Accept"},"info-overlay":{"done":"Close","transfer":{"header":"About Transfer","body":"Enter a recipient address and a token amount to make a transfer. You need to have an open channel with the recipient or with a hub that is connected to the recipient."},"transfer-steps":{"header":"About Direct and Mediated Transfers","body":"A direct transfer will be possible if you have an open channel with the recipient. In any other case, the PFS will try to find the best way to route your transfer to the recipient."},"select-hub":{"header":"About Selecting a Hub","body":"A Hub is a well-connected node. You can connect to a hub or to any other node. Make sure you have enough service tokens to pay for the monitoring and pathfinding service as well as a balance of your selected token."},"open-channel":{"header":"About Opening a Channel","body":"Opening a channel will connect you to your selected hub or node. You need to choose an amount to deposit in the channel. Later you can transfer small amounts of this deposit to any recipient in the network."},"channels":{"header":"About Channels","body":"This is an overview of all your open channels for the selected token. You can choose to close and settle any channel to withdraw your tokens."},"account-backup":{"header":"About Backing Up the State","body":"Your state is stored in the browser. You should continuously keep a backup of your state by downloading the latest JSON file and storing it somewhere safe."},"account-raiden":{"header":"About Transferring ETH","body":"You need ETH on your Raiden Account to withdraw your tokens. You can add ETH by transferring it from your main account."},"account-withdrawal":{"header":"About Withdrawing Tokens","body":"Withdraw tokens from your Raiden account back to your main account."},"account-udc":{"header":"About UDC","body":"Your User Deposit Contract stores the utility tokens necessary for paying the Pathfinding and Monitoring Service."}},"home":{"welcome":"Welcome to the Raiden dApp","disclaimer":"The Raiden dApp is a reference implementation of the Raiden Light Client SDK. It is work in progress and can only be used on Ethereum testnets.","getting-started":{"description":"Read the {0} for detailed information on how to use the Raiden dApp.","link-name":"getting started guide"}},"notifications":{"no-notifications":"No notifications","clear":"Clear","block-count-progress":"Blocks until confirmation: ","tx-reorged-failure-reason":"The transaction could not get confirmed due to a reorg of the blockchain!","tx-state-confirmed":"confirmed","tx-state-pending":"not confirmed yet","backup-state":{"icon":"notification_state_backup","title":"Backup your state!","description":"Backup your state to not risk losing funds","link":"Click here to go to the backup state menu"},"ms-balance-proof":{"title":"Balance proof submitted","description":"A monitoring service successfully submitted a balance proof for a channel claiming a reward of {reward} {symbol}. Service: {monitoringService}, Partner: {partner}, Transaction: {txHash}"},"no-receive":{"icon":"notification_receive","title":"Receiving transfers disabled","description":"Check configuration and/or UDC balance"},"withdrawal":{"success":{"title":"User Deposit Withdraw Planned","description":"A planned withdrawal of {amount} {symbol} was successfully completed withdrawing {withdrawal} {symbol}"},"failure":{"title":"User Deposit Withdrawal","description":"The planned withdrawal of {amount} {symbol} failed: {message}","descriptions":{"UDC_WITHDRAW_NO_BALANCE":"We could not complete the withdrawal of {amount} {symbol} because there was not enough balance.","UDC_WITHDRAW_FAILED":"We could not complete the withdrawal of {amount} {symbol} because the transaction failed."}}},"withdrawn":{"icon":"notification_withdrawn","title":"User Deposit Tokens Withdrawn","description":"{withdrawnAmount} {symbol} ({plannedAmount} planned) have been withdrawn from the user deposit contract.","link":"Click here to transfer them to your main account."},"settlement":{"icon":"notification_settle","success":{"title":"Channel Settlement","description":"Channel with {partner} was settled."},"failure":{"title":"Channel Settlement","description":"Channel settlement with {partner} failed."}},"channel-open":{"icon":"notification_channels","success":{"title":"Channel Open","description":"Open channel with {partner} is {state}."},"failure":{"title":"Channel Open Failure","description":"{reason}"}}},"general":{"buttons":{"cancel":"Cancel","transfer":"Transfer","continue":"Continue","confirm":"Confirm"},"offline":"Please connect to the internet.","raiden-account":"Raiden Account","main-account":"Main Account"},"account-content":{"account-details":"Account Details","address":"Address:","disconnect-button":"Disconnect","account":{"main":"Main ETH:","raiden":"Raiden ETH:"},"menu-items":{"settings":{"title":"Settings","subtitle":"Change how you interact with the dApp"},"backup-state":{"title":"Backup State","subtitle":"Download or upload your state"},"report-bugs":{"title":"Download Logs","subtitle":"Download your logs"},"raiden-account":{"title":"Transfer ETH","subtitle":"Transfer ETH between main and Raiden account"},"withdrawal":{"title":"Withdraw Tokens","subtitle":"Transfer tokens from your Raiden account to your main account"},"udc":{"title":"Manage UDC Tokens","subtitle":"Transfer tokens from or to your User Deposit Contract"}}},"withdrawal":{"title":"Transfer tokens to your main Ethereum account.","navigation-link-title":"For service tokens, make sure you withdrew them at the UDC screen first.","dialog":{"title":"Withdraw {0}","body":"You are about to withdraw {0} from your Raiden account.","progress":"Withdrawing...","button":"Confirm","no-eth":"Your Raiden account does not have sufficient ETH to withdraw."},"blockie-alt":"Token address blockie","no-tokens":"The Raiden account has no tokens"},"udc":{"balance":"User Deposit Contract Balance","balance-too-low":"Balance is too low for services. Deposit at least {minAmount} {tokenSymbol} to enable receiving.","withdrawal-header":"Withdrawal in progress","withdrawal":"Withdrawal","deposit":"Deposit","asterisk":"*","withdrawal-footnote":"Actual withdrawal amount might vary","withdrawal-planned":"The withdrawal from the user deposit has been planned. You will get notified when the withdrawal is complete.","information":{"no-withdrawal-in-progress":"No withdrawal in progress","pending-message":"Blocks remaining...","ready-message":"Readyãƒ»Tokens get claimed automatically"}},"backup-state":{"description":"The state holds all account information except the private key. You can backup your state to make sure the dApp is kept in sync when switching between browsers.","disabled-download":"Downloading the state is only possible when connected to the dApp","disabled-upload":"Uploading the state is only possible when the dApp is disconnected","download":"Download State","download-warning":"Downloading the state will force the dApp to shut down","download-button":"Download","upload":"Upload State and Connect","upload-drag-and-drop":"Drag and drop state file","upload-divider":"or","upload-button":"Browse files","upload-error":"Only one state file in valid JSON format can be uploaded"},"raiden-account":{"in-progress":"Transfer in progress","transfer-from-main-account":"Transfer ETH from Main Account to Raiden Account","transfer-from-raiden-account":"Transfer ETH from Raiden Account to Main Account"},"update":{"optional":"A new version is available.","mandatory":"Something happened to the local cached version. Perhaps the browser storage got cleared. You must update to get the app working again. You will not lose your current state.","update":"Update"},"address-input":{"input":{"placeholder":"Address / ENS name"},"blockie-alt":"Selected token address blockie","error":{"invalid-address":"Enter a valid address or ENS name","no-checksum":"Please enter an address in checksum format. You can convert your address on {ethsum}.","empty":"Enter an address or ENS name","ens-resolve-failed":"Please enter a resolvable ENS name","invalid-excluded-address":"Please enter a different address or ENS name. You can\'t use your own address or the address of the token network.","target-offline":"Target is offline."}},"amount-input":{"input":{"hint":"Please enter an amount"},"error":{"empty":"Please enter an amount","too-many-decimals":"Please use only up to {decimals} decimals for this token","not-enough-funds":"Your maximum usable amount is {funds} {symbol}","zero":"Enter an amount larger than zero","invalid":"Please enter a valid amount"}},"address-display":{"copy":"Click to copy","copied":"Copied!"},"app-header":{"currency":"ETH"},"channel-actions":{"deposit":"Deposit","withdraw":"Withdraw","close":"Close","settle":"Settle"},"channel-deposit":{"buttons":{"confirm":"Deposit"},"input":{"label":"Amount"}},"channel-withdraw":{"buttons":{"confirm":"Withdraw"},"input":{"label":"Amount"},"dialog":{"label":"Withdraw","title":"Withdrawing Tokens","description":"Sign the transaction in MetaMask and close this dialogue to continue using the dApp."},"done":{"label":"Done","title":"Withdraw Successful","description":"Your tokens have been successfully withdrawn."}},"find-routes":{"hops":"Hops","price":"Price","sub-title":"Route(s) provided by {subdomain} including number of hops and estimated fee","error":{"title":"Oops, something went wrong"}},"stepper":{"steps":{"open":{"title":"Open","description":"You can deposit more tokens \\n or close the channel."},"closed":{"title":"Closed","description":"Please wait until your channel is settleable. \\nthis may take some time."},"settleable":{"title":"Settleable","description":"Settle your channel to transfer \\n your tokens back to your account."}}},"channels":{"open":{"header":"Open"},"closed":{"header":"Closed"},"settleable":{"header":"Settleable"},"snackbar-close":"Close","token-info":"{symbol} | {name}","title":"Channels on"},"channel-list":{"channel":{"blockie_alt":"Partner address blockie","capacity":"Capacity: {value}","close_dialog":{"title":"Close Channel","description":"Are you sure you want to close this channel? This action cannot be undone."},"settle_dialog":{"title":"Settle Channel","description":"Are you sure you want to settle the channel with hub {partner} for token {token}?"}},"messages":{"close":{"success":"Channel closed successfully","failure":"Channel close failed"},"deposit":{"success":"Deposit was successful","failure":"Deposit failed"},"withdraw":{"success":"Withdraw was successful","failure":"Withdraw failed"},"settle":{"success":"Channel settle was successful","failure":"Channel settle failed"}}},"confirmation":{"buttons":{"cancel":"Cancel","close":"Close","settle":"Settle"}},"confirmation-dialog":{"buttons":{"cancel":"Cancel","confirm":"Confirm"}},"error-screen":{"title":"Error"},"error-codes":{"unsupported-network":"The current network is unsupported. Please choose a different network.","sdk-initialization-failed":"SDK initialization failed. Please check the console for more information.","state-migration-failed":"Cannot replace state with older uploaded state."},"tokens":{"connected-tokens":"Connected Tokens","connect-new":"Connect new token","disconnect-dialog":{"header":"Disconnect token","confirmation-message":"This action will close all channels for the {symbol} token! {address}"},"leave-progress":{"label":"Disconnect","title":"Disconnecting from the token network","description":"Closing the channels"},"leave-done":{"label":"Done","title":"Disconnected from the token network","description":"All your channels were successfully closed"}},"application":{"privacy-policy":"Privacy Policy, Disclaimer & Imprint.","terms":"Terms."},"udc-deposit-dialog":{"title":"Deposit to UDC","button":"Mint and deposit","button-main":"Deposit","uniswap-url-title":"Click here to purchase RDN","available-utility-token":"Available {utilityTokenSymbol} to deposit: {utilityTokenBalance}","available-eth":"Available ETH for on-chain transaction: {balance} {currency}","error":"The mint and deposit operation failed.","error-main":"The deposit operation failed.","progress":{"mint":"Minting {currency} tokens","approve":"Allow UDC to access {currency} tokens","deposit":"Deposit {currency} tokens to the UDC"}},"transfer":{"receiving-transfer-snackbar":"Receiving transfer, do not close browser.","capacity-label":"Capacity","recipient-label":"Recipient","amount-label":"Amount","amount-placeholder":"Amount","error":{"button":"Dismiss","title":"Token transfer unsuccessful","deposit-title":"Deposit failed, please try again."},"transfer-menus":{"change-token-title":"Change Token","deposit-button":"Deposit","channel-button":"Channels","no-channels":"No open channels"},"transfer-inputs":{"title":"Transfer"},"no-channels-dialog":{"title":"No open channels for the selected token","button":"Connect new token"},"steps":{"request-route":{"title":"Request Route","tooltip":"Mint and deposit {token} to the User Deposit Contract to pay for PFS requests","tooltip-main":"Deposit {token} to the User Deposit Contract to pay for PFS requests","udc-description":"Balance to pay the Pathfinding Service","udc-description-low-balance":"Your {token} token balance is too low to pay for the Pathfinding Service. Use the button above to mint and deposit more tokens.","in-progress":"Paying for the route request","searching-for-route":"Searching for route...","done":"Route request payment complete"},"select-route":{"title":"Select Route"},"confirm-transfer":{"title":"Confirm Transfer","total-amount":"Total Amount"},"call-to-action":{"1":{"default":"Transfer Route Request","amount":"Confirm PFS Fee of {amount} {symbol}"},"2":{"default":"Confirm Mediation Fees","amount":"Confirm Mediation Fee of {amount} {symbol}"},"3":{"amount":"Transfer {amount} {symbol}"}},"transfer":{"title":"Transferring Tokens"},"done":{"title":"Send Successful","description":"Your transfer was successful."},"deposit":{"label":"Deposit","title":"Depositing Tokens","description":"Sign the transaction in MetaMask and close this dialogue to continue using the dApp."},"deposit-done":{"label":"Done","title":"Deposit Successful","description":"Your tokens have been successfully deposited."},"summary":{"headline":"Summary","route-request":"Route Request","pfs":"Pathfinding Service","service-fee":"Service Fee","mediated-transfer":"Mediated Transfer","direct-transfer":"Direct Transfer","target":"Target","transfer-amount":"Transfer Amount","total-amount":"Total Amount","mediation-fee":"Mediation Fee","identifier":"Identifier","footnotes":{"one":"1","direct-transfer":"Route request and selection skipped, because you are performing a direct transfer.","route-selection-skipped":"Automatically skipped route selection, because there was only a single route with zero fees."}}}},"transfer-history":{"title":"History","pending-transfer":"PENDING","successful-transfer":"CONFIRMED","failed-transfer":"FAILED"},"select-token":{"header":"Available Tokens"},"select-hub":{"select-button":"Select Hub","service-token-tooltip":"Mint and deposit {token} to the User Deposit Contract to pay for the Monitoring Service.","service-token-tooltip-main":"Deposit {token} to the User Deposit Contract to pay for the Monitoring Service.","service-token-description":"balance for monitoring service"},"hub-list":{"header":"Current top 3 suggested hubs (best first)","error":"Error: List of hubs cannot be fetched from the Pathfinding Service.","no-results":"In this token network, the Pathfinding Service does not find a node which is online. Try again later.","select-button":"Select"},"open-channel":{"error":{"title":"Ops, something went wrong","button":"Dismiss","deposit-failed":"Could not deposit to the channel.","open-failed":"Channel open failed."},"open-button":"Open Channel","hub":"Hub","steps":{"open":{"label":"Open","title":"Opening a new channel","description":"Please do not close the browser and confirm the transaction with MetaMask."},"transfer":{"label":"Transfer","title":"Transferring tokens to the network and deposit into the channel","description":"Please do not close the browser and confirm two (2) transactions with MetaMask."},"deposit":{"label":"Deposit","title":"Not implemented - split title above, when done","description":"Not implemented - split description above, when done"},"done":{"label":"Done","title":"New Channel opened","description":"A new channel was successfully opened. You can now start making transfers."}},"confirmation":"Channel opening is in progress, are you sure you want to leave?"},"token-information":{"title":"Token","description":"{symbol} | {name}","balance":"Balance"},"pathfinding-services":{"title":"Select Pathfinding Service","rtt":"{time} ms","headers":{"host":"Pathfinding Service","rtt":"Ping","price":"Price"}},"mint-dialog":{"title":"Mint {symbol}","description":"If you continue, you will get prompted by MetaMask to sign off a minting transaction. In order to mint tokens, you need test net ETH in your wallet."},"error-message":{"problem":"Problem:","solution":"Solution:"},"errors":{"RDN_GENERAL_ERROR":{"title":"An error occurred","problem":"We do not know this error, sorry.","solution":["Please help us and report the issue","Click on your identicon in the top right corner","Click on Report Bugs / Download logs","File a new issue on https://github.com/raiden-network/light-client","Upload logs to the issue"]},"RDN_MINT_FAILED":{"title":"Could not mint token","problem":"It looks like the Light Client does not support minting out-of-the-box for this token contract.","solution":"You may try to mint manually via MetaMask and Etherscan. You can find a step-by-step guide on https://github.com/raiden-network/light-client#minting-manually."},"PFS_UNKNOWN_TOKEN_NETWORK":{"title":"No open channels","problem":"You don\'t seem to have open channels on this token network.","solution":["Hit the â† button in the top left","Click on the current token network","Select Connect new token","Select the token you want to transfer","Proceed with the flow to open a new channel"]},"PFS_INVALID_INFO":{"title":"Couldn\'t understand Pathfinding Service","problem":"The Light Client has received a response from the Pathfinding Service that it couldn\'t understand. It\'s possible that the current Light Client version is out-of-sync with the Pathfinding Service.","solution":["Update the dApp by reloading the page","Attempt a new transfer","If the problem persists, please help us and report the issue","Click on your identicon in the top right corner","Click on Report Bugs / Download logs","File a new issue on https://github.com/raiden-network/light-client","Upload logs to the issue"]},"PFS_NO_ROUTES_FOUND":{"title":"No routes found","problem":"Pathfinding Service wasn\'t able to find a route in the Raiden Network to perform your transfer.","solution":"Make sure that you either have a direct channel with the target or that both of you are connected to a well-connected hub."},"PFS_ERROR_RESPONSE":{"title":"Pathfinding replied with an error","problem":"While communicating with the Pathfinding Service, you have received an error response that we don\'t actively handle yet.","solution":["Simply retry your last action","If the problem persists, please help us and report the issue","Click on your identicon in the top right corner","Click on Report Bugs / Download logs","File a new issue on https://github.com/raiden-network/light-client","Upload logs to the issue"]},"PFS_DISABLED":{"title":"Pathfinding Service disabled","problem":"You tried to find a route in the Raiden Network but Pathfinding was either disabled in your configuration or you did not select a valid Pathfinding Service.","solution":"Try to restart the Light Client by reloading the page and attempt a new transfer."},"PFS_TARGET_OFFLINE":{"title":"Target address is offline","problem":"You are trying to send tokens to an offline target.","solution":"Hit the â† button and verify that the address is online or choose a different target address."},"PFS_LAST_IOU_REQUEST_FAILED":{"title":"Error while depositing tokens for Pathfinding Service","problem":"While trying to deposit tokens for route requests, the Pathfinding Service returned an error.","solution":["This should happen very rarely, please retry to deposit","If the problem persists, please help us and report the issue","Click on your identicon in the top right corner","Click on Report Bugs / Download logs","File a new issue on https://github.com/raiden-network/light-client","Upload logs to the issue"]},"PFS_IOU_SIGNATURE_MISMATCH":{"title":"Error while depositing tokens for Pathfinding Service","problem":"While trying to deposit tokens for route requests, the Pathfinding Service encountered mismatching signatures.","solution":["This should happen very rarely, please retry to deposit","If the problem persists, please help us and report the issue","Click on your identicon in the top right corner","Click on Report Bugs / Download logs","File a new issue on https://github.com/raiden-network/light-client","Upload logs to the issue"]},"PFS_NO_ROUTES_BETWEEN_NODES":{"title":"No route between you and your target","problem":"The Pathfinding Service was not able to find a usable route between you and the target you want to transfer tokens to.","solution":["Hit the â† button in the top left","Click on the current token network","Select Connect new token","Select the token you want to transfer","Connect with a more popular hub, e.g. hub.raiden.eth. That way, Pathfinding Service is more likely to find a route between you and the target","Retry your transfer"]}},"versions":{"sdk":"Raiden SDK: {version}","contracts":"Raiden Contracts: {version}"},"scan":{"permission":{"title":"Grant Camera Access","description":"In order to scan QR codes, you will need to allow camera access."}},"progress-steps":{"transfer":{"PENDING":"Transfer sent","RECEIVED":"Transfer acknowledged by partner","REFUNDED":"Transfer refunded","CLOSED":"Channel closed early","REVEALED":"Secret revealed to target","UNLOCKING":"Unlock sent to partner","EXPIRING":"Lock expired","UNLOCKED":"Unlock acknowledged","EXPIRED":"Lock expired acknowledged","REQUESTED":"Secret requested by target","REGISTERED":"Secret registered on-chain"}},"settings":{"raiden-account":{"title":"Use Raiden Account","description":"By default the dApp uses a generated Raiden account to sign messages. Disable the Raiden account to use your Web3 provider account. All messages will then have to be signed manually."}},"token-list":{"item":{"blockie-alt":"Token address blockie","information-template":"{symbol} | {name}"}},"install-banner":{"install":"Install","dismiss":"Dismiss","message-mobile":"Add the Raiden dApp to your Home screen","message-desktop":"Install the Raiden dApp on your desktop"},"connection-manager":{"dialogs":{"base":{"link-button":"Connect"},"direct-rpc-provider":{"header":"Private Key","description":"Connect directly to an Ethereum node and use your accounts private key. This approach is NOT RECOMMENDED for security concerns.","error-message":"Failed to link to configured provider. Please make sure the given paramaters and the service is available.","options":{"rpc-url":{"name":"RPC","details":"Provide the URL for an RPC endpoint","placeholder":"https://"},"private-key":{"name":"Private Key","details":"Hex encoded private key of your Ethereum account.","placeholder":"f0a78..."}}},"injected-provider":{"header":"Browser Extension","description":"Connect with a provider in your web browser.","error-message":"Failed to link to provider. Please make sure to grant the requested permissions."},"wallet-connect-provider":{"header":"WalletConnect","description":"Connect with any mobile wallet app that supports WalletConnect.","error-message":"Failed to link via WalletConnect. Please make sure the given parmaters are correct and confirm the connection in the wallet.","options":{"bridge-url":{"name":"Bridge Server","details":"Provide the URL for an alternative bridge server","placeholder":"https://"},"infura-id":{"name":"Infura","details":"Provide the ID for an Infura project","placeholder":"Project ID"},"rpc-url":{"name":"RPC","details":"Provide the URL for an RPC endpoint","placeholder":"https://"}}},"connection-pending":{"title":"Connecting","text":"Please check if any actions are required in your wallet.","button":"Cancel"}}}}')},ee57:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("2111"),a=r["p"](r["v"]({userId:r["s"],accessToken:r["s"],deviceId:r["s"],displayName:r["s"]}))},ee6c:function(e,t,n){"use strict";n.d(t,"b",(function(){return U})),n.d(t,"g",(function(){return M})),n.d(t,"i",(function(){return L})),n.d(t,"h",(function(){return B})),n.d(t,"f",(function(){return H})),n.d(t,"e",(function(){return $})),n.d(t,"c",(function(){return q})),n.d(t,"d",(function(){return K})),n.d(t,"a",(function(){return Y}));var r=n("a91f"),a=n("ccde"),o=n("2111"),i=n("5a9d"),c=n.n(i),u=n("a32b");function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e){return p="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t,n){return t&&b(e.prototype,t),n&&b(e,n),e}function h(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}function m(e){var t=w();return function(){var n,r=E(e);if(t){var a=E(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return v(this,n)}}function v(e,t){return!t||"object"!==p(t)&&"function"!==typeof t?O(e):t}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){var t="function"===typeof Map?new Map:void 0;return g=function(e){if(null===e||!_(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return j(e,arguments,E(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),k(n,e)},g(e)}function j(e,t,n){return j=w()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var a=Function.bind.apply(e,r),o=new a;return n&&k(o,n.prototype),o},j.apply(null,arguments)}function w(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function _(e){return-1!==Function.toString.call(e).indexOf("[native code]")}function k(e,t){return k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},k(e,t)}function E(e){return E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},E(e)}function T(e){return x(e)||S(e)||N(e)||A()}function A(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function S(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function x(e){if(Array.isArray(e))return C(e)}function P(e,t){return I(e)||D(e,t)||N(e,t)||R()}function R(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function N(e,t){if(e){if("string"===typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?C(e,t):void 0}}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function D(e,t){var n=e&&("undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0)if(o.push(r.value),t&&o.length===t)break}catch(u){c=!0,a=u}finally{try{i||null==n["return"]||n["return"]()}finally{if(c)throw a}}return o}}function I(e){if(Array.isArray(e))return e}var U=u;function M(e,t){var n=function e(t,n){var r,a;return a="string"===typeof t?(null===n||void 0===n?void 0:n.name)===t||(null===n||void 0===n||null===(r=n.message)||void 0===r?void 0:r.includes(t)):"number"===typeof t?(null===n||void 0===n?void 0:n.httpStatus)===t:Object.entries(t).every((function(e){var t=P(e,2),r=t[0],a=t[1];return(null===n||void 0===n?void 0:n[r])===a})),!a&&n&&"error"in n&&(a=e(t,n.error)),a},r=Array.isArray(e)?function(t){return e.some((function(e){return n(e,t)}))}:function(t){return n(e,t)};return arguments.length<2?r:r(t)}function L(e){var t,n=-1,r=null!==(t=e.maxRetries)&&void 0!==t?t:10;return function(t){var a;n++;var o=!0;return r>=0&&o&&(o=n<r),e.onErrors&&o&&(o=M(e.onErrors,t)),e.neverOnErrors&&o&&(o=!M(e.neverOnErrors,t)),e.predicate&&o&&(o=!!e.predicate(t,n)),e.stopPredicate&&o&&(o=!e.stopPredicate(t,n)),null===(a=e.log)||void 0===a||a.call(e,o?"retrying":"giving up",{count:n,maxRetries:r},t),o}}var B=["invalid response","missing response",{code:"TIMEOUT"},{code:"SERVER_ERROR"},{code:"NETWORK_ERROR"},{code:"ENOTFOUND"},429,500,502,503],F=["always failing transaction","cannot estimate gas",{code:"UNPREDICTABLE_GAS_LIMIT"}],V=["replacement fee too low","gas price supplied is too low","nonce is too low","nonce has already been used","already known","Transaction with the same hash was already imported"],W=["execution failed due to an exception","transaction failed","execution reverted"],H=[].concat(F,V,B),$=[].concat(T(H),W),q=function(e){h(n,e);var t=m(n);function n(e,r){var a;return d(this,n),a=t.call(this,e),a.details=r,a.name="RaidenError",Object.setPrototypeOf(O(a),n.prototype),a}return y(n,[{key:"code",get:function(){var e,t=this;return null!==(e=c()(U,(function(e){return e===t.message})))&&void 0!==e?e:"RDN_GENERAL_ERROR"}}]),n}(g(Error));function K(e,t,n){if(!e)throw null===n||void 0===n||n("__assertion failed:",e,t),t instanceof Error?t:"function"===typeof t?t(e):Array.isArray(t)?j(q,T(t)):new q(null!==t&&void 0!==t?t:U.RDN_ASSERT_ERROR,{condition:e})}var G=o["j"]([o["v"]({name:o["s"]}),o["o"]({message:o["s"],stack:o["s"],details:o["y"]})]),Y=new o["b"]("Error",(function(e){return"object"===p(e)&&!!e&&"name"in e&&"message"in e}),(function(e){return Object(a["pipe"])(G.decode(e),Object(r["map"])((function(e){return"details"in e?Object.assign(new q(e.message,e.details),{name:e.name,stack:e.stack}):Object.assign(new Error(e.message),{name:e.name,stack:e.stack})})))}),(function(e){return l({name:e.name,message:e.message,stack:e.stack},"details"in e?{details:e.details}:{})}))},ee79:function(e){e.exports=JSON.parse('{"contracts_version":null,"chain_id":1,"contracts":{"SecretRegistry":{"address":"0x70f0c29b946E63803BD0Be796E17E47138668A68","transaction_hash":"0xa5a2672315e336dde3b43f3c09a4d0dbc7a59a4fe84f0506ea3abb5025bf94fb","block_number":10095755,"gas_cost":247286,"constructor_arguments":[]},"TokenNetworkRegistry":{"address":"0x6d07A2ef8De5d7D48337510BCEb9FEEa5424b20c","transaction_hash":"0xfde25a57b5ce0c8fcb748d5ff5ba8464cfce022d6eea72b6374b07c1b5f27b14","block_number":10095771,"gas_cost":4001210,"constructor_arguments":["0x70f0c29b946E63803BD0Be796E17E47138668A68",1,100,500,2]}},"token_networks":[{"token_network_address":"0x5b606943b36F3569E00EC4178A9f83eea8730184","constructor_arguments":{"_token_address":"0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2","_secret_registry":"0x70f0c29b946E63803BD0Be796E17E47138668A68","_chain_id":1,"_settlement_timeout_min":100,"_settlement_timeout_max":500,"_deprecation_executor":"0xbBF11c2f66E1887681C902095CEfB1018C854c0f","_channel_participant_deposit_limit":4683182690956770000,"_token_network_deposit_limit":4.68318269095677e+21}},{"token_network_address":"0xEA92bD481e54BBB9Bb6C927970a54E82eE26c6B4","constructor_arguments":{"_token_address":"0x6B175474E89094C44Da98b954EedeAC495271d0F","_secret_registry":"0x70f0c29b946E63803BD0Be796E17E47138668A68","_chain_id":1,"_settlement_timeout_min":100,"_settlement_timeout_max":500,"_deprecation_executor":"0xbBF11c2f66E1887681C902095CEfB1018C854c0f","_channel_participant_deposit_limit":1e+21,"_token_network_deposit_limit":1e+24}}]}')},eed9:function(e,t,n){"use strict";n.r(t),n.d(t,"pathFind",(function(){return s})),n.d(t,"servicesValid",(function(){return l})),n.d(t,"iouPersist",(function(){return f})),n.d(t,"iouClear",(function(){return p})),n.d(t,"udcDeposit",(function(){return d})),n.d(t,"udcWithdrawPlan",(function(){return y})),n.d(t,"udcWithdraw",(function(){return h})),n.d(t,"msBalanceProofSent",(function(){return m}));var r=n("2111"),a=n("d276"),o=n("ca14"),i=n("d011"),c=r["v"]({tokenNetwork:o["a"],target:o["a"],value:Object(o["j"])(32)}),u=r["v"]({tokenNetwork:o["a"],serviceAddress:o["a"]}),s=Object(a["c"])(c,"path/find/request","path/find/success","path/find/failure",r["o"]({paths:i["e"],pfs:r["x"]([i["c"],r["m"]])}),r["v"]({paths:i["e"]})),l=Object(a["b"])("services/valid",i["j"]),f=Object(a["b"])("iou/persist",r["v"]({iou:Object(o["h"])(i["a"])}),u),p=Object(a["b"])("iou/clear",void 0,u),d=Object(a["c"])(r["v"]({totalDeposit:Object(o["j"])(32)}),"udc/deposit/request","udc/deposit/success","udc/deposit/failure",r["j"]([r["v"]({deposit:Object(o["j"])(32)}),r["o"]({subkey:r["e"]})]),r["x"]([r["v"]({balance:Object(o["j"])(32)}),r["v"]({balance:Object(o["j"])(32),txHash:o["c"],txBlock:r["n"],confirmed:r["x"]([r["w"],r["e"]])})])),b=r["v"]({amount:Object(o["j"])(32)}),y=Object(a["c"])(b,"udc/withdraw/plan/request","udc/withdraw/plan/success","udc/withdraw/plan/failure",r["w"],r["j"]([r["v"]({block:r["n"]}),r["o"]({txHash:o["c"],txBlock:r["n"],confirmed:r["x"]([r["w"],r["e"]])})])),h=Object(a["c"])(b,"udc/withdraw/request","udc/withdraw/success","udc/withdraw/failure",r["w"],r["v"]({withdrawal:Object(o["j"])(32),txHash:o["c"],txBlock:r["n"],confirmed:r["x"]([r["w"],r["e"]])})),m=Object(a["b"])("ms/balanceProof/sent",r["v"]({tokenNetwork:o["a"],partner:o["a"],id:r["n"],reward:Object(o["j"])(32),nonce:Object(o["j"])(8),monitoringService:o["a"],txHash:o["c"],txBlock:r["n"],confirmed:r["x"]([r["w"],r["e"]])}))},ef8c:function(e,t,n){"use strict";n("0731")},f2df:function(e,t,n){"use strict";var r=n("ee6c");n.d(t,"a",(function(){return r["d"]}))},f386:function(e,t,n){},f455:function(e,t,n){"use strict";var r=n("d0dd");n.d(t,"e",(function(){return r["a"]}));var a=n("b8ff");n.d(t,"b",(function(){return a["b"]}));n("5bbb");var o=n("2b5b");n.d(t,"a",(function(){return o["a"]}));var i=n("d011");n.d(t,"d",(function(){return i["f"]}));n("65e1"),n("1a78");var c=n("05eb");n.d(t,"c",(function(){return c["a"]}));n("ee6c");var u=n("1b23");n.d(t,"f",(function(){return u["c"]}));n("ca14")},f496:function(e,t,n){e.exports=n.p+"img/select_hub_info.32d32b20.svg"},f5be:function(e,t,n){"use strict";n.d(t,"e",(function(){return T})),n.d(t,"d",(function(){return A})),n.d(t,"c",(function(){return S})),n.d(t,"f",(function(){return x})),n.d(t,"g",(function(){return P})),n.d(t,"b",(function(){return N})),n.d(t,"a",(function(){return I}));var r=n("a91f"),a=n("ccde"),o=n("2111"),i=n("0128"),c=n.n(i),u=n("d2a5"),s=n.n(u),l=n("6298"),f=n.n(l),p=n("f799"),d=n("5bbb"),b=n("2b5b"),y=n("8173"),h=n("eed9"),m=n("83ee"),v=n("d890"),O=n("0602"),g=n("d276"),j=n("ee6c"),w=n("ca14");function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var T=Object(g["b"])("raiden/shutdown",o["v"]({reason:o["x"]([o["l"](b["f"].STOP),o["l"](b["f"].ACCOUNT_CHANGED),o["l"](b["f"].NETWORK_CHANGED),j["a"]])})),A=Object(g["b"])("raiden/config/update",d["a"]),S=Object(g["b"])("raiden/config/caps",o["v"]({caps:o["x"]([O["a"],o["m"]])})),x=Object(g["b"])("raiden/started"),P=Object(g["b"])("raiden/synced",o["v"]({tookMs:o["n"],initialBlock:o["n"],currentBlock:o["n"]})),R=k(k(k(k(k({raidenShutdown:T,raidenConfigUpdate:A},p),v),y),m),h),N=[R.raidenShutdown,R.newBlock,R.matrixPresence.success,R.tokenMonitored,R.udcWithdrawPlan.success,R.udcWithdrawPlan.failure,R.udcWithdraw.success,R.udcWithdraw.failure,R.msBalanceProofSent,R.channelSettle.success,R.channelSettle.failure,R.channelOpen.success,R.channelOpen.failure],C=f()(R,(function(e,t){return k(k({},e),"type"in t?E({},t.type,t):c()(t,s()("type")))}),{}),D=o["p"](o["v"]({type:o["s"],payload:o["p"](o["v"]({txHash:w["c"],txBlock:o["n"],confirmed:o["x"]([o["w"],o["e"]])}))})),I=new o["b"]("ConfirmableAction",D.is,(function(e,t){return Object(a["pipe"])(D.validate(e,t),Object(r["chain"])((function(e){var n=e.type;return n in C?C[n].codec.validate(e,t):o["h"](e,t)})))}),(function(e){return C[e.type].codec.encode(e)}))},f799:function(e,t,n){"use strict";n.r(t),n.d(t,"newBlock",(function(){return u})),n.d(t,"blockTime",(function(){return s})),n.d(t,"blockStale",(function(){return l})),n.d(t,"blockGasprice",(function(){return f})),n.d(t,"tokenMonitored",(function(){return p})),n.d(t,"channelOpen",(function(){return d})),n.d(t,"channelMonitored",(function(){return b})),n.d(t,"channelDeposit",(function(){return y})),n.d(t,"channelWithdrawn",(function(){return h})),n.d(t,"channelClose",(function(){return m})),n.d(t,"channelSettleable",(function(){return v})),n.d(t,"channelSettle",(function(){return O}));var r=n("2111"),a=n("d276"),o=n("ca14"),i=n("9201"),c=r["v"]({tokenNetwork:o["a"],partner:o["a"]}),u=Object(a["b"])("block/new",r["v"]({blockNumber:r["n"]})),s=Object(a["b"])("block/time",r["v"]({blockTime:r["n"]})),l=Object(a["b"])("block/stale",r["v"]({stale:r["e"]})),f=Object(a["b"])("block/gasPrice",r["v"]({gasPrice:Object(o["j"])(32)})),p=Object(a["b"])("token/monitored",r["j"]([r["v"]({token:o["a"],tokenNetwork:o["a"]}),r["o"]({fromBlock:r["n"],toBlock:r["n"]})])),d=Object(a["c"])(c,"channel/open/request","channel/open/success","channel/open/failed",r["o"]({settleTimeout:r["n"],subkey:r["e"],deposit:Object(o["j"])(32)}),r["v"]({id:r["n"],token:o["a"],settleTimeout:r["n"],isFirstParticipant:r["e"],txHash:o["c"],txBlock:r["n"],confirmed:r["x"]([r["w"],r["e"]])})),b=Object(a["b"])("channel/monitored",r["v"]({id:r["n"]}),c),y=Object(a["c"])(c,"channel/deposit/request","channel/deposit/success","channel/deposit/failure",r["j"]([r["v"]({deposit:Object(o["j"])(32)}),r["o"]({subkey:r["e"],waitOpen:r["l"](!0)})]),r["v"]({id:r["n"],participant:o["a"],totalDeposit:Object(o["j"])(32),txHash:o["c"],txBlock:r["n"],confirmed:r["x"]([r["w"],r["e"]])})),h=Object(a["b"])("channel/withdraw/success",r["v"]({id:r["n"],participant:o["a"],totalWithdraw:Object(o["j"])(32),txHash:o["c"],txBlock:r["n"],confirmed:r["x"]([r["w"],r["e"]])}),c),m=Object(a["c"])(c,"channel/close/request","channel/close/success","channel/close/failure",r["x"]([r["o"]({subkey:r["e"]}),r["w"]]),r["v"]({id:r["n"],participant:o["a"],txHash:o["c"],txBlock:r["n"],confirmed:r["x"]([r["w"],r["e"]])})),v=Object(a["b"])("channel/settleable",r["v"]({settleableBlock:r["n"]}),c),O=Object(a["c"])(c,"channel/settle/request","channel/settle/success","channel/settle/failure",r["x"]([r["o"]({subkey:r["e"]}),r["w"]]),r["j"]([r["v"]({id:r["n"],txHash:o["c"],txBlock:r["n"],confirmed:r["x"]([r["w"],r["e"]])}),r["o"]({locks:r["q"](i["d"])})]))},fb60:function(e,t,n){e.exports=n.p+"img/transfer_steps_info.1dbe6e75.svg"}});