(function(e){function t(t){for(var r,a,c=t[0],s=t[1],u=t[2],l=0,f=[];l<c.length;l++)a=c[l],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&f.push(o[a][0]),o[a]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);d&&d(t);while(f.length)f.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,a=1;a<n.length;a++){var c=n[a];0!==o[c]&&(r=!1)}r&&(i.splice(t--,1),e=s(s.s=n[0]))}return e}var r={},a={app:0},o={app:0},i=[];function c(e){return s.p+"js/"+({}[e]||e)+"."+{"chunk-1b3da3cb":"706e59af","chunk-26feb7c8":"39bd3a29","chunk-4990842d":"eeb8098c","chunk-5ad6d89f":"bfeebd0c","chunk-5faf00c0":"f53cb50b","chunk-61d34ff6":"7860e6e5","chunk-36c39c97":"f072f346","chunk-3eadbefa":"ae8d5e25","chunk-4f2072da":"068dd0a8","chunk-04144265":"84b533f7","chunk-130b1c02":"90dfc6ca","chunk-09851a38":"d3f4eef4","chunk-48a029f3":"33509029","chunk-880e3342":"92d76a62","chunk-56c83d2d":"5999fcb6","chunk-5827c4a1":"e367c3da","chunk-76894b26":"a02254ed","chunk-7d2ee13d":"a29ecb70","chunk-56c8da20":"2f1a561f","chunk-3730a74a":"19a4aa2b","chunk-4be5e7a4":"28961d62","chunk-ad1fa19e":"1c21b27e"}[e]+".js"}function s(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(e){var t=[],n={"chunk-1b3da3cb":1,"chunk-26feb7c8":1,"chunk-4990842d":1,"chunk-5ad6d89f":1,"chunk-5faf00c0":1,"chunk-61d34ff6":1,"chunk-36c39c97":1,"chunk-4f2072da":1,"chunk-04144265":1,"chunk-130b1c02":1,"chunk-09851a38":1,"chunk-48a029f3":1,"chunk-880e3342":1,"chunk-56c83d2d":1,"chunk-5827c4a1":1,"chunk-76894b26":1,"chunk-7d2ee13d":1,"chunk-ad1fa19e":1};a[e]?t.push(a[e]):0!==a[e]&&n[e]&&t.push(a[e]=new Promise((function(t,n){for(var r="css/"+({}[e]||e)+"."+{"chunk-1b3da3cb":"8f439e70","chunk-26feb7c8":"fb72ceb0","chunk-4990842d":"5c74075e","chunk-5ad6d89f":"4c80b8e4","chunk-5faf00c0":"64d1853e","chunk-61d34ff6":"1be7203f","chunk-36c39c97":"252ed763","chunk-3eadbefa":"31d6cfe0","chunk-4f2072da":"82f91157","chunk-04144265":"8510b9a5","chunk-130b1c02":"4f3682ac","chunk-09851a38":"89c49e4c","chunk-48a029f3":"bba8c643","chunk-880e3342":"9a4748f6","chunk-56c83d2d":"fdd19082","chunk-5827c4a1":"9ce9c0da","chunk-76894b26":"5457b40b","chunk-7d2ee13d":"b56042dd","chunk-56c8da20":"31d6cfe0","chunk-3730a74a":"31d6cfe0","chunk-4be5e7a4":"31d6cfe0","chunk-ad1fa19e":"09a316ea"}[e]+".css",o=s.p+r,i=document.getElementsByTagName("link"),c=0;c<i.length;c++){var u=i[c],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===r||l===o))return t()}var f=document.getElementsByTagName("style");for(c=0;c<f.length;c++){u=f[c],l=u.getAttribute("data-href");if(l===r||l===o)return t()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=t,d.onerror=function(t){var r=t&&t.target&&t.target.src||o,i=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=r,delete a[e],d.parentNode.removeChild(d),n(i)},d.href=o;var p=document.getElementsByTagName("head")[0];p.appendChild(d)})).then((function(){a[e]=0})));var r=o[e];if(0!==r)if(r)t.push(r[2]);else{var i=new Promise((function(t,n){r=o[e]=[t,n]}));t.push(r[2]=i);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,s.nc&&l.setAttribute("nonce",s.nc),l.src=c(e);var f=new Error;u=function(t){l.onerror=l.onload=null,clearTimeout(d);var n=o[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;f.message="Loading chunk "+e+" failed.\n("+r+": "+a+")",f.name="ChunkLoadError",f.type=r,f.request=a,n[1](f)}o[e]=void 0}};var d=setTimeout((function(){u({type:"timeout",target:l})}),12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(t)},s.m=e,s.c=r,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(n,r,function(t){return e[t]}.bind(null,r));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/",s.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=t,u=u.slice();for(var f=0;f<u.length;f++)t(u[f]);var d=l;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"0444":function(e,t,n){},"05eb":function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e["OPENED"]="OPENED",e["APPROVED"]="APPROVED",e["DEPOSITED"]="DEPOSITED",e["CONFIRMED"]="CONFIRMED"}(r||(r={}))},"0862":function(e,t,n){"use strict";n.d(t,"c",(function(){return g})),n.d(t,"b",(function(){return w})),n.d(t,"e",(function(){return _})),n.d(t,"d",(function(){return k})),n.d(t,"a",(function(){return E}));var r=n("cefa"),a=n("58da"),o=n("8df4"),i=n("4377"),c=n("427e"),s=n.n(c),u=n("2b5b"),l=n("46f7"),f=n("d890");function d(e,t){return m(e)||h(e,t)||b(e,t)||p()}function p(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function b(e,t){if(e){if("string"===typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(e,t):void 0}}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done);r=!0)if(n.push(i.value),t&&n.length===t)break}catch(s){a=!0,o=s}finally{try{r||null==c["return"]||c["return"]()}finally{if(a)throw o}}return n}}function m(e){if(Array.isArray(e))return e}function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){j(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=s()((function(e){return e.pipe(Object(r["a"])(f["matrixPresence"].success.is),Object(a["a"])((function(e,t){return O(O({},e),{},j({},t.meta.address,t))}),{}),Object(o["a"])(),Object(i["a"])({}))}));function w(e,t){return Object.values(e).find((function(e){return e.payload.userId===t}))}function _(e){for(var t=new URL("mxc://raiden.network/cap"),n=function(e,n){return t.searchParams.append(e,n)},r=0,a=Object.entries(e);r<a.length;r++){var o=d(a[r],2),i=o[0],c=o[1];Array.isArray(c)?c.forEach(n.bind(null,i)):n(i,c)}return t.href}function k(e){if(e){var t={};try{var n=new URL(e);return n.searchParams.forEach((function(e,n){var r=e;if(/^\d+$/.test(e))r=Object(l["b"])(e);else{var a=e.toLowerCase();"none"===a||"null"===a?r=null:"false"===a?r=!1:"true"===a&&(r=!0)}if(n in t){var o=t[n];Array.isArray(o)||(t[n]=o=[o]),o.push(r)}else t[n]=r})),t}catch(r){}}}function E(e,t){var n;return null!==(n=null===e||void 0===e?void 0:e[t])&&void 0!==n?n:u["b"][t]}},"0a08":function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.show?n("div",{staticClass:"blurred-overlay",class:{fullscreen:e.fullscreen}},[e._t("default")],2):e._e()},a=[],o=n("9ab4"),i=n("5cf9");function c(e){return c="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}function f(e){var t=b();return function(){var n,r=y(e);if(t){var a=y(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return d(this,n)}}function d(e,t){return!t||"object"!==c(t)&&"function"!==typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}var h=function(e){u(n,e);var t=f(n);function n(){return s(this,n),t.apply(this,arguments)}return n}(i["e"]);Object(o["a"])([Object(i["d"])({type:Boolean,required:!0})],h.prototype,"show",void 0),Object(o["a"])([Object(i["d"])({required:!1,default:!1,type:Boolean})],h.prototype,"fullscreen",void 0),h=Object(o["a"])([Object(i["a"])({})],h);var m=h,v=m,O=(n("71a0"),n("a6c2")),j=Object(O["a"])(v,r,a,!1,null,"2c6136c2",null);t["a"]=j.exports},"0ba5":function(e,t,n){"use strict";var r=n("5778");n.d(t,"a",(function(){return r["d"]})),n.d(t,"b",(function(){return r["e"]})),n.d(t,"c",(function(){return r["i"]})),n.d(t,"d",(function(){return r["j"]})),n.d(t,"e",(function(){return r["k"]}));var a=n("7de2");n.d(t,"f",(function(){return a["b"]})),n.d(t,"g",(function(){return a["e"]})),n.d(t,"h",(function(){return a["g"]})),n.d(t,"i",(function(){return a["h"]}))},"0bd4":function(e,t,n){"use strict";n("a520")},"0d3e":function(e,t,n){},"0f75":function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var r=n("e832"),a=n("c010"),o=n.n(a),i=n("7fcc"),c=n.n(i),s=n("a3d5");function u(e,t){return b(e)||p(e,t)||f(e,t)||l()}function l(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function f(e,t){if(e){if("string"===typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done);r=!0)if(n.push(i.value),t&&n.length===t)break}catch(s){a=!0,o=s}finally{try{r||null==c["return"]||c["return"]()}finally{if(a)throw o}}return n}}function b(e){if(Array.isArray(e))return e}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t,n){return t&&h(e.prototype,t),n&&h(e,n),e}var v=function(){function e(){y(this,e)}return m(e,null,[{key:"truncate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12;if(!e)return"";var n="...";if(e.length<=t)return e;var r=Math.floor(t/2);return e.substr(0,r)+n+e.substr(e.length-r)}},{key:"decimals",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;return parseFloat(e).toFixed(t)}},{key:"upper",value:function(e){return e?e.toLocaleUpperCase():""}},{key:"displayFormat",value:function(t,n){var r=s["a"].toUnits(t,null!==n&&void 0!==n?n:18),a=parseFloat(r);return 0===a?0===n?"0":"0.0":a<1e-6?"<0.000001":e.formatValue(r,n)}},{key:"formatValue",value:function(e,t){var n=o()(e,"."),r=u(n,2),a=r[0],i=r[1];if(i&&i.length>6){var c=i.substring(0,6);return"â‰ˆ".concat(a,".").concat(c)}return 0===t?a:e}},{key:"capitalizeFirst",value:function(e){return c()(e)}},{key:"upperCase",value:function(e){return e.toUpperCase()}}]),e}();v.toUnits=function(e,t){return s["a"].toUnits(e,null!==t&&void 0!==t?t:18)},v.formatDate=function(e){return"".concat(new Intl.DateTimeFormat("en-US").format(e)," ").concat(e.toLocaleTimeString("en-US"))},r["a"].filter("truncate",v.truncate),r["a"].filter("decimals",v.decimals),r["a"].filter("upper",v.upper),r["a"].filter("displayFormat",v.displayFormat),r["a"].filter("capitalizeFirst",v.capitalizeFirst),r["a"].filter("upperCase",v.upperCase),r["a"].filter("toUnits",v.toUnits),r["a"].filter("formatDate",v.formatDate)},"0ff6":function(e){e.exports=JSON.parse('{"contracts_version":null,"chain_id":4,"contracts":{"ServiceRegistry":{"address":"0xe44921f1F63B6369A1Ef0Ae497b2620D68C40f3C","transaction_hash":"0xd9d8ac1821c2f4ac47af6f44e3c2e6da49fae8acac936e851dd21833e86684f9","block_number":6515467,"gas_cost":1999628,"constructor_arguments":["0x2488C9445b405E0fbbD60e89813f8b8652973737","0x062C12c01D0f17fC9eAa33940D994594d91a0182",2e+21,6,5,17280000,1000,15552000]},"UserDeposit":{"address":"0x9d87E6E25029dAa79E064Db04f3Dc1a785025FcE","transaction_hash":"0xfdefb83579530c6bc54f732a9d15a8c8e8bff3f88e85b6fbbcb1ffc55f8ff0de","block_number":6515468,"gas_cost":1530470,"constructor_arguments":["0x2488C9445b405E0fbbD60e89813f8b8652973737",1.157920892373162e+77]},"MonitoringService":{"address":"0x9D5fF7860dcFc1EB6bCF230D911Fe0df0f8C0e31","transaction_hash":"0x21fbe2880e3168989a1f53cec9e83e765e00aa0f43eded08612caefc7359ba9b","block_number":6515469,"gas_cost":1949901,"constructor_arguments":["0x2488C9445b405E0fbbD60e89813f8b8652973737","0xe44921f1F63B6369A1Ef0Ae497b2620D68C40f3C","0x9d87E6E25029dAa79E064Db04f3Dc1a785025FcE","0xC1e1F66c196738E6E38728Cac797E658631C8580"]},"OneToN":{"address":"0xd392CE4c8A44d3D22c24a2812EF7c11e27F3E194","transaction_hash":"0xb41df6abc165200fe335d23008ef82e6febb948984fc6df3d35d473fcd439af7","block_number":6515470,"gas_cost":1097797,"constructor_arguments":["0x9d87E6E25029dAa79E064Db04f3Dc1a785025FcE",4,"0xe44921f1F63B6369A1Ef0Ae497b2620D68C40f3C"]}}}')},1:function(e,t){},"12bc":function(e,t,n){},"152b":function(e,t,n){"use strict";var r=n("9ab4"),a=n("5cf9"),o=n("80bf");function i(e){return i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}function l(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}function f(e,t){return f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},f(e,t)}function d(e){var t=y();return function(){var n,r=h(e);if(t){var a=h(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return p(this,n)}}function p(e,t){return!t||"object"!==i(t)&&"function"!==typeof t?b(e):t}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}var m=function(e){l(n,e);var t=d(n);function n(){return c(this,n),t.apply(this,arguments)}return u(n,[{key:"navigateToSelectHub",value:function(e){this.$router.push({name:o["a"].SELECT_HUB,params:{token:e}})}},{key:"navigateToHome",value:function(){this.$router.push({name:o["a"].HOME})}},{key:"navigateToOpenChannel",value:function(e,t){this.$router.push({name:o["a"].OPEN_CHANNEL,params:{token:e,partner:t}})}},{key:"navigateToChannels",value:function(e){this.$router.push({name:o["a"].CHANNELS,params:{token:e}})}},{key:"navigateToSelectTransferTarget",value:function(e,t,n){var r={name:o["a"].TRANSFER,params:{token:e},query:{}};t&&n&&(r.query={target:t,amount:n}),this.$router.push(r)}},{key:"navigateToTokenSelect",value:function(){this.$router.push({name:o["a"].SELECT_TOKEN})}},{key:"navigateToTransferSteps",value:function(e,t,n){this.$router.push({name:o["a"].TRANSFER_STEPS,params:{token:e,target:t},query:{amount:n}})}},{key:"navigateToNotifications",value:function(){this.$router.push({name:o["a"].NOTIFICATIONS})}},{key:"navigateToAccoount",value:function(){this.$router.push({name:o["a"].ACCOUNT_ROOT})}},{key:"navigateToBackupState",value:function(){this.$router.push({name:o["a"].ACCOUNT_BACKUP})}},{key:"navigateToRaidenAccountTransfer",value:function(){this.$router.push({name:o["a"].ACCOUNT_RAIDEN})}},{key:"navigateToSettings",value:function(){this.$router.push({name:o["a"].ACCOUNT_SETTINGS})}},{key:"navigateToWithdrawal",value:function(){this.$router.push({name:o["a"].ACCOUNT_WITHDRAWAL})}},{key:"navigateToUDC",value:function(){this.$router.push({name:o["a"].ACCOUNT_UDC})}},{key:"onModalBackClicked",value:function(){this.$router.go(-1)}},{key:"onBackClicked",value:function(){switch(this.$route.name){case o["a"].TRANSFER_STEPS:this.navigateToSelectTransferTarget(this.$route.params.token,this.$route.params.target,this.$route.params.amount);break;case o["a"].TRANSFER:case o["a"].CHANNELS:case o["a"].SELECT_TOKEN:this.navigateToHome();break;case o["a"].SELECT_HUB:this.navigateToTokenSelect();break;case o["a"].OPEN_CHANNEL:this.navigateToSelectHub(this.$route.params.token);break}}}]),n}(a["e"]);m=Object(r["a"])([a["a"]],m),t["a"]=m},1752:function(e,t,n){"use strict";n("909b")},"1a78":function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return l})),n.d(t,"d",(function(){return d})),n.d(t,"c",(function(){return r}));var r,a=n("2111"),o=n("48a3"),i=n.n(o),c=n("5778"),s=n("ca14"),u={SENT:"sent",RECEIVED:"received"},l=a["k"](i()(u)),f=a["p"](a["j"]([a["v"]({_id:a["s"],channel:a["s"],direction:l,secrethash:s["c"],expiration:a["n"],transfer:Object(s["i"])(Object(s["h"])(c["b"])),fee:Object(s["d"])(32),partner:s["a"],cleared:a["n"]},"TransferStateBase"),a["o"]({secret:s["f"],secretRegistered:Object(s["i"])(a["v"]({txHash:s["c"],txBlock:a["n"]})),transferProcessed:Object(s["i"])(Object(s["h"])(c["e"])),channelClosed:Object(s["i"])(a["v"]({txHash:s["c"],txBlock:a["n"]})),channelSettled:Object(s["i"])(a["v"]({txHash:s["c"],txBlock:a["n"]})),secretRequest:Object(s["i"])(Object(s["h"])(c["f"])),secretReveal:Object(s["i"])(Object(s["h"])(c["g"])),unlock:Object(s["i"])(Object(s["h"])(c["h"])),expired:Object(s["i"])(Object(s["h"])(c["a"])),unlockProcessed:Object(s["i"])(Object(s["h"])(c["e"])),expiredProcessed:Object(s["i"])(Object(s["h"])(c["e"]))},"TransferStateOpts")])),d=f;(function(e){e["pending"]="PENDING",e["received"]="RECEIVED",e["closed"]="CLOSED",e["requested"]="REQUESTED",e["revealed"]="REVEALED",e["registered"]="REGISTERED",e["unlocking"]="UNLOCKING",e["expiring"]="EXPIRING",e["unlocked"]="UNLOCKED",e["expired"]="EXPIRED"})(r||(r={}))},"1a83":function(e,t,n){"use strict";n("0444")},"1a92":function(e,t,n){},"1b23":function(e,t,n){"use strict";n.d(t,"a",(function(){return g})),n.d(t,"c",(function(){return w})),n.d(t,"b",(function(){return _}));var r=n("0fda"),a=n("331d"),o=n("ae8f"),i=n("dae3"),c=n("43a7"),s=n("58be"),u=n("258b"),l=n("423d"),f=n("ca14");function d(e){return h(e)||y(e)||b(e)||p()}function p(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function b(e,t){if(e){if("string"===typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(e,t):void 0}}function y(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function h(e){if(Array.isArray(e))return m(e)}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){j(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e,t,n){var p=arguments.length>3&&void 0!==arguments[3]?arguments[3]:5,b=arguments.length>4?arguments[4]:void 0;if("string"===typeof t||Array.isArray(t))return Object(r["a"])((function(n){return e.on(t,n)}),(function(n){return e.removeListener(t,n)}),n);var y=2*p,h=[];return Object(a["a"])((function(){if(!b){var t=e._lastBlockNumber,n=e.blockNumber;t=t&&t>0?t:n&&n>0?n:1,b=t-p}return h.push(b),g(e,"block")})).pipe(Object(c["a"])(Math.ceil(e.pollingInterval/10)),Object(s["a"])((function(n){return Object(a["a"])((function(){return e.getLogs(O(O({},t),{},{fromBlock:h[0],toBlock:n}))})).pipe(Object(u["a"])((function(e){h.length>=y&&h.shift(),h.push(n+1);var t=Math.max.apply(Math,[0].concat(d(e.map((function(e){return e.blockNumber})).filter(f["n"]).filter((function(e){return e+p<=n})))))+1;return h[0]<=t&&h.splice(0,h.filter((function(e){return e<=t})).length,t),Object(o["a"])(e)})),Object(l["a"])((function(){return i["a"]})))})))}function w(e,t){var n=function(t){var n=e.interface.parseLog(t);if(!0!==t.removed&&n){var r=O(O(O({},t),n),{},{removeListener:function(){},getBlock:function(){return e.provider.getBlock(t.blockHash)},getTransaction:function(){return e.provider.getTransaction(t.transactionHash)},getTransactionReceipt:function(){return e.provider.getTransactionReceipt(t.transactionHash)}});return[].concat(d(n.args),[r])}};return void 0!==t?n(t):n}function _(e){return"unknown"===e.name?e.chainId.toString():"homestead"===e.name?"mainnet":e.name}},"1f0b":function(e){e.exports=JSON.parse('{"contracts_version":null,"chain_id":1,"contracts":{"ServiceRegistry":{"address":"0xa80aEc9eebD8058A1468e563C025999590F32C08","transaction_hash":"0x5aea719cdc67247db8f24da779a3cf817daab629ad2f743bf4c6b0b067339804","block_number":10095929,"gas_cost":1999694,"constructor_arguments":["0x255Aa6DF07540Cb5d3d297f0D0D4D84cb52bc8e6","0xbBF11c2f66E1887681C902095CEfB1018C854c0f",8.420485356775965e+21,5,4,2836573,842048535677596500000,15552000]},"UserDeposit":{"address":"0x1c62fF66aF8aaD410065E02338F5bFbbe23e1f10","transaction_hash":"0xa810cc5afd8eef2f056fe8d9895b32b81927d76643d8965aaa40d2e24d63dc97","block_number":10095932,"gas_cost":1530140,"constructor_arguments":["0x255Aa6DF07540Cb5d3d297f0D0D4D84cb52bc8e6",8.420485356775965e+23]},"MonitoringService":{"address":"0x727DDdBD042d891180A252C7A20634a696A16925","transaction_hash":"0x8404ad70bd1a42ad0bf27c41d720a78ebdc0a8c23621f479ca1f700773ddfc03","block_number":10095941,"gas_cost":1949835,"constructor_arguments":["0x255Aa6DF07540Cb5d3d297f0D0D4D84cb52bc8e6","0xa80aEc9eebD8058A1468e563C025999590F32C08","0x1c62fF66aF8aaD410065E02338F5bFbbe23e1f10","0x6d07A2ef8De5d7D48337510BCEb9FEEa5424b20c"]},"OneToN":{"address":"0x960f01E9E219E1c8564784a050fD1cA51651592D","transaction_hash":"0xd775a9e8b2baa0005d84cc9d0ff5efa627163e80b05d53712a5b19b44b552836","block_number":10095943,"gas_cost":1097785,"constructor_arguments":["0x1c62fF66aF8aaD410065E02338F5bFbbe23e1f10",1,"0xa80aEc9eebD8058A1468e563C025999590F32C08"]}}}')},2:function(e,t){},"233e":function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"header-identicon"},[n("v-img",{class:{"header-identicon__blockie":e.defaultAccount,"header-identicon__blockie header-identicon__blockie__grayscale":!e.defaultAccount},attrs:{src:e.$blockie(e.defaultAccount),contain:"","aspect-ratio":"1"}})],1)},a=[],o=n("9ab4"),i=n("5cf9"),c=n("94ea"),s=n("77fd");function u(e){return u="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}function y(e,t){return y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},y(e,t)}function h(e){var t=O();return function(){var n,r=j(e);if(t){var a=j(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return m(this,n)}}function m(e,t){return!t||"object"!==u(t)&&"function"!==typeof t?v(e):t}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function j(e){return j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},j(e)}var g=function(e){b(n,e);var t=h(n);function n(){return p(this,n),t.apply(this,arguments)}return n}(Object(i["c"])(s["a"]));g=Object(o["a"])([Object(i["a"])({computed:f({},Object(c["e"])(["defaultAccount"]))})],g);var w=g,_=w,k=(n("1a83"),n("a6c2")),E=n("411c"),T=n.n(E),x=n("1331"),S=Object(k["a"])(_,r,a,!1,null,"18cb3a6d",null);t["a"]=S.exports;T()(S,{VImg:x["a"]})},"2b5b":function(e,t,n){"use strict";n.d(t,"e",(function(){return u})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return c})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return f}));var r,a=n("b97c"),o=n("6da0");function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c,s,u=Object(a["h"])([],65),l=Object(o["a"])([]);(function(e){e["STOP"]="raidenStopped",e["ACCOUNT_CHANGED"]="providerAccountChanged",e["NETWORK_CHANGED"]="providerNetworkChanged"})(c||(c={})),function(e){e["DELIVERY"]="Delivery",e["RECEIVE"]="Receive",e["MEDIATE"]="Mediate",e["WEBRTC"]="webRTC",e["TO_DEVICE"]="toDevice"}(s||(s={}));var f=(r={},i(r,s.DELIVERY,1),i(r,s.RECEIVE,1),i(r,s.MEDIATE,1),i(r,s.WEBRTC,0),i(r,s.TO_DEVICE,0),r)},"2c1c":function(e,t,n){"use strict";n("9643")},"31a7":function(e){e.exports=JSON.parse('{"contracts_version":null,"chain_id":4,"contracts":{"SecretRegistry":{"address":"0x84df710E901299486F120B06e85b9f22AF913387","transaction_hash":"0x3bf1a9f9f03720a51c593d466c007a65d69c1ca197ac4b572ba9d689773936d3","block_number":6515460,"gas_cost":247286,"constructor_arguments":[]},"TokenNetworkRegistry":{"address":"0xC1e1F66c196738E6E38728Cac797E658631C8580","transaction_hash":"0x0072b99e7cac9134c5769044c9d7d4bafa32cad2a95afaaa3c10b30a8493ddb7","block_number":6515461,"gas_cost":4001594,"constructor_arguments":["0x84df710E901299486F120B06e85b9f22AF913387",4,20,555428,1.157920892373162e+77]}},"token_networks":[{"token_network_address":"0x5CEd7CfC56B4249296108B00DbA70b1b903371D8","constructor_arguments":{"_token_address":"0xD7bB0F9D05766c0149C1A3BE14c634310C4B7719","_secret_registry":"0x84df710E901299486F120B06e85b9f22AF913387","_chain_id":4,"_settlement_timeout_min":20,"_settlement_timeout_max":555428,"_deprecation_executor":"0x062C12c01D0f17fC9eAa33940D994594d91a0182","_channel_participant_deposit_limit":1.157920892373162e+77,"_token_network_deposit_limit":1.157920892373162e+77}}]}')},"325b":function(e,t,n){"use strict";n.d(t,"b",(function(){return N})),n.d(t,"a",(function(){return P})),n.d(t,"c",(function(){return D})),n.d(t,"e",(function(){return R})),n.d(t,"d",(function(){return I})),n.d(t,"f",(function(){return C})),n.d(t,"g",(function(){return U}));var r=n("97a5"),a=n("42f4"),o=n("a489"),i=n("331d"),c=n("35dc"),s=n("4a9c"),u=n("769c"),l=n("258b"),f=n("58da"),d=n("cefa"),p=n("ae0c"),b=n("7f4a"),y=n("18df"),h=n("25cb"),m=n("231d"),v=n("dfba"),O=n("534d"),j=n("ca14");function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k(e,t){return A(e)||S(e,t)||T(e,t)||E()}function E(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function T(e,t){if(e){if("string"===typeof e)return x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?x(e,t):void 0}}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function S(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done);r=!0)if(n.push(i.value),t&&n.length===t)break}catch(s){a=!0,o=s}finally{try{r||null==c["return"]||c["return"]()}finally{if(a)throw o}}return n}}function A(e){if(Array.isArray(e))return e}var N=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return e.pipe(s["a"].apply(void 0,t),Object(u["a"])())}};function P(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e,t){return e===t};return function(t){return t.pipe(Object(u["a"])(),Object(l["a"])((function(e){return Object(r["a"])(e)})),Object(f["a"])((function(t,n){var r=t.acc,a=k(n,2),o=a[0],i=a[1];return e(r[o],i)?{acc:r}:{acc:w(w({},r),{},_({},o,i)),changed:[o,i]}}),{acc:{}}),Object(s["a"])("changed"),Object(d["a"])(j["n"]))}}function D(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e4;return function(n){return n.pipe(Object(p["a"])((function(e){return e.pipe(Object(b["a"])((function(){if("number"===typeof t)return t;var e=t.next();return e.done?-1:e.value})),Object(y["a"])((function(e){return e>=0})),Object(h["a"])((function(e){return Object(a["a"])(e)})))})),Object(m["a"])(e))}}function R(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e,t){return t>=10};return function(n){return n.pipe(Object(v["a"])((function(n){return n.pipe(Object(l["a"])((function(n,r){var i;if("number"===typeof e)i=e;else{var c=e.next();i=c.done?-1:c.value}return t(n,r)||i<0?Object(o["a"])(n):Object(a["a"])(i)})))})))}}function I(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e,t){return t>=10};return Object(i["a"])(e).pipe(R(t,n))}function C(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.pipe(Object(b["a"])((function(e){return t?!e:!!e})),Object(u["a"])());return function(e){return e.pipe(Object(m["a"])(n.pipe(Object(d["a"])((function(e){return!e})))),Object(p["a"])((function(){return n.pipe(Object(d["a"])((function(e){return e})))})))}}function U(e){return function(t){return Object(c["a"])(Object(a["a"])(e).pipe(Object(O["a"])(Object(o["a"])(new Error("timeout waiting first")))),t)}}},"358d":function(e,t,n){"use strict";n.d(t,"a",(function(){return F})),n.d(t,"c",(function(){return H})),n.d(t,"d",(function(){return $})),n.d(t,"b",(function(){return V})),n.d(t,"e",(function(){return q}));var r=n("36d8"),a=n.n(r),o=n("2111"),i=n("34ba"),c=n("ae8f"),s=n("dae3"),u=n("dd00"),l=n("258b"),f=n("72251"),d=n("7f4a"),p=n("423d"),b=n("94e7"),y=n("8509"),h=n("b97c"),m=n("427e"),v=n.n(m),O=n("325b"),j=n("ee6c"),g=n("ca14"),w=n("46f7"),_=n("0862"),k=n("b8ff"),E=n("8120"),T=n("7de2"),x=n("2b5b"),S=n("8089");function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){P(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function D(e,t){return L(e)||U(e,t)||I(e,t)||R()}function R(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function I(e,t){if(e){if("string"===typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?C(e,t):void 0}}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function U(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done);r=!0)if(n.push(i.value),t&&n.length===t)break}catch(s){a=!0,o=s}finally{try{r||null==c["return"]||c["return"]()}finally{if(a)throw o}}return n}}function L(e){if(Array.isArray(e))return e}function M(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function B(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){M(o,r,a,i,c,"next",e)}function c(e){M(o,r,a,i,c,"throw",e)}i(void 0)}))}}function F(e,t,n,r,a,o){if(!(r in t)||!t[r].payload.available)return'path: partner "'.concat(r,'" not available in transport');if(a!==r&&!Object(_["a"])(t[r].payload.caps,x["a"].MEDIATE))return'path: partner "'.concat(r,"\" doesn't mediate transfers");var i=e.channels[Object(E["d"])({tokenNetwork:n,partner:r})];if(!i)return"path: there's no direct channel with partner \"".concat(r,'"');if(i.state!==k["b"].open)return'path: channel with "'.concat(r,'" in state "').concat(i.state,'" instead of "').concat(k["b"].open,'"');var c=Object(E["c"])(i),s=c.ownCapacity;return!s.lt(o)||'path: channel with "'.concat(r,"\" doesn't have enough capacity=").concat(s.toString())}var W=v()(function(){var e=B(a.a.mark((function e(t,n){return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(O["d"])((function(){return t.callStatic.token()}),n,j["e"]).toPromise());case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());function H(e,t){var n=t.serviceRegistryContract,r=t.network,c=t.contractsInfo,s=t.provider,p=t.config$,b=o["v"]({message:o["s"],network_info:o["v"]({chain_id:o["l"](r.chainId),token_network_registry_address:o["l"](c.TokenNetworkRegistry.address)}),operator:o["s"],payment_address:g["a"],price_info:Object(g["j"])(32),version:o["s"]}),h=g["a"].is(e)?Object(O["d"])((function(){return n.callStatic.urls(e)}),s.pollingInterval,j["e"]):Object(i["a"])(e);return h.pipe(Object(u["a"])(p),Object(l["a"])((function(e){var t=D(e,2),r=t[0],o=t[1],i=o.httpTimeout,c=o.pfsMaxFee;if(!r)throw new j["c"](j["b"].PFS_EMPTY_URL);if(!Object(S["j"])(r))throw new j["c"](j["b"].PFS_INVALID_URL,{url:r});r.startsWith("https://")||r.startsWith("http://")||(r="https://".concat(r));var u=Date.now();return Object(y["a"])(r+"/api/v1/info").pipe(Object(f["a"])(i),Object(l["a"])(function(){var e=B(a.a.mark((function e(t){return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.t0=g["l"],e.t1=b,e.t2=w["b"],e.next=5,t.text();case 5:return e.t3=e.sent,e.t4=(0,e.t2)(e.t3),e.t5=(0,e.t0)(e.t1,e.t4),e.next=10,W(n,s.pollingInterval);case 10:return e.t6=e.sent,e.abrupt("return",[e.t5,e.t6]);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Object(d["a"])((function(e){var t=D(e,2),n=t[0],a=t[1];return Object(j["d"])(n.price_info.lte(c),[j["b"].PFS_TOO_EXPENSIVE,{price:n.price_info.toString()}]),{address:n.payment_address,url:r,rtt:Date.now()-u,price:n.price_info,token:a}})))})))}function $(e,t){var n=t.log;return Object(c["a"])(e).pipe(Object(l["a"])((function(e){return H(e,t).pipe(Object(p["a"])((function(t){return n.warn('Error trying to fetch PFS info for "'.concat(e,'" - ignoring:'),t),s["a"]})))}),5),Object(b["a"])(),Object(d["a"])((function(e){if(!e.length)throw new j["c"](j["b"].PFS_INVALID_INFO);return e.sort((function(e,t){var n=e.price.sub(t.price);return n.lt(0)?-1:n.gt(0)?1:e.rtt-t.rtt}))})))}function V(e){return Object(h["b"])([Object(w["a"])(e.one_to_n_address,20),Object(w["a"])(e.chain_id,32),Object(w["a"])(T["a"].IOU,32),Object(w["a"])(e.sender,20),Object(w["a"])(e.receiver,20),Object(w["a"])(e.amount,32),Object(w["a"])(e.expiration_block,32)])}function q(e,t){return K.apply(this,arguments)}function K(){return K=B(a.a.mark((function e(t,n){return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",t.signMessage(V(n)).then((function(e){return N(N({},n),{},{signature:e})})));case 1:case"end":return e.stop()}}),e)}))),K.apply(this,arguments)}},3729:function(e,t,n){},"3fae":function(e,t,n){"use strict";n("3729")},"40b2":function(e,t,n){"use strict";n("5919"),n("823d");var r=n("111d"),a=n.n(r),o=n("b993"),i=n("178d"),c=a.a.methodFactory;Object.assign(a.a,{methodFactory:c}),o["logger"].setLevel(a.a.levels.DEBUG);var s=Object(i["getRequest"])();Object(i["request"])((function(e,t){var n=s(e,t),r=n.abort.bind(n);return Object.assign(n,{abort:function(){r(),t(new Error("aborted!"))}})})),"RTCPeerConnection"in globalThis||Object.assign(globalThis,n("d4a7"))},"46f7":function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return b}));var r=n("87b8"),a=n("c00b"),o=n("699d"),i=n("b97c"),c=n("e64d"),s=n.n(c),u=n("ca14"),l=n("ee6c");function f(e,t){var n;if("boolean"===typeof e?e=e?r["c"]:r["f"]:"number"===typeof e&&(e=a["a"].from(e)),"string"!==typeof e||Object(i["l"])(e)||(e=Object(o["f"])(e)),Object(i["k"])(e)&&(e=Object(i["i"])(e)),u["b"].is(e)){if(e.lt(0))throw new l["c"](l["b"].DTA_NEGATIVE_NUMBER);if(e.gte(r["d"].pow(8*t)))throw new l["c"](l["b"].DTA_NUMBER_TOO_LARGE);n=Object(i["h"])(Object(i["i"])(e),t)}else{if("string"!==typeof e)throw new l["c"](l["b"].DTA_UNENCODABLE_DATA);if(Object(i["d"])(e)!==t)throw new l["c"](l["b"].DTA_ARRAY_LENGTH_DIFFERENCE);n=e}return n}var d=s()({storeAsString:!0}),p=d.parse,b=d.stringify},"49f8":function(e,t,n){var r={"./en.json":"edd4"};function a(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=o,e.exports=a,a.id="49f8"},"4cd4":function(e,t,n){e.exports=n.p+"img/notification_block.ad9b07ff.svg"},"4e0b":function(e){e.exports=JSON.parse('{"contracts_version":null,"chain_id":5,"contracts":{"ServiceRegistry":{"address":"0x3bc9C8d34f5714327095358668fD436D7c457C6C","transaction_hash":"0xcec06ceaf6c15357177391017580bb0debdec890eb745c192d137e9ac57678d5","block_number":2723632,"gas_cost":1999628,"constructor_arguments":["0x5Fc523e13fBAc2140F056AD7A96De2cC0C4Cc63A","0x062C12c01D0f17fC9eAa33940D994594d91a0182",2e+21,6,5,17280000,1000,15552000]},"UserDeposit":{"address":"0x0794F09913AA8C77C8c5bdd1Ec4Bb51759Ee0cC5","transaction_hash":"0x50508f3c0a34284cf45d1f710e7cfe1c09ee0635a44c3bb2a72227ac9c1f1802","block_number":2723633,"gas_cost":1530470,"constructor_arguments":["0x5Fc523e13fBAc2140F056AD7A96De2cC0C4Cc63A",1.157920892373162e+77]},"MonitoringService":{"address":"0x20e8e5181000e60799A523a2023d630868f378Fd","transaction_hash":"0x72080b163a9b759f3b27cc207c5237826e8c7e525a44b28dba033a359416e494","block_number":2723634,"gas_cost":1949901,"constructor_arguments":["0x5Fc523e13fBAc2140F056AD7A96De2cC0C4Cc63A","0x3bc9C8d34f5714327095358668fD436D7c457C6C","0x0794F09913AA8C77C8c5bdd1Ec4Bb51759Ee0cC5","0x5a5CF4A63022F61F1506D1A2398490c2e8dfbb98"]},"OneToN":{"address":"0xA514Da2418576CeC4070C82996f30532dDa99706","transaction_hash":"0xaba87d45cfed63d3b69945de2bf9c7aa65d636a6163b54d305b369f28a3a5eaa","block_number":2723635,"gas_cost":1097797,"constructor_arguments":["0x0794F09913AA8C77C8c5bdd1Ec4Bb51759Ee0cC5",5,"0x3bc9C8d34f5714327095358668fD436D7c457C6C"]}}}')},"50e7":function(e,t,n){"use strict";n.d(t,"a",(function(){return Fc})),n.d(t,"b",(function(){return Hc}));var r={};n.r(r),n.d(r,"dbShutdownEpic",(function(){return ae}));var a={};n.r(a),n.d(a,"initNewBlockEpic",(function(){return Ge})),n.d(a,"initTokensRegistryEpic",(function(){return Xe})),n.d(a,"initMonitorProviderEpic",(function(){return Ye})),n.d(a,"channelEventsEpic",(function(){return et})),n.d(a,"channelMonitoredEpic",(function(){return tt})),n.d(a,"channelOpenEpic",(function(){return nt})),n.d(a,"channelDepositEpic",(function(){return at})),n.d(a,"channelCloseEpic",(function(){return ot})),n.d(a,"channelUpdateEpic",(function(){return it})),n.d(a,"channelAutoSettleEpic",(function(){return ct})),n.d(a,"channelSettleEpic",(function(){return st})),n.d(a,"channelSettleableEpic",(function(){return ut})),n.d(a,"channelUnlockEpic",(function(){return lt})),n.d(a,"confirmationEpic",(function(){return dt}));var o={};n.r(o),n.d(o,"initMatrixEpic",(function(){return yn})),n.d(o,"matrixShutdownEpic",(function(){return hn})),n.d(o,"matrixMonitorPresenceEpic",(function(){return Fn})),n.d(o,"matrixPresenceUpdateEpic",(function(){return Hn})),n.d(o,"matrixMonitorChannelPresenceEpic",(function(){return $n})),n.d(o,"matrixUpdateCapsEpic",(function(){return Vn})),n.d(o,"matrixCreateRoomEpic",(function(){return ir})),n.d(o,"matrixInviteEpic",(function(){return cr})),n.d(o,"matrixHandleInvitesEpic",(function(){return sr})),n.d(o,"matrixLeaveExcessRoomsEpic",(function(){return ur})),n.d(o,"matrixLeaveUnknownRoomsEpic",(function(){return lr})),n.d(o,"matrixCleanLeftRoomsEpic",(function(){return fr})),n.d(o,"matrixCleanMissingRoomsEpic",(function(){return dr})),n.d(o,"matrixMessageReceivedUpdateRoomEpic",(function(){return pr})),n.d(o,"matrixMessageSendEpic",(function(){return Dr})),n.d(o,"matrixMessageGlobalSendEpic",(function(){return Rr})),n.d(o,"matrixMessageReceivedEpic",(function(){return Cr})),n.d(o,"deliveredEpic",(function(){return Ur})),n.d(o,"rtcConnectEpic",(function(){return ga}));var i={};n.r(i),n.d(i,"transferAutoExpireEpic",(function(){return Sa})),n.d(i,"transferGenerateAndSignEnvelopeMessageEpic",(function(){return io})),n.d(i,"initQueuePendingEnvelopeMessagesEpic",(function(){return Oo})),n.d(i,"initQueuePendingReceivedEpic",(function(){return jo})),n.d(i,"transferClearCompletedEpic",(function(){return wo})),n.d(i,"transferMediateEpic",(function(){return Po})),n.d(i,"transferProcessedReceivedEpic",(function(){return Mo})),n.d(i,"transferProcessedSendEpic",(function(){return Bo})),n.d(i,"transferRetryMessageEpic",(function(){return Ko})),n.d(i,"transferSecretRequestedEpic",(function(){return ti})),n.d(i,"transferSecretRevealEpic",(function(){return ri})),n.d(i,"transferSecretRevealedEpic",(function(){return ai})),n.d(i,"transferRequestUnlockEpic",(function(){return oi})),n.d(i,"monitorSecretRegistryEpic",(function(){return ii})),n.d(i,"transferSuccessOnSecretRegisteredEpic",(function(){return ci})),n.d(i,"transferAutoRegisterEpic",(function(){return si})),n.d(i,"transferSecretRegisterEpic",(function(){return ui})),n.d(i,"initWithdrawMessagesEpic",(function(){return ji})),n.d(i,"withdrawSendRequestMessageEpic",(function(){return gi})),n.d(i,"withdrawSendTxEpic",(function(){return wi})),n.d(i,"withdrawMessageProcessedEpic",(function(){return _i})),n.d(i,"autoWithdrawExpireEpic",(function(){return ki})),n.d(i,"withdrawSendExpireMessageEpic",(function(){return Ei}));var c={};n.r(c),n.d(c,"pathFindServiceEpic",(function(){return Zi})),n.d(c,"pfsCapacityUpdateEpic",(function(){return Ji})),n.d(c,"pfsFeeUpdateEpic",(function(){return ec})),n.d(c,"pfsServiceRegistryMonitorEpic",(function(){return tc})),n.d(c,"monitorUdcBalanceEpic",(function(){return nc})),n.d(c,"udcDepositEpic",(function(){return ac})),n.d(c,"monitorRequestEpic",(function(){return ic})),n.d(c,"udcWithdrawRequestEpic",(function(){return cc})),n.d(c,"udcCheckWithdrawPlannedEpic",(function(){return sc})),n.d(c,"udcWithdrawPlannedEpic",(function(){return uc})),n.d(c,"msMonitorNewBPEpic",(function(){return lc}));var s=n("36d8"),u=n.n(s),l=n("331d"),f=n("f5c1"),d=n("34ba"),p=n("5e354"),b=n("dae3"),y=n("42f4"),h=n("dd97"),m=n("2023"),v=n("ae8f"),O=n("a489"),j=n("cefa"),g=n("58be"),w=n("7f4a"),_=n("423d"),k=n("d738"),E=n("dd00"),T=n("4377"),x=n("25cb"),S=n("bd71"),A=n("231d"),N=n("4cf1"),P=n("a00b"),D=n("769c"),R=n("4a9c"),I=n("58da"),C=n("18df"),U=n("258b"),L=n("87b8"),M=n("0529"),B=n.n(M),F=n("2bde"),W=n.n(F),H=n("fe07"),$=n.n(H),V=n("7ff5"),q=n.n(V),K=n("f5be"),G=n("2b5b"),X=n("325b"),Y=n("0862"),Q=n("d890"),z=n("eed9"),Z=n("d276"),J=n("2ac2"),ee=n("0eb1");function te(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function ne(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){te(o,r,a,i,c,"next",e)}function c(e){te(o,r,a,i,c,"throw",e)}i(void 0)}))}}function re(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function ae(e,t,n){re(t);var r=n.db;return e.pipe(Object(N["a"])(),Object(J["a"])(ne(u.a.mark((function e(){return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,r.busy$.pipe(Object(ee["a"])((function(e){return!e}))).toPromise();case 2:return r.busy$.next(!0),e.prev=3,e.next=6,r.close();case 6:return e.prev=6,r.busy$.next(!1),r.busy$.complete(),e.finish(6);case 10:case"end":return e.stop()}}),e,null,[[3,,6,10]])})))))}var oe=n("516a"),ie=n("dd5b"),ce=n("dc10"),se=n("2f2f"),ue=n("534d"),le=n("1c01"),fe=n("459b"),de=n("02ce"),pe=n.n(de),be=n("605b"),ye=n.n(be),he=n("5a9d"),me=n.n(he),ve=n("b97c"),Oe=n("7443"),je=n("ee6c"),ge=n("8089"),we=n("ca14"),_e=n("1b23"),ke=n("46f7"),Ee=n("7de2"),Te=n("59ec"),xe=n("1a78"),Se=n("b8ff"),Ae=n("f799"),Ne=n("8120");function Pe(e){return Ie(e)||Re(e)||Le(e)||De()}function De(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Re(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function Ie(e){if(Array.isArray(e))return Me(e)}function Ce(e,t){return Fe(e)||Be(e,t)||Le(e,t)||Ue()}function Ue(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Le(e,t){if(e){if("string"===typeof e)return Me(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Me(e,t):void 0}}function Me(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Be(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done);r=!0)if(n.push(i.value),t&&n.length===t)break}catch(s){a=!0,o=s}finally{try{r||null==c["return"]||c["return"]()}finally{if(a)throw o}}return n}}function Fe(e){if(Array.isArray(e))return e}function We(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function He(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){We(o,r,a,i,c,"next",e)}function c(e){We(o,r,a,i,c,"throw",e)}i(void 0)}))}}function $e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ve(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$e(Object(n),!0).forEach((function(t){qe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$e(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function qe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ke(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function Ge(e,t,n){Ke(e),Ke(t);var r=n.provider;return Object(X["d"])((function(){return r.getBlockNumber()}),r.pollingInterval).pipe(Object(U["a"])((function(e){return Object(m["a"])(Object(d["a"])(e),Object(_e["a"])(r,"block"))})),Object(w["a"])((function(e){return Object(Ae["newBlock"])({blockNumber:e})})))}function Xe(e,t,n){Ke(e);var r=n.address,a=n.provider,o=n.registryContract,i=n.contractsInfo;return t.pipe(Object(ie["a"])(1),Object(j["a"])((function(e){return ye()(e.tokens)})),Object(U["a"])((function(){return Object(X["d"])((function(){return a.getLogs(Ve(Ve({},o.filters.TokenNetworkCreated(null,null)),{},{fromBlock:i.TokenNetworkRegistry.block_number,toBlock:"latest"}))}),a.pollingInterval)})),Object(U["a"])(v["a"]),Object(w["a"])((function(e){return{log:e,parsed:o.interface.parseLog(e)}})),Object(j["a"])((function(e){var t=e.parsed;return!!t.args["token_network_address"]})),Object(U["a"])((function(e){var t=e.log,n=e.parsed,o=Oe["l"].encode(["address"],[r]);return Object(f["a"])(Object(X["d"])((function(){return a.getLogs({address:n.args.token_network_address,topics:[null,null,o],fromBlock:t.blockNumber,toBlock:"latest"})}),a.pollingInterval).pipe(Object(U["a"])(v["a"])),Object(X["d"])((function(){return a.getLogs({address:n.args.token_network_address,topics:[null,null,null,o],fromBlock:t.blockNumber,toBlock:"latest"})}),a.pollingInterval).pipe(Object(U["a"])(v["a"]))).pipe(Object(ie["a"])(1),Object(S["a"])(Object(Ae["tokenMonitored"])({token:n.args.token_address,tokenNetwork:n.args.token_network_address,fromBlock:t.blockNumber})))}),5))}function Ye(e,t,n){var r;Ke(e),Ke(t);var a,o=n.address,i=n.main,c=n.network,s=n.provider,l=null!==(r=null===i||void 0===i?void 0:i.address)&&void 0!==r?r:o;return Object(y["a"])(0,s.pollingInterval).pipe(Object(g["a"])(He(u.a.mark((function e(){var t,n,r,o,i;return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.all([!1===a?Promise.resolve(null):s.listAccounts(),s.getNetwork()]);case 3:if(t=e.sent,n=Ce(t,2),r=n[0],o=n[1],Object(je["d"])(o.chainId===c.chainId,"network changed"),void 0===a&&(a=null===r||void 0===r?void 0:r.includes(l)),!a||!r||r.includes(l)){e.next=11;break}return e.abrupt("return",Object(K["d"])({reason:G["d"].ACCOUNT_CHANGED}));case 11:e.next=20;break;case 13:if(e.prev=13,e.t0=e["catch"](0),null===e.t0||void 0===e.t0||null===(i=e.t0.message)||void 0===i||!i.includes("network changed")){e.next=17;break}return e.abrupt("return",Object(K["d"])({reason:G["d"].NETWORK_CHANGED}));case 17:if(Object(je["e"])(e.t0)){e.next=19;break}return e.abrupt("return");case 19:throw e.t0;case 20:case"end":return e.stop()}}),e,null,[[0,13]])})))),Object(j["a"])(we["n"]))}function Qe(e){return{openTopic:Oe["g"].getEventTopic(e.interface.getEvent("ChannelOpened")),depositTopic:Oe["g"].getEventTopic(e.interface.getEvent("ChannelNewDeposit")),withdrawTopic:Oe["g"].getEventTopic(e.interface.getEvent("ChannelWithdraw")),closedTopic:Oe["g"].getEventTopic(e.interface.getEvent("ChannelClosed")),settledTopic:Oe["g"].getEventTopic(e.interface.getEvent("ChannelSettled"))}}function ze(e,t){var n=Ce(e,2),r=n[0],a=n[1],o=t.address,i=t.latest$,c=t.getTokenNetworkContract,s=c(a),u=Qe(s),l=u.openTopic,f=u.depositTopic,d=u.withdrawTopic,p=u.closedTopic,b=u.settledTopic;return function(e){return e.pipe(Object(E["a"])(i),Object(w["a"])((function(e){var t,n,i=Ce(e,2),c=i[0],s=i[1],u=s.state,y=s.config,h=c[0].toNumber(),m=Object.values(u.channels).find((function(e){return e.tokenNetwork===a&&e.id===h})),v=Object(we["o"])(c),O=null===(t=v.topics)||void 0===t?void 0:t[0],j=v.transactionHash,g=v.blockNumber,w=g+y.confirmationBlocks<=u.blockNumber||void 0;switch(O){case l:var _=Ce(c,4),k=_[1],E=_[2],T=_[3];if((o===k||o===E)&&(!m||h>m.id)){var x=o==k?E:k;n=Ae["channelOpen"].success({id:h,token:r,settleTimeout:T.toNumber(),isFirstParticipant:o===k,txHash:j,txBlock:g,confirmed:w},{tokenNetwork:a,partner:x})}break;case f:var S=Ce(c,3),A=S[1],N=S[2];(null===m||void 0===m?void 0:m.id)===h&&N.gt(m[A===m.partner.address?"partner":"own"].deposit)&&(n=Ae["channelDeposit"].success({id:h,participant:A,totalDeposit:N,txHash:j,txBlock:g,confirmed:w},{tokenNetwork:a,partner:m.partner.address}));break;case d:var P=Ce(c,3),D=P[1],R=P[2];(null===m||void 0===m?void 0:m.id)===h&&R.gt(m[D===m.partner.address?"partner":"own"].withdraw)&&(n=Object(Ae["channelWithdrawn"])({id:h,participant:D,totalWithdraw:R,txHash:j,txBlock:g,confirmed:w},{tokenNetwork:a,partner:m.partner.address}));break;case p:if((null===m||void 0===m?void 0:m.id)===h&&!("closeBlock"in m)){var I=Ce(c,2),C=I[1];n=Ae["channelClose"].success({id:h,participant:C,txHash:j,txBlock:g,confirmed:w},{tokenNetwork:a,partner:m.partner.address})}break;case b:(null===m||void 0===m?void 0:m.id)===h&&(n=Ae["channelSettle"].success({id:h,txHash:j,txBlock:g,confirmed:w,locks:m.partner.locks},{tokenNetwork:a,partner:m.partner.address}));break}return n})),Object(j["a"])(we["n"]))}}function Ze(e,t,n){var r=Ce(e,2),a=r[0],o=r[1],i=Ce(t,2),c=i[0],s=i[1],u=n.address,l=n.provider,f=n.latest$,d=n.getTokenNetworkContract,p=d(s),y=Qe(p),h=y.openTopic;return Object(X["d"])((function(){return Promise.all([l.getLogs(Ve(Ve({},p.filters.ChannelOpened(null,u,null,null)),{},{fromBlock:a,toBlock:o})),l.getLogs(Ve(Ve({},p.filters.ChannelOpened(null,null,u,null)),{},{fromBlock:a,toBlock:o}))])}),l.pollingInterval).pipe(Object(E["a"])(f),Object(U["a"])((function(e){var t=Ce(e,2),n=Ce(t[0],2),r=n[0],i=n[1],c=t[1].state,f=r.concat(i).map(Object(_e["c"])(p)).filter(we["n"]).filter((function(e){var t=Ce(e,3),n=t[0],r=t[1],a=t[2],o=u===r?a:r,i=n.toNumber(),l=Object(Ne["d"])({tokenNetwork:s,partner:o});return!(Object(Ne["e"])({id:i,tokenNetwork:s,partner:o})in c.oldChannels||l in c.channels&&i<c.channels[l].id)})),d=[].concat(Pe(f),Pe(Object.values(c.channels).filter((function(e){return e.tokenNetwork===s})).map((function(e){return[e.id]})))).map((function(e){var t=Ce(e,1),n=t[0];return Oe["l"].encode(["uint256"],[n])}));return 0===d.length?b["a"]:Object(X["d"])((function(){return l.getLogs({address:s,topics:[Object.values(Qe(p)).filter((function(e){return e!==h})),d],fromBlock:a,toBlock:o})}),l.pollingInterval).pipe(Object(U["a"])((function(e){var t=e.map(Object(_e["c"])(p)).filter(we["n"]),n=[].concat(Pe(f),Pe(t));return Object(v["a"])(pe()(n,[function(e){return Object(we["o"])(e).blockNumber},function(e){return Object(we["o"])(e).transactionIndex}]))})))})),ze([c,s],n))}function Je(e,t,n){var r=Ce(t,2),a=r[0],o=r[1],i=n.provider,c=n.getTokenNetworkContract,s=n.config$,u=c(o),l={address:o,topics:[Object.values(Qe(u))]};return s.pipe(Object(ee["a"])(),Object(U["a"])((function(t){var n=t.confirmationBlocks;return Object(_e["a"])(i,l,void 0,n,e)})),Object(w["a"])(Object(_e["c"])(u)),Object(j["a"])(we["n"]),ze([a,o],n))}function et(e,t,n){return e.pipe(Object(j["a"])(Ae["newBlock"].is),Object(R["a"])("payload","blockNumber"),Object(ce["a"])(1,void 0,(function(e){return t.pipe(Object(R["a"])("tokens"),Object(X["a"])(),Object(E["a"])(t),Object(U["a"])((function(t){var r=Ce(t,2),a=Ce(r[0],2),o=a[0],i=a[1],c=r[1],s=Object.values(c.channels).concat(Object.values(c.oldChannels)).filter((function(e){return e.tokenNetwork===i})).reduce((function(e,t){return Math.max(e,"settleBlock"in t?t.settleBlock:"closeBlock"in t?t.closeBlock:t.openBlock)}),n.contractsInfo.TokenNetworkRegistry.block_number),u=new oe["a"];return e.pipe(Object(ee["a"])(),Object(U["a"])((function(e){return Object(m["a"])(Object(d["a"])(Object(Ae["tokenMonitored"])({token:o,tokenNetwork:i,fromBlock:s,toBlock:e})),Ze([s,e],[o,i],n).pipe(Object(J["a"])((function(){return u.next(!0),u.complete()}))),Je(e+1,[o,i],n).pipe(Object(se["a"])((function(){return u}))))})))})))})))}function tt(e,t){return Ke(e),t.pipe(Ne["f"],Object(U["a"])((function(e){return e.pipe(Object(ee["a"])(),Object(w["a"])((function(e){return Object(Ae["channelMonitored"])({id:e.id},{tokenNetwork:e.tokenNetwork,partner:e.partner.address})})))})))}function nt(e,t,n){var r=n.log,a=n.signer,o=n.address,i=n.main,c=n.provider,s=n.getTokenNetworkContract,u=n.config$;return e.pipe(Object(j["a"])(Object(Z["e"])(Ae["channelOpen"].request)),Object(E["a"])(t,u),Object(U["a"])((function(t){var n,u,p,y=Ce(t,3),h=y[0],m=y[1],v=y[2],O=v.settleTimeout,g=v.subkey,w=h.meta,k=w.tokenNetwork,E=w.partner,T=null===(n=m.channels[Object(Ne["d"])(h.meta)])||void 0===n?void 0:n.state;if(T)return Object(d["a"])(Ae["channelOpen"].failure(new je["c"](je["b"].CNL_INVALID_STATE,{state:T}),h.meta));var x=Object(ge["b"])({signer:a,address:o,main:i},null!==(u=h.payload.subkey)&&void 0!==u?u:g),S=x.signer,P=Object(ge["d"])(s(k),S),D=b["a"];return null!==(p=h.payload.deposit)&&void 0!==p&&p.gt(0)&&(D=Object(d["a"])(Ae["channelDeposit"].request({deposit:h.payload.deposit,subkey:h.payload.subkey,waitOpen:!0},h.meta))),Object(f["a"])(D,Object(l["a"])((function(){var e;return P.openChannel(o,E,null!==(e=h.payload.settleTimeout)&&void 0!==e?e:O)})).pipe(Object(Ne["b"])("openChannel",je["b"].CNL_OPENCHANNEL_FAILED,{log:r,provider:c}),Object(Ne["g"])(c.pollingInterval,void 0,Ne["i"].concat(Ne["h"]),{log:r}),Object(A["a"])(e.pipe(Object(j["a"])(Ae["channelOpen"].success.is),Object(j["a"])((function(e){return e.meta.tokenNetwork===k&&e.meta.partner===E})))),Object(N["a"])(),Object(_["a"])((function(e){return Object(d["a"])(Ae["channelOpen"].failure(e,h.meta))}))))})))}function rt(e,t,n,r,a){var o=Ce(e,2),i=o[0],c=o[1],s=Ce(t,3),f=s[0],d=s[1],p=s[2],b=a.log,y=a.provider,h=a.config$;return Object(l["a"])((function(){return Promise.all([i.callStatic.balanceOf(f),i.callStatic.allowance(f,c.address)])})).pipe(Object(E["a"])(h),Object(U["a"])((function(e){var t=Ce(e,2),r=Ce(t[0],2),a=r[0],o=r[1],s=t[1].minimumAllowance;return Object(Ne["a"])([a,o,n],i,c.address,je["b"].CNL_APPROVE_TRANSACTION_FAILED,{provider:y},{log:b,minimumAllowance:s})})),Object(ue["a"])(r),Object(ie["a"])(1),Object(U["a"])(function(){var e=He(u.a.mark((function e(t){return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",c.callStatic.getChannelParticipantInfo(t,d,p).then((function(e){var n=e[0];return[t,n]})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Object(U["a"])(function(){var e=He(u.a.mark((function e(t){var r,a,o;return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=Ce(t,2),a=r[0],o=r[1],e.abrupt("return",c.setTotalDeposit(a,d,o.add(n),p));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Object(Ne["b"])("setTotalDeposit",je["b"].CNL_SETTOTALDEPOSIT_FAILED,{log:b,provider:y}),Object(Ne["g"])(c.provider.pollingInterval,void 0,Ne["i"].concat(Ne["h"]),{log:b}))}function at(e,t,n){Ke(t);var r=n.log,a=n.signer,o=n.address,i=n.main,c=n.getTokenContract,s=n.getTokenNetworkContract,u=n.provider,l=n.config$,f=n.latest$;return e.pipe(Object(j["a"])(Object(Z["e"])(Ae["channelDeposit"].request)),Object(le["a"])((function(e){return e.meta.tokenNetwork})),Object(U["a"])((function(t){return t.pipe(Object(fe["a"])((function(t){return Object(p["a"])([f,l]).pipe(Object(ee["a"])(),Object(U["a"])((function(n){var p,b=Ce(n,2),y=b[0].state,h=b[1].subkey;Object(je["d"])(t.payload.deposit.gt(0),je["b"].DTA_INVALID_DEPOSIT);var v,g=t.meta,w=g.tokenNetwork,_=g.partner,k=me()(y.tokens,(function(e){return e===w})),E=y.channels[Object(Ne["d"])(t.meta)];if(k&&!E&&t.payload.waitOpen)v=Object(m["a"])(e.pipe(Object(j["a"])(Ae["channelOpen"].failure.is),Object(j["a"])((function(e){return e.meta.tokenNetwork===t.meta.tokenNetwork&&e.meta.partner===t.meta.partner})),Object(ue["a"])(Object(O["a"])(new je["c"](je["b"].CNL_NO_OPEN_CHANNEL_FOUND,t.meta)))),f.pipe(Object(R["a"])("state","channels",Object(Ne["d"])(t.meta)),Object(j["a"])(we["n"])));else{if((null===E||void 0===E?void 0:E.state)!==Se["b"].open)throw new je["c"](je["b"].CNL_NO_OPEN_CHANNEL_FOUND);v=Object(d["a"])(E)}var T=Object(ge["b"])({signer:a,address:o,main:i},null!==(p=t.payload.subkey)&&void 0!==p?p:h),x=T.signer,S=T.address,A=Object(ge["d"])(c(k),x),P=Object(ge["d"])(s(w),x);return v.pipe(Object(R["a"])("id"),Object(ce["a"])(1,void 0,(function(e){return rt([A,P],[S,o,_],t.payload.deposit,e,{log:r,provider:u,config$:l})})),Object(N["a"])())})),Object(_["a"])((function(e){return Object(d["a"])(Ae["channelDeposit"].failure(e,t.meta))})))})))})))}function ot(e,t,n){var r=n.log,a=n.signer,o=n.address,i=n.main,c=n.provider,s=n.network,u=n.getTokenNetworkContract,f=n.config$;return e.pipe(Object(j["a"])(Object(Z["e"])(Ae["channelClose"].request)),Object(E["a"])(t,f),Object(U["a"])((function(e){var t,n,f=Ce(e,3),p=f[0],b=f[1],y=f[2].subkey,h=p.meta,m=h.tokenNetwork,O=h.partner,j=Object(ge["b"])({signer:a,address:o,main:i},null!==(t=null===(n=p.payload)||void 0===n?void 0:n.subkey)&&void 0!==t?t:y),g=j.signer,w=Object(ge["d"])(u(m),g),k=b.channels[Object(Ne["d"])(p.meta)];if((null===k||void 0===k?void 0:k.state)!==Se["b"].open&&(null===k||void 0===k?void 0:k.state)!==Se["b"].closing){var E=new je["c"](je["b"].CNL_NO_OPEN_OR_CLOSING_CHANNEL_FOUND,p.meta);return Object(d["a"])(Ae["channelClose"].failure(E,p.meta))}var T=k.partner.balanceProof,x=Object(Ee["b"])(T),S=T.nonce,A=T.additionalHash,P=T.signature,D=Object(ve["b"])([Object(ke["a"])(m,20),Object(ke["a"])(s.chainId,32),Object(ke["a"])(Ee["a"].BALANCE_PROOF,32),Object(ke["a"])(k.id,32),Object(ke["a"])(x,32),Object(ke["a"])(S,32),Object(ke["a"])(A,32),Object(ke["a"])(P,65)]);return Object(v["a"])(a.signMessage(D)).pipe(Object(U["a"])((function(e){return Object(l["a"])((function(){return w.closeChannel(k.id,O,o,x,S,A,P,e)})).pipe(Object(Ne["b"])("closeChannel",je["b"].CNL_CLOSECHANNEL_FAILED,{log:r,provider:c}),Object(Ne["g"])(c.pollingInterval,void 0,void 0,{log:r}))})),Object(N["a"])(),Object(_["a"])((function(e){return Object(d["a"])(Ae["channelClose"].failure(e,p.meta))})))})))}function it(e,t,n){var r=n.log,a=n.signer,o=n.address,i=n.main,c=n.provider,s=n.network,u=n.getTokenNetworkContract,f=n.config$;return e.pipe(Object(j["a"])(Object(Z["e"])(Ae["channelClose"].success)),Object(j["a"])((function(e){return!!e.payload.confirmed})),Object(se["a"])((function(){return e.pipe(Object(j["a"])(Ae["newBlock"].is))})),Object(E["a"])(t,f),Object(j["a"])((function(e){var t=Ce(e,2),n=t[0],r=t[1],a=r.channels[Object(Ne["d"])(n.meta)];return(null===a||void 0===a?void 0:a.state)===Se["b"].closed&&a.id===n.payload.id&&a.partner.balanceProof.transferredAmount.add(a.partner.balanceProof.lockedAmount).gt(L["f"])&&a.closeParticipant!==o})),Object(U["a"])((function(e){var t=Ce(e,3),n=t[0],f=t[1],d=t[2].subkey,p=n.meta,y=p.tokenNetwork,h=p.partner,m=Object(ge["b"])({signer:a,address:o,main:i},d),O=m.signer,j=Object(ge["d"])(u(y),O),g=f.channels[Object(Ne["d"])(n.meta)],w=Object(Ee["b"])(g.partner.balanceProof),k=g.partner.balanceProof.nonce,E=g.partner.balanceProof.additionalHash,T=g.partner.balanceProof.signature,x=Object(ve["b"])([Object(ke["a"])(y,20),Object(ke["a"])(s.chainId,32),Object(ke["a"])(Ee["a"].BALANCE_PROOF_UPDATE,32),Object(ke["a"])(g.id,32),Object(ke["a"])(w,32),Object(ke["a"])(k,32),Object(ke["a"])(E,32),Object(ke["a"])(T,65)]);return Object(v["a"])(a.signMessage(x)).pipe(Object(U["a"])((function(e){return Object(l["a"])((function(){return j.updateNonClosingBalanceProof(g.id,h,o,w,k,E,T,e)})).pipe(Object(Ne["b"])("updateNonClosingBalanceProof",je["b"].CNL_UPDATE_NONCLOSING_BP_FAILED,{log:r,provider:c}),Object(Ne["g"])(c.pollingInterval,void 0,void 0,{log:r}))})),Object(N["a"])(),Object(_["a"])((function(e){return r.error("Error updating non-closing balance-proof, ignoring",e),b["a"]})))})))}function ct(e,t,n){Ke(e);var r=n.config$;return t.pipe(Ne["f"],Object(U["a"])((function(e){return e.pipe(Object(j["a"])((function(e){return e.state===Se["b"].settleable})),Object(ie["a"])(1),Object(E["a"])(r),Object(se["a"])((function(e){var n=Ce(e,2),r=n[0],a=n[1].confirmationBlocks,o=r.closeBlock+r.settleTimeout+Math.round(a*(1+Math.random()));return t.pipe(Object(R["a"])("blockNumber"),Object(j["a"])((function(e){return o<=e})),Object(ie["a"])(1))})),Object(E["a"])(t),Object(j["a"])((function(e){var t,n=Ce(e,2),r=Ce(n[0],1),a=r[0],o=n[1];return(null===(t=o.channels[Object(Ne["d"])(a)])||void 0===t?void 0:t.state)===Se["b"].settleable})),Object(w["a"])((function(e){var t=Ce(e,1),n=Ce(t[0],1),r=n[0];return Ae["channelSettle"].request(void 0,{tokenNetwork:r.tokenNetwork,partner:r.partner.address})})))})),Object(X["f"])(r.pipe(Object(R["a"])("autoSettle"))))}function st(e,t,n){var r=n.log,a=n.signer,o=n.address,i=n.main,c=n.provider,s=n.getTokenNetworkContract,u=n.config$,f=n.db;return e.pipe(Object(j["a"])(Object(Z["e"])(Ae["channelSettle"].request)),Object(E["a"])(t,u),Object(U["a"])((function(e){var t,n,u=Ce(e,3),b=u[0],y=u[1],h=u[2].subkey,m=b.meta,v=m.tokenNetwork,j=m.partner,g=Object(ge["b"])({signer:a,address:o,main:i},null!==(t=null===(n=b.payload)||void 0===n?void 0:n.subkey)&&void 0!==t?t:h),k=g.signer,E=Object(ge["d"])(s(v),k),T=y.channels[Object(Ne["d"])(b.meta)];if((null===T||void 0===T?void 0:T.state)!==Se["b"].settleable&&(null===T||void 0===T?void 0:T.state)!==Se["b"].settling){var x=new je["c"](je["b"].CNL_NO_SETTLEABLE_OR_SETTLING_CHANNEL_FOUND,b.meta);return Object(d["a"])(Ae["channelSettle"].failure(x,b.meta))}return Object(X["d"])((function(){return Promise.all([E.callStatic.getChannelParticipantInfo(T.id,o,j),E.callStatic.getChannelParticipantInfo(T.id,j,o)])}),c.pollingInterval,je["e"]).pipe(Object(U["a"])((function(e){var t,n,a=Ce(e,2),i=a[0][3],s=a[1][3];return t=i===Object(Ee["b"])(T.own.balanceProof)?Object(d["a"])(T.own.balanceProof):Object(Te["a"])(f,T,xe["a"].SENT,i).pipe(Object(_["a"])((function(){return Object(O["a"])(new je["c"](je["b"].CNL_SETTLECHANNEL_INVALID_BALANCEHASH,{address:o,ownBalanceHash:i}))}))),n=s===Object(Ee["b"])(T.partner.balanceProof)?Object(d["a"])(T.partner.balanceProof):Object(Te["a"])(f,T,xe["a"].RECEIVED,s).pipe(Object(_["a"])((function(){return Object(O["a"])(new je["c"](je["b"].CNL_SETTLECHANNEL_INVALID_BALANCEHASH,{address:o,partnerBalanceHash:s}))}))),Object(p["a"])([t,n]).pipe(Object(w["a"])((function(e){var t=Ce(e,2),n=t[0],r=t[1];return r.transferredAmount.add(r.lockedAmount).lt(n.transferredAmount.add(n.lockedAmount))?[[j,r],[o,n]]:[[o,n],[j,r]]})),Object(U["a"])((function(e){var t=Ce(e,2),n=t[0],a=t[1];return Object(l["a"])((function(){return E.settleChannel(T.id,n[0],n[1].transferredAmount,n[1].lockedAmount,n[1].locksroot,a[0],a[1].transferredAmount,a[1].lockedAmount,a[1].locksroot)})).pipe(Object(Ne["b"])("settleChannel",je["b"].CNL_SETTLECHANNEL_FAILED,{log:r,provider:c}),Object(Ne["g"])(c.pollingInterval,void 0,void 0,{log:r}))})))})),Object(N["a"])(),Object(_["a"])((function(e){return Object(d["a"])(Ae["channelSettle"].failure(e,b.meta))})))})))}function ut(e,t){return e.pipe(Object(j["a"])(Object(Z["e"])(Ae["newBlock"])),Object(E["a"])(t),Object(U["a"])(u.a.mark((function e(t){var n,r,a,o,i,c;return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=Ce(t,2),r=n[0].payload.blockNumber,a=n[1],o=0,i=Object.values(a.channels);case 2:if(!(o<i.length)){e.next=10;break}if(c=i[o],!(c.state===Se["b"].closed&&r>c.closeBlock+c.settleTimeout)){e.next=7;break}return e.next=7,Object(Ae["channelSettleable"])({settleableBlock:r},{tokenNetwork:c.tokenNetwork,partner:c.partner.address});case 7:o++,e.next=2;break;case 10:case"end":return e.stop()}}),e)}))))}function lt(e,t,n){var r=n.log,a=n.signer,o=n.address,i=n.main,c=n.provider,s=n.getTokenNetworkContract,u=n.config$;return e.pipe(Object(j["a"])(Object(Z["e"])(Ae["channelSettle"].success)),Object(j["a"])((function(e){var t;return!(!e.payload.confirmed||null===(t=e.payload.locks)||void 0===t||!t.length)})),Object(E["a"])(t,u),Object(j["a"])((function(e){var t,n=Ce(e,2),r=n[0],a=n[1];return(null===(t=a.channels[Object(Ne["d"])(r.meta)])||void 0===t?void 0:t.id)!==r.payload.id})),Object(U["a"])((function(e){var t=Ce(e,3),n=t[0],u=t[2].subkey,f=n.meta,d=f.tokenNetwork,p=f.partner,y=Object(ge["d"])(s(d),Object(ge["b"])({signer:a,address:o,main:i},u).signer),h=Object(ve["b"])(n.payload.locks.reduce((function(e,t){return[].concat(Pe(e),[Object(ke["a"])(t.expiration,32),Object(ke["a"])(t.amount,32),t.secrethash])}),[]));return Object(l["a"])((function(){return y.unlock(n.payload.id,o,p,h)})).pipe(Object(Ne["b"])("unlock",je["b"].CNL_ONCHAIN_UNLOCK_FAILED,{log:r,provider:c}),Object(Ne["g"])(c.pollingInterval,void 0,void 0,{log:r}),Object(N["a"])(),Object(_["a"])((function(e){return r.error("Error unlocking pending locks on-chain, ignoring",e),b["a"]})))})))}function ft(e,t,n,r){return Object(X["d"])((function(){return t.getTransactionReceipt(e.payload.txHash)}),t.pollingInterval).pipe(Object(w["a"])((function(t){var a;return void 0!==(null===t||void 0===t?void 0:t.confirmations)&&t.confirmations>=r&&t.status?Ve(Ve({},e),{},{payload:Ve(Ve({},e.payload),{},{txBlock:null!==(a=t.blockNumber)&&void 0!==a?a:e.payload.txBlock,confirmed:!0})}):e.payload.txBlock+2*r<n?Ve(Ve({},e),{},{payload:Ve(Ve({},e.payload),{},{confirmed:!1})}):void 0})),Object(j["a"])(we["n"]))}function dt(e,t,n){Ke(e);var r=n.config$,a=n.provider,o=n.latest$;return Object(p["a"])([t.pipe(Object(X["b"])("blockNumber")),t.pipe(Object(R["a"])("pendingTxs")),r.pipe(Object(X["b"])("confirmationBlocks"))]).pipe(Object(j["a"])((function(e){var t=Ce(e,2),n=t[1];return n.length>0})),Object(g["a"])((function(e){var t=Ce(e,3),n=t[0],r=t[1],i=t[2];return Object(v["a"])(r).pipe(Object(j["a"])((function(e){return e.payload.txBlock+i<n})),Object(fe["a"])((function(e){return ft(e,a,n,i).pipe(Object(A["a"])(o.pipe(Object(j["a"])((function(t){var n=t.state;return!n.pendingTxs.some((function(t){return t.type===e.type&&t.payload.txHash===e.payload.txHash}))})))))})))})))}var pt=n("2111"),bt=n("94e7"),yt=n("daae"),ht=n("72251"),mt=n("ae6a"),vt=n("dfba"),Ot=n("8509"),jt=n("178d"),gt=n("b993"),wt=n("f2df"),_t=n("759f");function kt(e){var t=/^(?:\w*:?\/\/)?([^/#?&]+)/.exec(e);return t&&t[1]}function Et(e,t){var n=Object(_t["encodeUri"])("/presence/$userId/status",{$userId:t});return e._http.authedRequest(void 0,"GET",n)}var Tt=n("8173"),xt=u.a.mark(St);function St(){var e,t,n,r,a=arguments;return u.a.wrap((function(o){while(1)switch(o.prev=o.next){case 0:e=a.length>0&&void 0!==a[0]?a[0]:1e3,t=a.length>1&&void 0!==a[1]?a[1]:6e4,n=a.length>2&&void 0!==a[2]?a[2]:1.4,r=e;case 4:return o.next=7,r;case 7:r=Math.min(t,Math.ceil(r*n)),o.next=4;break;case 10:case"end":return o.stop()}}),xt)}function At(e,t,n){return Object(m["a"])(e.pipe(Object(j["a"])(n),Object(ie["a"])(1),Object(N["a"])()),Object(d["a"])(t))}function Nt(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:3e4;return At(t,e,Object(Z["g"])(Tt["messageSend"],e.meta)).pipe(Object(X["c"])(n,r))}function Pt(e,t){return function(n){return n.type===e&&(!t||n.expiration.eq(t.expiration)&&n.total_withdraw.eq("totalWithdraw"in t?t.totalWithdraw:t.total_withdraw))}}var Dt=n("a92c"),Rt=n("5983"),It=n.n(Rt);function Ct(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ut(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function Lt(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Ut(o,r,a,i,c,"next",e)}function c(e){Ut(o,r,a,i,c,"throw",e)}i(void 0)}))}}function Mt(e,t){return $t(e)||Ht(e,t)||Ft(e,t)||Bt()}function Bt(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ft(e,t){if(e){if("string"===typeof e)return Wt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Wt(e,t):void 0}}function Wt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ht(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done);r=!0)if(n.push(i.value),t&&n.length===t)break}catch(s){a=!0,o=s}finally{try{r||null==c["return"]||c["return"]()}finally{if(a)throw o}}return n}}function $t(e){if(Array.isArray(e))return e}function Vt(e){return[e.discoveryRoom,e.pfsRoom,e.monitoringRoom].filter(we["n"])}var qt=It()((function(e,t){return e===t.roomId||e===t.name||e===t.getCanonicalAlias()||t.getAliases().includes(e)}));function Kt(e,t){var n=e.getRoom(t);return n||(n=e.getRooms().find(qt(t))),n?Object(d["a"])(n):Object(Dt["a"])(e,"Room").pipe(Object(j["a"])(qt(t)),Object(ie["a"])(1))}function Gt(e,t,n){var r=n.latest$;return Object(p["a"])([r.pipe(Object(X["b"])("presences",t)),r.pipe(Object(w["a"])((function(e){var n,r,a=e.state;return null===(n=a.transport.rooms)||void 0===n||null===(r=n[t])||void 0===r?void 0:r[0]})),Object(j["a"])(we["n"]),Object(D["a"])(),Object(x["a"])((function(t){return Kt(e,t)})))]).pipe(Object(x["a"])((function(t){var n=Mt(t,2),r=n[0],a=n[1];if(!r.payload.available)return b["a"];var o=a.getMember(r.payload.userId);return"join"===(null===o||void 0===o?void 0:o.membership)?Object(d["a"])(a.roomId):Object(Dt["a"])(e,"RoomMember.membership").pipe(Object(j["a"])((function(e){var t=Mt(e,2),n=t[1],r=n.roomId,o=n.membership;return r===a.roomId&&"join"===o})),Object(R["a"])(1,"roomId"))})))}function Xt(e,t,n,r,a){var o=a.log,i=a.latest$,c=a.config$,s=arguments.length>5&&void 0!==arguments[5]&&arguments[5],l=3;return Object(m["a"])(i.pipe(Object(R["a"])("rtc",e),Object(j["a"])((function(e){return s&&"open"===(null===e||void 0===e?void 0:e.readyState)}))),Object(p["a"])([i,c]).pipe(Object(j["a"])((function(t){var n,r=Mt(t,2),a=r[0].presences,o=r[1].caps;return!!(null!==(n=a[e])&&void 0!==n&&n.payload.available&&Object(Y["a"])(o,G["a"].TO_DEVICE)&&Object(Y["a"])(a[e].payload.caps,G["a"].TO_DEVICE))})),Object(R["a"])(0,"presences",e,"payload","userId")),Gt(t,e,{latest$:i})).pipe(Object(ie["a"])(1),Object(U["a"])(function(){var e=Lt(u.a.mark((function e(a){return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("string"===typeof a){e.next=4;break}a.send(r.body),e.next=11;break;case 4:if(!a.startsWith("@")){e.next=9;break}return e.next=7,t.sendToDevice(n,Ct({},a,{"*":r}));case 7:e.next=11;break;case 9:return e.next=11,t.sendEvent(a,n,r,"");case 11:return e.abrupt("return","string"!==typeof a?a.label:a);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Object(vt["a"])((function(e){return e.pipe(Object(E["a"])(c),Object(U["a"])((function(e,t){var n=Mt(e,2),r=n[0],a=n[1].pollingInterval;return t<l-1||[429,500].includes(null===r||void 0===r?void 0:r.httpStatus)?(o.warn("messageSend error, retrying ".concat(t+1,"/").concat(l),r),Object(y["a"])(a)):Object(O["a"])(r)})))})))}function Yt(e,t,n){var r=n.log;if("string"===typeof e)try{var a=Object(Ee["c"])(e);if("signature"in a){var o=Object(Ee["f"])(a);if(o!==t)throw new je["c"](je["b"].TRNS_MESSAGE_SIGNATURE_MISMATCH,{sender:t,signer:o})}return a}catch(i){r.warn("Could not decode message: ".concat(e,": ").concat(i))}}function Qt(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function zt(e,t){return nn(e)||tn(e,t)||Jt(e,t)||Zt()}function Zt(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Jt(e,t){if(e){if("string"===typeof e)return en(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?en(e,t):void 0}}function en(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function tn(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done);r=!0)if(n.push(i.value),t&&n.length===t)break}catch(s){a=!0,o=s}finally{try{r||null==c["return"]||c["return"]()}finally{if(a)throw o}}return n}}function nn(e){if(Array.isArray(e))return e}function rn(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function an(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){rn(o,r,a,i,c,"next",e)}function c(e){rn(o,r,a,i,c,"throw",e)}i(void 0)}))}}var on="RAIDEN";function cn(e,t){var n=kt(t.getHomeserverUrl());return Object(v["a"])(Vt(e)).pipe(Object(w["a"])((function(e){return"#".concat(e,":").concat(n)})),Object(U["a"])((function(e){return t.joinRoom(e).then((function(r){return r.currentState.setStateEvents([new jt["MatrixEvent"]({type:"m.room.aliases",state_key:n,content:{aliases:[e]},event_id:"$local_".concat(Date.now()),room_id:r.roomId,sender:t.getUserId()})]),t.store.storeRoom(r),t.emit("Room",r),r}))})),Object(R["a"])("roomId"),Object(bt["a"])())}function sn(e,t){return un.apply(this,arguments)}function un(){return un=an(u.a.mark((function e(t,n){var r,a;return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r={not_rooms:n,ephemeral:{not_types:["m.receipt","m.typing"]},timeline:{limit:0,not_senders:[t.getUserId()]}},a={room:r},e.abrupt("return",t.createFilter(a));case 3:case"end":return e.stop()}}),e)}))),un.apply(this,arguments)}function ln(e,t,n,r){return e.pipe(Object(j["a"])(Q["matrixSetup"].is),Object(ie["a"])(1),Object(yt["a"])((function(){n.next(t),n.complete()})),Object(E["a"])(r),Object(se["a"])((function(e){var t=zt(e,2),n=t[1].pollingInterval;return Object(y["a"])(Math.ceil(n/5))})),Object(U["a"])((function(e){var n=zt(e,2),r=n[1];return cn(r,t).pipe(Object(U["a"])((function(e){return sn(t,e)})),Object(U["a"])((function(e){return t.startClient({filter:e})})),Object(X["e"])(St(r.pollingInterval,r.httpTimeout),(function(e){return 429!==(null===e||void 0===e?void 0:e.httpStatus)})))})),Object(N["a"])())}function fn(e,t){return e.includes("://")||(e="https://"+e),Object(l["a"])((function(){var n=Date.now();return Object(Ot["a"])(e+"/_matrix/client/versions").pipe(Object(ht["a"])(t),Object(w["a"])((function(e){var t=e.ok;return t?Date.now():NaN})),Object(_["a"])((function(){return Object(d["a"])(NaN)})),Object(w["a"])((function(t){return{server:e,rtt:t-n}})))}))}var dn=pt["v"]({active_servers:pt["d"](pt["s"]),all_servers:pt["d"](pt["s"])});function pn(e,t){return Object(Ot["a"])(e).pipe(Object(U["a"])(function(){var t=an(u.a.mark((function t(n){return u.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return Object(wt["a"])(n.ok,'Could not fetch server list from "'.concat(e,'" => ').concat(n.status)),t.abrupt("return",n.json());case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),Object(ht["a"])(t),Object(U["a"])((function(e){return Object(we["l"])(dn,e).active_servers})),Object(U["a"])((function(e){return fn(e,t)})),Object(bt["a"])(),Object(U["a"])((function(e){return pe()(e,["rtt"])})),Object(j["a"])((function(e){var t=e.rtt;return!isNaN(t)})),Object(mt["a"])((function(){return new je["c"](je["b"].TRNS_NO_MATRIX_SERVERS)})))}function bn(e,t,n,r){var a=n.address,o=n.signer,i=n.config$,c=kt(e);if(!c)throw new je["c"](je["b"].TRNS_NO_SERVERNAME,{server:e});return i.pipe(Object(ee["a"])(),Object(U["a"])((function(n){var r=n.pollingInterval;if(t){var i=Object(jt["createClient"])({baseUrl:e,userId:t.userId,accessToken:t.accessToken,deviceId:t.deviceId});return Object(d["a"])({matrix:i,server:e,setup:t,pollingInterval:r})}var s=Object(jt["createClient"])({baseUrl:e}),u=a.toLowerCase(),l="@".concat(u,":").concat(c);return Object(v["a"])(o.signMessage(c)).pipe(Object(U["a"])((function(e){return Object(X["d"])((function(){return s.login("m.login.password",{user:u,password:e,device_id:on})}),r,(function(e){return 429!==(null===e||void 0===e?void 0:e.httpStatus)})).pipe(Object(_["a"])((function(t){return s.register(u,e).catch((function(){throw t}))})))})),Object(U["a"])((function(t){var n=t.access_token,a=t.device_id;return s.deviceId=a,s._http.opts.accessToken=n,s.credentials={userId:l},Object(v["a"])(o.signMessage(l)).pipe(Object(w["a"])((function(t){return{matrix:s,server:e,setup:{userId:l,accessToken:n,deviceId:a,displayName:t},pollingInterval:r}})))})))})),Object(U["a"])((function(e){var t=e.matrix,n=e.server,a=e.setup,o=e.pollingInterval;return Object(p["a"])([Object(X["d"])((function(){return t.setDisplayName(a.displayName)}),o,(function(e){return 429!==(null===e||void 0===e?void 0:e.httpStatus)})),Object(X["d"])((function(){return t.setAvatarUrl(r&&!ye()(r)?Object(Y["e"])(r):"")}),o,(function(e){return 429!==(null===e||void 0===e?void 0:e.httpStatus)}))]).pipe(Object(S["a"])({matrix:t,server:n,setup:a}))})))}function yn(e,t,n){Qt(t);var r=n.address,a=n.signer,o=n.matrix$,i=n.latest$,c=n.config$;return Object(p["a"])([i,c]).pipe(Object(ee["a"])(),Object(U["a"])((function(e){var t,n=zt(e,2),o=n[0].state,i=n[1],s=i.matrixServer,u=i.matrixServerLookup,f=i.httpTimeout,p=i.caps,y=o.transport.server,h=o.transport.setup,m=[];s?(s===y&&m.push(Object(d["a"])({server:y,setup:h})),m.push(Object(d["a"])({server:s}))):(y&&m.push(Object(d["a"])({server:y,setup:h})),m.push(pn(u,f)));var v=function(e){return t=e,b["a"]};return Object(l["a"])((function(){return m.shift()||b["a"]})).pipe(Object(_["a"])(v),Object(fe["a"])((function(e){var t=e.server,n=e.setup;return bn(t,n,{address:r,signer:a,config$:c},p).pipe(Object(_["a"])(v))})),Object(ee["a"])(),Object(yt["a"])((function(e){var t=e.matrix;return t.setMaxListeners(30)})),Object(vt["a"])((function(e){return e.pipe(Object(U["a"])((function(){return m.length?Object(d["a"])(null):Object(O["a"])(t)})))})))})),Object(U["a"])((function(t){var n=t.matrix,r=t.server,a=t.setup;return Object(m["a"])(ln(e,n,o,c),Object(d["a"])(Object(Q["matrixSetup"])({server:r,setup:a})),c.pipe(Object(X["b"])("logger"),Object(yt["a"])((function(e){return gt["logger"].setLevel(e||"silent",!1)})),Object(N["a"])()))})))}function hn(e,t,n){Qt(t);var r=n.matrix$;return r.pipe(Object(U["a"])((function(t){return e.pipe(Object(J["a"])(an(u.a.mark((function e(){return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.stopClient(),e.prev=1,e.next=4,t.setPresence({presence:"offline",status_msg:""});case 4:e.next=8;break;case 6:e.prev=6,e.t0=e["catch"](1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})))))})),Object(N["a"])())}var mn=n("ebf5"),vn=n("0150"),On=n.n(vn),jn=n("8130"),gn=n.n(jn),wn=n("2d67"),_n=n("8379");function kn(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function En(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){kn(o,r,a,i,c,"next",e)}function c(e){kn(o,r,a,i,c,"throw",e)}i(void 0)}))}}function Tn(e,t){return An(e)||Sn(e,t)||Cn(e,t)||xn()}function xn(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Sn(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done);r=!0)if(n.push(i.value),t&&n.length===t)break}catch(s){a=!0,o=s}finally{try{r||null==c["return"]||c["return"]()}finally{if(a)throw o}}return n}}function An(e){if(Array.isArray(e))return e}function Nn(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function Pn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Dn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pn(Object(n),!0).forEach((function(t){Rn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Rn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function In(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=Cn(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function Cn(e,t){if(e){if("string"===typeof e)return Un(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Un(e,t):void 0}}function Un(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ln=["online","unavailable"],Mn=/^@(0x[0-9a-f]{40})[.:]/i;function Bn(e,t,n){var r=n.log;return Object(l["a"])((function(){return e.searchUserDirectory({term:t.toLowerCase()})})).pipe(Object(U["a"])(u.a.mark((function e(n){var r,a,o,i,c,s;return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:r=n.results,a=In(r),e.prev=2,a.s();case 4:if((o=a.n()).done){e.next=24;break}if(i=o.value,i.display_name){e.next=8;break}return e.abrupt("continue",22);case 8:if(e.prev=8,c=Mn.exec(i.user_id),c&&Object(wn["a"])(c[1])===t){e.next=12;break}return e.abrupt("continue",22);case 12:if(s=Object(_n["b"])(i.user_id,i.display_name),s&&s===t){e.next=15;break}return e.abrupt("continue",22);case 15:e.next=20;break;case 17:return e.prev=17,e.t0=e["catch"](8),e.abrupt("continue",22);case 20:return e.next=22,i;case 22:e.next=4;break;case 24:e.next=29;break;case 26:e.prev=26,e.t1=e["catch"](2),a.e(e.t1);case 29:return e.prev=29,a.f(),e.finish(29);case 32:case"end":return e.stop()}}),e,null,[[2,26,29,32],[8,17]])}))),Object(U["a"])((function(t){return Et(e,t.user_id).then((function(e){return Dn(Dn({},e),t)})).catch((function(e){r.info("Error fetching user presence, ignoring:",e)}))})),Object(j["a"])(we["n"]),Object(bt["a"])(),Object(w["a"])((function(e){if(!e.length)throw new je["c"](je["b"].TRNS_NO_VALID_USER,{address:t});return On()(e,"last_active_ago")})))}function Fn(e,t,n){Nn(t);var r=n.matrix$,a=n.latest$,o=n.log;return e.pipe(Object(j["a"])(Object(Z["e"])(Q["matrixPresence"].request)),Object(U["a"])((function(e){return r.pipe(Object(w["a"])((function(t){return{action:e,matrix:t}})))})),Object(le["a"])((function(e){var t=e.action;return t.meta.address})),Object(U["a"])((function(e){return e.pipe(Object(E["a"])(a.pipe(Object(X["b"])("presences"))),Object(g["a"])((function(e){var t=Tn(e,2),n=t[0],r=n.action,a=n.matrix,i=t[1];return r.meta.address in i?Object(d["a"])(i[r.meta.address]):Bn(a,r.meta.address,{log:o}).pipe(Object(w["a"])((function(e){var t=e.presence,n=e.user_id,a=e.avatar_url;return Q["matrixPresence"].success({userId:n,available:Ln.includes(t),ts:Date.now(),caps:Object(Y["d"])(a)},r.meta)})),Object(_["a"])((function(e){return Object(d["a"])(Q["matrixPresence"].failure(e,r.meta))})))})))})))}var Wn=["userId","available","caps"];function Hn(e,t,n){Nn(t);var r=n.log,a=n.matrix$,o=n.latest$,i=n.config$;return a.pipe(Object(x["a"])((function(e){return Object(Dt["a"])(e,"event").pipe(Object(j["a"])((function(e){return"m.presence"===e.getType()})),Object(w["a"])((function(t){return{event:t,matrix:e}})))})),Object(w["a"])((function(e){var t=e.event,n=e.matrix;try{var r,a=n.getUser(t.getSender());Object(wt["a"])(null===a||void 0===a?void 0:a.presence);var o=null===(r=Mn.exec(a.userId))||void 0===r?void 0:r[1];Object(wt["a"])(o);var i=Object(wn["a"])(o);return Object(wt["a"])(i),{matrix:n,user:a,address:i,event:t}}catch(c){}})),Object(j["a"])(we["n"]),Object(E["a"])(e.pipe(Object(j["a"])(Q["matrixPresence"].request.is),Object(I["a"])((function(e,t){return e.add(t.meta.address)}),new Set),Object(T["a"])(new Set)),i),Object(j["a"])((function(e){var t=Tn(e,2),n=t[0].address,r=t[1];return r.has(n)})),Object(U["a"])((function(e){var t=Tn(e,3),n=t[0],a=n.matrix,o=n.user,i=n.address,c=t[2],s=c.pollingInterval,f=c.httpTimeout;return Object(l["a"])(En(u.a.mark((function e(){return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all([a.getProfileInfo(o.userId),Et(a,o.userId)]));case 1:case"end":return e.stop()}}),e)})))).pipe(Object(w["a"])((function(e){var t,n=Tn(e,2),a=n[0],c=n[1],s=c.presence,u=c.last_active_ago;Object(wt["a"])(null===a||void 0===a?void 0:a.displayname,"no displayname");var l=Object(_n["b"])(o.userId,a.displayname);Object(wt["a"])(l===i,"invalid displayname signature: ".concat(l," !== ").concat(i));var f=Ln.includes(s);return s!==o.presence&&r.warn("Presence mismatch",{user:o,presence:s,last_active_ago:u}),Q["matrixPresence"].success({userId:o.userId,available:f,ts:u?Date.now()-u:null!==(t=o.lastPresenceTs)&&void 0!==t?t:Date.now(),caps:Object(Y["d"])(a.avatar_url)},{address:l})})),Object(X["e"])(St(s,f),(function(e){return 429!==(null===e||void 0===e?void 0:e.httpStatus)})),Object(_["a"])((function(e){return r.warn("Error validating presence event, ignoring",o.userId,e),b["a"]})))}))).pipe(Object(E["a"])(o),Object(j["a"])((function(e){var t,n=Tn(e,2),r=n[0],a=n[1].presences;return(r.payload.available||!(r.meta.address in a)||!a[r.meta.address].payload.available||r.payload.userId===a[r.meta.address].payload.userId)&&!$()(gn()(r.payload,Wn),gn()(null===(t=a[r.meta.address])||void 0===t?void 0:t.payload,Wn))})),Object(R["a"])(0))}function $n(e){return e.pipe(Object(j["a"])(Ae["channelMonitored"].is),Object(w["a"])((function(e){return Q["matrixPresence"].request(void 0,{address:e.meta.partner})})))}function Vn(e,t,n){Nn(e),Nn(t);var r=n.matrix$,a=n.config$;return a.pipe(Object(R["a"])("caps"),Object(D["a"])($.a),Object(mn["a"])(1),Object(U["a"])((function(e){return r.pipe(Object(w["a"])((function(t){return[e,t]})))})),Object(U["a"])(function(){var e=En(u.a.mark((function e(t){var n,r,a;return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=Tn(t,2),r=n[0],a=n[1],e.abrupt("return",a.setAvatarUrl(r&&!ye()(r)?Object(Y["e"])(r):"").catch((function(){})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Object(N["a"])())}var qn=n("ae0c"),Kn=n("84d4"),Gn=n("9112"),Xn=n("83ee");function Yn(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function Qn(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Yn(o,r,a,i,c,"next",e)}function c(e){Yn(o,r,a,i,c,"throw",e)}i(void 0)}))}}function zn(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=er(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function Zn(e,t){return rr(e)||nr(e,t)||er(e,t)||Jn()}function Jn(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function er(e,t){if(e){if("string"===typeof e)return tr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?tr(e,t):void 0}}function tr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function nr(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done);r=!0)if(n.push(i.value),t&&n.length===t)break}catch(s){a=!0,o=s}finally{try{r||null==c["return"]||c["return"]()}finally{if(a)throw o}}return n}}function rr(e){if(Array.isArray(e))return e}function ar(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function or(e,t,n,r,a){var o,i=r.pollingInterval,c=r.httpTimeout,s=a.log;return Object(y["a"])(i).pipe(Object(U["a"])((function(){return Object(l["a"])((function(){return e.invite(t,n)})).pipe(Object(_["a"])((function(e){return s.warn("Error inviting",e),b["a"]})),Object(qn["a"])((function(e){return e.pipe(Object(Kn["a"])(c))})))})),Object(X["f"])(Object(Dt["a"])(e,"RoomMember.membership").pipe(Object(R["a"])(1),Object(j["a"])((function(e){return e.roomId===t&&e.userId===n})),Object(T["a"])(null===(o=e.getRoom(t))||void 0===o?void 0:o.getMember(n)),Object(w["a"])((function(e){return"join"!==(null===e||void 0===e?void 0:e.membership)})),Object(D["a"])())))}function ir(e,t,n){ar(t);var r=n.address,a=n.log,o=n.matrix$,i=n.latest$,c=n.config$;return e.pipe(Object(j["a"])(Object(Z["e"])([Xn["transferSigned"],Ae["channelMonitored"],Tt["messageSend"].request,Q["matrixRoomLeave"]])),Object(w["a"])((function(e){var t;switch(e.type){case Xn["transferSigned"].type:e.meta.direction===xe["a"].SENT&&e.payload.message.initiator===r?t=e.payload.message.target:e.meta.direction===xe["a"].RECEIVED&&e.payload.message.target===r&&(t=e.payload.message.initiator);break;case Ae["channelMonitored"].type:t=e.meta.partner;break;default:t=e.meta.address;break}return t})),Object(j["a"])(we["n"]),Object(le["a"])((function(e){return e})),Object(U["a"])((function(e){return e.pipe(Object(U["a"])((function(e){return o.pipe(Object(w["a"])((function(t){return{address:e,matrix:t}})))})),Object(E["a"])(c),Object(g["a"])((function(e){var t=Zn(e,2),n=t[0],r=n.address,o=n.matrix,c=t[1],s=c.pollingInterval,u=c.httpTimeout;return i.pipe(Object(j["a"])((function(e){var t=e.presences;return r in t})),Object(ie["a"])(1),Object(j["a"])((function(e){var t=e.presences,n=e.config;return!Object(Y["a"])(n.caps,G["a"].TO_DEVICE)||!Object(Y["a"])(t[r].payload.caps,G["a"].TO_DEVICE)})),Object(j["a"])((function(e){var t,n,a=e.state;return!(null!==(t=a.transport.rooms)&&void 0!==t&&null!==(n=t[r])&&void 0!==n&&n[0])})),Object(U["a"])((function(e){var t=e.presences;return o.createRoom({visibility:"private",invite:[t[r].payload.userId]})})),Object(w["a"])((function(e){var t=e.room_id;return Object(Q["matrixRoom"])({roomId:t},{address:r})})),Object(X["e"])(St(s,u),(function(e){return 429!==(null===e||void 0===e?void 0:e.httpStatus)})),Object(_["a"])((function(e){return a.error("Error creating room, ignoring",e),b["a"]})))})))})))}function cr(e,t,n){ar(t);var r=n.matrix$,a=n.config$,o=n.latest$,i=n.log;return e.pipe(Object(j["a"])(Object(Z["e"])(Q["matrixPresence"].success)),Object(le["a"])((function(e){return e.meta.address})),Object(U["a"])((function(e){return Object(p["a"])([e,o.pipe(Object(w["a"])((function(t){var n,r,a=t.state;return null===(n=a.transport.rooms)||void 0===n||null===(r=n[e.key])||void 0===r?void 0:r[0]})),Object(D["a"])())]).pipe(Object(E["a"])(r,a),Object(x["a"])((function(e){var t=Zn(e,3),n=Zn(t[0],2),r=n[0],a=n[1],o=t[1],c=t[2];return r.payload.available&&a?or(o,a,r.payload.userId,c,{log:i}):b["a"]})))})),Object(N["a"])())}function sr(e,t,n){ar(e),ar(t);var r=n.log,a=n.matrix$,o=n.config$,i=n.latest$;return a.pipe(Object(x["a"])((function(e){return Object(Dt["a"])(e,"RoomMember.membership").pipe(Object(w["a"])((function(t){var n=Zn(t,2),r=n[0],a=n[1];return{event:r,member:a,matrix:e}})))})),Object(j["a"])((function(e){var t=e.member,n=e.matrix;return t.userId===n.getUserId()&&"invite"===t.membership})),Object(E["a"])(o),Object(U["a"])((function(e){var t=Zn(e,2),n=t[0],r=n.event,a=n.member,o=n.matrix,c=t[1].httpTimeout,s=r.getSender(),u=i.pipe(Object(X["b"])("presences"),Object(w["a"])((function(e){return Object.values(e).find((function(e){return e.payload.userId===s}))})),Object(j["a"])(we["n"]),Object(ie["a"])(1),Object(A["a"])(Object(y["a"])(c)));return u.pipe(Object(w["a"])((function(e){return{matrix:o,member:a,senderPresence:e}})))})),Object(E["a"])(o),Object(U["a"])((function(e){var t=Zn(e,2),n=t[0],a=n.matrix,o=n.member,i=n.senderPresence,c=t[1],s=c.pollingInterval,u=c.httpTimeout;return Object(l["a"])((function(){return a.joinRoom(o.roomId,{syncRoom:!0})})).pipe(Object(S["a"])(Object(Q["matrixRoom"])({roomId:o.roomId},{address:i.meta.address})),Object(X["e"])(St(s,u),(function(e){return 429!==(null===e||void 0===e?void 0:e.httpStatus)})),Object(_["a"])((function(e){return r.error("Error joining invited room, ignoring",e),b["a"]})))})))}function ur(e,t,n){var r=n.log,a=n.matrix$,o=n.config$;return e.pipe(Object(j["a"])(Object(Z["e"])(Q["matrixRoom"])),Object(U["a"])((function(e){return a.pipe(Object(w["a"])((function(t){return{action:e,matrix:t}})))})),Object(E["a"])(t,o),Object(U["a"])((function(e){var t,n,a=Zn(e,3),o=a[0],i=o.action,c=o.matrix,s=a[1],u=a[2].matrixExcessRooms,l=null!==(t=null===(n=s.transport.rooms)||void 0===n?void 0:n[i.meta.address])&&void 0!==t?t:[];return Object(v["a"])(l.filter((function(e,t){return ar(e),t>=u}))).pipe(Object(U["a"])((function(e){return c.leave(e).catch((function(e){return r.error("Error leaving excess room, ignoring",e)})).then((function(){return e}))})),Object(w["a"])((function(e){return Object(Q["matrixRoomLeave"])({roomId:e},i.meta)})))})))}function lr(e,t,n){ar(e);var r=n.log,a=n.matrix$,o=n.config$;return a.pipe(Object(x["a"])((function(e){return Object(Dt["a"])(e,"Room").pipe(Object(w["a"])((function(t){return{matrix:e,room:t}})))})),Object(se["a"])((function(){return o.pipe(Object(ee["a"])(),Object(U["a"])((function(e){var t=e.httpTimeout;return Object(y["a"])(t)})))})),Object(E["a"])(t,o),Object(j["a"])((function(e){var t=Zn(e,3),n=t[0],r=n.matrix,a=n.room,o=t[1].transport,i=t[2];if(!a)return!1;var c=kt(r.getHomeserverUrl());if(Vt(i).some((function(e){return qt("#".concat(e,":").concat(c),a)})))return!1;for(var s=0,u=Object.values(null!==(l=o.rooms)&&void 0!==l?l:{});s<u.length;s++){var l,f,d=u[s],p=zn(d);try{for(p.s();!(f=p.n()).done;){var b=f.value;if(b===a.roomId)return!1}}catch(y){p.e(y)}finally{p.f()}}return!0})),Object(U["a"])(function(){var e=Qn(u.a.mark((function e(t){var n,a,o,i;return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=Zn(t,1),a=n[0],o=a.matrix,i=a.room,r.warn("Unknown room in matrix, leaving",i.roomId),e.abrupt("return",o.leave(i.roomId).catch((function(e){return r.error("Error leaving unknown room, ignoring",e)})));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Object(N["a"])())}function fr(e,t,n){ar(e);var r=n.log,a=n.matrix$;return a.pipe(Object(x["a"])((function(e){return Object(Dt["a"])(e,"Room.myMembership").pipe(Object(w["a"])((function(t){var n=Zn(t,2),r=n[0],a=n[1];return{room:r,membership:a,matrix:e}})))})),Object(j["a"])((function(e){var t=e.membership;return"leave"===t})),Object(E["a"])(t),Object(U["a"])(u.a.mark((function e(t){var n,a,o,i,c,s,l,f,d,p,b,y;return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=Zn(t,2),a=n[0].room,o=n[1].transport,i=0,c=Object.entries(null!==(s=o.rooms)&&void 0!==s?s:{});case 2:if(!(i<c.length)){e.next=26;break}l=Zn(c[i],2),f=l[0],d=l[1],p=zn(d),e.prev=5,p.s();case 7:if((b=p.n()).done){e.next=15;break}if(y=b.value,y!==a.roomId){e.next=13;break}return r.warn("Left event for peer room detected, forgetting",f,y),e.next=13,Object(Q["matrixRoomLeave"])({roomId:y},{address:f});case 13:e.next=7;break;case 15:e.next=20;break;case 17:e.prev=17,e.t0=e["catch"](5),p.e(e.t0);case 20:return e.prev=20,p.f(),e.finish(20);case 23:i++,e.next=2;break;case 26:case"end":return e.stop()}}),e,null,[[5,17,20,23]])}))))}function dr(e,t,n){ar(e);var r=n.log,a=n.matrix$,o=n.config$;return t.pipe(Object(X["b"])("transport","rooms"),Object(j["a"])(we["n"]),Object(U["a"])(u.a.mark((function e(t){var n,r,a,o,i,c,s,l;return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=0,r=Object.entries(t);case 1:if(!(n<r.length)){e.next=23;break}a=Zn(r[n],2),o=a[0],i=a[1],c=zn(i),e.prev=4,c.s();case 6:if((s=c.n()).done){e.next=12;break}return l=s.value,e.next=10,{roomId:l,address:o};case 10:e.next=6;break;case 12:e.next=17;break;case 14:e.prev=14,e.t0=e["catch"](4),c.e(e.t0);case 17:return e.prev=17,c.f(),e.finish(17);case 20:n++,e.next=1;break;case 23:case"end":return e.stop()}}),e,null,[[4,14,17,20]])}))),Object(Gn["a"])((function(e){var t=e.roomId;return t})),Object(U["a"])((function(e){var t=e.roomId,n=e.address;return a.pipe(Object(w["a"])((function(e){return{matrix:e,roomId:t,address:n}})))})),Object(E["a"])(o),Object(U["a"])((function(e){var t=Zn(e,2),n=t[0],a=n.roomId,o=n.address,i=n.matrix,c=t[1].httpTimeout;return Kt(i,a).pipe(Object(ht["a"])(c),Object(N["a"])(),Object(_["a"])((function(){return r.warn("Peer room in state not found in matrix, forgetting",o,a),Object(d["a"])(Object(Q["matrixRoomLeave"])({roomId:a},{address:o}))})))})))}function pr(e,t){return e.pipe(Object(j["a"])(Tt["messageReceived"].is),Object(E["a"])(t),Object(j["a"])((function(e){var t,n,r=Zn(e,2),a=r[0],o=r[1],i=null!==(t=null===(n=o.transport.rooms)||void 0===n?void 0:n[a.meta.address])&&void 0!==t?t:[];return!!a.payload.roomId&&i.includes(a.payload.roomId)&&i[0]!==a.payload.roomId})),Object(w["a"])((function(e){var t=Zn(e,1),n=t[0];return Object(Q["matrixRoom"])({roomId:n.payload.roomId},n.meta)})))}var br=n("03a8"),yr=n("1f17"),hr=n("5778");function mr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Or(e,t,n){return t&&vr(e.prototype,t),n&&vr(e,n),e}var jr=function(){function e(t){mr(this,e),this.values=new Map,this.max=t}return Or(e,[{key:"get",value:function(e){var t=this.values.get(e);return t&&(this.values.delete(e),this.values.set(e,t)),t}},{key:"put",value:function(e,t){if(this.values.size>=this.max){var n=this.values.keys().next().value;this.values.delete(n)}this.values.set(e,t)}}]),e}();function gr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gr(Object(n),!0).forEach((function(t){_r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kr(e,t){return Ar(e)||Sr(e,t)||Tr(e,t)||Er()}function Er(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Tr(e,t){if(e){if("string"===typeof e)return xr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xr(e,t):void 0}}function xr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Sr(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done);r=!0)if(n.push(i.value),t&&n.length===t)break}catch(s){a=!0,o=s}finally{try{r||null==c["return"]||c["return"]()}finally{if(a)throw o}}return n}}function Ar(e){if(Array.isArray(e))return e}function Nr(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function Pr(e){return"string"===typeof e?e:Object(Ee["d"])(e)}function Dr(e,t,n){Nr(t);var r=n.log,a=n.matrix$,o=n.config$,i=n.latest$;return e.pipe(Object(j["a"])(Object(Z["e"])(Tt["messageSend"].request)),Object(U["a"])((function(e){return a.pipe(Object(w["a"])((function(t){return{action:e,matrix:t}})))})),Object(U["a"])((function(e){var t=e.action,n=e.matrix,a={body:Pr(t.payload.message),msgtype:"m.text"};return Xt(t.meta.address,n,"m.room.message",a,{log:r,latest$:i,config$:o},!0).pipe(Object(w["a"])((function(e){return Tt["messageSend"].success({via:e},t.meta)})),Object(_["a"])((function(e){return r.error("messageSend error",e,t.meta),Object(d["a"])(Tt["messageSend"].failure(e,t.meta))})))})))}function Rr(e,t,n){Nr(t);var r=n.log,a=n.matrix$,o=n.config$;return e.pipe(Object(j["a"])(Object(Z["e"])(Tt["messageGlobalSend"])),Object(U["a"])((function(e){return a.pipe(Object(w["a"])((function(t){return{action:e,matrix:t}})))})),Object(E["a"])(o),Object(U["a"])((function(e){var t=kr(e,2),n=t[0],a=n.action,o=n.matrix,i=t[1],c=Vt(i);if(!c.includes(a.meta.roomName))return r.warn("messageGlobalSend for unknown global room, ignoring",a.meta.roomName,c),b["a"];var s=kt(o.getHomeserverUrl()),u="#".concat(a.meta.roomName,":").concat(s);return Kt(o,u).pipe(Object(U["a"])((function(e){return o.sendEvent(e.roomId,"m.room.message",{body:Pr(a.payload.message),msgtype:"m.text"},"")})),Object(X["e"])(St(i.pollingInterval,i.httpTimeout),(function(e,t){return![429,500].includes(null===e||void 0===e?void 0:e.httpStatus)||t>3})),Object(_["a"])((function(e){return r.error("Error sending message to global room",a.meta,a.payload.message,e),b["a"]})))})),Object(N["a"])())}function Ir(e){var t=kr(e,2),n=t[0],r=n.matrix,a=n.event,o=n.room,i=t[1],c="m.room.message"===a.getType()&&"m.text"===a.getContent().msgtype&&a.getSender()!==r.getUserId(),s=!!o&&!Vt(i).some((function(e){return qt("#".concat(e,":").concat(kt(r.getHomeserverUrl())),o)})),u=!o&&!!Object(Y["a"])(i.caps,G["a"].TO_DEVICE);return c&&(s||u)}function Cr(e,t,n){Nr(e),Nr(t);var r=n.log,a=n.matrix$,o=n.config$,i=n.latest$;return a.pipe(Object(x["a"])((function(e){return Object(m["a"])(Object(Dt["a"])(e,"Room.timeline").pipe(Object(w["a"])((function(t){var n=kr(t,2),r=n[0],a=n[1];return{matrix:e,event:r,room:a}}))),Object(Dt["a"])(e,"toDeviceEvent").pipe(Object(w["a"])((function(t){return{matrix:e,event:t,room:void 0}}))))})),Object(E["a"])(o),Object(j["a"])(Ir),Object(U["a"])((function(e){var t=kr(e,2),n=t[0],a=n.event,o=n.room,c=t[1].httpTimeout;return i.pipe(Object(j["a"])((function(e){var t,n,r=e.presences,i=e.state,c=Object(Y["b"])(r,a.getSender());if(!c)return!1;var s=null!==(t=null===(n=i.transport.rooms)||void 0===n?void 0:n[c.meta.address])&&void 0!==t?t:[];return!o||s.includes(o.roomId)})),Object(ie["a"])(1),Object(A["a"])(Object(y["a"])(c)),Object(U["a"])((function(e){var t,n=e.presences,i=Object(Y["b"])(n,a.getSender()),c=(null!==(t=a.getContent().body)&&void 0!==t?t:"").split("\n");return Object(br["a"])(c,yr["b"]).pipe(Object(w["a"])((function(e){var t=Yt(e,i.meta.address,{log:r});return Object(Tt["messageReceived"])(wr({text:e,message:t,ts:Date.now(),userId:i.payload.userId},o?{roomId:o.roomId}:{}),i.meta)})))})))})))}function Ur(e,t,n){Nr(t);var r=n.log,a=n.signer,o=n.latest$,i=new jr(32);return e.pipe(Object(j["a"])(Object(Ee["g"])([Object(we["h"])(hr["e"]),Object(we["h"])(hr["f"]),Object(we["h"])(hr["g"])])),Object(E["a"])(o),Object(j["a"])((function(e){var t=kr(e,2),n=t[0],r=t[1].presences;return n.meta.address in r&&!!Object(Y["a"])(r[n.meta.address].payload.caps,G["a"].DELIVERY)})),Object(fe["a"])((function(e){var t=kr(e,1),n=t[0],o=n.payload.message;return Object(l["a"])((function(){var e=o.message_identifier,t=e.toString(),c=i.get(t);if(c)return Object(d["a"])(Tt["messageSend"].request({message:c},{address:n.meta.address,msgId:t}));var s={type:hr["d"].DELIVERED,delivered_message_identifier:e};return r.info('Signing "'.concat(s.type,'" for "').concat(o.type,'" with id=').concat(e.toString())),Object(v["a"])(Object(Ee["h"])(a,s,{log:r})).pipe(Object(yt["a"])((function(e){return i.put(t,e)})),Object(w["a"])((function(e){return Tt["messageSend"].request({message:e},{address:n.meta.address,msgId:t})})))}))})))}var Lr,Mr,Br=n("04448"),Fr=n("6c2a");function Wr(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function Hr(e,t){return qr(e)||Vr(e,t)||Xr(e,t)||$r()}function $r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Vr(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done);r=!0)if(n.push(i.value),t&&n.length===t)break}catch(s){a=!0,o=s}finally{try{r||null==c["return"]||c["return"]()}finally{if(a)throw o}}return n}}function qr(e){if(Array.isArray(e))return e}function Kr(e){return Qr(e)||Yr(e)||Xr(e)||Gr()}function Gr(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Xr(e,t){if(e){if("string"===typeof e)return zr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?zr(e,t):void 0}}function Yr(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function Qr(e){if(Array.isArray(e))return zr(e)}function zr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Zr(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function Jr(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Zr(o,r,a,i,c,"next",e)}function c(e){Zr(o,r,a,i,c,"throw",e)}i(void 0)}))}}function ea(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}(function(e){e["offer"]="offer",e["answer"]="answer",e["candidates"]="candidates",e["hangup"]="hangup"})(Mr||(Mr={}));var ta=pt["p"](pt["j"]([pt["v"]({type:pt["l"](Mr.offer),sdp:pt["s"]}),pt["o"]({call_id:pt["s"]})])),na=pt["p"](pt["j"]([pt["v"]({type:pt["l"](Mr.answer),sdp:pt["s"]}),pt["o"]({call_id:pt["s"]})])),ra=pt["p"](pt["j"]([pt["v"]({type:pt["l"](Mr.candidates),candidates:pt["q"](pt["y"])}),pt["o"]({call_id:pt["s"]})])),aa=pt["p"](pt["j"]([pt["v"]({type:pt["l"](Mr.hangup)}),pt["o"]({call_id:pt["s"]})])),oa=(Lr={},ea(Lr,Mr.offer,ta),ea(Lr,Mr.answer,na),ea(Lr,Mr.candidates,ra),ea(Lr,Mr.hangup,aa),Lr),ia=new WeakMap;function ca(e){return sa.apply(this,arguments)}function sa(){return sa=Jr(u.a.mark((function e(t){var n,r,a,o;return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=ia.get(t),!(n&&Date.now()<n[0])){e.next=3;break}return e.abrupt("return",n[1]);case 3:return e.next=5,t.turnServer().catch((function(){}));case 5:return r=e.sent,a=Date.now()+36e5,o=[],r&&"uris"in r&&(o.push({urls:r.uris,username:r.username,credentialType:"password",credential:r.password}),a=Date.now()+1e3*r.ttl),ia.set(t,[a,o]),e.abrupt("return",o);case 11:case"end":return e.stop()}}),e)}))),sa.apply(this,arguments)}function ua(e,t,n,r){var a=r.caps;return Object(m["a"])(Object(Dt["a"])(e,"Room.timeline").pipe(Object(R["a"])(0)),Object(Y["a"])(a,G["a"].TO_DEVICE)?Object(Dt["a"])(e,"toDeviceEvent"):b["a"]).pipe(Object(j["a"])((function(e){var t;return"m.room.message"===e.getType()&&e.getSender()===n&&"m.notice"===(null===(t=e.getContent())||void 0===t?void 0:t.msgtype)})),Object(U["a"])((function(e){try{var n;return Object(d["a"])(Object(we["l"])(oa[t],Object(ke["b"])(null===(n=e.getContent())||void 0===n?void 0:n.body)))}catch(r){}return b["a"]})))}function la(e,t,n,r,a){var o=r.callId,i=r.peerId,c=r.peerAddress,s=a.log,u=a.config$;return u.pipe(Object(ee["a"])(),Object(U["a"])((function(r){return Object(m["a"])(Object(Dt["a"])(e,"icecandidate").pipe(Object(R["a"])("candidate"),Object(se["a"])((function(){return n})),Object(C["a"])(we["n"]),Object(Br["a"])(10),Object(j["a"])((function(e){return e.length>0})),Object(yt["a"])((function(e){return s.debug("RTC: got candidates",o,e)})),Object(U["a"])((function(e){var n={type:Mr.candidates,candidates:e,call_id:o};return Xt(c,t,"m.room.message",{msgtype:"m.notice",body:Object(ke["c"])(n)},a)}))),ua(t,Mr.candidates,i,r).pipe(Object(yt["a"])((function(e){return s.debug("RTC: received candidates",o,e.candidates)})),Object(U["a"])((function(e){var t;return Object(v["a"])(null!==(t=e.candidates)&&void 0!==t?t:[])})),Object(U["a"])((function(t){return Object(l["a"])((function(){return e.addIceCandidate(t)})).pipe(Object(_["a"])((function(n){return s.warn("RTC: error setting candidate, ignoring",o,e.connectionState,t,n),b["a"]})))}))))})),Object(N["a"])())}function fa(e,t,n,r,a){var o=n.callId,i=n.peerId,c=n.peerAddress;return Object(l["a"])((function(){return ca(e)})).pipe(Object(U["a"])((function(n){var s=new RTCPeerConnection({iceServers:[].concat(Kr(n),Kr(r.fallbackIceServers))}),f=s.createDataChannel(o,{ordered:!1});return Object(m["a"])(la(s,e,t,{callId:o,peerId:i,peerAddress:c},a),Object(l["a"])(Jr(u.a.mark((function e(){return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",s.createOffer());case 1:case"end":return e.stop()}}),e)})))).pipe(Object(U["a"])(function(){var e=Jr(u.a.mark((function e(t){return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s.setLocalDescription(t);case 2:return e.abrupt("return",t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Object(U["a"])((function(t){var n={type:t.type,sdp:t.sdp,call_id:o};return Object(m["a"])(ua(e,Mr.answer,i,r),Xt(c,e,"m.room.message",{msgtype:"m.notice",body:Object(ke["c"])(n)},a).pipe(Object(yt["a"])((function(e){return a.log.debug("RTC: sent invite",o,e)})),Object(N["a"])()))})),Object(ie["a"])(1),Object(yt["a"])((function(e){var t=e.call_id;a.log.info("RTC: got answer",o),t!==o&&a.log.warn("RTC: callId mismatch, continuing",{callId:o,peerCallId:t})})),Object(U["a"])(function(){var e=Jr(u.a.mark((function e(t){return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",s.setRemoteDescription(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Object(yt["a"])((function(){t.next(null),t.complete()})),Object(N["a"])()),Object(d["a"])([s,f]))})))}function da(e,t,n,r,a){var o=n.callId,i=n.peerId,c=n.peerAddress;return ua(e,Mr.offer,i,r).pipe(Object(yt["a"])((function(){return a.log.info("RTC: got invite",o)})),Object(U["a"])((function(t){return Object(v["a"])(ca(e)).pipe(Object(w["a"])((function(e){return[t,e]})))})),Object(U["a"])((function(n){var s=Hr(n,2),f=s[0],d=s[1];f.call_id!==o&&a.log.warn("RTC: callId mismatch, continuing",{callId:o,peerCallId:f.call_id});var p=new RTCPeerConnection({iceServers:[].concat(Kr(d),Kr(r.fallbackIceServers))});return Object(m["a"])(la(p,e,t,{callId:o,peerId:i,peerAddress:c},a),Object(l["a"])(Jr(u.a.mark((function e(){return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",p.setRemoteDescription(f));case 1:case"end":return e.stop()}}),e)})))).pipe(Object(U["a"])(Jr(u.a.mark((function e(){return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",p.createAnswer());case 1:case"end":return e.stop()}}),e)})))),Object(U["a"])(function(){var e=Jr(u.a.mark((function e(t){return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,p.setLocalDescription(t);case 2:return e.abrupt("return",t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Object(U["a"])((function(t){var n={type:t.type,sdp:t.sdp,call_id:o};return Xt(c,e,"m.room.message",{msgtype:"m.notice",body:Object(ke["c"])(n)},a)})),Object(yt["a"])((function(e){a.log.debug("RTC: sent answer",o,e),t.next(null),t.complete()})),Object(N["a"])()),Object(Dt["a"])(p,"datachannel").pipe(Object(w["a"])((function(e){var t=e.channel;return[p,t]}))))})),Object(ie["a"])(1))}var pa="RTC: peer hung up",ba="RTC: dataChannel closed",ya="ping",ha=["failed","closed","disconnected"];function ma(e,t,n){var r=t.callId,a=t.peerId,o=t.peerAddress,i=n.log;return function(t){return t.pipe(Object(U["a"])((function(t){var n=Hr(t,2),c=n[0],s=n[1];return Object(m["a"])(Object(Dt["a"])(c,"connectionstatechange").pipe(Object(T["a"])(null),Object(U["a"])((function(){return ha.includes(c.connectionState)?Object(O["a"])(new Error("RTC: connection failed")):b["a"]}))),Object(Dt["a"])(s,"close").pipe(Object(ue["a"])(Object(O["a"])(new Error(ba)))),Object(Dt["a"])(s,"error").pipe(Object(U["a"])((function(e){return Object(O["a"])(e.error)}))),Object(Dt["a"])(s,"open").pipe(Object(yt["a"])((function(){i.info("RTC: dataChannel open",r),s.send(ya)})),Object(X["g"])(e),Object(S["a"])(Object(Q["rtcChannel"])(s,{address:o}))),Object(Dt["a"])(s,"message").pipe(Object(Fr["b"])(yr["b"]),Object(yt["a"])((function(e){return i.debug("RTC: dataChannel message",r,e)})),Object(R["a"])("data"),Object(j["a"])((function(e){return"string"===typeof e})),Object(j["a"])((function(e){return e!==ya})),Object(U["a"])((function(e){return Object(v["a"])(e.split("\n"))})),Object(w["a"])((function(e){return Object(Tt["messageReceived"])({text:e,message:Yt(e,o,{log:i}),ts:Date.now(),userId:a},{address:o})})))).pipe(Object(J["a"])((function(){c.close()})))})))}}function va(e,t,n,r){var a=e.callId,o=e.peerAddress,i=n.httpTimeout,c=new oe["a"];return c.pipe(Object(j["a"])((function(e){return e})),Object(U["a"])((function(){var e={type:Mr.hangup,call_id:a};return Xt(o,t,"m.room.message",{msgtype:"m.notice",body:Object(ke["c"])(e)},r).pipe(Object(A["a"])(Object(y["a"])(i/10)))})),Object(A["a"])(r.latest$.pipe(Object(N["a"])(),Object(P["a"])(null)))).subscribe(),c}function Oa(e){return e.sort((function(e,t){return e.toLowerCase().localeCompare(t.toLowerCase())})).join("|")}function ja(e,t,n,r){if(!e.payload.available)return Object(d["a"])(Object(Q["rtcChannel"])(void 0,e.meta));var a=r.log,o=r.address,i=r.latest$,c=r.config$,s=Oa([o,e.meta.address]),u=s.startsWith(o),f=St(n.httpTimeout,2*n.httpTimeout,1.2);return Object(l["a"])((function(){var o,i={callId:s,peerId:e.payload.userId,peerAddress:e.meta.address},c=new oe["a"],l=va(i,t,n,r);o=u?fa(t,c,i,n,r):da(t,c,i,n,r);var d=f.next(),p=d.value;return p?Object(m["a"])(o,ua(t,Mr.hangup,i.peerId,n).pipe(Object(ue["a"])(Object(O["a"])(new Error(pa))))).pipe(ma(p,i,r),Object(A["a"])(l),Object(_["a"])((function(e){var t;return l.next(![pa,ba].includes(null===e||void 0===e?void 0:e.message)),l.complete(),a.info("Couldn't set up WebRTC dataChannel, retrying",s,null!==(t=null===e||void 0===e?void 0:e.message)&&void 0!==t?t:e),b["a"]})),Object(P["a"])(Object(Q["rtcChannel"])(void 0,{address:e.meta.address}))):b["a"]})).pipe(Object(qn["a"])((function(t){return t.pipe(Object(E["a"])(i,c),Object(U["a"])((function(t){var n,r=Hr(t,3),a=r[1].presences,o=r[2].pollingInterval;return null!==(n=a[e.meta.address])&&void 0!==n&&n.payload.available?u?Object(y["a"])(o):Object(d["a"])(null):b["a"]})))})))}function ga(e,t,n){return Wr(t),e.pipe(Object(j["a"])(Q["matrixPresence"].success.is),Object(le["a"])((function(e){return e.meta.address})),Object(U["a"])((function(e){var t=n.matrix$,r=n.config$;return e.pipe(Object(D["a"])((function(e,t){return e.payload.userId===t.payload.userId&&e.payload.available===t.payload.available&&!!Object(Y["a"])(e.payload.caps,G["a"].WEBRTC)===!!Object(Y["a"])(t.payload.caps,G["a"].WEBRTC)})),Object(E["a"])(t,r),Object(j["a"])((function(e){var t=Hr(e,3),n=t[0],r=t[2].caps;return!!Object(Y["a"])(n.payload.caps,G["a"].WEBRTC)&&!!Object(Y["a"])(r,G["a"].WEBRTC)})),Object(x["a"])((function(e){var t=Hr(e,3),r=t[0],a=t[1],o=t[2];return ja(r,a,o,n)})))})))}function wa(e,t){return xa(e)||Ta(e,t)||ka(e,t)||_a()}function _a(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ka(e,t){if(e){if("string"===typeof e)return Ea(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ea(e,t):void 0}}function Ea(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ta(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done);r=!0)if(n.push(i.value),t&&n.length===t)break}catch(s){a=!0,o=s}finally{try{r||null==c["return"]||c["return"]()}finally{if(a)throw o}}return n}}function xa(e){if(Array.isArray(e))return e}function Sa(e,t,n){var r=n.config$;return e.pipe(Object(j["a"])(Ae["newBlock"].is),Object(R["a"])("payload","blockNumber"),Object(E["a"])(t,r),Object(g["a"])((function(t){var n=wa(t,3),r=n[0],a=n[1].transfers,o=n[2].confirmationBlocks;return Object(v["a"])(Object.values(a).filter((function(e){return e.direction===xe["a"].SENT&&!e.unlock&&!e.expired&&!e.secretRegistered&&!e.channelClosed&&e.expiration<=r-2*o}))).pipe(Object(U["a"])((function(t){var n={secrethash:t.transfer.lock.secrethash,direction:xe["a"].SENT};return Object(m["a"])(At(e,Xn["transferExpire"].request(void 0,n),Object(Z["g"])(Xn["transferExpire"],n)),Object(d["a"])(Xn["transfer"].failure(new je["c"](je["b"].XFER_EXPIRED,{block:t.transfer.lock.expiration.toString()}),n)))})))})))}var Aa=n("c00b");function Na(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function Pa(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function Da(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Pa(o,r,a,i,c,"next",e)}function c(e){Pa(o,r,a,i,c,"throw",e)}i(void 0)}))}}function Ra(e,t){return Ua(e)||Ca(e,t)||Ba(e,t)||Ia()}function Ia(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ca(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done);r=!0)if(n.push(i.value),t&&n.length===t)break}catch(s){a=!0,o=s}finally{try{r||null==c["return"]||c["return"]()}finally{if(a)throw o}}return n}}function Ua(e){if(Array.isArray(e))return e}function La(e){return Wa(e)||Fa(e)||Ba(e)||Ma()}function Ma(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ba(e,t){if(e){if("string"===typeof e)return Ha(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ha(e,t):void 0}}function Fa(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function Wa(e){if(Array.isArray(e))return Ha(e)}function Ha(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function $a(e,t){var n=e.locks.filter((function(e){return e.secrethash!==t}));return Object(wt["a"])(n.length===e.locks.length-1,"invalid locks size"),n}function Va(e){return e.reduce((function(e,t){var n=t.amount;return e.add(n)}),L["f"])}function qa(e,t,n){var r=e.channels[Object(Ne["d"])(t)];return Object(wt["a"])((null===r||void 0===r?void 0:r.state)===Se["b"].open,"channel not open"),n&&(Object(wt["a"])(n.chain_id.eq(e.chainId),"chainId mismatch"),Object(wt["a"])(n.channel_identifier.eq(r.id),"channelId mismatch")),r}function Ka(e,t,n,r){var a,o=n.revealTimeout,i=n.confirmationBlocks,c=r.log,s=r.address,l=r.network,f=r.signer,d={routes:t.payload.paths.map((function(e){var t=e.path;return{route:t}}))},p=t.payload.paths[0].fee,b=t.payload.paths[0].path[0],y=t.payload.tokenNetwork,h=qa(e,{tokenNetwork:y,partner:b});Object(wt["a"])(!t.payload.expiration||t.payload.expiration>=e.blockNumber+o+i,"expiration too soon");var m=Aa["a"].from(t.payload.expiration||Math.min(e.blockNumber+2*o,e.blockNumber+h.settleTimeout-i));Object(wt["a"])(m.lte(e.blockNumber+h.settleTimeout),["expiration too far in the future",{expiration:m.toString(),blockNumber:e.blockNumber,settleTimeout:h.settleTimeout,revealTimeout:o}]);var O={amount:t.payload.value.add(p),expiration:m,secrethash:t.meta.secrethash},j=[].concat(La(h.own.locks),[O]),g=Va(j);Object(wt["a"])(Object(we["j"])(32).is(h.own.balanceProof.transferredAmount.add(g)),"overflow on future transferredAmount");var w=Object(Te["b"])(j);c.info("Signing transfer of value",t.payload.value.toString(),"of token",h.token,", to",t.payload.target,", through routes",t.payload.paths,", paying",p.toString(),"in fees.");var _={type:hr["d"].LOCKED_TRANSFER,message_identifier:Object(Te["e"])(),chain_id:Aa["a"].from(l.chainId),token_network_address:t.payload.tokenNetwork,channel_identifier:Aa["a"].from(h.id),nonce:h.own.nextNonce,transferred_amount:h.own.balanceProof.transferredAmount,locked_amount:g,locksroot:w,payment_identifier:t.payload.paymentId,token:h.token,recipient:b,lock:O,target:t.payload.target,initiator:null!==(a=t.payload.initiator)&&void 0!==a?a:s,metadata:d};return Object(v["a"])(Object(Ee["h"])(f,_,{log:c})).pipe(Object(U["a"])(u.a.mark((function e(n){return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(Xn["transferSigned"])({message:n,fee:p,partner:b},t.meta);case 2:if(!t.payload.secret){e.next=5;break}return e.next=5,Object(Xn["transferSecret"])({secret:t.payload.secret},t.meta);case 5:case"end":return e.stop()}}),e)}))))}function Ga(e,t,n){return Object(p["a"])([e,n.config$]).pipe(Object(ee["a"])(),Object(U["a"])((function(e){var r=Ra(e,2),a=r[0],o=r[1];return n.db.storageKeys.has(Object(Te["i"])(t.meta))?(n.log.warn("transfer already present",t.meta),b["a"]):Ka(a,t,o,n)})),Object(_["a"])((function(e){return Object(d["a"])(Xn["transfer"].failure(e,t.meta))})))}function Xa(e,t,n,r,a){var o,i=a.log,c=a.signer,s=n.meta.secrethash,u=r.transfer,l=u.token_network_address,f=r.partner,p=qa(t,{tokenNetwork:l,partner:f});if(r.unlock)o=Object(d["a"])(r.unlock);else{Object(wt["a"])(r.secret,"unknown secret"),Object(wt["a"])(p.own.locks.find((function(e){return e.secrethash===s})),"transfer already unlocked or expired"),Object(wt["a"])(r.secretRegistered||r.expiration>t.blockNumber,"lock expired");var b={type:hr["d"].UNLOCK,message_identifier:Object(Te["e"])(),chain_id:u.chain_id,token_network_address:u.token_network_address,channel_identifier:u.channel_identifier,nonce:p.own.nextNonce,transferred_amount:Object(we["l"])(Object(we["j"])(32),p.own.balanceProof.transferredAmount.add(u.lock.amount),"overflow on transferredAmount"),locked_amount:p.own.balanceProof.lockedAmount.sub(u.lock.amount),locksroot:Object(Te["b"])($a(p.own,s)),payment_identifier:u.payment_identifier,secret:r.secret};o=Object(v["a"])(Object(Ee["h"])(c,b,{log:i}))}return o.pipe(Object(E["a"])(e),Object(w["a"])((function(e){var t=Ra(e,2),r=t[0],a=t[1],o=a.transfers[Object(Te["i"])(n.meta)],i=qa(a,{tokenNetwork:l,partner:f});return Object(wt["a"])(o.expiration>a.blockNumber||o.secretRegistered||i.own.locks.find((function(e){return e.secrethash===s&&e.registered})),"lock expired"),Xn["transferUnlock"].success({message:r,partner:f},n.meta)})))}function Ya(e,t,n){var r=n.signer,a=n.log,o=n.db;return Object(l["a"])((function(){return Object(Te["d"])(e,o,t.meta)})).pipe(Object(E["a"])(e),Object(U["a"])((function(n){var o=Ra(n,2),i=o[0],c=o[1];return Xa(e,c,t,i,{log:a,signer:r})})),Object(_["a"])((function(e){return a.warn("Error trying to unlock after SecretReveal",e),Object(d["a"])(Xn["transferUnlock"].failure(e,t.meta))})))}function Qa(e,t,n,r){var a,o=r.signer,i=r.log,c=t.meta.secrethash,s=n.transfer,u=s.token_network_address,l=n.partner,f=qa(e,{tokenNetwork:u,partner:l});if(n.expired)a=Object(d["a"])(n.expired);else{Object(wt["a"])(s.lock.expiration.lt(e.blockNumber),"lock not yet expired"),Object(wt["a"])(f.own.locks.find((function(e){return e.secrethash===c}))&&!n.unlock,"transfer already unlocked or expired");var p=Object(Te["b"])($a(f.own,c)),b={type:hr["d"].LOCK_EXPIRED,message_identifier:Object(Te["e"])(),chain_id:s.chain_id,token_network_address:s.token_network_address,channel_identifier:s.channel_identifier,nonce:f.own.nextNonce,transferred_amount:f.own.balanceProof.transferredAmount,locked_amount:f.own.balanceProof.lockedAmount.sub(s.lock.amount),locksroot:p,recipient:l,secrethash:c};a=Object(v["a"])(Object(Ee["h"])(o,b,{log:i}))}return a.pipe(Object(w["a"])((function(e){return Xn["transferExpire"].success({message:e,partner:l},t.meta)})))}function za(e,t,n){var r=n.log,a=n.signer,o=n.db;return Object(l["a"])((function(){return Object(Te["d"])(e,o,t.meta)})).pipe(Object(E["a"])(e),Object(U["a"])((function(e){var n=Ra(e,2),o=n[0],i=n[1];return Qa(i,t,o,{signer:a,log:r})})),Object(_["a"])((function(e){return Object(d["a"])(Xn["transferExpire"].failure(e,t.meta))})))}function Za(e,t,n){var r=n.address,a=n.log,o=n.signer,i=n.config$,c=n.db,s=t.payload.message.lock.secrethash,f={secrethash:s,direction:xe["a"].RECEIVED};return Object(p["a"])([e,i]).pipe(Object(ee["a"])(),Object(U["a"])((function(e){var n=Ra(e,2),i=n[0],y=n[1],h=y.revealTimeout,m=y.caps,v=t.payload.message;if(c.storageKeys.has(Object(Te["i"])(f))){a.warn("transfer already present",f);var O=v.message_identifier,j=i.transfers[Object(Te["i"])(f)];return null!==j&&void 0!==j&&j.transferProcessed&&j.partner===t.meta.address&&O.eq(j.transfer.message_identifier)?Object(d["a"])(Object(Xn["transferProcessed"])({message:Object(we["q"])(j.transferProcessed)},f)):b["a"]}var g=v.token_network_address,w=t.meta.address,_=qa(i,{tokenNetwork:g,partner:w},v);Object(wt["a"])(v.nonce.eq(_.partner.nextNonce),["nonce mismatch",{expected:_.partner.nextNonce.toNumber(),received:v.nonce.toNumber()}]);var k=[].concat(La(_.partner.locks),[v.lock]),E=Object(Te["b"])(k);Object(wt["a"])(v.locksroot===E,"locksroot mismatch"),Object(wt["a"])(v.transferred_amount.eq(_.partner.balanceProof.transferredAmount),"transferredAmount mismatch");var T=Va(k);Object(wt["a"])(v.locked_amount.eq(T),"lockedAmount mismatch"),Object(wt["a"])(Object(we["j"])(32).is(_.partner.balanceProof.transferredAmount.add(T)),"overflow on future transferredAmount");var x=Object(Ne["c"])(_),S=x.partnerCapacity;Object(wt["a"])(v.lock.amount.lte(S),"balanceProof total amount bigger than capacity"),Object(wt["a"])(v.lock.expiration.lte(i.blockNumber+_.settleTimeout),["expiration too far in the future",{expiration:v.lock.expiration.toString(),blockNumber:i.blockNumber,settleTimeout:_.settleTimeout,revealTimeout:h}]),Object(wt["a"])(v.recipient===r,"Received transfer isn't for us"),a.info("Receiving transfer of value",v.lock.amount.toString(),"of token",_.token,", from",v.initiator,", through partner",w);var A,N=Object(d["a"])(void 0);v.target===r&&(Object(Y["a"])(m,G["a"].RECEIVE)?v.lock.expiration.sub(h).gt(i.blockNumber)||(A={reason:"lock expired or expires too soon",lockExpiration:v.lock.expiration.toString(),dangerZoneStart:v.lock.expiration.sub(h).toString()}):A={reason:"receiving disabled"},A?a.warn("Ignoring received transfer",A):N=Object(l["a"])(Da(u.a.mark((function e(){var t;return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={type:hr["d"].SECRET_REQUEST,payment_identifier:v.payment_identifier,secrethash:s,amount:v.lock.amount,expiration:v.lock.expiration,message_identifier:Object(Te["e"])()},e.abrupt("return",Object(Ee["h"])(o,t,{log:a}));case 2:case"end":return e.stop()}}),e)})))));var P=Object(l["a"])((function(){var e={type:hr["d"].PROCESSED,message_identifier:v.message_identifier};return Object(Ee["h"])(o,e,{log:a})}));return Object(p["a"])([P,N]).pipe(Object(U["a"])(u.a.mark((function e(t){var n,r,a;return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=Ra(t,2),r=n[0],a=n[1],e.next=3,Object(Xn["transferSigned"])({message:v,fee:L["f"],partner:w},f);case 3:return e.next=5,Object(Xn["transferProcessed"])({message:r},f);case 5:if(!a){e.next=10;break}return e.next=8,Q["matrixPresence"].request(void 0,{address:v.initiator});case 8:return e.next=10,Object(Xn["transferSecretRequest"])({message:a},f);case 10:case"end":return e.stop()}}),e)}))))})),Object(_["a"])((function(e){return Object(d["a"])(Xn["transfer"].failure(e,f))})))}function Ja(e,t,n){var r=n.log,a=n.signer,o=n.db,i=Object(Te["c"])(t.payload.message.secret),c={secrethash:i,direction:xe["a"].RECEIVED};return Object(l["a"])((function(){return Object(Te["d"])(e,o,c)})).pipe(Object(E["a"])(e),Object(U["a"])((function(e){var n=Ra(e,2),o=n[0],s=n[1];Object(wt["a"])(o,"unknown transfer");var l=t.payload.message,f=t.meta.address;if(Object(wt["a"])(f===o.partner,"wrong partner"),Object(wt["a"])(!o.expired,"already expired"),o.unlock)return r.warn("transfer already unlocked",t.meta),o.unlockProcessed&&l.message_identifier.eq(o.unlockProcessed.message_identifier)?Object(d["a"])(Object(Xn["transferUnlockProcessed"])({message:Object(we["q"])(o.unlockProcessed)},c)):b["a"];var p=o.transfer;Object(wt["a"])(l.token_network_address===p.token_network_address,"wrong tokenNetwork");var y=l.token_network_address,h=qa(s,{tokenNetwork:y,partner:f},l);Object(wt["a"])(l.nonce.eq(h.partner.nextNonce),["nonce mismatch",{expected:h.partner.nextNonce.toNumber(),received:l.nonce.toNumber()}]);var m=p.lock.amount,O=$a(h.partner,i);Object(wt["a"])(l.locksroot===Object(Te["b"])(O),"locksroot mismatch"),Object(wt["a"])(l.transferred_amount.eq(h.partner.balanceProof.transferredAmount.add(m)),"transferredAmount mismatch"),Object(wt["a"])(l.locked_amount.eq(Va(O)),"lockedAmount mismatch");var j={type:hr["d"].PROCESSED,message_identifier:l.message_identifier};return Object(v["a"])(Object(Ee["h"])(a,j,{log:r})).pipe(Object(U["a"])(u.a.mark((function e(t){return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(o.secret){e.next=3;break}return e.next=3,Object(Xn["transferSecret"])({secret:l.secret},c);case 3:return e.next=5,Xn["transferUnlock"].success({message:l,partner:f},c);case 5:return e.next=7,Object(Xn["transferUnlockProcessed"])({message:t},c);case 7:return e.next=9,Xn["transfer"].success({balanceProof:Object(Ee["e"])(l)},c);case 9:case"end":return e.stop()}}),e)}))))})),Object(_["a"])((function(e){return r.warn("Error trying to process received Unlock",e),Object(d["a"])(Xn["transferUnlock"].failure(e,c))})))}function eo(e,t,n){var r=n.log,a=n.signer,o=n.config$,i=n.db,c=t.payload.message.secrethash,s={secrethash:c,direction:xe["a"].RECEIVED};return Object(l["a"])((function(){return Object(Te["d"])(e,i,s)})).pipe(Object(E["a"])(e,o),Object(U["a"])((function(e){var n=Ra(e,3),o=n[0],i=n[1],l=n[2].confirmationBlocks,f=t.payload.message,p=t.meta.address;if(Object(wt["a"])(p===o.partner,"wrong partner"),Object(wt["a"])(!o.unlock,"transfer unlocked"),o.expired)return r.warn("transfer already expired",t.meta),o.expiredProcessed&&f.message_identifier.eq(o.expiredProcessed.message_identifier)?Object(d["a"])(Object(Xn["transferExpireProcessed"])({message:Object(we["q"])(o.expiredProcessed)},s)):b["a"];var y=o.transfer;Object(wt["a"])(y.lock.expiration.add(l).lte(i.blockNumber),"expiration block not confirmed yet"),Object(wt["a"])(!o.secretRegistered,"secret registered onchain"),Object(wt["a"])(f.token_network_address===y.token_network_address,"wrong tokenNetwork");var h=f.token_network_address,m=qa(i,{tokenNetwork:h,partner:p},f);Object(wt["a"])(f.nonce.eq(m.partner.nextNonce),["nonce mismatch",{expected:m.partner.nextNonce.toNumber(),received:f.nonce.toNumber()}]);var O=$a(m.partner,c);Object(wt["a"])(f.locksroot===Object(Te["b"])(O),"locksroot mismatch"),Object(wt["a"])(f.locked_amount.eq(Va(O)),"lockedAmount mismatch"),Object(wt["a"])(f.transferred_amount.eq(m.partner.balanceProof.transferredAmount),"transferredAmount mismatch");var j={type:hr["d"].PROCESSED,message_identifier:f.message_identifier};return Object(v["a"])(Object(Ee["h"])(a,j,{log:r})).pipe(Object(U["a"])(u.a.mark((function e(t){return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Xn["transferExpire"].success({message:f,partner:p},s);case 2:return e.next=4,Object(Xn["transferExpireProcessed"])({message:t},s);case 4:return e.next=6,Xn["transfer"].failure(new je["c"](je["b"].XFER_EXPIRED,{block:y.lock.expiration.toString()}),s);case 6:case"end":return e.stop()}}),e)}))))})),Object(_["a"])((function(e){return r.warn("Error trying to process received LockExpired",e),Object(d["a"])(Xn["transferExpire"].failure(e,s))})))}function to(e,t,n){var r=n.log,a=n.address,o=n.signer,i=n.network,c=n.config$,s=n.latest$;return t.meta.direction!==xe["a"].SENT?b["a"]:Object(p["a"])([e,c,s]).pipe(Object(ee["a"])(),Object(U["a"])((function(e){var n,c=Ra(e,3),s=c[0],u=c[1].revealTimeout,l=c[2].presences,f=qa(s,t.meta);if(f.own.pendingWithdraws.some(Pt(hr["d"].WITHDRAW_REQUEST,t.meta)))return b["a"];Object(wt["a"])(null===(n=l[t.meta.partner])||void 0===n?void 0:n.payload.available,je["b"].CNL_WITHDRAW_PARTNER_OFFLINE),Object(wt["a"])(t.meta.expiration>=s.blockNumber+u,je["b"].CNL_WITHDRAW_EXPIRES_SOON),Object(wt["a"])(t.meta.totalWithdraw.gt(f.own.withdraw),je["b"].CNL_WITHDRAW_AMOUNT_TOO_LOW),Object(wt["a"])(t.meta.totalWithdraw.lte(Object(Ne["c"])(f).ownTotalWithdrawable),je["b"].CNL_WITHDRAW_AMOUNT_TOO_HIGH);var d={type:hr["d"].WITHDRAW_REQUEST,message_identifier:Object(Te["e"])(),chain_id:Aa["a"].from(i.chainId),token_network_address:t.meta.tokenNetwork,channel_identifier:Aa["a"].from(f.id),participant:a,total_withdraw:t.meta.totalWithdraw,nonce:f.own.nextNonce,expiration:Aa["a"].from(t.meta.expiration)};return Object(v["a"])(Object(Ee["h"])(o,d,{log:r})).pipe(Object(w["a"])((function(e){return Xn["withdrawMessage"].request({message:e},t.meta)})))})),Object(_["a"])((function(e){return Object(d["a"])(Xn["withdraw"].failure(e,t.meta))})))}function no(e,t,n){var r=n.address,a=t.payload.message,o=a.token_network_address,i=t.meta.address,c={direction:xe["a"].SENT,tokenNetwork:o,partner:i,totalWithdraw:a.total_withdraw,expiration:a.expiration.toNumber()};return e.pipe(Object(ee["a"])(),Object(w["a"])((function(e){return qa(e,{tokenNetwork:o,partner:i},a),Object(wt["a"])(a.participant===r,"participant mismatch"),Xn["withdrawMessage"].success({message:a},c)})),Object(_["a"])((function(e){return Object(d["a"])(Xn["withdrawMessage"].failure(e,c))})))}function ro(e,t,n){var r=n.log,a=n.address,o=n.signer,i=n.config$;return t.meta.direction!==xe["a"].SENT?b["a"]:Object(p["a"])([e,i]).pipe(Object(ee["a"])(),Object(U["a"])((function(e){var n=Ra(e,2),i=n[0],c=n[1].confirmationBlocks,s=qa(i,t.meta);Object(wt["a"])(!s.own.pendingWithdraws.some(Pt(hr["d"].WITHDRAW_EXPIRED,t.meta)),"already expired");var l=s.own.pendingWithdraws.find(Pt(hr["d"].WITHDRAW_REQUEST,t.meta));Object(wt["a"])(l,"no matching WithdrawRequest found, maybe already confirmed"),Object(wt["a"])(i.blockNumber>=t.meta.expiration+c,"not yet expired");var f={type:hr["d"].WITHDRAW_EXPIRED,message_identifier:Object(Te["e"])(),chain_id:l.chain_id,token_network_address:l.token_network_address,channel_identifier:l.channel_identifier,participant:a,total_withdraw:t.meta.totalWithdraw,nonce:s.own.nextNonce,expiration:l.expiration};return Object(v["a"])(Object(Ee["h"])(o,f,{log:r})).pipe(Object(U["a"])(u.a.mark((function e(n){return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Xn["withdrawExpire"].success({message:n},t.meta);case 2:return e.next=4,Xn["withdraw"].failure(new je["c"](je["b"].CNL_WITHDRAW_EXPIRED),t.meta);case 4:case"end":return e.stop()}}),e)}))))})),Object(_["a"])((function(e){return Object(d["a"])(Xn["withdrawExpire"].failure(e,t.meta))})))}function ao(e,t,n){var r=n.signer,a=n.log,o=t.payload.message,i=o.token_network_address,c=o.participant,s={direction:xe["a"].RECEIVED,tokenNetwork:i,partner:c,totalWithdraw:o.total_withdraw,expiration:o.expiration.toNumber()};return e.pipe(Object(ee["a"])(),Object(U["a"])((function(e){Object(wt["a"])(o.participant===t.meta.address,"participant mismatch");var n,l=qa(e,{tokenNetwork:i,partner:c},o),f=l.partner.pendingWithdraws.find(Pt(hr["d"].WITHDRAW_CONFIRMATION,o));if(f)n=Object(d["a"])(f);else{Object(wt["a"])(o.nonce.eq(l.partner.nextNonce),["nonce mismatch",{expected:l.partner.nextNonce.toNumber(),received:o.nonce.toNumber()}]),Object(wt["a"])(o.total_withdraw.lte(Object(Ne["c"])(l).partnerTotalWithdrawable),"invalid total_withdraw");var p={type:hr["d"].WITHDRAW_CONFIRMATION,message_identifier:o.message_identifier,chain_id:o.chain_id,token_network_address:o.token_network_address,channel_identifier:o.channel_identifier,participant:o.participant,total_withdraw:o.total_withdraw,nonce:l.own.nextNonce,expiration:o.expiration};n=Object(v["a"])(Object(Ee["h"])(r,p,{log:a}))}return n.pipe(Object(U["a"])(u.a.mark((function e(n){return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Xn["withdrawMessage"].request({message:o},s);case 2:return e.next=4,Xn["withdrawMessage"].success({message:n},s);case 4:return e.next=6,Tt["messageSend"].request({message:n},{address:c,msgId:t.payload.message.message_identifier.toString()});case 6:case"end":return e.stop()}}),e)}))))})),Object(_["a"])((function(e){return Object(d["a"])(Xn["withdrawMessage"].failure(e,s))})))}function oo(e,t,n,r){var a=n.signer,o=n.log,i=n.config$,c=t.payload.message,s=c.token_network_address,l=c.participant,f={direction:xe["a"].RECEIVED,tokenNetwork:s,partner:l,totalWithdraw:c.total_withdraw,expiration:c.expiration.toNumber()};return Object(p["a"])([e,i]).pipe(Object(ee["a"])(),Object(U["a"])((function(e){var n=Ra(e,2),i=n[0],p=n[1].confirmationBlocks;Object(wt["a"])(l===t.meta.address,"participant mismatch");var b,y=qa(i,{tokenNetwork:s,partner:l},c),h="".concat(Object(Ne["e"])(y),"+").concat(c.message_identifier.toString()),m=r.get(h);if(m)b=Object(d["a"])(m);else{Object(wt["a"])(c.nonce.eq(y.partner.nextNonce),["nonce mismatch",{expected:y.partner.nextNonce.toNumber(),received:c.nonce.toNumber()}]),Object(wt["a"])(i.blockNumber>=f.expiration+p,"expire block not confirmed yet");var O={type:hr["d"].PROCESSED,message_identifier:c.message_identifier};b=Object(v["a"])(Object(Ee["h"])(a,O,{log:o})).pipe(Object(yt["a"])((function(e){return r.put(h,e)})))}return b.pipe(Object(U["a"])(u.a.mark((function e(t){return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Xn["withdrawExpire"].success({message:c},f);case 2:return e.next=4,Object(Xn["withdrawCompleted"])(void 0,f);case 4:return e.next=6,Tt["messageSend"].request({message:t},{address:l,msgId:t.message_identifier.toString()});case 6:case"end":return e.stop()}}),e)}))))})),Object(_["a"])((function(e){return Object(d["a"])(Xn["withdrawExpire"].failure(e,f))})))}function io(e,t,n){Na(t);var r=new jr(32),a=n.latest$.pipe(Object(X["b"])("state"));return Object(m["a"])(e.pipe(Object(j["a"])(Object(Z["e"])([Xn["transfer"].request,Xn["transferUnlock"].request,Xn["transferExpire"].request,Xn["withdraw"].request,Xn["withdrawExpire"].request]))),e.pipe(Object(j["a"])(Object(Ee["g"])([Object(we["h"])(hr["b"]),Object(we["h"])(hr["h"]),Object(we["h"])(hr["a"]),Object(we["h"])(hr["k"]),Object(we["h"])(hr["i"]),Object(we["h"])(hr["j"])])))).pipe(Object(fe["a"])((function(e){var t;switch(e.type){case Xn["transfer"].request.type:t=Ga(a,e,n);break;case Xn["transferUnlock"].request.type:t=Ya(a,e,n);break;case Xn["transferExpire"].request.type:t=za(a,e,n);break;case Xn["withdraw"].request.type:t=to(a,e,n);break;case Xn["withdrawExpire"].request.type:t=ro(a,e,n);break;case Tt["messageReceived"].type:switch(e.payload.message.type){case hr["d"].LOCKED_TRANSFER:t=Za(a,e,n);break;case hr["d"].UNLOCK:t=Ja(a,e,n);break;case hr["d"].LOCK_EXPIRED:t=eo(a,e,n);break;case hr["d"].WITHDRAW_REQUEST:t=ao(a,e,n);break;case hr["d"].WITHDRAW_CONFIRMATION:t=no(a,e,n);break;case hr["d"].WITHDRAW_EXPIRED:t=oo(a,e,n,r);break}break}return t})))}var co=n("8480"),so=n("43a7"),uo=n("ee9f"),lo=n.n(uo);function fo(e,t){return mo(e)||ho(e,t)||bo(e,t)||po()}function po(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function bo(e,t){if(e){if("string"===typeof e)return yo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?yo(e,t):void 0}}function yo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ho(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done);r=!0)if(n.push(i.value),t&&n.length===t)break}catch(s){a=!0,o=s}finally{try{r||null==c["return"]||c["return"]()}finally{if(a)throw o}}return n}}function mo(e){if(Array.isArray(e))return e}function vo(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function Oo(e,t){return vo(e),t.pipe(Object(ee["a"])(),Object(U["a"])((function(e){var t=e.transfers;return Object(v["a"])(Object.values(t).filter((function(e){return e.direction===xe["a"].SENT&&!e.unlockProcessed&&!e.expiredProcessed&&!e.secretRegistered&&!e.channelClosed})))})),Object(U["a"])(u.a.mark((function e(t){var n;return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={secrethash:t.transfer.lock.secrethash,direction:xe["a"].SENT},e.next=3,Q["matrixPresence"].request(void 0,{address:t.transfer.target});case 3:if(t.transferProcessed){e.next=6;break}return e.next=6,Object(Xn["transferSigned"])({message:Object(we["q"])(t.transfer),fee:t.fee,partner:t.partner},n);case 6:if(!t.unlock){e.next=9;break}return e.next=9,Xn["transferUnlock"].success({message:Object(we["q"])(t.unlock),partner:t.partner},n);case 9:if(!t.expired){e.next=12;break}return e.next=12,Xn["transferExpire"].success({message:Object(we["q"])(t.expired),partner:t.partner},n);case 12:case"end":return e.stop()}}),e)}))))}function jo(e,t,n){vo(e);var r=n.config$;return t.pipe(Object(ee["a"])(),Object(U["a"])((function(e){var t=e.transfers;return Object(v["a"])(Object.values(t).filter((function(e){return e.direction===xe["a"].RECEIVED&&!e.unlock&&!e.expired&&!e.secretRegistered&&!e.channelClosed})))})),Object(U["a"])((function(e){var t=e.transfer.lock.secrethash,n={secrethash:t,direction:xe["a"].RECEIVED};return Object(m["a"])(Object(d["a"])(Object(Xn["transferSigned"])({message:Object(we["q"])(e.transfer),fee:e.fee,partner:e.partner},n)),e.secret&&!e.secretReveal?Object(d["a"])(Object(Xn["transferSecret"])({secret:e.secret},n)):b["a"],e.secretReveal?Object(d["a"])(Object(Xn["transferSecretReveal"])({message:Object(we["q"])(e.secretReveal)},n)):b["a"],!e.secret&&e.secretRequest?r.pipe(Object(R["a"])("caps"),Object(j["a"])((function(e){return!!Object(Y["a"])(e,G["a"].RECEIVE)})),Object(ie["a"])(1),Object(ue["a"])(Object(d["a"])(Q["matrixPresence"].request(void 0,{address:e.transfer.initiator}),Object(Xn["transferSecretRequest"])({message:Object(we["q"])(e.secretRequest)},n)))):b["a"])})))}function go(e){var t,n;return"meta"in e&&(null===(t=e.meta)||void 0===t?void 0:t.secrethash)&&(null===(n=e.meta)||void 0===n?void 0:n.direction)}function wo(e,t,n){var r=n.config$;return t.pipe(Object(X["b"])("transfers"),Object(X["a"])(),Object(le["a"])((function(e){var t=fo(e,1),n=t[0];return n}),co["a"],(function(e){return t.pipe(Object(j["a"])((function(t){var n=t.transfers;return!(e.key in n)})))})),Object(E["a"])(r),Object(U["a"])((function(n){var r=fo(n,2),a=r[0],o=r[1].httpTimeout;return a.pipe(Object(j["a"])((function(e){var t=fo(e,2),n=t[1];return!!(n.unlockProcessed||n.expiredProcessed||n.channelSettled)})),Object(ie["a"])(1),Object(U["a"])((function(t){var n=fo(t,2),r=n[1];return e.pipe(Object(j["a"])(go),Object(j["a"])((function(e){return Object(Te["i"])(e.meta)===a.key})),Object(T["a"])({meta:lo()(["secrethash","direction"],r)}))})),Object(so["a"])(3*o),Object(w["a"])((function(e){var t=e.meta;return Object(Xn["transferClear"])(void 0,t)})),Object(A["a"])(t.pipe(Object(j["a"])((function(e){var t=e.transfers;return!(a.key in t)})))))})))}function _o(e,t){return So(e)||xo(e,t)||Eo(e,t)||ko()}function ko(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Eo(e,t){if(e){if("string"===typeof e)return To(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?To(e,t):void 0}}function To(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xo(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done);r=!0)if(n.push(i.value),t&&n.length===t)break}catch(s){a=!0,o=s}finally{try{r||null==c["return"]||c["return"]()}finally{if(a)throw o}}return n}}function So(e){if(Array.isArray(e))return e}function Ao(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function No(e,t,n){var r=n.caps,a=Object(Y["a"])(r,G["a"].MEDIATE),o=e.meta.direction===xe["a"].RECEIVED&&e.payload.message.target!==t;return!!a&&o}function Po(e,t,n){Ao(t);var r=n.address,a=n.config$;return e.pipe(Object(j["a"])(Xn["transferSigned"].is),Object(E["a"])(a),Object(j["a"])((function(e){var t=_o(e,2),n=t[0],a=t[1];return No(n,r,a)})),Object(w["a"])((function(e){var t=_o(e,1),n=t[0],r=n.payload.message,a=n.meta.secrethash;return Xn["transfer"].request({tokenNetwork:r.token_network_address,target:r.target,value:r.lock.amount,paymentId:r.payment_identifier,paths:r.metadata.routes.map((function(e){var t=e.route;return{path:t.slice(1),fee:L["f"]}})),expiration:r.lock.expiration.toNumber(),initiator:r.initiator},{secrethash:a,direction:xe["a"].SENT})})))}function Do(e,t){return Lo(e)||Uo(e,t)||Io(e,t)||Ro()}function Ro(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Io(e,t){if(e){if("string"===typeof e)return Co(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Co(e,t):void 0}}function Co(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Uo(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done);r=!0)if(n.push(i.value),t&&n.length===t)break}catch(s){a=!0,o=s}finally{try{r||null==c["return"]||c["return"]()}finally{if(a)throw o}}return n}}function Lo(e){if(Array.isArray(e))return e}function Mo(e,t){return e.pipe(Object(j["a"])(Object(Ee["g"])(Object(we["h"])(hr["e"]))),Object(E["a"])(t),Object(U["a"])(u.a.mark((function e(t){var n,r,a,o,i,c,s,l,f,d,p;return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=Do(t,2),r=n[0],a=n[1].transfers,o=0,i=Object.values(a);case 2:if(!(o<i.length)){e.next=25;break}if(d=i[o],d.direction===xe["a"].SENT&&d.partner===r.meta.address){e.next=6;break}return e.abrupt("continue",22);case 6:if(p={secrethash:d.secrethash,direction:xe["a"].SENT},!r.payload.message.message_identifier.eq(d.transfer.message_identifier)){e.next=12;break}return e.next=10,Object(Xn["transferProcessed"])({message:r.payload.message},p);case 10:e.next=22;break;case 12:if(!r.payload.message.message_identifier.eq(null!==(c=null===(s=d.unlock)||void 0===s?void 0:s.message_identifier)&&void 0!==c?c:-1)){e.next=19;break}return e.next=15,Xn["transfer"].success({balanceProof:Object(Ee["e"])(d.unlock)},p);case 15:return e.next=17,Object(Xn["transferUnlockProcessed"])({message:r.payload.message},p);case 17:e.next=22;break;case 19:if(!r.payload.message.message_identifier.eq(null!==(l=null===(f=d.expired)||void 0===f?void 0:f.message_identifier)&&void 0!==l?l:-1)){e.next=22;break}return e.next=22,Object(Xn["transferExpireProcessed"])({message:r.payload.message},p);case 22:o++,e.next=2;break;case 25:case"end":return e.stop()}}),e)}))))}function Bo(e,t,n){var r=n.db;return e.pipe(Object(j["a"])(Object(Z["e"])([Xn["transferProcessed"],Xn["transferUnlockProcessed"],Xn["transferExpireProcessed"]])),Object(j["a"])((function(e){return e.meta.direction===xe["a"].RECEIVED})),Object(E["a"])(t),Object(U["a"])((function(e){var t=Do(e,2),n=t[0],a=t[1];return Object(Te["d"])(a,r,n.meta).then((function(e){return[n,e]}))})),Object(w["a"])((function(e){var t=Do(e,2),n=t[0],r=t[1];return Tt["messageSend"].request({message:n.payload.message},{address:r.partner,msgId:n.payload.message.message_identifier.toString()})})))}function Fo(e,t){return qo(e)||Vo(e,t)||Ho(e,t)||Wo()}function Wo(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ho(e,t){if(e){if("string"===typeof e)return $o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$o(e,t):void 0}}function $o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Vo(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done);r=!0)if(n.push(i.value),t&&n.length===t)break}catch(s){a=!0,o=s}finally{try{r||null==c["return"]||c["return"]()}finally{if(a)throw o}}return n}}function qo(e){if(Array.isArray(e))return e}function Ko(e,t,n){var r=n.config$;return e.pipe(Object(j["a"])(Object(Z["e"])([Xn["transferSigned"],Xn["transferUnlock"].success,Xn["transferExpire"].success,Xn["transferSecretRequest"],Xn["transferSecretReveal"]])),Object(E["a"])(t,r),Object(U["a"])((function(n){var r,a,o=Fo(n,3),i=o[0],c=o[1],s=o[2],u=s.pollingInterval,l=s.httpTimeout,f=s.revealTimeout,d=c.transfers[Object(Te["i"])(i.meta)],y=t.pipe(Object(X["b"])("transfers",Object(Te["i"])(i.meta)));switch(i.type){case Xn["transferSigned"].type:i.meta.direction===xe["a"].SENT&&(r=i.payload.partner,a=y.pipe(Object(j["a"])((function(e){return!!(e.transferProcessed||e.unlockProcessed||e.expiredProcessed||e.channelClosed)}))));break;case Xn["transferUnlock"].success.type:i.meta.direction===xe["a"].SENT&&(r=i.payload.partner,a=y.pipe(Object(j["a"])((function(e){return!(!e.unlockProcessed&&!e.channelClosed)}))));break;case Xn["transferExpire"].success.type:i.meta.direction===xe["a"].SENT&&(r=i.payload.partner,a=y.pipe(Object(j["a"])((function(e){return!(!e.expiredProcessed&&!e.channelClosed)}))));break;case Xn["transferSecretRequest"].type:i.meta.direction===xe["a"].RECEIVED&&d&&(r=d.transfer.initiator,a=Object(p["a"])([t,y]).pipe(Object(j["a"])((function(e){var t=Fo(e,2),n=t[0].blockNumber,r=t[1];return!(!r.secretReveal&&!r.channelClosed)||n>r.expiration-f}))));break;case Xn["transferSecretReveal"].type:i.meta.direction===xe["a"].RECEIVED&&d&&(r=d.partner,a=y.pipe(Object(j["a"])((function(e){return!(!e.unlock&&!e.channelClosed)}))));break}return r&&a?Nt(Tt["messageSend"].request({message:i.payload.message},{address:r,msgId:i.payload.message.message_identifier.toString()}),e,a,St(u,2*l)):b["a"]})))}function Go(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=zo(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function Xo(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function Yo(e,t){return ei(e)||Jo(e,t)||zo(e,t)||Qo()}function Qo(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function zo(e,t){if(e){if("string"===typeof e)return Zo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Zo(e,t):void 0}}function Zo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Jo(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done);r=!0)if(n.push(i.value),t&&n.length===t)break}catch(s){a=!0,o=s}finally{try{r||null==c["return"]||c["return"]()}finally{if(a)throw o}}return n}}function ei(e){if(Array.isArray(e))return e}function ti(e,t,n){var r=n.address,a=n.log;return e.pipe(Object(j["a"])(Object(Ee["g"])(Object(we["h"])(hr["f"]))),Object(E["a"])(t),Object(U["a"])(u.a.mark((function e(t){var n,o,i,c,s,l;return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=Yo(t,2),o=n[0],i=n[1],c=o.payload.message,s=Object(Te["i"])({secrethash:c.secrethash,direction:xe["a"].SENT}),s in i.transfers){e.next=5;break}return e.abrupt("return");case 5:if(l=i.transfers[s].transfer,l.initiator===r&&l.target===o.meta.address&&l.payment_identifier.eq(c.payment_identifier)){e.next=9;break}return a.warn("Invalid SecretRequest for transfer",c,l),e.abrupt("return");case 9:return e.next=11,Object(Xn["transferSecretRequest"])({message:c},{secrethash:c.secrethash,direction:xe["a"].SENT});case 11:case"end":return e.stop()}}),e)}))))}var ni=function(e,t){var n=t.signer,r=t.log,a=t.latest$,o=e.payload.message;return a.pipe(Object(ee["a"])(),Object(U["a"])((function(t){var a=t.state,i=a.transfers[Object(Te["i"])(e.meta)];Object(je["d"])(i.secret,"SecretRequest for unknown secret");var c,s=i.transfer,l=s.target,f=i.fee,p=s.lock.amount.sub(f);if(Object(je["d"])(o.expiration.lte(s.lock.expiration)&&o.expiration.gt(a.blockNumber),"SecretRequest for expired transfer"),Object(je["d"])(o.amount.gte(p),"SecretRequest for amount too small!"),o.amount.eq(p)||r.info("Accepted SecretRequest for amount different than sent",o,s),i.secretReveal)c=Object(d["a"])(i.secretReveal);else{var b={type:hr["d"].SECRET_REVEAL,message_identifier:Object(Te["e"])(),secret:i.secret};c=Object(v["a"])(Object(Ee["h"])(n,b,{log:r}))}return c.pipe(Object(U["a"])(u.a.mark((function t(n){return u.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(Xn["transferSecretReveal"])({message:n},e.meta);case 2:return t.next=4,Tt["messageSend"].request({message:n},{address:l,msgId:n.message_identifier.toString()});case 4:case"end":return t.stop()}}),t)}))))})),Object(_["a"])((function(t){return r.error("Invalid SecretRequest",t),Object(d["a"])(Xn["transfer"].failure(new je["c"](je["b"].XFER_INVALID_SECRETREQUEST),e.meta))})))};function ri(e,t,n){return Xo(t),e.pipe(Object(j["a"])(Object(Z["e"])(Xn["transferSecretRequest"])),Object(j["a"])((function(e){return e.meta.direction===xe["a"].SENT})),Object(fe["a"])((function(e){return ni(e,n)})))}function ai(e,t,n){var r=n.config$;return e.pipe(Object(j["a"])(Object(Ee["g"])(hr["g"])),Object(E["a"])(t),Object(U["a"])(u.a.mark((function e(t){var n,r,a,o,i,c,s,l,f,d,p,b;return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=Yo(t,2),r=n[0],a=n[1],o=Object(Te["c"])(r.payload.message.secret),i=Object.values(xe["a"]).map((function(e){return a.transfers[Object(Te["i"])({secrethash:o,direction:e})]})).filter(we["n"]),c=r.payload.message,s=Go(i.filter((function(e){return e.direction===xe["a"].SENT}))),e.prev=5,s.s();case 7:if((l=s.n()).done){e.next=17;break}return f=l.value,d={secrethash:o,direction:xe["a"].SENT},e.next=12,Object(Xn["transferSecret"])({secret:c.secret},d);case 12:if(r.meta.address!==f.partner||f.channelClosed){e.next=15;break}return e.next=15,Xn["transferUnlock"].request(void 0,d);case 15:e.next=7;break;case 17:e.next=22;break;case 19:e.prev=19,e.t0=e["catch"](5),s.e(e.t0);case 22:return e.prev=22,s.f(),e.finish(22);case 25:p=Go(i.filter((function(e){return e.direction===xe["a"].RECEIVED}))),e.prev=26,p.s();case 28:if((b=p.n()).done){e.next=34;break}return b.value,e.next=32,Object(Xn["transferSecret"])({secret:c.secret},{secrethash:o,direction:xe["a"].RECEIVED});case 32:e.next=28;break;case 34:e.next=39;break;case 36:e.prev=36,e.t1=e["catch"](26),p.e(e.t1);case 39:return e.prev=39,p.f(),e.finish(39);case 42:case"end":return e.stop()}}),e,null,[[5,19,22,25],[26,36,39,42]])}))),Object(X["f"])(r.pipe(Object(w["a"])((function(e){var t=e.caps;return Object(Y["a"])(t,G["a"].RECEIVE)})))))}function oi(e,t,n){Xo(t);var r=n.log,a=n.signer,o=n.latest$;return e.pipe(Object(j["a"])(Object(Z["e"])([Xn["transferSecret"],Xn["transferSecretRegister"].success])),Object(j["a"])((function(e){return e.meta.direction===xe["a"].RECEIVED})),Object(j["a"])((function(e){return Xn["transferSecret"].is(e)||!!e.payload.confirmed})),Object(fe["a"])((function(e){return o.pipe(Object(X["b"])("state"),Object(ee["a"])(),Object(j["a"])((function(t){var n=t.transfers;return Object(Te["i"])(e.meta)in n})),Object(U["a"])((function(t){var n,o=t.transfers,i=null===(n=o[Object(Te["i"])(e.meta)])||void 0===n?void 0:n.secretReveal;if(i)return Object(d["a"])(Object(we["q"])(i));var c={type:hr["d"].SECRET_REVEAL,message_identifier:Object(Te["e"])(),secret:e.payload.secret};return Object(Ee["h"])(a,c,{log:r})})),Object(w["a"])((function(t){return Object(Xn["transferSecretReveal"])({message:t},e.meta)})),Object(_["a"])((function(t){return r.warn("Error trying to sign SecretReveal - ignoring",t,e.meta),b["a"]})))})))}function ii(e,t,n){Xo(e);var r=n.provider,a=n.secretRegistryContract,o=n.config$;return o.pipe(Object(X["b"])("confirmationBlocks"),Object(x["a"])((function(e){return Object(_e["a"])(r,a.filters.SecretRevealed(null,null),void 0,e)})),Object(w["a"])(Object(_e["c"])(a)),Object(j["a"])(we["n"]),Object(E["a"])(t,o),Object(U["a"])(u.a.mark((function e(t){var n,r,a,o,i,c,s,l,f,d,p,b,y;return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=Yo(t,3),r=Yo(n[0],3),a=r[0],o=r[1],i=r[2],c=n[1],s=c.transfers,l=c.blockNumber,f=n[2].confirmationBlocks,d=0,p=Object.values(xe["a"]);case 2:if(!(d<p.length)){e.next=12;break}if(b=p[d],y=Object(Te["i"])({secrethash:a,direction:b}),y in s){e.next=7;break}return e.abrupt("continue",9);case 7:return e.next=9,Xn["transferSecretRegister"].success({secret:o,txHash:i.transactionHash,txBlock:i.blockNumber,confirmed:i.blockNumber+f<=l?i.blockNumber<s[y].expiration:void 0},{secrethash:a,direction:b});case 9:d++,e.next=2;break;case 12:case"end":return e.stop()}}),e)}))))}function ci(e){return e.pipe(Object(j["a"])(Xn["transferSecretRegister"].success.is),Object(j["a"])((function(e){return!!e.payload.confirmed})),Object(w["a"])((function(e){return Xn["transfer"].success({},e.meta)})))}function si(e,t,n){var r=n.config$,a=n.latest$;return t.pipe(Object(E["a"])(r),Object(U["a"])((function(e){var t=Yo(e,2),n=t[0],r=n.blockNumber,a=n.transfers,o=t[1].revealTimeout;return Object(v["a"])(Object.values(a).filter((function(e){return e.direction===xe["a"].RECEIVED&&!e.unlock&&!e.expired&&!!e.secret&&!e.secretRegistered&&e.expiration>r&&e.expiration<=r+o})))})),Object(le["a"])((function(e){return e._id}),co["a"],(function(e){return a.pipe(Object(R["a"])("state"),Object(j["a"])((function(t){var n=t.blockNumber,r=t.transfers;return!!(r[e.key].expiration<n||r[e.key].unlock||r[e.key].secretRegistered)})))})),Object(U["a"])((function(t){return t.pipe(Object(g["a"])((function(t){var n={secrethash:t.secrethash,direction:xe["a"].RECEIVED};return At(e,Xn["transferSecretRegister"].request({secret:t.secret},n),Object(Z["f"])(Xn["transferSecretRegister"],n))})),Object(A["a"])(t.pipe(Object(N["a"])(),Object(P["a"])(1))))})),Object(X["f"])(r.pipe(Object(R["a"])("caps"),Object(w["a"])((function(e){return Object(Y["a"])(e,G["a"].RECEIVE)})))))}function ui(e,t,n){Xo(t);var r=n.log,a=n.signer,o=n.address,i=n.main,c=n.provider,s=n.secretRegistryContract,u=n.config$;return e.pipe(Object(j["a"])(Xn["transferSecretRegister"].request.is),Object(E["a"])(u),Object(U["a"])((function(e){var t,n=Yo(e,2),u=n[0],f=n[1].subkey,p=Object(ge["b"])({signer:a,address:o,main:i},null!==(t=u.payload.subkey)&&void 0!==t?t:f),b=p.signer,y=Object(ge["d"])(s,b);return Object(l["a"])((function(){return y.registerSecret(u.payload.secret)})).pipe(Object(Ne["b"])("registerSecret",je["b"].XFER_REGISTERSECRET_TX_FAILED,{log:r,provider:c}),Object(Ne["g"])(c.pollingInterval,void 0,void 0,{log:r}),Object(N["a"])(),Object(_["a"])((function(e){return Object(d["a"])(Xn["transferSecretRegister"].failure(e,u.meta))})))})))}var li=n("8df4"),fi=(n("9201"),n("0ba5"));function di(e,t){return yi(e)||bi(e,t)||mi(e,t)||pi()}function pi(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function bi(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done);r=!0)if(n.push(i.value),t&&n.length===t)break}catch(s){a=!0,o=s}finally{try{r||null==c["return"]||c["return"]()}finally{if(a)throw o}}return n}}function yi(e){if(Array.isArray(e))return e}function hi(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=mi(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function mi(e,t){if(e){if("string"===typeof e)return vi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?vi(e,t):void 0}}function vi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Oi(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function ji(e,t){return Oi(e),t.pipe(Object(ee["a"])(),Object(U["a"])(u.a.mark((function e(t){var n,r,a,o,i,c;return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=0,r=Object.values(t.channels);case 1:if(!(n<r.length)){e.next=31;break}if(a=r[n],a.state===Se["b"].open){e.next=5;break}return e.abrupt("continue",28);case 5:o=hi(a.own.pendingWithdraws),e.prev=6,o.s();case 8:if((i=o.n()).done){e.next=20;break}if(c=i.value,c.type!==fi["a"].WITHDRAW_REQUEST||a.own.pendingWithdraws.some(Pt(fi["a"].WITHDRAW_CONFIRMATION,c))){e.next=15;break}return e.next=13,Xn["withdrawMessage"].request({message:c},{direction:xe["a"].SENT,tokenNetwork:a.tokenNetwork,partner:a.partner.address,totalWithdraw:c.total_withdraw,expiration:c.expiration.toNumber()});case 13:e.next=18;break;case 15:if(c.type!==fi["a"].WITHDRAW_EXPIRED){e.next=18;break}return e.next=18,Xn["withdrawExpire"].success({message:c},{direction:xe["a"].SENT,tokenNetwork:a.tokenNetwork,partner:a.partner.address,totalWithdraw:c.total_withdraw,expiration:c.expiration.toNumber()});case 18:e.next=8;break;case 20:e.next=25;break;case 22:e.prev=22,e.t0=e["catch"](6),o.e(e.t0);case 25:return e.prev=25,o.f(),e.finish(25);case 28:n++,e.next=1;break;case 31:case"end":return e.stop()}}),e,null,[[6,22,25,28]])}))))}function gi(e,t,n){var r=n.config$;return e.pipe(Object(j["a"])(Xn["withdrawMessage"].request.is),Object(j["a"])((function(e){return e.meta.direction===xe["a"].SENT})),Object(E["a"])(r),Object(U["a"])((function(n){var r=di(n,2),a=r[0],o=r[1],i=o.pollingInterval,c=o.httpTimeout,s=a.payload.message,u=Tt["messageSend"].request({message:s},{address:a.meta.partner,msgId:s.message_identifier.toString()}),l=t.pipe(Object(j["a"])((function(e){var t=e.channels[Object(Ne["d"])(a.meta)];return(null===t||void 0===t?void 0:t.state)!==Se["b"].open||t.own.pendingWithdraws.some(Pt(fi["a"].WITHDRAW_CONFIRMATION,a.meta))||!t.own.pendingWithdraws.some(Pt(fi["a"].WITHDRAW_REQUEST,a.meta))})));return Nt(u,e,l,St(i,2*c))})))}function wi(e,t,n){Oi(t);var r=n.address,a=n.signer,o=n.main,i=n.provider,c=n.log,s=n.getTokenNetworkContract,u=n.latest$;return e.pipe(Object(j["a"])(Xn["withdrawMessage"].success.is),Object(j["a"])((function(e){return e.meta.direction===xe["a"].SENT})),Object(fe["a"])((function(e){return u.pipe(Object(ee["a"])(),Object(U["a"])((function(t){var n=t.state,u=t.config,f=u.subkey,d=u.revealTimeout;Object(je["d"])(e.meta.expiration>=n.blockNumber+d,je["b"].CNL_WITHDRAW_EXPIRES_SOON);var p=n.channels[Object(Ne["d"])(e.meta)];Object(je["d"])((null===p||void 0===p?void 0:p.state)===Se["b"].open,"channel not open"),Object(je["d"])(e.meta.totalWithdraw.gt(p.own.withdraw),"withdraw already performed");var b=p.own.pendingWithdraws.find(Pt(fi["a"].WITHDRAW_REQUEST,e.payload.message));Object(je["d"])(b,"no matching WithdrawRequest found");var y=e.meta.tokenNetwork,h=Object(ge["b"])({signer:a,address:r,main:o},f),m=h.signer,v=Object(ge["d"])(s(y),m);return Object(l["a"])((function(){return v.setTotalWithdraw(p.id,r,e.meta.totalWithdraw,e.meta.expiration,b.signature,e.payload.message.signature)})).pipe(Object(Ne["b"])("setTotalWithdraw",je["b"].CNL_WITHDRAW_TRANSACTION_FAILED,{log:c,provider:i}),Object(Ne["g"])(i.pollingInterval,void 0,void 0,{log:c}))})),Object(w["a"])((function(t){var n=di(t,2),r=n[1];return Xn["withdraw"].success({txHash:r.transactionHash,txBlock:r.blockNumber,confirmed:void 0},e.meta)})),Object(_["a"])((function(t){return Object(d["a"])(Xn["withdraw"].failure(t,e.meta))})))})))}function _i(e,t,n){Oi(t);var r=n.signer,a=n.log,o=n.latest$,i=new jr(32);return e.pipe(Object(j["a"])(Object(Z["e"])([Xn["withdrawMessage"].request,Xn["withdrawMessage"].success])),Object(j["a"])((function(e){return e.meta.direction===xe["a"].RECEIVED!==Xn["withdrawMessage"].success.is(e)})),Object(fe["a"])((function(e){return o.pipe(Object(ee["a"])(),Object(j["a"])((function(t){var n=t.presences;return e.meta.partner in n&&!!Object(Y["a"])(n[e.meta.partner].payload.caps,G["a"].DELIVERY)})),Object(U["a"])((function(){var t,n=e.payload.message,o=n.message_identifier.toString(),c=i.get(o);if(c)t=Object(d["a"])(c);else{var s={type:fi["a"].PROCESSED,message_identifier:n.message_identifier};t=Object(v["a"])(Object(fi["i"])(r,s,{log:a})).pipe(Object(yt["a"])((function(e){return i.put(o,e)})))}return t.pipe(Object(w["a"])((function(t){return Tt["messageSend"].request({message:t},{address:e.meta.partner,msgId:t.message_identifier.toString()})})))})),Object(_["a"])((function(e){return a.info("Signing Processed message for Withdraw message failed, ignoring",e),b["a"]})))})))}function ki(e,t,n){var r=n.config$;return e.pipe(Object(j["a"])(Ae["newBlock"].is),Object(R["a"])("payload","blockNumber"),Object(E["a"])(t,r),Object(U["a"])(u.a.mark((function e(t){var n,r,a,o,i,c,s,l,f,d,p;return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=di(t,3),r=n[0],a=n[1],o=n[2].confirmationBlocks,i=0,c=Object.values(a.channels);case 2:if(!(i<c.length)){e.next=31;break}if(s=c[i],s.state===Se["b"].open){e.next=6;break}return e.abrupt("continue",28);case 6:l=s.own.pendingWithdraws.filter(Pt(fi["a"].WITHDRAW_REQUEST)),f=hi(l),e.prev=8,f.s();case 10:if((d=f.n()).done){e.next=20;break}if(p=d.value,!p.expiration.add(2*o).gte(r)){e.next=14;break}return e.abrupt("continue",18);case 14:if(!s.own.pendingWithdraws.some(Pt(fi["a"].WITHDRAW_EXPIRED,p))){e.next=16;break}return e.abrupt("continue",18);case 16:return e.next=18,Xn["withdrawExpire"].request(void 0,{direction:xe["a"].SENT,tokenNetwork:s.tokenNetwork,partner:s.partner.address,expiration:p.expiration.toNumber(),totalWithdraw:p.total_withdraw});case 18:e.next=10;break;case 20:e.next=25;break;case 22:e.prev=22,e.t0=e["catch"](8),f.e(e.t0);case 25:return e.prev=25,f.f(),e.finish(25);case 28:i++,e.next=2;break;case 31:case"end":return e.stop()}}),e,null,[[8,22,25,28]])}))))}function Ei(e,t,n){Oi(t);var r=n.config$;return e.pipe(Object(j["a"])(Xn["withdrawExpire"].success.is),Object(j["a"])((function(e){return e.meta.direction===xe["a"].SENT})),Object(E["a"])(r),Object(U["a"])((function(t){var n=di(t,2),r=n[0],a=n[1],o=a.pollingInterval,i=a.httpTimeout,c=r.payload.message,s=Tt["messageSend"].request({message:c},{address:r.meta.partner,msgId:c.message_identifier.toString()}),u=e.pipe(Object(j["a"])(Object(fi["h"])(Object(we["h"])(fi["b"]))),Object(j["a"])((function(e){return e.meta.address===r.meta.partner&&e.payload.message.message_identifier.eq(c.message_identifier)})),Object(S["a"])(Object(Xn["withdrawCompleted"])(void 0,r.meta)),Object(ie["a"])(1),Object(li["a"])());return Object(m["a"])(Nt(s,e,u,St(o,2*i)),u)})))}var Ti=n("945b"),xi=n("ad7d"),Si=n("699d"),Ai=n("358d"),Ni=n("d011");function Pi(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=Vi(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function Di(e){return Ci(e)||Ii(e)||Vi(e)||Ri()}function Ri(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ii(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function Ci(e){if(Array.isArray(e))return qi(e)}function Ui(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function Li(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Mi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Li(Object(n),!0).forEach((function(t){Bi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Li(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Bi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fi(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function Wi(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Fi(o,r,a,i,c,"next",e)}function c(e){Fi(o,r,a,i,c,"throw",e)}i(void 0)}))}}function Hi(e,t){return Gi(e)||Ki(e,t)||Vi(e,t)||$i()}function $i(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Vi(e,t){if(e){if("string"===typeof e)return qi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qi(e,t):void 0}}function qi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ki(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done);r=!0)if(n.push(i.value),t&&n.length===t)break}catch(s){a=!0,o=s}finally{try{r||null==c["return"]||c["return"]()}finally{if(a)throw o}}return n}}function Gi(e){if(Array.isArray(e))return e}var Xi=pt["p"](pt["v"]({error_code:pt["n"],errors:pt["s"]}));function Yi(e){return(null!==e&&void 0!==e?e:new Date).toISOString().substr(0,19)}function Qi(e,t,n){var r=n.address,a=n.signer,o=n.network,i=n.contractsInfo,c=n.latest$,s=n.config$;return Object(l["a"])((function(){var t=Yi(),n=Object(ve["b"])([r,e.address,Object(Si["f"])(t)]);return Object(v["a"])(a.signMessage(n)).pipe(Object(w["a"])((function(n){return{sender:r,receiver:e.address,timestamp:t,signature:n}})))})).pipe(Object(E["a"])(s),Object(U["a"])((function(n){var r=Hi(n,2),a=r[0],o=r[1].httpTimeout;return Object(Ot["a"])("".concat(e.url,"/api/v1/").concat(t,"/payment/iou?").concat(new URLSearchParams(a).toString()),{method:"GET",headers:{"Content-Type":"application/json"}}).pipe(Object(ht["a"])(o))})),Object(E["a"])(c.pipe(Object(R["a"])("state","blockNumber")),s),Object(U["a"])(function(){var t=Wi(u.a.mark((function t(n){var a,c,s,l,f,d,p,b;return u.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=Hi(n,3),c=a[0],s=a[1],l=a[2].pfsIouTimeout,404!==c.status){t.next=3;break}return t.abrupt("return",{sender:r,receiver:e.address,chain_id:Aa["a"].from(o.chainId),amount:L["f"],one_to_n_address:i.OneToN.address,expiration_block:Aa["a"].from(s).add(l)});case 3:return t.next=5,c.text();case 5:if(f=t.sent,c.ok){t.next=8;break}throw new je["c"](je["b"].PFS_LAST_IOU_REQUEST_FAILED,{responseStatus:c.status,responseText:f});case 8:if(d=Object(we["l"])(Ni["b"],Object(ke["b"])(f)),p=d.last_iou,b=Object(_n["b"])(Object(Ai["b"])(p),p.signature),b===r){t.next=12;break}throw new je["c"](je["b"].PFS_IOU_SIGNATURE_MISMATCH,{signer:b,address:r});case 12:return t.abrupt("return",p);case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()))}function zi(e,t,n){return n.latest$.pipe(Object(ee["a"])(),Object(U["a"])((function(r){var a,o=r.state,i=null===(a=o.iou[t])||void 0===a?void 0:a[e.address];return i?Object(d["a"])(i):Qi(e,t,n)})),Object(w["a"])((function(t){return Mi(Mi({},t),{},{amount:t.amount.add(e.price)})})),Object(U["a"])((function(e){return Object(Ai["e"])(n.signer,e)})))}function Zi(e,t,n){return Ui(t),e.pipe(Object(j["a"])(Object(Z["e"])(z["pathFind"].request)),Object(fe["a"])((function(t){return n.latest$.pipe(Object(ee["a"])(),Object(U["a"])((function(r){var a,o,i=t.meta.target;return i in r.presences?(a=b["a"],o=Object(d["a"])(r)):(a=Object(d["a"])(Q["matrixPresence"].request(void 0,{address:i})),o=fc(e,n,i)),Object(m["a"])(o.pipe(Object(U["a"])((function(e){return dc(t,n,e)})),Object(E["a"])(n.latest$),Object(U["a"])((function(e){var r=Hi(e,2),a=r[0],o=r[1];return pc(t,n,a,o)})),Object(_["a"])((function(e){return Object(d["a"])(z["pathFind"].failure(e,t.meta))}))),a)})))})))}function Ji(e,t,n){Ui(e);var r=n.log,a=n.address,o=n.network,i=n.signer,c=n.config$;return t.pipe(Ne["f"],Object(U["a"])((function(e){return e.pipe(Object(Ti["a"])(),Object(E["a"])(c),Object(j["a"])((function(e){var t=Hi(e,2),n=Hi(t[0],2),r=n[1],a=t[1].pfsRoom;return r.state===Se["b"].open&&!!a})),Object(xi["a"])((function(e){var t=Hi(e,2),n=Hi(t[0],2),r=n[0],a=n[1],o=t[1].httpTimeout;return a.own.locks.length>r.own.locks.length||a.partner.locks.length>r.partner.locks.length?Object(y["a"])(o):Object(d["a"])(1)})),Object(x["a"])((function(e){var t=Hi(e,2),n=Hi(t[0],2),c=n[1],s=t[1],u=s.revealTimeout,f=s.pfsRoom,d=c.tokenNetwork,p=c.partner.address,y=Object(Ne["c"])(c),h=y.ownCapacity,m=y.partnerCapacity,v={type:hr["d"].PFS_CAPACITY_UPDATE,canonical_identifier:{chain_identifier:Aa["a"].from(o.chainId),token_network_address:d,channel_identifier:Aa["a"].from(c.id)},updating_participant:a,other_participant:p,updating_nonce:c.own.balanceProof.nonce,other_nonce:c.partner.balanceProof.nonce,updating_capacity:h,other_capacity:m,reveal_timeout:Aa["a"].from(u)};return Object(l["a"])((function(){return Object(Ee["h"])(i,v,{log:r})})).pipe(Object(w["a"])((function(e){return Object(Tt["messageGlobalSend"])({message:e},{roomName:f})})),Object(_["a"])((function(e){return r.error("Error trying to generate & sign PFSCapacityUpdate",e),b["a"]})))})))})))}function ec(e,t,n){Ui(e);var r=n.log,a=n.address,o=n.network,i=n.signer,c=n.config$;return t.pipe(Ne["f"],Object(U["a"])((function(e){return e.pipe(Object(ee["a"])())})),Object(E["a"])(c),Object(j["a"])((function(e){var t=Hi(e,2),n=t[0],r=t[1],a=r.pfsRoom,o=r.caps;return n.state===Se["b"].open&&!!a&&!!Object(Y["a"])(o,G["a"].MEDIATE)})),Object(U["a"])((function(e){var t=Hi(e,2),n=t[0],c=t[1].pfsRoom,s={type:hr["d"].PFS_FEE_UPDATE,canonical_identifier:{chain_identifier:Aa["a"].from(o.chainId),token_network_address:n.tokenNetwork,channel_identifier:Aa["a"].from(n.id)},updating_participant:a,timestamp:Yi(),fee_schedule:{cap_fees:!0,imbalance_penalty:null,proportional:L["f"],flat:L["f"]}};return Object(v["a"])(Object(Ee["h"])(i,s,{log:r})).pipe(Object(w["a"])((function(e){return Object(Tt["messageGlobalSend"])({message:e},{roomName:c})})),Object(_["a"])((function(e){return r.error("Error trying to generate & sign PFSFeeUpdate",e),b["a"]})))})))}function tc(e,t,n){Ui(e),Ui(t);var r=n.provider,a=n.serviceRegistryContract,o=n.contractsInfo,i=n.config$,c=n.latest$;return Object(p["a"])([i.pipe(Object(X["b"])("pfs")),i.pipe(Object(X["b"])("confirmationBlocks"))]).pipe(Object(x["a"])((function(e){var t=Hi(e,2),n=t[0],i=t[1];return""!==n&&void 0!==n?b["a"]:Object(_e["a"])(r,a.filters.RegisteredService(null,null,null,null),void 0,i,o.ServiceRegistry.block_number).pipe(Object(E["a"])(c),Object(j["a"])((function(e){var t=Hi(e,2),n=t[0].blockNumber,r=t[1].state;return!!n&&n+i<=r.blockNumber})),Object(R["a"])(0),Object(w["a"])(Object(_e["c"])(a)),Object(j["a"])(we["n"])).pipe(Object(le["a"])((function(e){var t=Hi(e,1),n=t[0];return n})),Object(U["a"])((function(e){return e.pipe(Object(x["a"])((function(e){var t=Hi(e,2),n=t[0],r=t[1],a=Date.now(),o=r.mul(1e3);if(o.lt(a))return b["a"];var i=o.sub(a).lt(L["d"].pow(31))?Object(d["a"])({service:n,valid:!1}).pipe(Object(Kn["a"])(new Date(o.toNumber()))):b["a"];return Object(m["a"])(Object(d["a"])({service:n,valid:!0}),i)})))})),Object(I["a"])((function(e,t){var n=t.service,r=t.valid;return!r&&e.includes(n)?e.filter((function(e){return e!==n})):r&&!e.includes(n)?[].concat(Di(e),[n]):e}),[]),Object(D["a"])(),Object(so["a"])(1e3),Object(w["a"])((function(e){return Object(z["pfsListUpdated"])({pfsList:e})})))})))}function nc(e,t,n){Ui(t);var r=n.address,a=n.latest$,o=n.provider,i=n.userDepositContract;return e.pipe(Object(j["a"])(Ae["newBlock"].is),Object(T["a"])(null),Object(g["a"])((function(){return Object(X["d"])((function(){return Promise.all([i.callStatic.effectiveBalance(r),i.callStatic.total_deposit(r)])}),o.pollingInterval,je["e"]).pipe(Object(_["a"])(q()(b["a"])))})),Object(E["a"])(a),Object(j["a"])((function(e){var t=Hi(e,2),n=Hi(t[0],1),r=n[0],a=t[1].udcBalance;return!a.eq(r)})),Object(w["a"])((function(e){var t=Hi(e,1),n=Hi(t[0],2),r=n[0],a=n[1];return z["udcDeposit"].success({balance:r},{totalDeposit:a})})))}function rc(e,t,n,r,a){var o=Hi(e,2),i=o[0],c=o[1],s=Hi(t,2),u=s[0],l=s[1],f=Hi(n,2),d=f[0],p=f[1],b=r.pollingInterval,y=r.minimumAllowance,h=a.log,m=a.provider;return Object(X["d"])((function(){return Promise.all([i.callStatic.balanceOf(u),i.callStatic.allowance(u,c.address),c.callStatic.total_deposit(l)])}),b,je["e"]).pipe(Object(U["a"])((function(e){var t=Hi(e,3),n=t[0],r=t[1],a=t[2];return Object(je["d"])(a.add(d).eq(p),[je["b"].UDC_DEPOSIT_OUTDATED,{requested:p.toString(),current:a.toString()}]),Object(Ne["a"])([n,r,d],i,c.address,je["b"].RDN_APPROVE_TRANSACTION_FAILED,{provider:m},{log:h,minimumAllowance:y})})),Object(U["a"])((function(){return c.deposit(l,p)})),Object(Ne["b"])("deposit",je["b"].RDN_DEPOSIT_TRANSACTION_FAILED,{log:h,provider:m}),Object(Ne["g"])(b,void 0,void 0,{log:h}))}function ac(e,t,n){Ui(t);var r=n.userDepositContract,a=n.getTokenContract,o=n.address,i=n.log,c=n.signer,s=n.main,u=n.config$,l=n.provider;return e.pipe(Object(j["a"])(z["udcDeposit"].request.is),Object(fe["a"])((function(e){return Object(X["d"])((function(){return r.callStatic.token()}),l.pollingInterval,je["e"]).pipe(Object(E["a"])(u),Object(U["a"])((function(t){var n,u=Hi(t,2),f=u[0],d=u[1],p=Object(ge["b"])({signer:c,address:o,main:s},null!==(n=e.payload.subkey)&&void 0!==n?n:d.subkey),b=p.signer,y=p.address,h=Object(ge["d"])(a(f),b),m=Object(ge["d"])(r,b);return rc([h,m],[y,o],[e.payload.deposit,e.meta.totalDeposit],d,{log:i,provider:l})})),Object(U["a"])((function(t){var n=Hi(t,2),a=n[1];return Object(X["d"])((function(){return r.callStatic.effectiveBalance(o)}),l.pollingInterval,je["e"]).pipe(Object(w["a"])((function(t){return z["udcDeposit"].success({balance:t,txHash:a.transactionHash,txBlock:a.blockNumber,confirmed:void 0},e.meta)})))})),Object(_["a"])((function(t){return Object(d["a"])(z["udcDeposit"].failure(t,e.meta))})))})))}function oc(e){var t=e.address,n=e.log,r=e.network,a=e.signer,o=e.contractsInfo,i=e.latest$,c=e.config$;return function(e){var s=Hi(e,2),u=s[1],l=Object(Ne["c"])(u),f=l.partnerUnlocked;return f.isZero()?b["a"]:Object(p["a"])([i,c]).pipe(Object(j["a"])((function(e){var t,n=Hi(e,2),r=n[0].udcBalance,a=n[1],o=a.monitoringRoom,i=a.monitoringReward,c=a.rateToSvt;return!!o&&!(null===i||void 0===i||!i.gt(L["f"]))&&r.gte(i)&&f.mul(null!==(t=c[u.token])&&void 0!==t?t:L["a"]).div(L["e"]).gt(i)})),Object(ie["a"])(1),Object(U["a"])((function(e){var i=Hi(e,2),c=i[1],s=c.monitoringReward,l=c.monitoringRoom,f=u.partner.balanceProof,d=Object(Ee["b"])(f),p=Object(ve["b"])([Object(ke["a"])(u.tokenNetwork,20),Object(ke["a"])(r.chainId,32),Object(ke["a"])(Ee["a"].BALANCE_PROOF_UPDATE,32),Object(ke["a"])(u.id,32),Object(ke["a"])(d,32),Object(ke["a"])(f.nonce,32),Object(ke["a"])(f.additionalHash,32),Object(ke["a"])(f.signature,65)]);return Object(v["a"])(a.signMessage(p)).pipe(Object(U["a"])((function(e){return Object(Ee["h"])(a,{type:hr["d"].MONITOR_REQUEST,balance_proof:{chain_id:f.chainId,token_network_address:f.tokenNetworkAddress,channel_identifier:Aa["a"].from(u.id),nonce:f.nonce,balance_hash:d,additional_hash:f.additionalHash,signature:f.signature},non_closing_participant:t,non_closing_signature:e,monitoring_service_contract_address:o.MonitoringService.address,reward_amount:s},{log:n})})),Object(w["a"])((function(e){return Object(Tt["messageGlobalSend"])({message:e},{roomName:l})})))})),Object(_["a"])((function(e){return n.error("Error trying to generate & sign MonitorRequest",e),b["a"]})))}}function ic(e,t,n){return Ui(e),Ui(t),n.latest$.pipe(Object(R["a"])("state"),Ne["f"],Object(E["a"])(n.config$),Object(U["a"])((function(e){var t=Hi(e,2),r=t[0],a=t[1].httpTimeout;return r.pipe(Object(D["a"])((function(e,t){return t.partner.balanceProof.transferredAmount.eq(e.partner.balanceProof.transferredAmount)&&t.partner.balanceProof.lockedAmount.eq(e.partner.balanceProof.lockedAmount)&&t.partner.locks===e.partner.locks})),Object(Ti["a"])(),Object(xi["a"])((function(e){var t=Hi(e,2),n=t[0],r=t[1];return r.partner.locks.length>n.partner.locks.length?Object(y["a"])(a):Object(d["a"])(1)})),Object(x["a"])(oc(n)))})))}function cc(e,t,n){var r=n.userDepositContract,a=n.address,o=n.log,i=n.signer,c=n.provider;return e.pipe(Object(j["a"])(z["udcWithdraw"].request.is),Object(U["a"])((function(e){return Object(X["d"])((function(){return r.callStatic.balances(a).then((function(t){return[e,t]}))}),c.pollingInterval,je["e"])})),Object(fe["a"])((function(e){var n=Hi(e,2),s=n[0],u=n[1],f=Object(ge["d"])(r,i),p=s.meta.amount;return Object(l["a"])((function(){return Object(je["d"])(p.gt(L["f"]),[je["b"].UDC_PLAN_WITHDRAW_GT_ZERO,{amount:p.toString()}]),Object(je["d"])(u.sub(p).gte(L["f"]),[je["b"].UDC_PLAN_WITHDRAW_EXCEEDS_AVAILABLE,{balance:u.toString(),amount:p.toString()}]),f.planWithdraw(p)})).pipe(Object(Ne["b"])("planWithdraw",je["b"].UDC_PLAN_WITHDRAW_FAILED,{log:o,provider:c}),Object(Ne["g"])(c.pollingInterval,void 0,void 0,{log:o}),Object(U["a"])((function(e){var n=Hi(e,2),o=n[1],i=o.transactionHash,u=o.blockNumber;return t.pipe(Object(X["b"])("blockNumber"),Object(g["a"])((function(){return Object(X["d"])((function(){return r.callStatic.withdraw_plans(a)}),c.pollingInterval,je["e"])})),Object(ee["a"])((function(e){var t=e.amount;return t.gte(s.meta.amount)})),Object(w["a"])((function(e){var t=e.amount,n=e.withdraw_block;return z["udcWithdraw"].success({block:n.toNumber(),txHash:i,txBlock:u,confirmed:void 0},{amount:t})})))})),Object(_["a"])((function(e){return o.error("Planning udc withdraw failed",e),Object(d["a"])(z["udcWithdraw"].failure(e,s.meta))})))})))}function sc(e,t,n){Ui(e),Ui(t);var r=n.userDepositContract,a=n.address,o=n.config$;return o.pipe(Object(ee["a"])(),Object(U["a"])((function(e){var t=e.pollingInterval;return Object(X["d"])((function(){return r.withdraw_plans(a)}),t,je["e"])})),Object(j["a"])((function(e){return e.withdraw_block.gt(L["f"])})),Object(w["a"])((function(e){var t=e.amount,n=e.withdraw_block;return z["udcWithdraw"].success({block:n.toNumber(),confirmed:!0},{amount:t})})))}function uc(e,t,n){var r=n.log,a=n.userDepositContract,o=n.address,i=n.signer,c=n.provider;return e.pipe(Object(j["a"])(z["udcWithdraw"].success.is),Object(j["a"])((function(e){return!0===e.payload.confirmed})),Object(U["a"])((function(e){return t.pipe(Object(R["a"])("blockNumber"),Object(ee["a"])((function(t){return e.payload.block<t})),Object(S["a"])(e))})),Object(U["a"])((function(e){return Object(X["d"])((function(){return a.callStatic.balances(o).then((function(t){return[e,t]}))}),c.pollingInterval,je["e"])})),Object(fe["a"])((function(e){var n=Hi(e,2),s=n[0],u=n[1],f=Object(ge["d"])(a,i);return Object(l["a"])((function(){return Object(je["d"])(u.gt(L["f"]),[je["b"].UDC_WITHDRAW_NO_BALANCE,{balance:u.toString()}]),f.withdraw(s.meta.amount)})).pipe(Object(Ne["b"])("withdraw",je["b"].UDC_WITHDRAW_FAILED,{log:r,provider:c}),Object(Ne["g"])(c.pollingInterval,void 0,void 0,{log:r}),Object(fe["a"])((function(e){var n=Hi(e,2),r=n[1],a=r.transactionHash,i=r.blockNumber;return t.pipe(Object(X["b"])("blockNumber"),Object(g["a"])((function(){return Object(X["d"])((function(){return f.callStatic.balances(o)}),c.pollingInterval,je["e"])})),Object(ee["a"])((function(e){return e.lt(u)})),Object(w["a"])((function(e){return Object(z["udcWithdrawn"])({withdrawal:u.sub(e),txHash:a,txBlock:i,confirmed:void 0},s.meta)})))})),Object(_["a"])((function(e){return r.error("Error when processing the withdraw plan",e),Object(d["a"])(z["udcWithdraw"].failure(e,s.meta))})))})))}function lc(e,t,n){Ui(e);var r=n.provider,a=n.monitoringServiceContract,o=n.address,i=n.config$;return i.pipe(Object(X["b"])("confirmationBlocks"),Object(x["a"])((function(e){return Object(_e["a"])(r,a.filters.NewBalanceProofReceived(null,null,null,null,null,o),void 0,e)})),Object(w["a"])(Object(_e["c"])(a)),Object(j["a"])(we["n"]),Object(j["a"])((function(e){var t=Hi(e,6),n=t[5];return n===o})),Object(E["a"])(t,i),Object(w["a"])((function(e){var t=Hi(e,3),n=Hi(t[0],7),r=n[0],a=n[1],o=n[2],i=n[3],c=n[4],s=n[6],u=t[1],l=t[2].confirmationBlocks,f=Object.values(u.channels).concat(Object.values(u.oldChannels)).find((function(e){return e.tokenNetwork===r&&a.eq(e.id)})),d=s.blockNumber;if(f&&d)return Object(z["msBalanceProofSent"])({tokenNetwork:r,partner:f.partner.address,id:f.id,reward:o,nonce:i,monitoringService:c,txHash:s.transactionHash,txBlock:d,confirmed:d+l<=u.blockNumber||void 0})})),Object(j["a"])(we["n"]))}function fc(e,t,n){return e.pipe(Object(j["a"])(Object(Z["g"])(Q["matrixPresence"],{address:n})),Object(ie["a"])(1),Object(U["a"])((function(e){if(Q["matrixPresence"].success.is(e))return t.latest$.pipe(Object(ee["a"])((function(e){var t=e.presences;return n in t})));throw e.payload})))}function dc(e,t,n){var r=n.state,a=n.presences,o=n.config;bc(e,r,a);var i=e.meta,c=i.tokenNetwork,s=i.target,u=i.value;if(e.payload.paths)return Object(d["a"])({paths:e.payload.paths,iou:void 0});if(!0===Object(Ai["a"])(r,a,c,s,s,u))return Object(d["a"])({paths:[{path:[t.address,e.meta.target],fee:L["f"]}],iou:void 0});if(yc(e,o))throw new je["c"](je["b"].PFS_DISABLED);return hc(e,t)}function pc(e,t,n,r){var a=e.meta.tokenNetwork,o=n.iou,i=n.paths,c=n.error;return Object(v["a"])(u.a.mark((function s(){var l;return u.a.wrap((function(s){while(1)switch(s.prev=s.next){case 0:if(!o){s.next=8;break}if(!wc(n)){s.next=6;break}return s.next=4,Object(z["iouPersist"])({iou:o},{tokenNetwork:a,serviceAddress:o.receiver});case 4:s.next=8;break;case 6:return s.next=8,Object(z["iouClear"])(void 0,{tokenNetwork:a,serviceAddress:o.receiver});case 8:if(!c){s.next=14;break}if(!kc(c)){s.next=13;break}throw new je["c"](je["b"].PFS_NO_ROUTES_BETWEEN_NODES);case 13:throw new je["c"](je["b"].PFS_ERROR_RESPONSE,{errorCode:c.error_code,errors:c.errors});case 14:if(l=mc(e,t,r,i),!l.length){s.next=20;break}return s.next=18,z["pathFind"].success({paths:l},e.meta);case 18:s.next=21;break;case 20:throw new je["c"](je["b"].PFS_NO_ROUTES_FOUND);case 21:case"end":return s.stop()}}),s)}))())}function bc(e,t,n){var r=e.meta,a=r.tokenNetwork,o=r.target,i=r.value;Object(je["d"])(Object.values(t.tokens).includes(a),[je["b"].PFS_UNKNOWN_TOKEN_NETWORK,{tokenNetwork:a}]),Object(je["d"])(n[o].payload.available,[je["b"].PFS_TARGET_OFFLINE,{target:o}]),Object(je["d"])(Object(Y["a"])(n[o].payload.caps,G["a"].RECEIVE),[je["b"].PFS_TARGET_NO_RECEIVE,{target:o}]),Object(je["d"])(Object.values(t.channels).some((function(e){return!0===Object(Ai["a"])(t,n,a,e.partner.address,o,i)})),je["b"].PFS_NO_ROUTES_BETWEEN_NODES)}function yc(e,t){var n=t.pfs,r=null===e.payload.pfs,a=!e.payload.pfs&&null===n;return r||a}function hc(e,t){var n=e.meta,r=n.tokenNetwork,a=n.target,o=n.value;return t.config$.pipe(Object(ee["a"])(),Object(U["a"])((function(n){return vc(e.payload.pfs,n.pfs,t).pipe(Object(U["a"])((function(e){return Oc(e,r,t)})),Object(U["a"])((function(e){var i=e.pfs,c=e.iou;return jc(i,c,r,t.address,a,o,n)})),Object(w["a"])((function(e){var t=e.pfsResponse,r=e.responseText,a=e.iou;return gc(t,r,a,n)})))})))}function mc(e,t,n,r){var a=t.address,o=t.log,i=n.state,c=n.presences,s=[],u=new Set;if(r){var l,f=Pi(r);try{for(f.s();!(l=f.n()).done;){var d=l.value,p=d.path,b=d.fee,y=_c(p,a),h=y[0],m=!1,v="";if(!u.has(h)){if(0===s.length){var O=e.meta,j=O.tokenNetwork,g=O.target,w=O.value,_=Object(Ai["a"])(i,c,j,h,g,w);m=!0===_,v="string"===typeof _?_:""}else h!==s[0].path[0]?v="path: already selected another recipient":b.gt(s[0].fee)?v="path: already selected a smaller fee":m=!0;m?s.push({path:y,fee:b}):(o.warn("Invalidated received route. Reason:",v,"Route:",y),u.add(h))}}}catch(k){f.e(k)}finally{f.f()}}return s}function vc(e,t,n){if(e)return Object(d["a"])(e);if(t)return Object(Ai["c"])(t,n);var r=n.log,a=n.latest$;return a.pipe(Object(R["a"])("pfsList"),Object(ee["a"])((function(e){return e.length>0})),Object(U["a"])((function(e){return Object(Ai["d"])(e,n)})),Object(yt["a"])((function(e){return r.info("Auto-selecting best PFS from:",e)})),Object(R["a"])(0))}function Oc(e,t,n){return e.price.isZero()?Object(d["a"])({pfs:e,iou:void 0}):zi(e,t,n).pipe(Object(w["a"])((function(t){return{pfs:e,iou:t}})))}function jc(e,t,n,r,a,o,i){var c=i.httpTimeout,s=i.pfsMaxPaths,l=Object(ke["c"])({from:r,to:a,value:Object(we["j"])(32).encode(o),max_paths:s,iou:t?Mi(Mi({},t),{},{amount:Object(we["j"])(32).encode(t.amount),expiration_block:Object(we["j"])(32).encode(t.expiration_block),chain_id:Object(we["j"])(32).encode(t.chain_id)}):void 0});return Object(Ot["a"])("".concat(e.url,"/api/v1/").concat(n,"/paths"),{method:"POST",headers:{"Content-Type":"application/json"},body:l}).pipe(Object(ht["a"])(c),Object(U["a"])(function(){var e=Wi(u.a.mark((function e(n){return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.t0=n,e.next=3,n.text();case 3:return e.t1=e.sent,e.t2=t,e.abrupt("return",{pfsResponse:e.t0,responseText:e.t1,iou:e.t2});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))}function gc(e,t,n,r){var a=r.pfsSafetyMargin,o=r.pfsMaxPaths,i=Object(ke["b"])(t);if(e.ok){var c=Object(we["l"])(Ni["d"],i).result.filter((function(e,t){return t<o})),s=c.map((function(e){var t=e.path,n=e.estimated_fee,r=n.mul(Math.round(1e6*a)).div(1e6);return{path:t,fee:r}}));return{paths:s,iou:n}}var u=Object(we["l"])(Xi,i);return{iou:n,error:u}}function wc(e){var t=e.paths,n=e.error;return void 0!==t||kc(n)}function _c(e,t){return e[0]===t?e.slice(1):e}function kc(e){return 2201===(null===e||void 0===e?void 0:e.error_code)}function Ec(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Tc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ec(Object(n),!0).forEach((function(t){xc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ec(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Sc(e,t){return Rc(e)||Dc(e,t)||Nc(e,t)||Ac()}function Ac(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Nc(e,t){if(e){if("string"===typeof e)return Pc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Pc(e,t):void 0}}function Pc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Dc(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done);r=!0)if(n.push(i.value),t&&n.length===t)break}catch(s){a=!0,o=s}finally{try{r||null==c["return"]||c["return"]()}finally{if(a)throw o}}return n}}function Rc(e){if(Array.isArray(e))return e}function Ic(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function Cc(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Ic(o,r,a,i,c,"next",e)}function c(e){Ic(o,r,a,i,c,"throw",e)}i(void 0)}))}}function Uc(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{initialBlockTime:15e3,fetchEach:10},r=n.initialBlockTime,a=n.fetchEach,o=[-a,0],i=function(e){return Object(l["a"])(Cc(u.a.mark((function n(){return u.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.abrupt("return",t.getBlock(e).then((function(t){return[e,1e3*t.timestamp]})));case 1:case"end":return n.stop()}}),n)}))))};return Object(f["a"])(Object(l["a"])((function(){return o[0]>0&&o[2]?Object(d["a"])(o[2]):Object(d["a"])(r)})),e.pipe(Object(X["b"])("blockNumber"),Object(j["a"])((function(e){return e>=o[0]+a})),Object(g["a"])((function(e){var t=o[0]>0?Object(d["a"])(o):i(Math.max(1,e-a)),n=i(e);return Object(p["a"])([t,n]).pipe(Object(w["a"])((function(e){var t=Sc(e,2),n=t[0],r=t[1],a=(r[1]-n[1])/(r[0]-n[0]);return o=[r[0],r[1],a],a})),Object(_["a"])(q()(b["a"])))})))).pipe(Object(k["a"])(1))}function Lc(e,t,n){return e.pipe(Object(X["b"])("blockNumber"),Object(E["a"])(t),Object(w["a"])((function(e){var t=Sc(e,2),r=t[1];return Math.max(3*r,2*n.httpTimeout)})),Object(T["a"])(2*n.httpTimeout),Object(x["a"])((function(t){return Object(f["a"])(Object(d["a"])(!1),Object(y["a"])(t).pipe(Object(S["a"])(!0),Object(A["a"])(e.pipe(Object(N["a"])(),Object(P["a"])(null)))))})),Object(D["a"])())}function Mc(e,t,n){var r=n.monitoringReward;return!e&&null!==r&&void 0!==r&&r.gt(0)&&r.lte(t)?1:0}function Bc(e,t,n){var r=n.udcBalance$,a=n.blockTime$;return t.pipe(Object(X["b"])("config"),Object(x["a"])((function(n){var o=Tc(Tc({},e),n);return null!==o.caps&&(o.caps=Tc(Tc({},e.caps),n.caps)),null===o.caps||null!=o.caps[G["a"].RECEIVE]?Object(d["a"])(o):Object(p["a"])([r,Lc(t,a,o)]).pipe(Object(w["a"])((function(e){var t=Sc(e,2),n=t[0],r=t[1];return Tc(Tc({},o),{},{caps:Tc(xc({},G["a"].RECEIVE,Mc(r,n,o)),o.caps)})})))})),Object(D["a"])($.a))}function Fc(e,t,n){var r=n.defaultConfig,a=n.log,o=n.provider,i=e.pipe(Object(j["a"])(z["udcDeposit"].success.is),Object(R["a"])("payload","balance"),Object(T["a"])(L["a"]),Object(D["a"])((function(e,t){return e.eq(t)}))),c=Uc(t,o),s=Bc(r,t,{udcBalance$:i,blockTime$:c}),u=Object(Y["c"])(e),l=e.pipe(Object(j["a"])(z["pfsListUpdated"].is),Object(R["a"])("payload","pfsList"),Object(T["a"])([])),f=e.pipe(Object(j["a"])(Q["rtcChannel"].is),Object(I["a"])((function(e,t){return t.payload?Tc(Tc({},e),{},xc({},t.meta.address,t.payload)):W()(t.meta.address,e)}),{}),Object(T["a"])({}));return Object(h["a"])((function(){var e=s.pipe(Object(X["b"])("logger")).subscribe((function(e){return a.setLevel(e||"silent",!1)}));return e.add(s.pipe(Object(X["b"])("pollingInterval")).subscribe((function(e){return o.pollingInterval=e}))),e}),(function(){return Object(p["a"])([Object(p["a"])([e,t,s,u,l,f]),Object(p["a"])([i,c])]).pipe(Object(w["a"])((function(e){var t=Sc(e,2),n=Sc(t[0],6),r=n[0],a=n[1],o=n[2],i=n[3],c=n[4],s=n[5],u=Sc(t[1],2),l=u[0],f=u[1];return{action:r,state:a,config:o,presences:i,pfsList:c,rtc:s,udcBalance:l,blockTime:f}})))}))}var Wc=Tc(Tc(Tc(Tc(Tc({},r),a),o),i),c);function Hc(e,t,n){var r=e.pipe(Object(j["a"])(Object(Z["e"])(K["d"]))),a=e.pipe(Object(C["a"])(B()(Object(Z["e"])(K["d"])),!0)),o=t.pipe(Object(A["a"])(r));return Object(h["a"])((function(){var e=Fc(a,o,n).subscribe(n.latest$);return e.add((function(){return n.latest$.complete()})),e}),(function(){return Object(m["a"])(Object(v["a"])(Object.values(Wc)),n.db.busy$.pipe(Object(N["a"])())).pipe(Object(U["a"])((function(e){return e(a,o,n).pipe(Object(_["a"])((function(t){return n.log.error("Epic error",e.name,e,t),Object(O["a"])(t)})))})),Object(_["a"])((function(e){return Object(d["a"])(Object(K["d"])({reason:e}))})),Object(A["a"])(r))}))}},5778:function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"e",(function(){return f})),n.d(t,"f",(function(){return p})),n.d(t,"g",(function(){return y})),n.d(t,"b",(function(){return _})),n.d(t,"h",(function(){return E})),n.d(t,"a",(function(){return x})),n.d(t,"k",(function(){return N})),n.d(t,"i",(function(){return D})),n.d(t,"j",(function(){return I})),n.d(t,"c",(function(){return $}));var r,a=n("2111"),o=n("ca14"),i=n("9201");(function(e){e["DELIVERED"]="Delivered",e["PROCESSED"]="Processed",e["SECRET_REQUEST"]="SecretRequest",e["SECRET_REVEAL"]="RevealSecret",e["LOCKED_TRANSFER"]="LockedTransfer",e["UNLOCK"]="Unlock",e["LOCK_EXPIRED"]="LockExpired",e["WITHDRAW_REQUEST"]="WithdrawRequest",e["WITHDRAW_CONFIRMATION"]="WithdrawConfirmation",e["WITHDRAW_EXPIRED"]="WithdrawExpired",e["PFS_CAPACITY_UPDATE"]="PFSCapacityUpdate",e["PFS_FEE_UPDATE"]="PFSFeeUpdate",e["MONITOR_REQUEST"]="RequestMonitoring"})(r||(r={}));var c=a["p"](a["v"]({message_identifier:Object(o["j"])(8)})),s=a["p"](a["v"]({type:a["l"](r.DELIVERED),delivered_message_identifier:Object(o["j"])(8)})),u=s,l=a["p"](a["j"]([a["v"]({type:a["l"](r.PROCESSED)}),c])),f=l,d=a["p"](a["j"]([a["v"]({type:a["l"](r.SECRET_REQUEST),payment_identifier:Object(o["j"])(8),secrethash:o["c"],amount:Object(o["j"])(32),expiration:Object(o["j"])(32)}),c])),p=d,b=a["p"](a["j"]([a["v"]({type:a["l"](r.SECRET_REVEAL),secret:o["f"]}),c])),y=b,h=a["p"](a["j"]([a["v"]({chain_id:Object(o["j"])(32),token_network_address:o["a"],channel_identifier:Object(o["j"])(32),nonce:Object(o["j"])(8),transferred_amount:Object(o["j"])(32),locked_amount:Object(o["j"])(32),locksroot:o["c"]}),c])),m=a["p"](a["v"]({route:a["q"](o["a"])})),v=m,O=a["p"](a["v"]({routes:a["q"](v)})),j=O,g=a["p"](a["j"]([a["v"]({payment_identifier:Object(o["j"])(8),token:o["a"],recipient:o["a"],lock:i["d"],target:o["a"],initiator:o["a"],metadata:j}),h])),w=a["p"](a["j"]([a["v"]({type:a["l"](r.LOCKED_TRANSFER)}),g])),_=w,k=a["p"](a["j"]([a["v"]({type:a["l"](r.UNLOCK),payment_identifier:Object(o["j"])(8),secret:o["f"]}),h])),E=k,T=a["p"](a["j"]([a["v"]({type:a["l"](r.LOCK_EXPIRED),recipient:o["a"],secrethash:o["c"]}),h])),x=T,S=a["p"](a["v"]({chain_id:Object(o["j"])(32),token_network_address:o["a"],channel_identifier:Object(o["j"])(32),participant:o["a"],total_withdraw:Object(o["j"])(32),nonce:Object(o["j"])(8),expiration:Object(o["j"])(32)})),A=a["p"](a["j"]([a["v"]({type:a["l"](r.WITHDRAW_REQUEST)}),S,c])),N=A,P=a["p"](a["j"]([a["v"]({type:a["l"](r.WITHDRAW_CONFIRMATION)}),S,c])),D=P,R=a["p"](a["j"]([a["v"]({type:a["l"](r.WITHDRAW_EXPIRED)}),S,c])),I=R,C=a["p"](a["v"]({type:a["l"](r.PFS_CAPACITY_UPDATE),canonical_identifier:a["p"](a["v"]({chain_identifier:Object(o["j"])(32),token_network_address:o["a"],channel_identifier:Object(o["j"])(32)})),updating_participant:o["a"],other_participant:o["a"],updating_nonce:Object(o["j"])(8),other_nonce:Object(o["j"])(8),updating_capacity:Object(o["j"])(32),other_capacity:Object(o["j"])(32),reveal_timeout:Object(o["j"])(32)})),U=C,L=a["p"](a["v"]({type:a["l"](r.PFS_FEE_UPDATE),canonical_identifier:a["p"](a["v"]({chain_identifier:Object(o["j"])(32),token_network_address:o["a"],channel_identifier:Object(o["j"])(32)})),updating_participant:o["a"],timestamp:a["s"],fee_schedule:a["v"]({cap_fees:a["e"],imbalance_penalty:a["x"]([a["m"],a["d"](a["u"]([Object(o["j"])(32),Object(o["d"])(32)]))]),proportional:Object(o["d"])(32),flat:Object(o["d"])(32)})})),M=L,B=a["p"](a["v"]({type:a["l"](r.MONITOR_REQUEST),balance_proof:a["v"]({chain_id:Object(o["j"])(32),token_network_address:o["a"],channel_identifier:Object(o["j"])(32),nonce:Object(o["j"])(8),balance_hash:o["c"],additional_hash:o["c"],signature:o["g"]}),monitoring_service_contract_address:o["a"],non_closing_participant:o["a"],non_closing_signature:o["g"],reward_amount:Object(o["j"])(32)})),F=B,W=[u,f,p,y,_,E,x,N,D,I,U,M,F],H=W,$=a["x"](H)},"59ec":function(e,t,n){"use strict";n.d(t,"b",(function(){return U})),n.d(t,"c",(function(){return L})),n.d(t,"g",(function(){return M})),n.d(t,"f",(function(){return B})),n.d(t,"e",(function(){return F})),n.d(t,"i",(function(){return W})),n.d(t,"j",(function(){return $})),n.d(t,"h",(function(){return G})),n.d(t,"a",(function(){return X})),n.d(t,"d",(function(){return Y}));var r,a=n("36d8"),o=n.n(a),i=n("c00b"),c=n("b97c"),s=n("007a"),u=n("6da0"),l=n("09d5"),f=n("905c9"),d=n("258b"),p=n("cefa"),b=n("7f4a"),y=n("0eb1"),h=n("34ba"),m=n("331d"),v=n("ae8f"),O=n("8120"),j=n("f2df"),g=n("ca14"),w=n("46f7"),_=n("9201"),k=n("0ba5"),E=n("1a78");function T(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function x(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){T(o,r,a,i,c,"next",e)}function c(e){T(o,r,a,i,c,"throw",e)}i(void 0)}))}}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function A(e,t){return D(e)||P(e,t)||I(e,t)||N()}function N(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function P(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done);r=!0)if(n.push(i.value),t&&n.length===t)break}catch(s){a=!0,o=s}finally{try{r||null==c["return"]||c["return"]()}finally{if(a)throw o}}return n}}function D(e){if(Array.isArray(e))return e}function R(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=I(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function I(e,t){if(e){if("string"===typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?C(e,t):void 0}}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function U(e){var t,n=[],r=R(e);try{for(r.s();!(t=r.n()).done;){var a=t.value;n.push(Object(w["a"])(a.expiration,32),Object(w["a"])(a.amount,32),a.secrethash)}}catch(o){r.e(o)}finally{r.f()}return Object(u["a"])(Object(c["b"])(n))}function L(e){return Object(l["c"])(e)}function M(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32;return Object(c["i"])(Object(s["a"])(e))}function B(){return i["a"].from(Date.now())}function F(){return i["a"].from(Date.now())}function W(e){return"_id"in e?e._id:"".concat(e.direction,":").concat(e.secrethash)}var H=new RegExp("^(".concat(Object.values(E["a"]).join("|"),"):(0x[a-f0-9]{64})$"),"i");function $(e){var t=e.match(H);Object(j["a"])(t,"Invalid transferKey format");var n=A(t,3),r=n[1],a=n[2];return{direction:r,secrethash:a}}var V=(r={},S(r,E["c"].expired,(function(e){var t;return null===(t=e.expiredProcessed)||void 0===t?void 0:t.ts})),S(r,E["c"].unlocked,(function(e){var t;return null===(t=e.unlockProcessed)||void 0===t?void 0:t.ts})),S(r,E["c"].expiring,(function(e){var t;return null===(t=e.expired)||void 0===t?void 0:t.ts})),S(r,E["c"].unlocking,(function(e){var t;return null===(t=e.unlock)||void 0===t?void 0:t.ts})),S(r,E["c"].registered,(function(e){var t;return null===(t=e.secretRegistered)||void 0===t?void 0:t.ts})),S(r,E["c"].revealed,(function(e){var t;return null===(t=e.secretReveal)||void 0===t?void 0:t.ts})),S(r,E["c"].requested,(function(e){var t;return null===(t=e.secretRequest)||void 0===t?void 0:t.ts})),S(r,E["c"].closed,(function(e){var t;return null===(t=e.channelClosed)||void 0===t?void 0:t.ts})),S(r,E["c"].received,(function(e){var t;return null===(t=e.transferProcessed)||void 0===t?void 0:t.ts})),S(r,E["c"].pending,(function(e){return e.transfer.ts})),r);function q(e){for(var t=0,n=Object.entries(V);t<n.length;t++){var r=A(n[t],2),a=r[0],o=r[1],i=o(e);if(void 0!==i)return a}return E["c"].pending}function K(e){return!!(e.unlockProcessed||e.expiredProcessed||e.secretRegistered||e.channelSettled)}function G(e){var t=q(e),n=new Date(e.transfer.ts),r=new Date(V[t](e)),a=e.transfer,o=e.direction,i=a.lock.amount.sub(e.fee),c=e.secretRequest&&e.secretRequest.amount.lt(i),s=!!(e.secretReveal||e.unlock||e.secretRegistered)||!(c||e.expired||e.channelClosed)&&void 0,u=K(e);return{key:W(e),secrethash:a.lock.secrethash,direction:o,status:t,initiator:a.initiator,partner:e.partner,target:a.target,metadata:a.metadata,paymentId:a.payment_identifier,chainId:a.chain_id.toNumber(),token:a.token,tokenNetwork:a.token_network_address,channelId:a.channel_identifier,value:i,fee:e.fee,amount:a.lock.amount,expirationBlock:a.lock.expiration.toNumber(),startedAt:n,changedAt:r,success:s,completed:u,secret:e.secret}}function X(e,t,n,r){return r===f["a"]?Object(h["a"])(_["b"]):Object(m["a"])((function(){return e.find({selector:{channel:Object(O["e"])(t),direction:n}})})).pipe(Object(d["a"])((function(e){var t=e.docs;return Object(v["a"])(t)})),Object(d["a"])((function(e){var t=Object(g["l"])(E["d"],e);return Object(v["a"])([t.transfer,t.unlock,t.expired])})),Object(p["a"])(g["n"]),Object(b["a"])(k["g"]),Object(y["a"])((function(e){return Object(k["f"])(e)===r})))}function Y(e,t,n){return Q.apply(this,arguments)}function Q(){return Q=x(o.a.mark((function e(t,n,r){return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("string"!==typeof r&&(r=W(r)),"address"in t){e.next=5;break}return e.next=4,t.pipe(Object(y["a"])()).toPromise();case 4:t=e.sent;case 5:if(!(r in t.transfers)){e.next=7;break}return e.abrupt("return",t.transfers[r]);case 7:return e.t0=g["l"],e.t1=E["d"],e.next=11,n.get(r);case 11:return e.t2=e.sent,e.abrupt("return",(0,e.t0)(e.t1,e.t2));case 13:case"end":return e.stop()}}),e)}))),Q.apply(this,arguments)}},"5bbb":function(e,t,n){"use strict";n.d(t,"a",(function(){return v})),n.d(t,"b",(function(){return O}));var r,a=n("2111"),o=n("24c6"),i=n("87b8"),c=n("2b5b"),s=n("ca14"),u=n("1b23"),l=a["x"]([a["s"],a["n"],a["e"],a["m"]],"CapsPrimitive"),f=a["x"]([l,a["d"](l)],"CapsValue"),d=a["p"](a["r"](a["s"],f),"Caps");function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=a["v"]({urls:a["x"]([a["s"],a["d"](a["s"])])}),m=a["p"](a["j"]([a["v"]({matrixServerLookup:a["s"],revealTimeout:a["n"],settleTimeout:a["n"],httpTimeout:a["n"],discoveryRoom:a["x"]([a["s"],a["m"]]),pfsRoom:a["x"]([a["s"],a["m"]]),monitoringRoom:a["x"]([a["s"],a["m"]]),pfs:a["x"]([s["a"],a["s"],a["m"]]),pfsSafetyMargin:a["n"],pfsMaxPaths:a["n"],pfsMaxFee:Object(s["j"])(32),pfsIouTimeout:a["n"],matrixExcessRooms:a["n"],confirmationBlocks:a["n"],monitoringReward:a["x"]([a["m"],Object(s["j"])(32)]),logger:a["k"]((r={},y(r,"",null),y(r,"trace",null),y(r,"debug",null),y(r,"info",null),y(r,"warn",null),y(r,"error",null),r)),caps:a["x"]([a["m"],d]),fallbackIceServers:a["d"](h),rateToSvt:a["r"](a["s"],Object(s["j"])(32)),pollingInterval:a["n"],minimumAllowance:Object(s["j"])(32),autoSettle:a["e"]}),a["o"]({matrixServer:a["s"],subkey:a["e"]})])),v=a["p"](a["g"](a["o"](b(b({},m.type.types["0"].props),m.type.types["1"].props))));function O(e,t){var n,r=e.network,a=Object(u["b"])(r),s=1===r.chainId?"https://raw.githubusercontent.com/raiden-network/raiden-service-bundle/master/known_servers/known_servers-production-v1.2.0.json":"https://raw.githubusercontent.com/raiden-network/raiden-service-bundle/master/known_servers/known_servers-development-v1.2.0.json";return b({matrixServerLookup:s,settleTimeout:500,revealTimeout:50,httpTimeout:3e4,discoveryRoom:"raiden_".concat(a,"_discovery"),pfsRoom:"raiden_".concat(a,"_path_finding"),monitoringRoom:"raiden_".concat(a,"_monitoring"),pfs:"",matrixExcessRooms:3,pfsSafetyMargin:1,pfsMaxPaths:3,pfsMaxFee:Object(o["d"])("0.05"),pfsIouTimeout:2e5,confirmationBlocks:5,monitoringReward:Object(o["d"])("5"),logger:"info",caps:(n={},y(n,c["a"].DELIVERY,0),y(n,c["a"].MEDIATE,0),y(n,c["a"].WEBRTC,1),y(n,c["a"].TO_DEVICE,1),n),fallbackIceServers:[{urls:"stun:stun.l.google.com:19302"}],rateToSvt:{},pollingInterval:5e3,minimumAllowance:i["a"],autoSettle:!1},t)}},"5c73":function(e,t,n){"use strict";n("12bc")},6485:function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e[e["LOW"]=0]="LOW",e[e["HIGH"]=1]="HIGH"}(r||(r={}))},"64ba":function(e,t,n){"use strict";n("1a92")},"65e1":function(e,t,n){"use strict";n.d(t,"a",(function(){return v})),n.d(t,"c",(function(){return O})),n.d(t,"b",(function(){return j}));var r=n("2111"),a=n("30c0"),o=n("bbdc"),i=n("5bbb"),c=n("f5be"),s=n("ca14"),u=n("9201"),l=n("b8ff"),f=n("ee57"),d=n("d011"),p=n("1a78");function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=r["p"](r["v"]({address:s["a"],chainId:r["n"],registry:s["a"],blockNumber:r["n"],config:i["a"],channels:r["p"](r["r"](u["c"],l["a"])),oldChannels:r["p"](r["r"](r["s"],l["a"])),tokens:r["p"](r["r"](r["s"],s["a"])),transport:r["p"](r["o"]({server:r["s"],setup:f["a"],rooms:r["p"](r["r"](r["s"],r["d"](r["s"])))})),transfers:r["p"](r["r"](r["s"],p["d"])),iou:r["p"](r["r"](r["s"],r["r"](r["s"],Object(s["h"])(d["a"])))),pendingTxs:r["q"](c["a"])}),"RaidenState"),v=m;function O(e){var t=e.network,n=e.address,r=e.contractsInfo,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return y({address:n,chainId:t.chainId,registry:r.TokenNetworkRegistry.address,blockNumber:r.TokenNetworkRegistry.block_number,channels:{},oldChannels:{},tokens:{},transport:{},transfers:{},iou:{},pendingTxs:[],config:{}},a)}var j=O({network:Object(o["a"])("unspecified"),address:a["a"],contractsInfo:{TokenNetworkRegistry:{address:a["a"],block_number:0},ServiceRegistry:{address:a["a"],block_number:0},UserDeposit:{address:a["a"],block_number:0},SecretRegistry:{address:a["a"],block_number:0},MonitoringService:{address:a["a"],block_number:0},OneToN:{address:a["a"],block_number:0}}})},"66bc":function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("blurred-overlay",{attrs:{show:e.visible,fullscreen:""}},[n("v-dialog",{attrs:{value:e.visible,width:"350","hide-overlay":"",dark:"",persistent:e.hideClose},on:{"click:outside":function(t){return e.close()}}},[n("v-card",{staticClass:"raiden-dialog",attrs:{"data-cy":"raiden_dialog"}},[e.hideClose?e._e():n("v-btn",{staticClass:"raiden-dialog__close",attrs:{icon:""},on:{click:function(t){return e.close()}}},[n("v-icon",[e._v("mdi-close")])],1),e._t("default")],2)],1)],1)},a=[],o=n("9ab4"),i=n("5cf9"),c=n("0a08");function s(e){return s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),e}function d(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}function b(e){var t=m();return function(){var n,r=v(e);if(t){var a=v(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return y(this,n)}}function y(e,t){return!t||"object"!==s(t)&&"function"!==typeof t?h(e):t}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}var O=function(e){d(n,e);var t=b(n);function n(){return u(this,n),t.apply(this,arguments)}return f(n,[{key:"close",value:function(){return!0}}]),n}(i["e"]);Object(o["a"])([Object(i["d"])({required:!0,default:!1,type:Boolean})],O.prototype,"visible",void 0),Object(o["a"])([Object(i["d"])({required:!1,default:!1,type:Boolean})],O.prototype,"hideClose",void 0),Object(o["a"])([Object(i["b"])()],O.prototype,"close",null),O=Object(o["a"])([Object(i["a"])({components:{BlurredOverlay:c["a"]}})],O);var j=O,g=j,w=(n("64ba"),n("a6c2")),_=n("411c"),k=n.n(_),E=n("9c46"),T=n("d58c"),x=n("c56b"),S=n("b503"),A=Object(w["a"])(g,r,a,!1,null,"b117e868",null);t["a"]=A.exports;k()(A,{VBtn:E["a"],VCard:T["a"],VDialog:x["a"],VIcon:S["a"]})},"6c61":function(e,t,n){"use strict";n.d(t,"a",(function(){return bt}));var r=n("2bde"),a=n.n(r),o=n("30c0"),i=n("87b8"),c=n("d276");function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t,r=arguments.length>1?arguments[1]:void 0;for(var a in e){var o,i=e[a];if(i){var c=null!==(o=n[a])&&void 0!==o?o:t[a],s=i(c,r);s!==c&&(n=u(u({},n),{},l({},a,s)))}}return n}}var d=n("65e1"),p=n("f5be"),b=n("83ee"),y=n("1a78"),h=n("f799"),m=n("b8ff"),v=n("8120"),O=n("9201");function j(e){return j="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j(e)}function g(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=D(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function w(e,t){if(null==e)return{};var n,r,a=_(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function _(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}function k(e){var t=E(e,"string");return"symbol"===j(t)?t:String(t)}function E(e,t){if("object"!==j(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==j(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function T(e,t){return A(e)||S(e,t)||D(e,t)||x()}function x(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function S(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done);r=!0)if(n.push(i.value),t&&n.length===t)break}catch(s){a=!0,o=s}finally{try{r||null==c["return"]||c["return"]()}finally{if(a)throw o}}return n}}function A(e){if(Array.isArray(e))return e}function N(e){return I(e)||R(e)||D(e)||P()}function P(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function D(e,t){if(e){if("string"===typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?C(e,t):void 0}}function R(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function I(e){if(Array.isArray(e))return C(e)}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(Object(n),!0).forEach((function(t){M(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function M(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function B(e){if(null==e)throw new TypeError("Cannot destructure undefined")}var F=Object(c["d"])(d["b"].blockNumber).handle(h["newBlock"],(function(e,t){B(e);var n=t.payload;return n.blockNumber})),W=Object(c["d"])(d["b"].tokens).handle(h["tokenMonitored"],(function(e,t){var n=t.payload,r=n.token,a=n.tokenNetwork;return e[r]===a?e:L(L({},e),{},M({},r,a))}));function H(e,t){return e.filter((function(e){return e.type!==t.type||t.payload.txHash!==e.payload.txHash}))}var $=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d["b"].pendingTxs,t=arguments.length>1?arguments[1]:void 0;if(p["a"].is(t)){if(void 0===t.payload.confirmed)return[].concat(N(H(e,t)),[t]);var n=H(e,t);return n.length!==e.length?n:e}return e},V={address:o["a"],deposit:i["f"],withdraw:i["f"],locks:[],balanceProof:O["b"],pendingWithdraws:[],nextNonce:i["c"]};function q(e,t){var n,r,a=Object(v["d"])(t.meta),o=e.channels[a];if((null!==(n=null===o||void 0===o?void 0:o.openBlock)&&void 0!==n?n:0)>=t.payload.txBlock||(null!==(r=null===o||void 0===o?void 0:o.id)&&void 0!==r?r:0)>=t.payload.id||!t.payload.confirmed)return e;var i={_id:Object(v["e"])(L(L({},t.meta),{},{id:t.payload.id})),id:t.payload.id,state:m["b"].open,token:t.payload.token,tokenNetwork:t.meta.tokenNetwork,settleTimeout:t.payload.settleTimeout,isFirstParticipant:t.payload.isFirstParticipant,openBlock:t.payload.txBlock,own:L(L({},V),{},{address:e.address}),partner:L(L({},V),{},{address:t.meta.partner})};return L(L({},e),{},{channels:L(L({},e.channels),{},M({},a,i))})}function K(e,t){var n,r;if(!t.payload.confirmed)return e;var a=Object(v["d"])(t.meta),o=e.channels[a];if((null===(n=o)||void 0===n?void 0:n.state)!==m["b"].open||o.id!==t.payload.id)return e;var i=t.payload.participant===o.partner.address?"partner":"own",c=h["channelWithdrawn"].is(t)?["withdraw",t.payload.totalWithdraw,o[i].pendingWithdraws.filter((function(e){return e.total_withdraw.gt(t.payload.totalWithdraw)}))]:["deposit",t.payload.totalDeposit,o[i].pendingWithdraws],s=T(c,3),u=s[0],l=s[1],f=s[2];return l.lte(o[i][u])?e:(o=L(L({},o),{},M({},i,L(L({},o[i]),{},(r={},M(r,u,l),M(r,"pendingWithdraws",f),r)))),L(L({},e),{},{channels:L(L({},e.channels),{},M({},a,o))}))}function G(e,t){var n,r=Object(v["d"])(t.meta),a=e.channels[r];if((null===(n=a)||void 0===n?void 0:n.id)!==t.payload.id)return e;if(void 0===t.payload.confirmed&&a.state===m["b"].open)a=L(L({},a),{},{state:m["b"].closing});else{if("closeBlock"in a||!t.payload.confirmed)return e;a=L(L({},a),{},{state:m["b"].closed,closeBlock:t.payload.txBlock,closeParticipant:t.payload.participant})}return L(L({},e),{},{channels:L(L({},e.channels),{},M({},r,a))})}function X(e,t){var n=Object(v["d"])(t.meta),r=e.channels[n];if(!r)return e;if(h["channelClose"].request.is(t)&&r.state===m["b"].open)r=L(L({},r),{},{state:m["b"].closing});else if(h["channelSettle"].request.is(t)&&r.state===m["b"].settleable)r=L(L({},r),{},{state:m["b"].settling});else{if(!h["channelSettleable"].is(t)||r.state!==m["b"].closed)return e;r=L(L({},r),{},{state:m["b"].settleable})}return L(L({},e),{},{channels:L(L({},e.channels),{},M({},n,r))})}function Y(e,t){var n=Object(v["d"])(t.meta),r=e.channels[n];if((null===r||void 0===r?void 0:r.id)!==t.payload.id||!("closeBlock"in r))return e;if(void 0===t.payload.confirmed&&r.state!==m["b"].settling)return L(L({},e),{},{channels:L(L({},e.channels),{},M({},n,L(L({},r),{},{state:m["b"].settling})))});if(t.payload.confirmed){var a=e.channels,o=(a[n],w(a,[n].map(k)));return L(L({},e),{},{channels:o,oldChannels:L(L({},e.oldChannels),{},M({},Object(v["e"])(r),L(L({},r),{},{state:m["b"].settled,settleBlock:t.payload.txBlock})))})}return e}function Q(e,t,n){var r=!1,a=e.map((function(e){return e.secrethash!==t||e.registered||e.expiration.lte(n)?e:(r=!0,L(L({},e),{},{registered:!0}))}));return r?a:e}function z(e,t){if(!t.payload.confirmed)return e;var n,r=t.meta.direction===y["a"].SENT?"own":"partner",a=N(Object.keys(e.channels)),o=g(a);try{for(o.s();!(n=o.n()).done;){var i=n.value,c=e.channels[i],s=Q(c[r].locks,t.meta.secrethash,t.payload.txBlock);s!==c[r].locks&&(e=L(L({},e),{},{channels:L(L({},e.channels),{},M({},i,L(L({},c),{},M({},r,L(L({},c[r]),{},{locks:s})))))}))}}catch(u){o.e(u)}finally{o.f()}return e}var Z=Object(c["d"])(d["b"]).handle(h["channelOpen"].success,q).handle([h["channelDeposit"].success,h["channelWithdrawn"]],K).handle([h["channelClose"].request,h["channelSettleable"],h["channelSettle"].request],X).handle(h["channelClose"].success,G).handle(h["channelSettle"].success,Y).handle(b["transferSecretRegister"].success,z),J=f({blockNumber:F,tokens:W,pendingTxs:$},d["b"]),ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d["b"],t=arguments.length>1?arguments[1]:void 0;return[J,Z].reduce((function(e,n){return n(e,t)}),e)},te=ee,ne=n("d890");function re(e){return ce(e)||ie(e)||oe(e)||ae()}function ae(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function oe(e,t){if(e){if("string"===typeof e)return se(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?se(e,t):void 0}}function ie(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function ce(e){if(Array.isArray(e))return se(e)}function se(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ue(Object(n),!0).forEach((function(t){fe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ue(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function de(e,t){if(null==e)return{};var n,r,a=pe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function pe(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}var be,ye,he=Object(c["d"])(d["b"].transport).handle(ne["matrixSetup"],(function(e,t){e.rooms;var n=de(e,["rooms"]);return le(le({},e.server!==t.payload.server?n:e),t.payload)})).handle(ne["matrixRoom"],(function(e,t){var n,r;return le(le({},e),{},{rooms:le(le({},e.rooms),{},fe({},t.meta.address,[t.payload.roomId].concat(re((null!==(n=null===(r=e.rooms)||void 0===r?void 0:r[t.meta.address])&&void 0!==n?n:[]).filter((function(e){return e!==t.payload.roomId}))))))})})).handle(ne["matrixRoomLeave"],(function(e,t){var n,r;return le(le({},e),{},{rooms:le(le({},e.rooms),{},fe({},t.meta.address,(null!==(n=null===(r=e.rooms)||void 0===r?void 0:r[t.meta.address])&&void 0!==n?n:[]).filter((function(e){return e!==t.payload.roomId}))))})})),me=f({transport:he},d["b"]),ve=me,Oe=n("ee9f"),je=n.n(Oe),ge=n("ca14"),we=n("7de2"),_e=n("59ec");function ke(e){return ke="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ke(e)}function Ee(e,t){if(null==e)return{};var n,r,a=Te(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Te(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}function xe(e){var t=Se(e,"string");return"symbol"===ke(t)?t:String(t)}function Se(e,t){if("object"!==ke(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==ke(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function Ae(e){return Re(e)||De(e)||Pe(e)||Ne()}function Ne(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Pe(e,t){if(e){if("string"===typeof e)return Ie(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ie(e,t):void 0}}function De(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function Re(e){if(Array.isArray(e))return Ie(e)}function Ie(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ce(Object(n),!0).forEach((function(t){Le(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Le(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Me=(be={},Le(be,y["a"].SENT,"own"),Le(be,y["a"].RECEIVED,"partner"),be);function Be(e,t){var n,r=Object(_e["i"])(t.meta);if(!(r in e.transfers))return e;var a=e.transfers[r];return a.secret||(e=Ue(Ue({},e),{},{transfers:Ue(Ue({},e.transfers),{},Le({},r,Ue(Ue({},a),{},{secret:t.payload.secret})))})),b["transferSecretRegister"].success.is(t)&&t.payload.confirmed&&t.payload.txBlock!==(null===(n=a.secretRegistered)||void 0===n?void 0:n.txBlock)&&t.payload.txBlock<a.expiration&&(e=Ue(Ue({},e),{},{transfers:Ue(Ue({},e.transfers),{},Le({},r,Ue(Ue({},a),{},{secretRegistered:Object(ge["p"])(je()(["txHash","txBlock"],t.payload))})))})),e}function Fe(e,t){var n,r,a,o=t.payload.message,i=t.meta.secrethash,c=Object(_e["i"])(t.meta),s=o.token_network_address,u=t.payload.partner,l=Object(v["d"])({tokenNetwork:s,partner:u}),f=Me[t.meta.direction],d=e.channels[l],p=c in e.transfers,y=b["transferUnlock"].success.is(t)?"unlock":"expired";if(b["transferSigned"].is(t)&&p||!b["transferSigned"].is(t)&&(!p||y in e.transfers[c])||(null===(n=d)||void 0===n?void 0:n.state)!==m["b"].open||!o.nonce.eq(d[f].nextNonce))return e;switch(t.type){case b["transferSigned"].type:r=[].concat(Ae(d[f].locks),[t.payload.message.lock]),a=Ue(Ue({_id:c,channel:Object(v["e"])(d)},t.meta),{},{transfer:Object(ge["p"])(t.payload.message),fee:t.payload.fee,expiration:t.payload.message.lock.expiration.toNumber(),partner:u,cleared:0});break;case b["transferUnlock"].success.type:case b["transferExpire"].success.type:r=d[f].locks.filter((function(e){return e.secrethash!==i})),a=Ue(Le({},y,Object(ge["p"])(t.payload.message)),e.transfers[c]);break}return d=Ue(Ue({},d),{},Le({},f,Ue(Ue({},d[f]),{},{locks:r,balanceProof:Object(we["e"])(o),nextNonce:d[f].nextNonce.add(1)}))),Ue(Ue({},e),{},{channels:Ue(Ue({},e.channels),{},Le({},l,d)),transfers:Ue(Ue({},e.transfers),{},Le({},c,a))})}var We=(ye={},Le(ye,b["transferSecretRequest"].type,"secretRequest"),Le(ye,b["transferSecretReveal"].type,"secretReveal"),Le(ye,b["transferProcessed"].type,"transferProcessed"),Le(ye,b["transferUnlockProcessed"].type,"unlockProcessed"),Le(ye,b["transferExpireProcessed"].type,"expiredProcessed"),ye);function He(e,t){var n=Object(_e["i"])(t.meta),r=We[t.type];return!(n in e.transfers)||!b["transferSecretRequest"].is(t)&&r in e.transfers[n]||(e=Ue(Ue({},e),{},{transfers:Ue(Ue({},e.transfers),{},Le({},n,Ue(Ue({},e.transfers[n]),{},Le({},r,Object(ge["p"])(t.payload.message)))))})),e}function $e(e,t){var n=Object(_e["i"])(t.meta);if(n in e.transfers){var r=e.transfers,a=(r[n],Ee(r,[n].map(xe)));e=Ue(Ue({},e),{},{transfers:a})}return e}function Ve(e,t){var n=Object(_e["i"])(t.meta);return n in e.transfers||(e=Ue(Ue({},e),{},{transfers:Ue(Ue({},e.transfers),{},Le({},n,Ue(Ue({},t.payload),{},{cleared:0})))})),e}function qe(e,t){if(!t.payload.confirmed)return e;for(var n=h["channelClose"].success.is(t)?"channelClosed":"channelSettled",r=Object(v["e"])(Ue({id:t.payload.id},t.meta)),a=0,o=Object.values(e.transfers);a<o.length;a++){var i=o[a];i.channel===r&&(e=Ue(Ue({},e),{},{transfers:Ue(Ue({},e.transfers),{},Le({},Object(_e["i"])(i),Ue(Ue({},i),{},Le({},n,Object(ge["p"])(je()(["txHash","txBlock"],t.payload))))))}))}return e}function Ke(e,t){var n,r=t.payload.message,a=Object(v["d"])(t.meta),o=e.channels[a],i=t.meta.direction===y["a"].RECEIVED!==b["withdrawMessage"].success.is(t)?"partner":"own";if((null===(n=o)||void 0===n?void 0:n.state)!==m["b"].open||!r.nonce.eq(o[i].nextNonce))return e;o=Ue(Ue({},o),{},Le({},i,Ue(Ue({},o[i]),{},{nextNonce:o[i].nextNonce.add(1)})));var c=t.meta.direction===y["a"].RECEIVED?"partner":"own",s=[].concat(Ae(o[c].pendingWithdraws),[t.payload.message]);return o=Ue(Ue({},o),{},Le({},c,Ue(Ue({},o[c]),{},{pendingWithdraws:s}))),Ue(Ue({},e),{},{channels:Ue(Ue({},e.channels),{},Le({},a,o))})}function Ge(e,t){var n,r=Object(v["d"])(t.meta),a=e.channels[r];if((null===(n=a)||void 0===n?void 0:n.state)!==m["b"].open)return e;var o=t.meta.direction===y["a"].RECEIVED?"partner":"own",i=a[o].pendingWithdraws.filter((function(e){return!e.expiration.eq(t.meta.expiration)||!e.total_withdraw.eq(t.meta.totalWithdraw)}));return a=Ue(Ue({},a),{},Le({},o,Ue(Ue({},a[o]),{},{pendingWithdraws:i}))),Ue(Ue({},e),{},{channels:Ue(Ue({},e.channels),{},Le({},r,a))})}var Xe=Object(c["d"])(d["b"]).handle([b["transferSecret"],b["transferSecretRegister"].success],Be).handle([b["transferSigned"],b["transferUnlock"].success,b["transferExpire"].success],Fe).handle([b["transferProcessed"],b["transferUnlockProcessed"],b["transferExpireProcessed"],b["transferSecretRequest"],b["transferSecretReveal"]],He).handle(b["transferClear"],$e).handle(b["transferLoad"],Ve).handle([h["channelClose"].success,h["channelSettle"].success],qe).handle([b["withdrawMessage"].request,b["withdrawMessage"].success,b["withdrawExpire"].success],Ke).handle(b["withdrawCompleted"],Ge),Ye=Xe,Qe=n("eed9");function ze(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ze(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ze(Object(n),!0).forEach((function(t){Je(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ze(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Je(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var et=Object(c["d"])(d["b"].iou).handle(Qe["iouPersist"],(function(e,t){return Ze(Ze({},e),{},Je({},t.meta.tokenNetwork,Ze(Ze({},e[t.meta.tokenNetwork]),{},Je({},t.meta.serviceAddress,t.payload.iou))))})).handle(Qe["iouClear"],(function(e,t){return a()([t.meta.tokenNetwork,t.meta.serviceAddress],e)})),tt=f({iou:et},d["b"]),nt=tt;function rt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function at(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rt(Object(n),!0).forEach((function(t){ot(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ot(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function it(e,t){return ft(e)||lt(e,t)||st(e,t)||ct()}function ct(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function st(e,t){if(e){if("string"===typeof e)return ut(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ut(e,t):void 0}}function ut(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function lt(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done);r=!0)if(n.push(i.value),t&&n.length===t)break}catch(s){a=!0,o=s}finally{try{r||null==c["return"]||c["return"]()}finally{if(a)throw o}}return n}}function ft(e){if(Array.isArray(e))return e}var dt=Object(c["d"])(d["b"]).handle(p["c"],(function(e,t){for(var n=t.payload,r=e.config,o=0,i=Object.entries(n);o<i.length;o++){var c=it(i[o],2),s=c[0],u=c[1];void 0!==u?r=at(at({},r),{},ot({},s,u)):s in r&&(r=a()(s,r))}return r===e.config?e:at(at({},e),{},{config:r})})),pt={configReducer:dt,channelsReducer:te,transportReducer:ve,transfersReducer:Ye,servicesReducer:nt},bt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d["b"],t=arguments.length>1?arguments[1]:void 0;return Object.values(pt).reduce((function(e,n){return n(e,t)}),e)}},"71a0":function(e,t,n){"use strict";n("f265")},"73da":function(e,t,n){e.exports=n.p+"img/back_arrow.268247fb.svg"},"74e4":function(e,t,n){"use strict";n.d(t,"a",(function(){return se})),n.d(t,"d",(function(){return ue})),n.d(t,"g",(function(){return fe})),n.d(t,"c",(function(){return he})),n.d(t,"f",(function(){return ve})),n.d(t,"h",(function(){return _e})),n.d(t,"b",(function(){return Ne})),n.d(t,"e",(function(){return De}));var r,a=n("36d8"),o=n.n(a),i=n("0255"),c=n("331d"),s=n("2023"),u=n("a92c"),l=n("a489"),f=n("ae8f"),d=n("258b"),p=n("4a9c"),b=n("231d"),y=n("2ac2"),h=n("459b"),m=n("c00b"),v=n("905c9"),O=n("111d"),j=n.n(O),g=n("1b87"),w=n.n(g),_=n("590d"),k=n("a914"),E=n("ee6c"),T=n("8120"),x=n("ca14");function S(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function A(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){S(o,r,a,i,c,"next",e)}function c(e){S(o,r,a,i,c,"throw",e)}i(void 0)}))}}function N(){return P.apply(this,arguments)}function P(){return P=A(o.a.mark((function e(){var t,a,i,c,s,u,l;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!r){e.next=2;break}return e.abrupt("return",r);case 2:if(!("JEST_WORKER_ID"in Object({VUE_APP_PFS:"https://pfs.demo001.env.raiden.network",VUE_APP_MATRIX_SERVER:"https://transport.demo001.env.raiden.network",VUE_APP_HUB:"hub.raiden.eth",VUE_APP_ALLOW_MAINNET:"false",VUE_APP_IMPRINT:"https://raiden.network/privacy.html",NODE_ENV:"production",VUE_APP_I18N_LOCALE:"en",VUE_APP_I18N_FALLBACK_LOCALE:"en",BASE_URL:"/"}))){e.next=11;break}return e.next=5,Promise.all([n.e("chunk-56c8da20"),n.e("chunk-4be5e7a4")]).then(n.bind(null,"e9e3"));case 5:a=e.sent,i=a.default,_["a"].plugin(i),r="memory",e.next=26;break;case 11:if(null===(t=globalThis.location)||void 0===t||!t.href){e.next=20;break}return e.next=14,n.e("chunk-3eadbefa").then(n.bind(null,"65ab"));case 14:c=e.sent,s=c.default,_["a"].plugin(s),r="indexeddb",e.next=26;break;case 20:return e.next=22,Promise.all([n.e("chunk-56c8da20"),n.e("chunk-3730a74a")]).then(n.bind(null,"8b2c"));case 22:u=e.sent,l=u.default,_["a"].plugin(l),r="leveldb";case 26:return e.abrupt("return",r);case 27:case"end":return e.stop()}}),e)}))),P.apply(this,arguments)}var D={},R=D;function I(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=W(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}var C=o.a.mark(De);function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(Object(n),!0).forEach((function(t){M(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function M(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function B(e,t){return V(e)||$(e,t)||W(e,t)||F()}function F(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function W(e,t){if(e){if("string"===typeof e)return H(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?H(e,t):void 0}}function H(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function $(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done);r=!0)if(n.push(i.value),t&&n.length===t)break}catch(s){a=!0,o=s}finally{try{r||null==c["return"]||c["return"]()}finally{if(a)throw o}}return n}}function V(e){if(Array.isArray(e))return e}function q(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function K(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){q(o,r,a,i,c,"next",e)}function c(e){q(o,r,a,i,c,"throw",e)}i(void 0)}))}}function G(e){return function(){return new X(e.apply(this,arguments))}}function X(e){var t,n;function r(e,r){return new Promise((function(o,i){var c={key:e,arg:r,resolve:o,reject:i,next:null};n?n=n.next=c:(t=n=c,a(e,r))}))}function a(t,n){try{var r=e[t](n),i=r.value,c=i instanceof Q;Promise.resolve(c?i.wrapped:i).then((function(e){c?a("return"===t?"return":"next",e):o(r.done?"return":"normal",e)}),(function(e){a("throw",e)}))}catch(s){o("throw",s)}}function o(e,r){switch(e){case"return":t.resolve({value:r,done:!0});break;case"throw":t.reject(r);break;default:t.resolve({value:r,done:!1});break}t=t.next,t?a(t.key,t.arg):n=null}this._invoke=r,"function"!==typeof e.return&&(this.return=void 0)}function Y(e){return new Q(e)}function Q(e){this.wrapped=e}function z(e){var t;if("undefined"!==typeof Symbol){if(Symbol.asyncIterator&&(t=e[Symbol.asyncIterator],null!=t))return t.call(e);if(Symbol.iterator&&(t=e[Symbol.iterator],null!=t))return t.call(e)}throw new TypeError("Object is not async iterable")}function Z(e,t){var n={},r=!1;function a(n,a){return r=!0,a=new Promise((function(t){t(e[n](a))})),{done:!1,value:t(a)}}return"function"===typeof Symbol&&Symbol.iterator&&(n[Symbol.iterator]=function(){return this}),n.next=function(e){return r?(r=!1,e):a("next",e)},"function"===typeof e.throw&&(n.throw=function(e){if(r)throw r=!1,e;return a("throw",e)}),"function"===typeof e.return&&(n.return=function(e){return r?(r=!1,e):a("return",e)}),n}"function"===typeof Symbol&&Symbol.asyncIterator&&(X.prototype[Symbol.asyncIterator]=function(){return this}),X.prototype.next=function(e){return this._invoke("next",e)},X.prototype.throw=function(e){return this._invoke("throw",e)},X.prototype.return=function(e){return this._invoke("return",e)},_["a"].plugin(k["a"]);var J="state.",ee="channels.";function te(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e,r=e+"ï¿°";return t?{startkey:r,endkey:n,descending:t}:{startkey:n,endkey:r}}function ne(e){return re.apply(this,arguments)}function re(){return re=K(o.a.mark((function e(t){var n,r,a;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=new Set,e.next=3,t.allDocs({startkey:"a",endkey:"zï¿°"});case 3:return r=e.sent,r.rows.forEach((function(e){var t=e.id;return n.add(t)})),a=new i["a"](!1),e.abrupt("return",Object.assign(t,{storageKeys:n,busy$:a}));case 7:case"end":return e.stop()}}),e)}))),re.apply(this,arguments)}function ae(e){return oe.apply(this,arguments)}function oe(){return oe=K(o.a.mark((function e(t){var n,r;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=new this(t),e.next=3,n.info();case 3:if(r=e.sent,0!==r.doc_count||0!=r.update_seq){e.next=8;break}return e.next=7,n.destroy();case 7:return e.abrupt("return");case 8:return e.abrupt("return",ne(n));case 9:case"end":return e.stop()}}),e,this)}))),oe.apply(this,arguments)}function ie(e){return ce.apply(this,arguments)}function ce(){return ce=K(o.a.mark((function e(t){var n;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=new this(t),n.setMaxListeners(30),e.next=4,Promise.all([n.createIndex({index:{name:"byCleared",fields:["cleared","direction"]}}),n.createIndex({index:{name:"byPartner",fields:["direction","partner"]}}),n.createIndex({index:{name:"bySecrethash",fields:["secrethash"]}}),n.createIndex({index:{name:"byChannel",fields:["channel"]}})]);case 4:return e.abrupt("return",ne(n));case 5:case"end":return e.stop()}}),e,this)}))),ce.apply(this,arguments)}function se(e,t){return Object(c["a"])((function(){var n=e.changes(t);return Object(s["a"])(Object(u["a"])(n,"change"),Object(u["a"])(n,"error").pipe(Object(d["a"])((function(e){return Object(l["a"])(e)})))).pipe(Object(p["a"])(0),Object(b["a"])(Object(u["a"])(n,"complete")),Object(y["a"])((function(){return n.cancel()})))}))}function ue(e){return le.apply(this,arguments)}function le(){return le=K(o.a.mark((function e(t){var n,r,a,i,c,s,u,l,f,d,p,b,y,h,m,v,O,j;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.constructor.__defaults.log,r={channels:{},oldChannels:{},transfers:{}},e.next=4,t.allDocs(L(L({},te(J)),{},{include_docs:!0}));case 4:a=e.sent,i=I(a.rows);try{for(i.s();!(c=i.n()).done;)s=c.value,u=s.id,l=s.doc,r[u.substr(J.length)]=l.value}catch(o){i.e(o)}finally{i.f()}return e.next=9,t.allDocs(L(L({},te(ee)),{},{include_docs:!0}));case 9:f=e.sent,d=I(f.rows);try{for(d.s();!(p=d.n()).done;)b=p.value,y=b.id,h=b.doc,"settleBlock"in h?r.oldChannels[y]=L(L({},h),{},{_id:y.substr(ee.length)}):r.channels[Object(T["d"])(h)]=L(L({},h),{},{_id:y.substr(ee.length)})}catch(o){d.e(o)}finally{d.f()}return e.next=14,t.find({selector:{cleared:0,direction:{$exists:!0}}});case 14:m=e.sent,m.warning&&(null===n||void 0===n||n.warn(m.warning,"getRaidenState")),v=I(m.docs);try{for(v.s();!(O=v.n()).done;)j=O.value,r.transfers[j._id]=j}catch(o){v.e(o)}finally{v.f()}if(!("address"in r)){e.next=20;break}return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),le.apply(this,arguments)}function fe(e,t){return de.apply(this,arguments)}function de(){return de=K(o.a.mark((function e(t,n){var r,a,i,c,s,u,l,f,d,p,b,y;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(r=[],a=0,i=Object.entries(n);a<i.length;a++)if(c=B(i[a],2),s=c[0],u=c[1],"channels"===s||"oldChannels"===s)for(l=0,f=Object.values(u);l<f.length;l++)d=f[l],r.push(L(L({},d),{},{_id:ee+d._id}));else if("transfers"===s)for(p=0,b=Object.values(u);p<b.length;p++)y=b[p],r.push(y);else r.push({_id:J+s,value:u});return e.next=4,t.bulkDocs(r);case 4:case"end":return e.stop()}}),e)}))),de.apply(this,arguments)}function pe(e){return Object.keys(e).map((function(e){return+e})).sort()}function be(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R;return null!==(e=Object(x["o"])(pe(t)))&&void 0!==e?e:0}function ye(e){return+e.name.match(/_(\d+)$/)[1]}function he(){return me.apply(this,arguments)}function me(){return me=K(o.a.mark((function e(){var t,n=arguments;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=n.length>0&&void 0!==n[0]?n[0]:{log:j.a},t.log||(t.log=j.a),t.adapter){e.next=6;break}return e.next=5,N();case 5:t.adapter=e.sent;case 6:return e.abrupt("return",_["a"].defaults(t));case 7:case"end":return e.stop()}}),e)}))),me.apply(this,arguments)}function ve(e){return Oe.apply(this,arguments)}function Oe(){return Oe=K(o.a.mark((function e(t){var n,r,a,i,s,u,l,p,b,y,m,v,O,j=this,g=arguments;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=g.length>1&&void 0!==g[1]?g[1]:R,r=g.length>2&&void 0!==g[2]&&g[2],a=this.__defaults.log,i=pe(n),s=0,l=i.length-1;case 6:if(!(l>=0)){e.next=18;break}return p=i[l],e.next=10,ae.call(this,"".concat(t,"_").concat(p));case 10:if(b=e.sent,!b){e.next=15;break}return s=p,u=b,e.abrupt("break",18);case 15:--l,e.next=6;break;case 18:if(u){e.next=22;break}return e.next=21,ae.call(this,"".concat(t,"_").concat(s));case 21:u=e.sent;case 22:if(u){e.next=27;break}return s=be(n),e.next=26,ie.call(this,"".concat(t,"_").concat(s));case 26:u=e.sent;case 27:y=I(i),e.prev=28,v=o.a.mark((function e(){var i,l,p;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(i=m.value,!(i<=s)){e.next=3;break}return e.abrupt("return","continue");case 3:return e.next=5,ie.call(j,"".concat(t,"_").concat(i));case 5:return l=e.sent,e.prev=6,p=/^[a-z]/i,e.next=10,se(u,{since:0,include_docs:!0,filter:function(e){var t=e._id;return p.test(t)}}).pipe(Object(h["a"])((function(e){return Object(c["a"])((function(){return n[i](e.doc,u)})).pipe(Object(d["a"])((function(e){return Object(f["a"])(e)})),Object(h["a"])(function(){var e=K(o.a.mark((function e(t){return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return"_rev"in t&&delete t["_rev"],e.abrupt("return",l.put(t));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))}))).toPromise();case 10:e.next=17;break;case 12:throw e.prev=12,e.t0=e["catch"](6),null===a||void 0===a||a.error("Error migrating db",{from:s,to:i},e.t0),l.destroy(),e.t0;case 17:if(null===a||void 0===a||a.info("Migrated db",{name:t,from:s,to:i}),!r){e.next=23;break}return e.next=21,u.destroy();case 21:e.next=25;break;case 23:return e.next=25,u.close();case 25:s=i,u=l;case 27:case"end":return e.stop()}}),e,null,[[6,12]])})),y.s();case 31:if((m=y.n()).done){e.next=38;break}return e.delegateYield(v(),"t0",33);case 33:if(O=e.t0,"continue"!==O){e.next=36;break}return e.abrupt("continue",36);case 36:e.next=31;break;case 38:e.next=43;break;case 40:e.prev=40,e.t1=e["catch"](28),y.e(e.t1);case 43:return e.prev=43,y.f(),e.finish(43);case 46:return Object(E["d"])(ye(u)===be(n),"Not latest version"),e.abrupt("return",u);case 48:case"end":return e.stop()}}),e,this,[[28,40,43,46]])}))),Oe.apply(this,arguments)}function je(e){return ge.apply(this,arguments)}function ge(){return ge=K(o.a.mark((function e(t){return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.t0=ye(t),e.next=3,t.get(J+"chainId");case 3:return e.t1=e.sent.value,e.next=6,t.get(J+"registry");case 6:return e.t2=e.sent.value,e.next=9,t.get(J+"address");case 9:return e.t3=e.sent.value,e.next=12,t.get(J+"blockNumber");case 12:return e.t4=e.sent.value,e.abrupt("return",{_id:"_meta",version:e.t0,network:e.t1,registry:e.t2,address:e.t3,blockNumber:e.t4});case 14:case"end":return e.stop()}}),e)}))),ge.apply(this,arguments)}function we(e){return"function"===typeof e[Symbol.asyncIterator]}function _e(e,t){return ke.apply(this,arguments)}function ke(){return ke=K(o.a.mark((function e(t,n){var r,a,i,c,s,u,l,f,d,p,b,y,h,m,v,O,j=arguments;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=j.length>2&&void 0!==j[2]?j[2]:R,a=j.length>3&&void 0!==j[3]&&j[3],i=this.__defaults.log,c=we(t)?t[Symbol.asyncIterator]():t[Symbol.iterator](),e.next=6,c.next();case 6:s=e.sent,Object(E["d"])(!s.done&&"_meta"===s.value._id,'first yielded value must be "_meta"'),u=s.value,l=be(r);case 10:if(!(l>=u.version)){e.next=28;break}return f="".concat(n,"_").concat(l),e.next=14,ae.call(this,f);case 14:if(d=e.sent,d){e.next=17;break}return e.abrupt("continue",25);case 17:return e.next=19,je(d);case 19:return p=e.sent,Object(E["d"])(u.version>=l&&u.blockNumber>=p.blockNumber,E["b"].RDN_STATE_MIGRATION),Object(E["d"])(u.address===p.address,[E["b"].RDN_STATE_ADDRESS_MISMATCH,{expected:p.address,received:u.address}],null===i||void 0===i?void 0:i.error),Object(E["d"])(u.registry===p.registry&&u.network===p.network,[E["b"].RDN_STATE_NETWORK_MISMATCH,{expectedRegistry:p.registry,receivedRegistry:u.registry,expectedNetwork:p.network,receivedNetwork:u.network}],null===i||void 0===i?void 0:i.error),e.next=25,d.destroy();case 25:--l,e.next=10;break;case 28:return b="".concat(n,"_").concat(u.version),e.next=31,ie.call(this,b);case 31:return y=e.sent,e.next=34,c.next();case 34:h=e.sent;case 35:if(h.done){e.next=45;break}return m=h.value,"_rev"in m&&delete m["_rev"],e.next=40,Promise.all([c.next(),y.put(m)]);case 40:v=e.sent,O=B(v,1),h=O[0],e.next=35;break;case 45:return null===i||void 0===i||i.warn("Replaced/loaded database",{name:n,meta:u}),e.next=48,y.close();case 48:return e.next=50,ve.call(this,n,r,a);case 50:return e.abrupt("return",e.sent);case 51:case"end":return e.stop()}}),e,this)}))),ke.apply(this,arguments)}function Ee(e){return e?e.slice(0,-1)+String.fromCharCode(e.slice(-1).charCodeAt(0)+1):""}function Te(e){return xe.apply(this,arguments)}function xe(){return xe=G(o.a.mark((function e(t){var n,r,a,i,c,s,u,l,f=arguments;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=f.length>1&&void 0!==f[1]?f[1]:{},r=n.batch,a=void 0===r?10:r,c=t.changes({since:"now",live:!0}),c.on("change",(function(e){var t=e.id;return i=t})),e.prev=3,e.next=6,je(t);case 6:s="a";case 7:return e.next=10,Y(t.allDocs({startkey:s,endkey:"ï¿°",limit:a,include_docs:!0}));case 10:return u=e.sent,e.delegateYield(Z(z(u.rows.map((function(e){var t=e.doc;return w()(["_rev"],t)}))),Y),"t0",12);case 12:if(Object(E["d"])(!i,["Database changed while dumping",{key:i}]),l=Object(x["o"])(u.rows),!l){e.next=18;break}s=Ee(l.id),e.next=19;break;case 18:return e.abrupt("break",21);case 19:e.next=7;break;case 21:return e.prev=21,c.cancel(),e.finish(21);case 24:case"end":return e.stop()}}),e,null,[[3,,21,24]])}))),xe.apply(this,arguments)}function Se(e){return Ae.apply(this,arguments)}function Ae(){return Ae=K(o.a.mark((function e(t){return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",ie.call(t.constructor,t.name));case 1:case"end":return e.stop()}}),e)}))),Ae.apply(this,arguments)}function Ne(e,t){return Pe.apply(this,arguments)}function Pe(){return Pe=K(o.a.mark((function e(t,n){var r,a,i,c,s,u,l,f,d,p,b,y;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:r=t.constructor.__defaults.log,a=!1,i=10;case 3:if(!(i>0)){e.next=56;break}e.prev=4,c=[],s=!0,u=!1,e.prev=8,f=z(Te(t,n));case 10:return e.next=12,f.next();case 12:return d=e.sent,s=d.done,e.next=16,d.value;case 16:if(p=e.sent,s){e.next=23;break}b=p,c.push(b);case 20:s=!0,e.next=10;break;case 23:e.next=29;break;case 25:e.prev=25,e.t0=e["catch"](8),u=!0,l=e.t0;case 29:if(e.prev=29,e.prev=30,s||null==f.return){e.next=34;break}return e.next=34,f.return();case 34:if(e.prev=34,!u){e.next=37;break}throw l;case 37:return e.finish(34);case 38:return e.finish(29);case 39:if(!a){e.next=42;break}return e.next=42,t.close();case 42:return e.abrupt("return",c);case 45:if(e.prev=45,e.t1=e["catch"](4),null===e.t1||void 0===e.t1||null===(y=e.t1.message)||void 0===y||!y.includes("database is closed")){e.next=52;break}return a=!0,e.next=51,Se(t);case 51:t=e.sent;case 52:null===r||void 0===r||r.warn("Restarting dump because",e.t1);case 53:--i,e.next=3;break;case 56:throw new Error("Could not dump database");case 57:case"end":return e.stop()}}),e,null,[[4,45],[8,25,29,39],[30,,34,38]])}))),Pe.apply(this,arguments)}function De(e){var t,n,r,a,i,c,s,u,l,f,d,p,b;return o.a.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return t={_id:"_meta",version:0,network:e.chainId,registry:e.registry,address:e.address,blockNumber:e.blockNumber},o.next=3,t;case 3:n=0,r=Object.entries(e);case 4:if(!(n<r.length)){o.next=33;break}if(a=B(r[n],2),i=a[0],c=a[1],"channels"!==i&&"oldChannels"!==i){o.next=17;break}s=0,u=Object.values(c);case 8:if(!(s<u.length)){o.next=15;break}return l=u[s],o.next=12,L({_id:ee+Object(T["e"])(l)},l);case 12:s++,o.next=8;break;case 15:o.next=30;break;case 17:if("sent"!==i&&"received"!==i){o.next=28;break}f=0,d=Object.values(c);case 19:if(!(f<d.length)){o.next=26;break}return b=d[f],o.next=23,L(L(L(L(L({_id:"".concat(i,":").concat(b.transfer.lock.secrethash),direction:i,secrethash:b.transfer.lock.secrethash,expiration:m["a"].from(b.transfer.lock.expiration).toNumber(),channel:"".concat(b.transfer.token_network_address,"@").concat(b.partner,"#").concat(m["a"].from(b.transfer.channel_identifier).toString().padStart(9,"0")),cleared:0},null!==(p=b.secret)&&void 0!==p&&p.registerBlock?{secretRegistered:{txHash:v["a"],txBlock:b.secret.registerBlock,ts:1}}:{}),b),b.secret?{secret:b.secret.value}:{}),b.lockExpired?{expired:b.lockExpired}:{}),b.channelClosed?{channelSettled:b.channelClosed}:{});case 23:f++,o.next=19;break;case 26:o.next=30;break;case 28:return o.next=30,{_id:J+i,value:c};case 30:n++,o.next=4;break;case 33:case"end":return o.stop()}}),C)}},"750b":function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-row",{staticClass:"action-button",class:{sticky:e.sticky},attrs:{"no-gutters":"","align-content":"center",justify:"center"}},[n("v-col",{staticClass:"text-center",attrs:{cols:e.sticky?12:10}},[n("v-btn",{staticClass:"text-capitalize action-button__button",class:{sticky:e.sticky,"action-button__button--ghost":e.ghost,"action-button__button--full-width":e.fullWidth},attrs:{type:"submit",disabled:!e.enabled,loading:e.loading,"data-cy":"action_button",depressed:"",large:""},on:{click:function(t){return e.click()}}},[e._v(" "+e._s(e.text)+" "),e.arrow?n("v-icon",{attrs:{right:""}},[e._v("keyboard_arrow_right")]):e._e()],1)],1)],1)},a=[],o=n("9ab4"),i=n("5cf9");function c(e){return c="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),e}function f(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}function d(e,t){return d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},d(e,t)}function p(e){var t=h();return function(){var n,r=m(e);if(t){var a=m(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return b(this,n)}}function b(e,t){return!t||"object"!==c(t)&&"function"!==typeof t?y(e):t}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}var v=function(e){f(n,e);var t=p(n);function n(){return s(this,n),t.apply(this,arguments)}return l(n,[{key:"click",value:function(){return!0}}]),n}(i["e"]);Object(o["a"])([Object(i["d"])({required:!0,type:Boolean})],v.prototype,"enabled",void 0),Object(o["a"])([Object(i["d"])({required:!0})],v.prototype,"text",void 0),Object(o["a"])([Object(i["d"])({type:Boolean,default:!1})],v.prototype,"loading",void 0),Object(o["a"])([Object(i["d"])({type:Boolean,default:!1})],v.prototype,"sticky",void 0),Object(o["a"])([Object(i["d"])({type:Boolean,default:!1})],v.prototype,"arrow",void 0),Object(o["a"])([Object(i["d"])({type:Boolean,default:!1})],v.prototype,"ghost",void 0),Object(o["a"])([Object(i["d"])({type:Boolean,default:!1})],v.prototype,"fullWidth",void 0),Object(o["a"])([Object(i["b"])()],v.prototype,"click",null),v=Object(o["a"])([Object(i["a"])({})],v);var O=v,j=O,g=(n("a965"),n("a6c2")),w=n("411c"),_=n.n(w),k=n("9c46"),E=n("1fb1"),T=n("b503"),x=n("e614"),S=Object(g["a"])(j,r,a,!1,null,"ad934f48",null);t["a"]=S.exports;_()(S,{VBtn:k["a"],VCol:E["a"],VIcon:T["a"],VRow:x["a"]})},"753f":function(e,t,n){"use strict";n("0d3e")},"77fd":function(e,t,n){"use strict";var r=n("9ab4"),a=n("5cf9");function o(e){return o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),e}function u(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}function f(e){var t=b();return function(){var n,r=y(e);if(t){var a=y(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return d(this,n)}}function d(e,t){return!t||"object"!==o(t)&&"function"!==typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}var h=function(e){u(n,e);var t=f(n);function n(){return i(this,n),t.apply(this,arguments)}return s(n,[{key:"$blockie",value:function(e){return e?this.$identicon.getIdenticon(e):this.$identicon.getIdenticon("0x000")}}]),n}(a["e"]);h=Object(r["a"])([a["a"]],h),t["a"]=h},"7a85":function(e,t,n){},"7de2":function(e,t,n){"use strict";n.d(t,"a",(function(){return E})),n.d(t,"b",(function(){return S})),n.d(t,"f",(function(){return D})),n.d(t,"e",(function(){return R})),n.d(t,"d",(function(){return I})),n.d(t,"c",(function(){return C})),n.d(t,"h",(function(){return U})),n.d(t,"g",(function(){return M}));var r,a=n("36d8"),o=n.n(a),i=n("6da0"),c=n("f211"),s=n("8379"),u=n("b97c"),l=n("905c9"),f=n("111d"),d=n.n(f),p=n("2b5b"),b=n("f2df"),y=n("ca14"),h=n("46f7"),m=n("5778"),v=n("8173");function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){k(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function w(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){g(o,r,a,i,c,"next",e)}function c(e){g(o,r,a,i,c,"throw",e)}i(void 0)}))}}function _(e){return _="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_(e)}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var E,T=(r={},k(r,m["d"].DELIVERED,12),k(r,m["d"].PROCESSED,0),k(r,m["d"].SECRET_REQUEST,3),k(r,m["d"].SECRET_REVEAL,11),k(r,m["d"].LOCKED_TRANSFER,7),k(r,m["d"].UNLOCK,4),k(r,m["d"].LOCK_EXPIRED,13),k(r,m["d"].WITHDRAW_REQUEST,15),k(r,m["d"].WITHDRAW_CONFIRMATION,16),k(r,m["d"].WITHDRAW_EXPIRED,17),k(r,m["d"].PFS_CAPACITY_UPDATE,-1),k(r,m["d"].PFS_FEE_UPDATE,-1),k(r,m["d"].MONITOR_REQUEST,-1),r);function x(e){var t=e.routes.map((function(e){return Object(i["a"])(Object(c["encode"])(e.route))}));return Object(i["a"])(Object(c["encode"])(t))}function S(e){var t=e.transferredAmount,n=e.lockedAmount,r=e.locksroot;return t.isZero()&&n.isZero()&&(r===l["a"]||r===p["c"])?l["a"]:Object(i["a"])(Object(u["b"])([Object(h["a"])(t,32),Object(h["a"])(n,32),Object(h["a"])(r,32)]))}function A(e){switch(e.type){case m["d"].LOCKED_TRANSFER:var t=Object(u["b"])([Object(h["a"])(T[e.type],1),Object(h["a"])(e.message_identifier,8),Object(h["a"])(e.payment_identifier,8),Object(h["a"])(e.lock.expiration,32),Object(h["a"])(e.token,20),Object(h["a"])(e.recipient,20),Object(h["a"])(e.target,20),Object(h["a"])(e.initiator,20),Object(h["a"])(e.lock.secrethash,32),Object(h["a"])(e.lock.amount,32)]);return e.type===m["d"].LOCKED_TRANSFER&&(t=Object(u["b"])([t,x(e.metadata)])),Object(i["a"])(t);case m["d"].UNLOCK:return Object(i["a"])(Object(u["b"])([Object(h["a"])(T[e.type],1),Object(h["a"])(e.message_identifier,8),Object(h["a"])(e.payment_identifier,8),Object(h["a"])(e.secret,32)]));case m["d"].LOCK_EXPIRED:return Object(i["a"])(Object(u["b"])([Object(h["a"])(T[e.type],1),Object(h["a"])(e.message_identifier,8),Object(h["a"])(e.recipient,20),Object(h["a"])(e.secrethash,32)]))}}function N(e){var t;switch(e.type){case m["d"].DELIVERED:return Object(u["i"])(Object(u["b"])([Object(h["a"])(T[e.type],1),Object(h["a"])(0,3),Object(h["a"])(e.delivered_message_identifier,8)]));case m["d"].PROCESSED:return Object(u["i"])(Object(u["b"])([Object(h["a"])(T[e.type],1),Object(h["a"])(0,3),Object(h["a"])(e.message_identifier,8)]));case m["d"].LOCKED_TRANSFER:case m["d"].UNLOCK:case m["d"].LOCK_EXPIRED:var n=A(e),r=S({transferredAmount:e.transferred_amount,lockedAmount:e.locked_amount,locksroot:e.locksroot});return Object(u["i"])(Object(u["b"])([Object(h["a"])(e.token_network_address,20),Object(h["a"])(e.chain_id,32),Object(h["a"])(E.BALANCE_PROOF,32),Object(h["a"])(e.channel_identifier,32),Object(h["a"])(r,32),Object(h["a"])(e.nonce,32),Object(h["a"])(n,32)]));case m["d"].SECRET_REQUEST:return Object(u["i"])(Object(u["b"])([Object(h["a"])(T[e.type],1),Object(h["a"])(0,3),Object(h["a"])(e.message_identifier,8),Object(h["a"])(e.payment_identifier,8),Object(h["a"])(e.secrethash,32),Object(h["a"])(e.amount,32),Object(h["a"])(e.expiration,32)]));case m["d"].SECRET_REVEAL:return Object(u["i"])(Object(u["b"])([Object(h["a"])(T[e.type],1),Object(h["a"])(0,3),Object(h["a"])(e.message_identifier,8),Object(h["a"])(e.secret,32)]));case m["d"].WITHDRAW_REQUEST:case m["d"].WITHDRAW_CONFIRMATION:return Object(u["i"])(Object(u["b"])([Object(h["a"])(e.token_network_address,20),Object(h["a"])(e.chain_id,32),Object(h["a"])(E.WITHDRAW,32),Object(h["a"])(e.channel_identifier,32),Object(h["a"])(e.participant,20),Object(h["a"])(e.total_withdraw,32),Object(h["a"])(e.expiration,32)]));case m["d"].WITHDRAW_EXPIRED:return Object(u["i"])(Object(u["b"])([Object(h["a"])(T[e.type],1),Object(h["a"])(0,3),Object(h["a"])(e.nonce,32),Object(h["a"])(e.message_identifier,8),Object(h["a"])(e.token_network_address,20),Object(h["a"])(e.chain_id,32),Object(h["a"])(E.WITHDRAW,32),Object(h["a"])(e.channel_identifier,32),Object(h["a"])(e.participant,20),Object(h["a"])(e.total_withdraw,32),Object(h["a"])(e.expiration,32)]));case m["d"].PFS_CAPACITY_UPDATE:return Object(u["i"])(Object(u["b"])([Object(h["a"])(e.canonical_identifier.chain_identifier,32),Object(h["a"])(e.canonical_identifier.token_network_address,20),Object(h["a"])(e.canonical_identifier.channel_identifier,32),Object(h["a"])(e.updating_participant,20),Object(h["a"])(e.other_participant,20),Object(h["a"])(e.updating_nonce,8),Object(h["a"])(e.other_nonce,8),Object(h["a"])(e.updating_capacity,32),Object(h["a"])(e.other_capacity,32),Object(h["a"])(e.reveal_timeout,32)]));case m["d"].PFS_FEE_UPDATE:return Object(u["i"])(Object(u["b"])([Object(h["a"])(e.canonical_identifier.chain_identifier,32),Object(h["a"])(e.canonical_identifier.token_network_address,20),Object(h["a"])(e.canonical_identifier.channel_identifier,32),Object(h["a"])(e.updating_participant,20),Object(h["a"])(e.fee_schedule.cap_fees,1),Object(h["a"])(e.fee_schedule.flat,32),Object(h["a"])(e.fee_schedule.proportional,32),Object(c["encode"])(null!==(t=e.fee_schedule.imbalance_penalty)&&void 0!==t?t:"0x"),Object(h["a"])(e.timestamp,19)]));case m["d"].MONITOR_REQUEST:return Object(u["i"])(Object(u["b"])([Object(h["a"])(e.monitoring_service_contract_address,20),Object(h["a"])(e.balance_proof.chain_id,32),Object(h["a"])(E.MS_REWARD,32),Object(h["a"])(e.balance_proof.token_network_address,20),Object(h["a"])(e.non_closing_participant,20),Object(h["a"])(e.non_closing_signature,65),Object(h["a"])(e.reward_amount,32)]))}}function P(e){return y["g"].is(e.signature)}function D(e){return Object(s["b"])(Object(u["a"])(N(e)),e.signature)}function R(e){return{chainId:e.chain_id,tokenNetworkAddress:e.token_network_address,channelId:e.channel_identifier,nonce:e.nonce,transferredAmount:e.transferred_amount,lockedAmount:e.locked_amount,locksroot:e.locksroot,additionalHash:A(e),signature:e.signature}}function I(e){return"signature"in e?Object(h["c"])(Object(y["h"])(m["c"]).encode(e)):Object(h["c"])(m["c"].encode(e))}function C(e){var t=Object(h["b"])(e);return Object(b["a"])(t&&"object"===_(t)&&"type"in t&&Object.values(m["d"]).some((function(e){return e===t["type"]})),"Invalid message type: ".concat(null===t||void 0===t?void 0:t["type"])),"signature"in t?Object(y["l"])(Object(y["h"])(m["c"]),t):Object(y["l"])(m["c"],t)}function U(e,t){return L.apply(this,arguments)}function L(){return L=w(o.a.mark((function e(t,n){var r,a,i,c=arguments;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=c.length>2&&void 0!==c[2]?c[2]:{log:d.a},a=r.log,!P(n)){e.next=3;break}return e.abrupt("return",n);case 3:return a.debug('Signing message "'.concat(n.type,'"'),n),e.next=6,t.signMessage(Object(u["a"])(N(n)));case 6:return i=e.sent,e.abrupt("return",j(j({},n),{},{signature:i}));case 8:case"end":return e.stop()}}),e)}))),L.apply(this,arguments)}function M(e){return function(t){return v["messageReceived"].is(t)&&(Array.isArray(e)?e.some((function(e){return e.is(t.payload.message)})):e.is(t.payload.message))}}(function(e){e[e["BALANCE_PROOF"]=1]="BALANCE_PROOF",e[e["BALANCE_PROOF_UPDATE"]=2]="BALANCE_PROOF_UPDATE",e[e["WITHDRAW"]=3]="WITHDRAW",e[e["COOP_SETTLE"]=4]="COOP_SETTLE",e[e["IOU"]=5]="IOU",e[e["MS_REWARD"]=6]="MS_REWARD"})(E||(E={}))},8089:function(e,t,n){"use strict";n.d(t,"e",(function(){return re})),n.d(t,"f",(function(){return ie})),n.d(t,"i",(function(){return ce})),n.d(t,"k",(function(){return se})),n.d(t,"b",(function(){return ue})),n.d(t,"d",(function(){return le})),n.d(t,"a",(function(){return fe})),n.d(t,"l",(function(){return pe})),n.d(t,"j",(function(){return ye})),n.d(t,"c",(function(){return he})),n.d(t,"h",(function(){return ve})),n.d(t,"g",(function(){return ge}));var r=n("36d8"),a=n.n(r),o=n("4fe5"),i=n("8379"),c=n("699d"),s=n("09d5"),u=n("87b8"),l=n("2023"),f=n("331d"),d=n("4a9c"),p=n("cefa"),b=n("7f4a"),y=n("dd00"),h=n("58be"),m=n("0eb1"),v=n("111d"),O=n.n(v),j=n("65e1"),g=n("f2df"),w=n("59ec"),_=n("1a78"),k=n("8120"),E=n("325b"),T=n("ca14"),x=n("1b23"),S=n("ee6c"),A=n("a0df"),N=n("31a7"),P=n("c998"),D=n("ee79"),R=n("b4cc"),I=n("0ff6"),C=n("4e0b"),U=n("1f0b"),L=n("de7d"),M=n("74e4"),B=n("46f7");function F(e,t){if(null==e)return{};var n,r,a=W(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function W(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}function H(e,t){return q(e)||V(e,t)||X(e,t)||$()}function $(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function V(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done);r=!0)if(n.push(i.value),t&&n.length===t)break}catch(s){a=!0,o=s}finally{try{r||null==c["return"]||c["return"]()}finally{if(a)throw o}}return n}}function q(e){if(Array.isArray(e))return e}function K(e){return Q(e)||Y(e)||X(e)||G()}function G(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function X(e,t){if(e){if("string"===typeof e)return z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?z(e,t):void 0}}function Y(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function Q(e){if(Array.isArray(e))return z(e)}function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Z(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function J(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Z(o,r,a,i,c,"next",e)}function c(e){Z(o,r,a,i,c,"throw",e)}i(void 0)}))}}function ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(n),!0).forEach((function(t){ne(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ne(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var re=function(e){switch(e.name){case"rinkeby":return te(te({},N.contracts),I.contracts);case"ropsten":return te(te({},A.contracts),R.contracts);case"goerli":return te(te({},P.contracts),C.contracts);case"homestead":return te(te({},D.contracts),U.contracts);default:throw new S["c"](S["b"].RDN_UNRECOGNIZED_NETWORK,{network:e.name})}};function ae(e,t){return oe.apply(this,arguments)}function oe(){return oe=J(a.a.mark((function e(t,n){var r,o,u,l,f,d,p;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return u=null!==(r=null===globalThis||void 0===globalThis||null===(o=globalThis.location)||void 0===o?void 0:o.origin)&&void 0!==r?r:"unknown",l="=== RAIDEN SUBKEY GENERATION ===\n\nNetwork: ".concat(Object(x["b"])(t).toUpperCase(),"\nRaiden dApp URL: ").concat(u,"\n\nWARNING: ensure this signature is being requested from Raiden dApp running at URL above by comparing it to your browser's url bar.\nSigning this message at any other address WILL give it FULL control of this subkey's funds, tokens and Raiden channels!"),e.next=4,n.signMessage(Object(c["f"])(l));case 4:return f=e.sent,d=Object(s["c"])(f),p=new i["a"](d,n.provider),e.abrupt("return",{signer:p,address:p.address});case 8:case"end":return e.stop()}}),e)}))),oe.apply(this,arguments)}var ie=function(){var e=J(a.a.mark((function e(t,n,r){var c,s,u,l,f;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!o["a"].isSigner(t)){e.next=15;break}if(t.provider!==n){e.next=5;break}c=t,e.next=10;break;case 5:if(!(t instanceof i["a"])){e.next=9;break}c=t.connect(n),e.next=10;break;case 9:throw new S["c"](S["b"].RDN_SIGNER_NOT_CONNECTED,{account:t.toString(),provider:n.toString()});case 10:return e.next=12,c.getAddress();case 12:s=e.sent,e.next=38;break;case 15:if("number"!==typeof t){e.next=22;break}return c=n.getSigner(t),e.next=19,c.getAddress();case 19:s=e.sent,e.next=38;break;case 22:if(!T["a"].is(t)){e.next=32;break}return e.next=25,n.listAccounts();case 25:if(l=e.sent,l.includes(t)){e.next=28;break}throw new S["c"](S["b"].RDN_ACCOUNT_NOT_FOUND,{account:t,accounts:JSON.stringify(l)});case 28:c=n.getSigner(t),s=t,e.next=38;break;case 32:if(!T["e"].is(t)){e.next=37;break}c=new i["a"](t,n),s=c.address,e.next=38;break;case 37:throw new S["c"](S["b"].RDN_STRING_ACCOUNT_INVALID);case 38:if(!r){e.next=50;break}return u={signer:c,address:s},e.t0=ae,e.next=43,n.getNetwork();case 43:return e.t1=e.sent,e.t2=u.signer,e.next=47,(0,e.t0)(e.t1,e.t2);case 47:f=e.sent,c=f.signer,s=f.address;case 50:return e.abrupt("return",{signer:c,address:s,main:u});case 51:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}();function ce(e,t){return Object(l["a"])(Object(M["a"])(t,{since:0,include_docs:!0,selector:{direction:{$in:Object.values(_["a"])}}}).pipe(Object(d["a"])("doc"),Object(p["a"])(T["n"]),Object(b["a"])((function(e){return Object(T["l"])(_["d"],e)}))),e.pipe(Object(E["b"])("transfers"),Object(E["a"])(),Object(d["a"])(1))).pipe(Object(b["a"])(w["h"]))}var se=function(e){return Object.values(e).reduce((function(e,t){var n=Object(k["c"])(t),r=te({state:t.state,id:t.id,token:t.token,tokenNetwork:t.tokenNetwork,settleTimeout:t.settleTimeout,openBlock:t.openBlock,closeBlock:"closeBlock"in t?t.closeBlock:void 0,partner:t.partner.address,balance:n.ownBalance,capacity:n.ownCapacity},n);return te(te({},e),{},ne({},t.token,te(te({},e[t.token]),{},ne({},t.partner.address,r))))}),{})};function ue(e,t){var n=e.signer,r=e.address,a=e.main;return a&&!t?a:{signer:n,address:r}}function le(e,t){return e.signer===t?e:e.connect(t)}function fe(e,t,n,r){return de.apply(this,arguments)}function de(){return de=J(a.a.mark((function e(t,n,r,o){var i,c,s,u,l,f=arguments;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=f.length>4&&void 0!==f[4]?f[4]:{log:O.a},c=i.log,e.prev=1,e.next=4,(u=t.functions)[n].apply(u,K(r));case 4:s=e.sent,e.next=11;break;case 7:throw e.prev=7,e.t0=e["catch"](1),c.error("Error sending ".concat(n," tx"),e.t0),new S["c"](o,{error:e.t0.message});case 11:return c.debug("sent ".concat(n,' tx "').concat(s.hash,'" to "').concat(t.address,'"')),e.prev=12,e.next=15,s.wait();case 15:l=e.sent,Object(g["a"])(l.status,"tx status: ".concat(l.status)),e.next=23;break;case 19:throw e.prev=19,e.t1=e["catch"](12),c.error("Error mining ".concat(n," tx"),e.t1),new S["c"](o,{transactionHash:s.hash});case 23:return c.debug("".concat(n,' tx "').concat(s.hash,'" successfuly mined!')),e.abrupt("return",l);case 25:case"end":return e.stop()}}),e,null,[[1,7],[12,19]])}))),de.apply(this,arguments)}function pe(e,t,n){return be.apply(this,arguments)}function be(){return be=J(a.a.mark((function e(t,n,r){var o,i,c,s,u;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o=n.latest$,i=n.config$,c=n.provider,s=t.blockNumber,u=t.transactionHash,e.abrupt("return",o.pipe(Object(E["b"])("state","blockNumber"),Object(y["a"])(i),Object(p["a"])((function(e){var t=H(e,2),n=t[0],a=t[1].confirmationBlocks;return s+(null!==r&&void 0!==r?r:a)<=n})),Object(h["a"])((function(e){var t=H(e,2),n=t[0],a=t[1].confirmationBlocks;return Object(f["a"])((function(){return c.getTransactionReceipt(u)})).pipe(Object(b["a"])((function(e){if(null!==e&&void 0!==e&&e.confirmations&&e.confirmations>=(null!==r&&void 0!==r?r:a))return e.blockNumber;if(s+2*(null!==r&&void 0!==r?r:a)<n)throw new S["c"](S["b"].RDN_TRANSACTION_REORG,{transactionHash:u})})))})),Object(m["a"])(T["n"])).toPromise());case 4:case"end":return e.stop()}}),e)}))),be.apply(this,arguments)}var ye=function(e){var t=/^(?:https:\/\/)?[^\s\/$.?#&"']+\.[^\s\/$?#&"']+$/;return t.test(e)};function he(e,t){return me.apply(this,arguments)}function me(){return me=J(a.a.mark((function e(t,n){var r,o,i,c,s,u,l,f,d,p,b;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=L["h"].connect(n,t),e.next=3,r.msc_address();case 3:return o=e.sent,i=L["c"].connect(o,t),e.next=7,i.token_network_registry();case 7:return c=e.sent,s=L["f"].connect(c,t),e.next=11,s.secret_registry_address();case 11:return u=e.sent,e.next=14,i.service_registry();case 14:return l=e.sent,e.next=17,t.getLogs(te(te({},s.filters.TokenNetworkCreated(null,null)),{},{fromBlock:1,toBlock:"latest"}));case 17:return f=e.sent,d=f.map((function(e){return e.blockNumber})).filter(T["n"]),p=d.length?Math.min.apply(Math,K(d)):0,e.next=22,r.one_to_n_address();case 22:return b=e.sent,e.abrupt("return",{TokenNetworkRegistry:{address:c,block_number:p},ServiceRegistry:{address:l,block_number:p},UserDeposit:{address:n,block_number:p},SecretRegistry:{address:u,block_number:p},MonitoringService:{address:o,block_number:p},OneToN:{address:b,block_number:p}});case 24:case"end":return e.stop()}}),e)}))),me.apply(this,arguments)}function ve(e){return Oe.apply(this,arguments)}function Oe(){return Oe=J(a.a.mark((function e(t){return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",t.pipe(Object(d["a"])("udcBalance"),Object(m["a"])((function(e){return!!e&&e.lt(u["a"])}))).toPromise());case 1:case"end":return e.stop()}}),e)}))),Oe.apply(this,arguments)}function je(e,t){var n,r,a,o=t.address,i=t.network,c=t.contractsInfo,s=e[0];Object(g["a"])("_meta"===(null===s||void 0===s?void 0:s._id),S["b"].RDN_STATE_MIGRATION),Object(g["a"])(s.address===o,S["b"].RDN_STATE_ADDRESS_MISMATCH),Object(g["a"])(s.registry===c.TokenNetworkRegistry.address,S["b"].RDN_STATE_NETWORK_MISMATCH),Object(g["a"])(s.network===i.chainId,S["b"].RDN_STATE_NETWORK_MISMATCH),Object(g["a"])((null===(n=e.find((function(e){return"state.address"===e._id})))||void 0===n?void 0:n.value)===o,S["b"].RDN_STATE_ADDRESS_MISMATCH),Object(g["a"])((null===(r=e.find((function(e){return"state.chainId"===e._id})))||void 0===r?void 0:r.value)===i.chainId,S["b"].RDN_STATE_NETWORK_MISMATCH),Object(g["a"])((null===(a=e.find((function(e){return"state.registry"===e._id})))||void 0===a?void 0:a.value)===c.TokenNetworkRegistry.address,S["b"].RDN_STATE_NETWORK_MISMATCH)}function ge(e){return we.apply(this,arguments)}function we(){return we=J(a.a.mark((function e(t){var n,r,o,i,c,s,u,l,f,d,p,b,y,h=arguments;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.address,r=t.network,o=t.contractsInfo,i=t.log,c=h.length>1&&void 0!==h[1]?h[1]:{},s=["raiden",Object(x["b"])(r),o.TokenNetworkRegistry.address,n].join("_"),l=!1,f=c.state,d=c.storage,c.state,p=F(c,["storage","state"]),f){e.next=11;break}return e.next=9,null===d||void 0===d?void 0:d.getItem(s);case 9:f=e.sent,f&&(l=!0);case 11:return e.next=13,Object(M["c"])(te({log:i},p));case 13:if(b=e.sent,!f){e.next=24;break}return"string"===typeof f&&(f=Object(B["b"])(f)),Array.isArray(f)||(f=Array.from(Object(M["e"])(f))),je(f,{address:n,network:r,contractsInfo:o}),e.next=20,M["h"].call(b,f,s);case 20:u=e.sent,l&&(null===c||void 0===c||c.storage.removeItem(s)),e.next=27;break;case 24:return e.next=26,M["f"].call(b,s);case 26:u=e.sent;case 27:return e.next=29,Object(M["d"])(u);case 29:if(y=e.sent,y){e.next=36;break}return y=Object(j["c"])({network:r,address:n,contractsInfo:o}),e.next=34,Object(M["g"])(u,y);case 34:e.next=37;break;case 36:y=Object(T["l"])(j["a"],y);case 37:return e.abrupt("return",{db:u,state:y});case 38:case"end":return e.stop()}}),e)}))),we.apply(this,arguments)}},"80bf":function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e["DISCLAIMER"]="disclaimer",e["TRANSFER"]="transfer",e["TRANSFER_STEPS"]="transfer-steps",e["SELECT_TOKEN"]="select-token",e["SELECT_HUB"]="select-hub",e["HOME"]="home",e["CHANNELS"]="channels",e["OPEN_CHANNEL"]="open-channel",e["ACCOUNT_ROOT"]="account-root",e["ACCOUNT_BACKUP"]="account-backup",e["ACCOUNT_RAIDEN"]="account-raiden",e["ACCOUNT_SETTINGS"]="account-settings",e["ACCOUNT_WITHDRAWAL"]="account-withdrawal",e["ACCOUNT_UDC"]="account-udc",e["NOTIFICATIONS"]="notifications"}(r||(r={}))},8120:function(e,t,n){"use strict";n.d(t,"d",(function(){return M})),n.d(t,"e",(function(){return B})),n.d(t,"c",(function(){return F})),n.d(t,"b",(function(){return W})),n.d(t,"i",(function(){return H})),n.d(t,"h",(function(){return $})),n.d(t,"g",(function(){return V})),n.d(t,"f",(function(){return q})),n.d(t,"a",(function(){return K}));var r=n("36d8"),a=n.n(r),o=n("42f4"),i=n("a489"),c=n("3912"),s=n("34ba"),u=n("331d"),l=n("daae"),f=n("258b"),d=n("7f4a"),p=n("dfba"),b=n("4a9c"),y=n("1c01"),h=n("231d"),m=n("cefa"),v=n("bd71"),O=n("87b8"),j=n("111d"),g=n.n(j),w=n("ca14"),_=n("ee6c"),k=n("325b"),E=n("5778");function T(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function x(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){T(o,r,a,i,c,"next",e)}function c(e){T(o,r,a,i,c,"throw",e)}i(void 0)}))}}function S(e,t){return P(e)||N(e,t)||I(e,t)||A()}function A(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function N(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done);r=!0)if(n.push(i.value),t&&n.length===t)break}catch(s){a=!0,o=s}finally{try{r||null==c["return"]||c["return"]()}finally{if(a)throw o}}return n}}function P(e){if(Array.isArray(e))return e}function D(e){return U(e)||C(e)||I(e)||R()}function R(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function I(e,t){if(e){if("string"===typeof e)return L(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?L(e,t):void 0}}function C(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function U(e){if(Array.isArray(e))return L(e)}function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function M(e){var t=e.tokenNetwork,n=e.partner,r="string"===typeof n?n:n.address;return"".concat(t,"@").concat(r)}function B(e){return"_id"in e&&e._id?e._id:"".concat(M(e),"#").concat(e.id.toString().padStart(9,"0"))}function F(e){var t=e.own.withdraw,n=e.partner.withdraw,r=e.own.balanceProof.transferredAmount,a=e.partner.balanceProof.transferredAmount,o=e.own.locks.filter((function(e){return e.registered})).reduce((function(e,t){return e.add(t.amount)}),O["f"]),i=e.partner.locks.filter((function(e){return e.registered})).reduce((function(e,t){return e.add(t.amount)}),O["f"]),c=r.add(o),s=a.add(i),u=e.own.balanceProof.lockedAmount.sub(o),l=e.partner.balanceProof.lockedAmount.sub(i),f=s.sub(c),d=c.sub(s),p=w["k"].apply(void 0,[t].concat(D(e.own.pendingWithdraws.filter((function(e){return e.type===E["d"].WITHDRAW_REQUEST})).map((function(e){return e.total_withdraw}))))),b=w["k"].apply(void 0,[n].concat(D(e.partner.pendingWithdraws.filter((function(e){return e.type===E["d"].WITHDRAW_REQUEST})).map((function(e){return e.total_withdraw}))))),y=e.own.deposit.sub(p).sub(u).add(f),h=e.partner.deposit.sub(b).sub(l).add(d),m=e.own.deposit.add(f).sub(u),v=m.sub(t),j=e.partner.deposit.add(d).sub(l),g=j.sub(n);return{ownDeposit:e.own.deposit,ownWithdraw:t,ownTransferred:r,ownLocked:u,ownBalance:f,ownCapacity:y,ownOnchainUnlocked:o,ownUnlocked:c,partnerDeposit:e.partner.deposit,partnerWithdraw:n,partnerTransferred:a,partnerLocked:l,partnerBalance:d,partnerCapacity:h,partnerOnchainUnlocked:i,partnerUnlocked:s,ownTotalWithdrawable:m,ownWithdrawable:v,partnerTotalWithdrawable:j,partnerWithdrawable:g}}function W(e,t,n){var r=n.log,a=n.provider;return function(n){return n.pipe(Object(l["a"])((function(t){return r.debug("sent ".concat(e,' tx "').concat(t.hash,'" to "').concat(t.to,'"'))})),Object(f["a"])((function(e){return Object(k["d"])((function(){return e.wait()}),a.pollingInterval,_["e"]).pipe(Object(d["a"])((function(t){return[e,t]})))})),Object(d["a"])((function(n){var a,o,i,c=S(n,2),s=c[0],u=c[1];if(!u.status||!u.transactionHash||!u.blockNumber)throw new _["c"](t,{status:null!==(a=u.status)&&void 0!==a?a:null,transactionHash:null!==(o=u.transactionHash)&&void 0!==o?o:null,blockNumber:null!==(i=u.blockNumber)&&void 0!==i?i:null});return r.debug("".concat(e,' tx "').concat(u.transactionHash,'" successfuly mined!')),[s,u]})))}}var H=["replacement fee too low","gas price supplied is too low","nonce is too low","nonce has already been used","already known","Transaction with the same hash was already imported"],$=["always failing transaction","execution failed due to an exception","transaction failed","execution reverted"];function V(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:H,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{log:g.a},a=r.log,c=n.concat(_["f"]);return function(n){return n.pipe(Object(p["a"])((function(n){return n.pipe(Object(f["a"])((function(n,r){return a.debug("__retryTx ".concat(r+1,"/").concat(t," every ").concat(e,", error: "),n),r<t&&c.some((function(e){var t;return null===(t=n.message)||void 0===t?void 0:t.includes(e)}))?Object(o["a"])(e):Object(i["a"])(n)})))})))}}function q(e){return e.pipe(Object(b["a"])("channels"),Object(k["a"])(),Object(b["a"])(1),Object(y["a"])(B,void 0,void 0,(function(){return new c["a"](1)})),Object(d["a"])((function(t){var n=t.key.split("#"),r=S(n,2),a=r[0],o=r[1],i=+o;return t.pipe(Object(h["a"])(e.pipe(Object(m["a"])((function(e){var t,n=e.channels;return(null===(t=n[a])||void 0===t?void 0:t.id)!==i})))))})))}function K(e,t,n){var r=S(e,3),o=r[0],i=r[1],c=r[2],l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:_["b"].RDN_APPROVE_TRANSACTION_FAILED,d=arguments.length>4?arguments[4]:void 0,p=d.provider,y=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{log:g.a,minimumAllowance:O["f"]},h=y.log,m=y.minimumAllowance;if(Object(_["d"])(o.gte(c),[_["b"].RDN_INSUFFICIENT_BALANCE,{current:o.toString(),required:c.toString()}]),i.gte(c))return Object(s["a"])(!0);var j=Object(s["a"])(!0);return i.isZero()||(j=Object(u["a"])(x(a.a.mark((function e(){return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",t.approve(n,0));case 1:case"end":return e.stop()}}),e)})))).pipe(W("approve",l,{log:h,provider:p}),Object(v["a"])(!0))),j.pipe(Object(f["a"])(x(a.a.mark((function e(){return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",t.approve(n,Object(w["k"])(m,c)));case 1:case"end":return e.stop()}}),e)})))),W("approve",l,{log:h,provider:p}),Object(b["a"])(1))}},8173:function(e,t,n){"use strict";n.r(t),n.d(t,"messageSend",(function(){return c})),n.d(t,"messageGlobalSend",(function(){return s})),n.d(t,"messageReceived",(function(){return u}));var r=n("2111"),a=n("d276"),o=n("ca14"),i=n("5778"),c=Object(a["c"])(r["v"]({address:o["a"],msgId:r["s"]}),"message/send/request","message/send/success","message/send/failure",r["v"]({message:r["x"]([r["s"],Object(o["h"])(i["c"])])}),r["x"]([r["w"],r["o"]({via:r["s"]})])),s=Object(a["b"])("message/global/send",r["v"]({message:r["x"]([r["s"],Object(o["h"])(i["c"])])}),r["v"]({roomName:r["s"]})),u=Object(a["b"])("message/received",r["j"]([r["v"]({text:r["s"],ts:r["n"]}),r["o"]({message:r["x"]([i["c"],Object(o["h"])(i["c"])]),userId:r["s"],roomId:r["s"]})]),r["v"]({address:o["a"]}))},"83ee":function(e,t,n){"use strict";n.r(t),n.d(t,"transfer",(function(){return f})),n.d(t,"transferSigned",(function(){return d})),n.d(t,"transferProcessed",(function(){return p})),n.d(t,"transferSecret",(function(){return b})),n.d(t,"transferSecretRegister",(function(){return y})),n.d(t,"transferSecretRequest",(function(){return h})),n.d(t,"transferSecretReveal",(function(){return m})),n.d(t,"transferUnlock",(function(){return v})),n.d(t,"transferUnlockProcessed",(function(){return O})),n.d(t,"transferExpire",(function(){return j})),n.d(t,"transferExpireProcessed",(function(){return g})),n.d(t,"transferClear",(function(){return w})),n.d(t,"transferLoad",(function(){return _})),n.d(t,"withdraw",(function(){return E})),n.d(t,"withdrawMessage",(function(){return T})),n.d(t,"withdrawExpire",(function(){return x})),n.d(t,"withdrawCompleted",(function(){return S}));var r=n("2111"),a=n("ca14"),o=n("d276"),i=n("9201"),c=n("5778"),s=n("d011"),u=n("1a78"),l=r["v"]({secrethash:a["c"],direction:u["b"]}),f=Object(o["c"])(l,"transfer/request","transfer/success","transfer/failure",r["j"]([r["v"]({tokenNetwork:a["a"],target:a["a"],value:Object(a["j"])(32),paths:s["e"],paymentId:Object(a["j"])(8)}),r["o"]({secret:a["f"],expiration:r["n"],initiator:a["a"]})]),r["o"]({balanceProof:Object(a["h"])(i["a"])})),d=Object(o["b"])("transfer/signed",r["v"]({message:Object(a["h"])(c["b"]),fee:Object(a["d"])(32),partner:a["a"]}),l),p=Object(o["b"])("transfer/processed",r["v"]({message:Object(a["h"])(c["e"])}),l),b=Object(o["b"])("transfer/secret",r["v"]({secret:a["f"]}),l),y=Object(o["c"])(l,"transfer/secret/register/request","transfer/secret/register/success","transfer/secret/register/failure",r["j"]([r["v"]({secret:a["f"]}),r["o"]({subkey:r["e"]})]),r["v"]({secret:a["f"],txHash:a["c"],txBlock:r["n"],confirmed:r["x"]([r["w"],r["e"]])})),h=Object(o["b"])("transfer/secret/request",r["v"]({message:Object(a["h"])(c["f"])}),l),m=Object(o["b"])("transfer/secret/reveal",r["v"]({message:Object(a["h"])(c["g"])}),l),v=Object(o["c"])(l,"transfer/unlock/request","transfer/unlock/success","transfer/unlock/failure",void 0,r["v"]({message:Object(a["h"])(c["h"]),partner:a["a"]})),O=Object(o["b"])("transfer/unlock/processed",r["v"]({message:Object(a["h"])(c["e"])}),l),j=Object(o["c"])(l,"transfer/expire/request","transfer/expire/success","transfer/expire/failure",void 0,r["v"]({message:Object(a["h"])(c["a"]),partner:a["a"]})),g=Object(o["b"])("transfer/expire/processed",r["v"]({message:Object(a["h"])(c["e"])}),l),w=Object(o["b"])("transfer/clear",r["w"],l),_=Object(o["b"])("transfer/load",u["d"],l),k=r["v"]({direction:u["b"],tokenNetwork:a["a"],partner:a["a"],totalWithdraw:Object(a["j"])(32),expiration:r["n"]}),E=Object(o["c"])(k,"withdraw/request","withdraw/success","withdraw/failure",r["w"],r["v"]({txHash:a["c"],txBlock:r["n"],confirmed:r["x"]([r["w"],r["e"]])})),T=Object(o["c"])(k,"withdraw/message/request","withdraw/message/success","withdraw/message/failure",r["v"]({message:Object(a["h"])(c["k"])}),r["v"]({message:Object(a["h"])(c["i"])})),x=Object(o["c"])(k,"withdraw/expire/request","withdraw/expire/success","withdraw/expire/failure",r["w"],r["v"]({message:Object(a["h"])(c["j"])})),S=Object(o["b"])("withdraw/completed",r["w"],k)},"87a2":function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return r}));var r,a=function(){return{label:"",title:"",description:""}},o=function(){return{name:"",symbol:"",address:"",opening:0,open:0,closing:0,closed:0,settling:0,settled:0}},i={name:"",chainId:-1};(function(e){e[e["UNDEFINED"]=0]="UNDEFINED",e[e["NO_ACCOUNT"]=1]="NO_ACCOUNT",e[e["UNSUPPORTED_NETWORK"]=2]="UNSUPPORTED_NETWORK",e[e["INITIALIZATION_FAILED"]=3]="INITIALIZATION_FAILED",e[e["RDN_STATE_MIGRATION"]=4]="RDN_STATE_MIGRATION"})(r||(r={}))},"8aa9":function(e,t,n){"use strict";n.d(t,"b",(function(){return C})),n.d(t,"a",(function(){return B}));var r=n("36d8"),a=n.n(r),o=n("111d"),i=n.n(o),c=n("489c");function s(e){return f(e)||l(e)||m(e)||u()}function u(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function f(e){if(Array.isArray(e))return v(e)}function d(e,t){return y(e)||b(e,t)||m(e,t)||p()}function p(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function b(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done);r=!0)if(n.push(i.value),t&&n.length===t)break}catch(s){a=!0,o=s}finally{try{r||null==c["return"]||c["return"]()}finally{if(a)throw o}}return n}}function y(e){if(Array.isArray(e))return e}function h(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=m(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function m(e,t){if(e){if("string"===typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(e,t):void 0}}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function O(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function j(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){O(o,r,a,i,c,"next",e)}function c(e){O(o,r,a,i,c,"throw",e)}i(void 0)}))}}function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var k,E="logs",T=void 0;function x(e){var t=e.toString();return e.stack?e.stack.startsWith(t)?e.stack:"".concat(t,"\n").concat(e.stack):t}function S(e){var t,n,r,a;if("%c prev state"!==e[0]&&(null===(t=e[0])||void 0===t||null===(n=t.startsWith)||void 0===n||!n.call(t,"action %c"))&&"â€”â€” log end â€”â€”"!==e[0]){var o=null===(r=e[2])||void 0===r||null===(a=r.payload)||void 0===a?void 0:a.blockNumber;if(!o)return e=e.map((function(e){return e instanceof Error?x(e):(null===e||void 0===e?void 0:e.payload)instanceof Error?w(w({},e),{},{payload:x(e.payload)}):e})),"string"===typeof e[1]&&e[1].startsWith("color:")&&e.splice(1,1),e;T=o}}function A(e){if("string"===typeof e)return e;try{return JSON.stringify(e)}catch(t){try{return e.toString()}catch(t){return"<unserializable>"}}}function N(e){return P.apply(this,arguments)}function P(){return P=j(a.a.mark((function e(t){var n;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if((null===(n=k)||void 0===n?void 0:n.name)!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Object(c["a"])(t,1,{upgrade:function(e){var t=e.createObjectStore(E);t.createIndex("by-logger","logger"),t.createIndex("by-level","level")}});case 4:k=e.sent;case 5:case"end":return e.stop()}}),e)}))),P.apply(this,arguments)}var D=/^raiden:(0x[0-9a-f]{40})$/i;function R(e){return I.apply(this,arguments)}function I(){return I=j(a.a.mark((function e(t){return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(D.test(t)){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,N(t);case 4:case"end":return e.stop()}}),e)}))),I.apply(this,arguments)}function C(){return U.apply(this,arguments)}function U(){return U=j(a.a.mark((function e(){var t,n,r,o,c=arguments;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=c.length>0&&void 0!==c[0]?c[0]:["matrix"],"undefined"===typeof k){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,N("raiden");case 5:for(n=function(){var e=o[r],t=e.methodFactory;e.methodFactory=function(e,n,r){var a=t(e,n,r);return R(r),function(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];a.apply(void 0,n);var i=S(n);i&&k.put(E,w({logger:r,level:e,message:i},T?{block:T}:{}),Date.now()).catch((function(){return k.put(E,w({logger:r,level:e,message:n.map(A)},T?{block:T}:{}),Date.now())}))}}},r=0,o=[i.a].concat(s(t.map(i.a.getLogger)));r<o.length;r++)n();case 7:case"end":return e.stop()}}),e)}))),U.apply(this,arguments)}var L=[[/("?access_?token"?\s*[=:]\s*)("?)\w+("?)/gi,"$1$2<redacted>$3"],[/("?secret"?\s*[=:]\s*)\[[^\]]+\]/gi,'$1["<redacted>"]'],[/("?secret"?\s*[=:]\s*)("?)\w+("?)/gi,"$1$2<redacted>$3"]];function M(e){var t,n=h(L);try{for(n.s();!(t=n.n()).done;){var r=d(t.value,2),a=r[0],o=r[1];e=e.replace(a,o)}}catch(i){n.e(i)}finally{n.f()}return e}function B(){return F.apply(this,arguments)}function F(){return F=j(a.a.mark((function e(){var t,n,r,o,i,c,s,u,l,f,d,p,b;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t="",e.next=3,k.transaction(E).store.openCursor();case 3:n=e.sent,r=Date.now(),o=!0;case 6:if(!n){e.next=20;break}return i=n.value,c=i.logger,s=i.level,u=i.message,l=i.block,f=u.map((function(e){return"string"===typeof e?e:JSON.stringify(e)})).join(" "),r=+n.key,d=new Date(n.key).toISOString(),p=l?" #".concat(l):"",b=void 0,c!==k.name||o?(b=" @ ".concat(c),o=!1):b="",t+="".concat(d).concat(p).concat(b," [").concat(s,"] \t=> ").concat(f,"\n"),e.next=17,n.continue();case 17:n=e.sent,e.next=6;break;case 20:return t=M(t),e.abrupt("return",[r,t]);case 22:case"end":return e.stop()}}),e)}))),F.apply(this,arguments)}},"909b":function(e,t,n){},9201:function(e,t,n){"use strict";n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return l})),n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return p}));var r=n("2111"),a=n("87b8"),o=n("30c0"),i=n("905c9"),c=n("2b5b"),s=n("ca14"),u=r["s"],l=(r["s"],r["j"]([r["v"]({amount:Object(s["j"])(32),expiration:Object(s["j"])(32),secrethash:s["c"]}),r["o"]({registered:r["l"](!0)})],"Lock")),f=r["p"](r["v"]({chainId:Object(s["j"])(32),tokenNetworkAddress:s["a"],channelId:Object(s["j"])(32),nonce:Object(s["j"])(8),transferredAmount:Object(s["j"])(32),lockedAmount:Object(s["j"])(32),locksroot:s["c"],additionalHash:s["c"]})),d=f,p={chainId:a["f"],tokenNetworkAddress:o["a"],channelId:a["f"],nonce:a["f"],transferredAmount:a["f"],lockedAmount:a["f"],locksroot:c["c"],additionalHash:i["a"],signature:c["e"]}},9302:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"address__container"},[n("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[n("p",e._g({staticClass:"address__label",on:{click:e.copy}},r),[e._v(" "+e._s(e.addressOutput)+" ")])]}}])},[n("div",{staticClass:"address__tooltip"},[n("input",{ref:"copy",staticClass:"address__input",domProps:{value:e.address}}),n("div",[e._v(" "+e._s(e.copied?e.$t("address-display.copied"):e.$t("address-display.copy"))+" ")])])])],1)},a=[],o=n("9ab4"),i=n("5cf9"),c=n("0f75");function s(e){return s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),e}function d(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}function b(e){var t=m();return function(){var n,r=v(e);if(t){var a=v(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return y(this,n)}}function y(e,t){return!t||"object"!==s(t)&&"function"!==typeof t?h(e):t}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}var O=function(e){d(n,e);var t=b(n);function n(){var e;return u(this,n),e=t.apply(this,arguments),e.copied=!1,e.timeout=0,e}return f(n,[{key:"selectAddress",value:function(e){e&&(e.focus(),e.select())}},{key:"deselectAddress",value:function(e){e&&e.blur()}},{key:"copy",value:function(e){var t=this;e.stopPropagation(),this.selectAddress(this.$refs.copy),this.copied=document.execCommand("copy"),this.deselectAddress(this.$refs.copy),this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout((function(){t.copied=!1}),2e3)}},{key:"addressOutput",get:function(){return this.fullAddress?this.address:c["a"].truncate(this.address,8)}}]),n}(i["e"]);Object(o["a"])([Object(i["d"])({required:!0})],O.prototype,"address",void 0),Object(o["a"])([Object(i["d"])({required:!1,default:!1,type:Boolean})],O.prototype,"fullAddress",void 0),O=Object(o["a"])([Object(i["a"])({})],O);var j=O,g=j,w=(n("3fae"),n("a6c2")),_=n("411c"),k=n.n(_),E=n("dc05"),T=Object(w["a"])(g,r,a,!1,null,"5b8f956d",null);t["a"]=T.exports;k()(T,{VTooltip:E["a"]})},9643:function(e,t,n){},"9b19":function(e,t,n){e.exports=n.p+"img/logo.5c4b022d.svg"},"9c98":function(e,t,n){},a0df:function(e){e.exports=JSON.parse('{"contracts_version":null,"chain_id":3,"contracts":{"SecretRegistry":{"address":"0xC6CD0b14519DACA6c8784c1c35619Bda5F90f490","transaction_hash":"0xa344e1897011a18229421d25bb69968fad7c3e78da39c7d975d502d7efc183db","block_number":7931782,"gas_cost":247286,"constructor_arguments":[]},"TokenNetworkRegistry":{"address":"0xAe40f2c0a6c72498F330a1e4CCF1527D9F028443","transaction_hash":"0x111e0bacec7f113f78463923046d545516bb35bdccb813e9dcc03ca707cdbf1e","block_number":7931794,"gas_cost":4001594,"constructor_arguments":["0xC6CD0b14519DACA6c8784c1c35619Bda5F90f490",3,20,555428,1.157920892373162e+77]}},"token_networks":[{"token_network_address":"0x2FA965fE214570bab9D676B5DE7EAffd5b82fcAe","constructor_arguments":{"_token_address":"0x342d1D825B1c8790522E0B8999DB876ddEE82052","_secret_registry":"0xC6CD0b14519DACA6c8784c1c35619Bda5F90f490","_chain_id":3,"_settlement_timeout_min":20,"_settlement_timeout_max":555428,"_deprecation_executor":"0x062C12c01D0f17fC9eAa33940D994594d91a0182","_channel_participant_deposit_limit":1.157920892373162e+77,"_token_network_deposit_limit":1.157920892373162e+77}}]}')},a32b:function(e){e.exports=JSON.parse('{"PFS_EMPTY_URL":"A registered Pathfinding Service returned an empty service URL.","PFS_INVALID_URL":"A registered Pathfinding Service returned an invalid service URL.","PFS_INVALID_INFO":"Could not find any valid Pathfinding service. Client and PFS versions are possibly out-of-sync.","PFS_TOO_EXPENSIVE":"Pathfinding Service price higher than pfsMaxFee.","PFS_NO_ROUTES_FOUND":"No valid routes found.","PFS_ERROR_RESPONSE":"Pathfinding Service request returned an error","PFS_DISABLED":"Pathfinding Service is disabled and no direct route is available.","PFS_UNKNOWN_TOKEN_NETWORK":"No open channels on this token network.","PFS_TARGET_OFFLINE":"The requested target is offline.","PFS_TARGET_NO_RECEIVE":"The requested target doesn\'t receive transfers.","PFS_LAST_IOU_REQUEST_FAILED":"The request for the last IOU has failed.","PFS_IOU_SIGNATURE_MISMATCH":"The signature of the last IOU did not match.","PFS_NO_ROUTES_BETWEEN_NODES":"No route between nodes found.","CNL_INVALID_STATE":"Invalid channel state.","CNL_NO_OPEN_CHANNEL_FOUND":"No open channel has been found.","CNL_NO_OPEN_OR_CLOSING_CHANNEL_FOUND":"No open or closing channel has been found.","CNL_NO_SETTLEABLE_OR_SETTLING_CHANNEL_FOUND":"No settleable or settling channel has been found.","CNL_APPROVE_TRANSACTION_FAILED":"Token approve transaction reverted.","CNL_OPENCHANNEL_FAILED":"TokenNetwork.openChannel transaction reverted.","CNL_SETTOTALDEPOSIT_FAILED":"TokenNetwork.setTotalDeposit transaction reverted.","CNL_CLOSECHANNEL_FAILED":"TokenNetwork.closeChannel transaction reverted.","CNL_SETTLECHANNEL_INVALID_BALANCEHASH":"Could not find BalanceProof matching on-chain closing data. This client may have had its state cleared and can\'t settle.","CNL_SETTLECHANNEL_FAILED":"TokenNetwork.settleChannel transaction reverted.","CNL_UPDATE_NONCLOSING_BP_FAILED":"updateNonClosingBalanceProof transaction reverted.","CNL_ONCHAIN_UNLOCK_FAILED":"on-chain unlock transaction reverted.","CNL_WITHDRAW_TRANSACTION_FAILED":"Withdraw transaction has failed.","CNL_WITHDRAW_PARTNER_OFFLINE":"Channel partner isn\'t online.","CNL_WITHDRAW_EXPIRES_SOON":"Withdraw request expired or expires too soon.","CNL_WITHDRAW_EXPIRED":"Withdraw request expired.","CNL_WITHDRAW_AMOUNT_TOO_LOW":"Withdraw request contains an amount smaller than already withdrawn.","CNL_WITHDRAW_AMOUNT_TOO_HIGH":"Withdraw request contains an amount bigger than channel\'s liquidity.","XFER_EXPIRED":"Transfer expired.","XFER_CHANNEL_CLOSED_PREMATURELY":"Channel was closed before secret got reveiled or transfer unlocked.","XFER_REFUNDED":"Transfer has been refunded.","XFER_INVALID_SECRETREQUEST":"Invalid SecretRequest received","XFER_ALREADY_COMPLETED":"Not waiting for transfer, it\'s already completed.","XFER_REGISTERSECRET_TX_FAILED":"SecretRegistry.registerSecret transaction reverted","TRNS_NO_MATRIX_SERVERS":"Could not contact any Matrix servers.","TRNS_NO_VALID_USER":"Could not find a user with a valid signature.","TRNS_NO_SERVERNAME":"Could not get server name from Matrix server.","TRNS_MESSAGE_SIGNATURE_MISMATCH":"Unable to decode message due to signature mismatch.","RDN_GENERAL_ERROR":"An unknown error occured.","RDN_ASSERT_ERROR":"An unknown assertion failed.","RDN_MINT_FAILED":"Failed to mint tokens.","RDN_MINT_MAINNET":"Minting is only allowed on test networks.","RDN_APPROVE_TRANSACTION_FAILED":"Approve transaction has failed.","RDN_DEPOSIT_TRANSACTION_FAILED":"Deposit transaction has failed.","RDN_TRANSFER_ONCHAIN_BALANCE_FAILED":"Failed to transfer on-chain balance.","RDN_TRANSFER_ONCHAIN_TOKENS_FAILED":"Failed to transfer on-chain tokens.","RDN_UNRECOGNIZED_NETWORK":"No deploy info provided nor recognized network.","RDN_SIGNER_NOT_CONNECTED":"The signing account is not connected to the provider.","RDN_ACCOUNT_NOT_FOUND":"Account not found in provider.","RDN_STRING_ACCOUNT_INVALID":"String account must be either a 0x-encoded address or private key.","RDN_TRANSACTION_REORG":"Transaction has been mined but got removed by a reorg.","RDN_STATE_MIGRATION":"Could not replace stored state with older, provided state.","RDN_SUBKEY_NOT_SET":"Can\'t send tx from subkey if not set.","RDN_INSUFFICIENT_BALANCE":"Insufficient balance.","RDN_INSUFFICIENT_ALLOWANCE":"Requested allowance smaller than deposit.","RDN_NOT_A_TOKEN":"Not a token contract.","RDN_STATE_ADDRESS_MISMATCH":"Mismatch between provided account and loaded state.","RDN_STATE_NETWORK_MISMATCH":"Mismatch between network or registry address and loaded state","RDN_ALREADY_STARTED":"Already started or stopped!","RDN_UNKNOWN_TOKEN_NETWORK":"Unknown Tokennetwork","RDN_INVALID_SECRET":"Invalid provided secret.","RDN_INVALID_SECRETHASH":"Invalid provided secrethash.","RDN_SECRET_SECRETHASH_MISMATCH":"Provided secrethash must match the sha256 hash of provided secret.","RDN_UNKNOWN_TRANSFER":"Unknown transfer.","RDN_DATABASE_DELETED":"Database deleted!","DTA_NEGATIVE_NUMBER":"Encountered negative number while encoding to HEX string.","DTA_NUMBER_TOO_LARGE":"Encountered a number that is too large to be encoded.","DTA_ARRAY_LENGTH_DIFFERENCE":"Expected length of HEX string differs from integer array input.","DTA_UNENCODABLE_DATA":"Passed data is not a HEX string nor integer array.","DTA_NON_POSITIVE_NUMBER":"Number must be positive.","DTA_INVALID_ADDRESS":"Invalid address parameter.","DTA_INVALID_DEPOSIT":"Invalid deposit parameter.","DTA_INVALID_TIMEOUT":"Invalid timeout parameter.","DTA_INVALID_AMOUNT":"Invalid amount parameter.","DTA_INVALID_PAYMENT_ID":"Invalid payment identifier parameter.","DTA_INVALID_PATH":"Invalid path parameter.","DTA_INVALID_PFS":"Invalid path finding service parameter.","UDC_DEPOSIT_OUTDATED":"The UDC contains a target balance different than requested deposit","UDC_PLAN_WITHDRAW_FAILED":"An error occurred while planning to withdraw from the User Deposit contract.","UDC_PLAN_WITHDRAW_GT_ZERO":"The planned withdraw amount has to be greater than zero.","UDC_PLAN_WITHDRAW_EXCEEDS_AVAILABLE":"The planned withdraw amount exceeds the total amount available for withdrawing.","UDC_WITHDRAW_NO_BALANCE":"There is no balances left to withdraw from UDC.","UDC_WITHDRAW_FAILED":"An error occurred while withdrawing from the UDC."}')},a3d5:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("fbcd");function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}var c=function(){function e(){a(this,e)}return i(e,null,[{key:"toEth",value:function(e){return r["b"].formatEther(e)}},{key:"toUnits",value:function(e,t){var n=r["b"].formatUnits(e,t);return 0===t?n.split(".")[0]:n}},{key:"decimalsOverflow",value:function(e,t){var n;return n=e.indexOf(".")>0?e.split(".")[1]:"",n.length>t}},{key:"parse",value:function(e,t){return r["b"].parseUnits(e.endsWith(".")?e.substring(0,e.length-1):e,t)}}]),e}()},a520:function(e,t,n){},a965:function(e,t,n){"use strict";n("7a85")},b4cc:function(e){e.exports=JSON.parse('{"contracts_version":null,"chain_id":3,"contracts":{"ServiceRegistry":{"address":"0x3b47ae7d1B6B73341c7C9238669500DC3EE322c8","transaction_hash":"0x4d02a48e464d2b9d1e15f86e20b9bee240bac2919c0e6671ae3027106f2943b2","block_number":7931820,"gas_cost":1999628,"constructor_arguments":["0x78BaE89c310B2bc53981176a0bc95F6caf1C86d1","0x062C12c01D0f17fC9eAa33940D994594d91a0182",2e+21,6,5,17280000,1000,15552000]},"UserDeposit":{"address":"0x70e27B28Ce6BF060889D6606169B88519edf83E2","transaction_hash":"0x4d6606b19fed986698af1784c2aa37654d94dd32f273a9efc985286092ab02eb","block_number":7931832,"gas_cost":1530470,"constructor_arguments":["0x78BaE89c310B2bc53981176a0bc95F6caf1C86d1",1.157920892373162e+77]},"MonitoringService":{"address":"0xBf86C5d8cC05Ff64419d3cDe505509397869ef06","transaction_hash":"0xde25f2d4a4a7f594c139512a246c9ba006a5f0ce9cd801c3f3d8f6e625411584","block_number":7931856,"gas_cost":1949889,"constructor_arguments":["0x78BaE89c310B2bc53981176a0bc95F6caf1C86d1","0x3b47ae7d1B6B73341c7C9238669500DC3EE322c8","0x70e27B28Ce6BF060889D6606169B88519edf83E2","0xAe40f2c0a6c72498F330a1e4CCF1527D9F028443"]},"OneToN":{"address":"0xCC911b7292157A41170C103E6fE2fE10A3B504F5","transaction_hash":"0xafcf5f55b6bb9845f7ed95079c952fbd13e867e30277cc0455901072e38536b9","block_number":7931882,"gas_cost":1097785,"constructor_arguments":["0x70e27B28Ce6BF060889D6606169B88519edf83E2",3,"0x3b47ae7d1B6B73341c7C9238669500DC3EE322c8"]}}}')},b8ff:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return l}));var r,a=n("2111"),o=n("ca14"),i=n("0ba5"),c=n("9201");(function(e){e["open"]="open",e["closing"]="closing",e["closed"]="closed",e["settleable"]="settleable",e["settling"]="settling",e["settled"]="settled"})(r||(r={}));var s=a["p"](a["v"]({address:o["a"],deposit:Object(o["j"])(32),withdraw:Object(o["j"])(32),locks:a["q"](c["d"]),balanceProof:Object(o["h"])(c["a"]),pendingWithdraws:a["q"](a["x"]([Object(o["h"])(i["e"]),Object(o["h"])(i["c"]),Object(o["h"])(i["d"])])),nextNonce:Object(o["j"])(8)}),"ChannelEnd"),u=s,l=a["j"]([a["p"](a["v"]({_id:a["s"],id:a["n"],token:o["a"],tokenNetwork:o["a"],settleTimeout:a["n"],isFirstParticipant:a["e"],openBlock:a["n"],own:u,partner:u}),"Channel"),a["x"]([a["p"](a["v"]({state:a["x"]([a["l"](r.open),a["l"](r.closing)])}),"state[open|closing]"),a["j"]([a["p"](a["v"]({closeBlock:a["n"],closeParticipant:o["a"]}),"ChannelClosed"),a["x"]([a["p"](a["v"]({state:a["x"]([a["l"](r.closed),a["l"](r.settleable),a["l"](r.settling)])}),"state[closed|settleable|settling]"),a["p"](a["v"]({state:a["l"](r.settled),settleBlock:a["n"]}),"state[settled]")])])])])},bf6c:function(e){e.exports=JSON.parse('{"sdk":"0.14.0","contracts":"0.37.1"}')},c412:function(e,t,n){"use strict";n("f718")},c998:function(e){e.exports=JSON.parse('{"contracts_version":null,"chain_id":5,"contracts":{"SecretRegistry":{"address":"0x9fC80eb1939d8147aB90BAC01AD585f3a71BeE7e","transaction_hash":"0x74e45a70fbfe991b9dcee98b248a8165c5cb1cbfe0a8e8b5cca07219e958bce9","block_number":2723613,"gas_cost":247286,"constructor_arguments":[]},"TokenNetworkRegistry":{"address":"0x5a5CF4A63022F61F1506D1A2398490c2e8dfbb98","transaction_hash":"0x229a818e87c41e5ca1818e7f102d02edb22018475706846071b2f0e7dc59eca6","block_number":2723614,"gas_cost":4001594,"constructor_arguments":["0x9fC80eb1939d8147aB90BAC01AD585f3a71BeE7e",5,20,555428,1.157920892373162e+77]}},"token_networks":[{"token_network_address":"0x812650FB6Acdf9dD47E631cBB5518B32FFD4D129","constructor_arguments":{"_token_address":"0xC563388e2e2fdD422166eD5E76971D11eD37A466","_secret_registry":"0x9fC80eb1939d8147aB90BAC01AD585f3a71BeE7e","_chain_id":5,"_settlement_timeout_min":20,"_settlement_timeout_max":555428,"_deprecation_executor":"0x062C12c01D0f17fC9eAa33940D994594d91a0182","_channel_participant_deposit_limit":1.157920892373162e+77,"_token_network_deposit_limit":1.157920892373162e+77}}]}')},ca14:function(e,t,n){"use strict";n.d(t,"l",(function(){return O})),n.d(t,"n",(function(){return j})),n.d(t,"b",(function(){return g})),n.d(t,"d",(function(){return _})),n.d(t,"j",(function(){return k})),n.d(t,"g",(function(){return E})),n.d(t,"c",(function(){return T})),n.d(t,"f",(function(){return x})),n.d(t,"e",(function(){return S})),n.d(t,"a",(function(){return N})),n.d(t,"i",(function(){return P})),n.d(t,"p",(function(){return D})),n.d(t,"q",(function(){return R})),n.d(t,"h",(function(){return I})),n.d(t,"m",(function(){return C})),n.d(t,"o",(function(){return U})),n.d(t,"k",(function(){return L}));var r=n("2111"),a=n("a91f"),o=n("c2c4"),i=n("c00b"),c=n("2d67"),s=n("b97c"),u=n("87b8"),l=n("427e"),f=n.n(l),d=n("ee6c");function p(e,t){if(null==e)return{};var n,r,a=b(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function b(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e){if(Object(a["isLeft"])(e))throw new Error(o["PathReporter"].report(e).join("\n"))}function O(e,t,n,r){try{var a=e.decode(t);return v(a),a.right}catch(o){throw null===r||void 0===r||r("__decode failed:",e,t),n?n instanceof Error?n:new d["c"](n):o}}function j(e){return null!=e}var g=new r["b"]("BigNumber",i["a"].isBigNumber,(function(e,t){try{return r["t"](i["a"].from(e))}catch(n){return r["h"](e,t)}}),(function(e){return e.toString()})),w=f()((function(e){return r["f"](r["s"],(function(t){return"string"===typeof t&&(e?Object(s["d"])(t)===e:Object(s["l"])(t))}),"HexString")})),_=f()((function(e){var t=e?u["f"].sub(u["d"].pow(8*e-1)):void 0,n=e?u["d"].pow(8*e-1):void 0;return r["f"](g,(function(e){return g.is(e)&&(!t||!n||e.gte(t)&&e.lt(n))}),"Int")})),k=f()((function(e){var t=e?u["f"]:void 0,n=e?u["d"].pow(8*e):void 0;return r["f"](g,(function(e){return g.is(e)&&(!t||!n||e.gte(t)&&e.lt(n))}),"UInt")})),E=w(65),T=w(32),x=w(32),S=w(32);function A(e){try{return Object(c["a"])(e)===e}catch(t){return!1}}var N=new r["a"]("Address",A,(function(e,t){try{return r["t"](Object(c["a"])(e))}catch(n){return r["h"](e,t)}}),r["i"],w(20),A),P=f()((function(e){return r["j"]([e,r["p"](r["v"]({ts:r["n"]}))])}));function D(e){return h(h({},e),{},{ts:Date.now()})}function R(e){e.ts;var t=p(e,["ts"]);return t}var I=f()((function(e){return r["j"]([e,r["p"](r["v"]({signature:E}))])})),C=f()((function(e){return new r["b"]("instanceOf(".concat(e.name,")"),(function(t){return t instanceof e}),(function(t,n){return t instanceof e?r["t"](t):r["h"](t,n)}),r["i"])}));function U(e){return e[e.length-1]}function L(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return e.lt(t)?t:e}))}},cd49:function(e,t,n){"use strict";n.r(t);var r=n("e832"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",{attrs:{dark:""}},[n("div",{attrs:{id:"application-wrapper"}},[n("router-view",{attrs:{name:"modal"}}),n("transition",{attrs:{name:"slide"}},[n("router-view",{attrs:{name:"notifications"}})],1),n("div",{attrs:{id:"application-content"}},[n("app-header"),n("v-main",[n("v-container",{staticClass:"application__container fill-height",attrs:{fluid:""}},[n("router-view")],1)],1)],1)],1),e.imprint?n("div",{staticClass:"policy"},[n("a",{attrs:{href:e.imprint,target:"_blank"}},[e._v(" "+e._s(e.$t("application.privacy-policy"))+" ")])]):e._e(),n("offline-snackbar"),n("update-snackbar"),n("notification-snackbar")],1)},o=[],i=n("9ab4"),c=n("5cf9"),s=n("152b"),u=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"app-header"},[r("div",{staticClass:"app-header__back"},[e.canGoBack?r("v-btn",{staticClass:"app-header__back-button",attrs:{"data-cy":"app_header_back_button",height:"40px",width:"40px",icon:""},on:{click:function(t){return e.onBackClicked()}}},[r("v-img",{attrs:{src:n("73da")}})],1):e._e()],1),r("div",{staticClass:"app-header__title"},[r("span",{staticClass:"app-header__title__route"},[e._v(" "+e._s(e.$route.meta.title)+" ")]),e.showTitleOnly?e._e():r("span",{staticClass:"app-header__title__network"},[e._v(" "+e._s(e.network)+" ")])]),r("div",{staticClass:"app-header__icons"},[e.showTitleOnly?e._e():r("v-btn",{staticClass:"app-header__notifications-button",attrs:{"data-cy":"app_header_notifications_button",icon:"",height:"30px",width:"25px"},nativeOn:{click:function(t){return e.notificationPanel()}}},[e.newNotifications?r("v-badge",{attrs:{color:"notification",overlap:"",bordered:"",dot:""}},[r("v-img",{attrs:{height:"30px",width:"25px",src:n("db7b")}})],1):r("v-img",{attrs:{height:"30px",width:"25px",src:n("db7b")}})],1),e.isDisclaimerRoute?e._e():r("header-identicon",{staticClass:"app-header__icons__identicon",attrs:{"data-cy":"app_header_icons_identicon"},nativeOn:{click:function(t){return e.navigateToAccoount()}}})],1)])},l=[],f=n("94ea"),d=n("80bf"),p=n("233e"),b=n("9302");function y(e){return y="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t,n){return t&&j(e.prototype,t),n&&j(e,n),e}function w(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}function _(e,t){return _=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},_(e,t)}function k(e){var t=x();return function(){var n,r=S(e);if(t){var a=S(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return E(this,n)}}function E(e,t){return!t||"object"!==y(t)&&"function"!==typeof t?T(e):t}function T(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function S(e){return S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},S(e)}var A=Object(f["a"])("notifications"),N=A.mapState,P=A.mapMutations,D=function(e){w(n,e);var t=k(n);function n(){return O(this,n),t.apply(this,arguments)}return g(n,[{key:"notificationPanel",value:function(){this.notificationsViewed(),this.navigateToNotifications()}},{key:"isDisclaimerRoute",get:function(){return this.$route.name===d["a"].DISCLAIMER}},{key:"canGoBack",get:function(){var e=[d["a"].HOME,d["a"].TRANSFER];return this.isConnected&&!this.isDisclaimerRoute&&!e.includes(this.$route.name)}},{key:"showTitleOnly",get:function(){return this.isDisclaimerRoute||!this.isConnected}}]),n}(Object(c["c"])(s["a"]));D=Object(i["a"])([Object(c["a"])({components:{HeaderIdenticon:p["a"],AddressDisplay:b["a"]},computed:m(m(m({},Object(f["e"])(["defaultAccount"])),N(["newNotifications"])),Object(f["c"])(["network","isConnected"])),methods:m({},P(["notificationsViewed"]))})],D);var R=D,I=R,C=(n("2c1c"),n("a6c2")),U=n("411c"),L=n.n(U),M=n("4675"),B=n("9c46"),F=n("1331"),W=Object(C["a"])(I,u,l,!1,null,"59243346",null),H=W.exports;L()(W,{VBadge:M["a"],VBtn:B["a"],VImg:F["a"]});var $=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.offline?n("span",[n("blurred-overlay",{attrs:{show:e.offline,fullscreen:!0}}),n("v-snackbar",{attrs:{timeout:-1,color:"error"},model:{value:e.offline,callback:function(t){e.offline=t},expression:"offline"}},[e._v(" "+e._s(e.$t("general.offline"))+" "),n("v-icon",[e._v("mdi-alert")])],1)],1):e._e()},V=[],q=n("0a08");function K(e){return K="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},K(e)}function G(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function X(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Y(e,t,n){return t&&X(e.prototype,t),n&&X(e,n),e}function Q(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&z(e,t)}function z(e,t){return z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},z(e,t)}function Z(e){var t=te();return function(){var n,r=ne(e);if(t){var a=ne(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return J(this,n)}}function J(e,t){return!t||"object"!==K(t)&&"function"!==typeof t?ee(e):t}function ee(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function te(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function ne(e){return ne=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ne(e)}var re=function(e){Q(n,e);var t=Z(n);function n(){var e;return G(this,n),e=t.apply(this,arguments),e.offline=!1,e}return Y(n,[{key:"handleOnline",value:function(){this.offline=!1}},{key:"handleOffline",value:function(){this.offline=!0}},{key:"mounted",value:function(){this.offline=!navigator.onLine,window.addEventListener("offline",this.handleOffline),window.addEventListener("online",this.handleOnline)}},{key:"beforeDestroy",value:function(){window.removeEventListener("offline",this.handleOffline),window.removeEventListener("online",this.handleOnline)}}]),n}(c["e"]);re=Object(i["a"])([Object(c["a"])({components:{BlurredOverlay:q["a"]}})],re);var ae=re,oe=ae,ie=n("b503"),ce=n("5dee"),se=Object(C["a"])(oe,$,V,!1,null,null,null),ue=se.exports;L()(se,{VIcon:ie["a"],VSnackbar:ce["a"]});var le=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.updateAvailable?n("span",[n("blurred-overlay",{attrs:{show:e.updateAvailable,fullscreen:!0}}),n("v-snackbar",{attrs:{timeout:-1,color:"primary"},model:{value:e.updateAvailable,callback:function(t){e.updateAvailable=t},expression:"updateAvailable"}},[e._v(" "+e._s(e.$t("update.available"))+" "),n("v-btn",{attrs:{dark:"",text:"",loading:e.isUpdating},on:{click:e.update}},[e._v(" "+e._s(e.$t("update.update"))+" ")])],1)],1):e._e()},fe=[];function de(e){return de="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},de(e)}function pe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function be(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ye(e,t,n){return t&&be(e.prototype,t),n&&be(e,n),e}function he(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&me(e,t)}function me(e,t){return me=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},me(e,t)}function ve(e){var t=ge();return function(){var n,r=we(e);if(t){var a=we(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Oe(this,n)}}function Oe(e,t){return!t||"object"!==de(t)&&"function"!==typeof t?je(e):t}function je(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ge(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function we(e){return we=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},we(e)}var _e=function(e){he(n,e);var t=ve(n);function n(){var e;return pe(this,n),e=t.apply(this,arguments),e.isUpdating=!1,e.updateAvailable=!1,e.swRegistration=null,e}return ye(n,[{key:"created",value:function(){var e=this;window.addEventListener("swUpdated",this.handleSWUpdate,{once:!0}),navigator.serviceWorker.addEventListener("controllerchange",(function(){setTimeout((function(){e.updateAvailable=!1,window.location.reload()}),1500)}))}},{key:"beforeDestroy",value:function(){window.removeEventListener("swUpdated",this.handleSWUpdate)}},{key:"handleSWUpdate",value:function(e){this.swRegistration=e.detail,this.updateAvailable=!0}},{key:"update",value:function(){this.isUpdating=!0,this.swRegistration&&this.swRegistration.waiting&&this.swRegistration.waiting.postMessage("skipWaiting")}}]),n}(c["e"]);_e=Object(i["a"])([Object(c["a"])({components:{BlurredOverlay:q["a"]}})],_e);var ke=_e,Ee=ke,Te=Object(C["a"])(Ee,le,fe,!1,null,null,null),xe=Te.exports;L()(Te,{VBtn:B["a"],VSnackbar:ce["a"]});var Se=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-snackbar",{attrs:{timeout:e.notification.duration,app:"",rounded:"","max-width":"550px",color:"primary"},on:{input:function(t){return e.setNotificationShown(e.notification.id)}},scopedSlots:e._u([{key:"action",fn:function(t){var n=t.attrs;return[r("v-btn",e._b({attrs:{icon:"",left:""},on:{click:function(t){return e.dismiss()}}},"v-btn",n,!1),[r("v-icon",[e._v("mdi-close")])],1)]}}]),model:{value:e.notification.display,callback:function(t){e.$set(e.notification,"display",t)},expression:"notification.display"}},[r("v-row",{staticClass:"notification-area",attrs:{"no-gutters":""}},[r("v-col",{attrs:{cols:"2"}},[r("img",{attrs:{src:n("4cd4")}})]),r("v-col",{staticClass:"notification-area__title"},[r("span",[e._v(" "+e._s(e.notification.title)+" ")])])],1)],1)},Ae=[],Ne=n("6485"),Pe=n("d8a5");function De(e){return De="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},De(e)}function Re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Re(Object(n),!0).forEach((function(t){Ce(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ce(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Le(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Me(e,t,n){return t&&Le(e.prototype,t),n&&Le(e,n),e}function Be(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Fe(e,t)}function Fe(e,t){return Fe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Fe(e,t)}function We(e){var t=Ve();return function(){var n,r=qe(e);if(t){var a=qe(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return He(this,n)}}function He(e,t){return!t||"object"!==De(t)&&"function"!==typeof t?$e(e):t}function $e(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ve(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function qe(e){return qe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},qe(e)}var Ke={id:-1,title:"",description:"",icon:"",display:!1,duration:5e3,importance:Ne["a"].LOW,context:Pe["a"].NONE,received:new Date},Ge=function(e){Be(n,e);var t=We(n);function n(){var e;return Ue(this,n),e=t.apply(this,arguments),e.notification=Ke,e}return Me(n,[{key:"onQueueChange",value:function(){var e=this;if(!this.notification.display&&this.notificationQueue.length>0){var t=this.notificationQueue.shift();if(!t)return;this.$nextTick((function(){return e.notification=t}))}}},{key:"created",value:function(){this.notification=Ke}},{key:"dismiss",value:function(){this.setNotificationShown(this.notification.id),this.notification=Ie(Ie({},this.notification),{},{display:!1})}}]),n}(c["e"]);Object(i["a"])([Object(c["f"])("notificationQueue",{deep:!0})],Ge.prototype,"onQueueChange",null),Ge=Object(i["a"])([Object(c["a"])({computed:Ie({},Object(f["c"])("notifications",["notificationQueue"])),methods:Ie({},Object(f["d"])("notifications",["setNotificationShown"]))})],Ge);var Xe=Ge,Ye=Xe,Qe=(n("c412"),n("1fb1")),ze=n("e614"),Ze=Object(C["a"])(Ye,Se,Ae,!1,null,"af1e1ce4",null),Je=Ze.exports;function et(e){return et="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},et(e)}function tt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function rt(e,t,n){return t&&nt(e.prototype,t),n&&nt(e,n),e}function at(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ot(e,t)}function ot(e,t){return ot=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ot(e,t)}function it(e){var t=ut();return function(){var n,r=lt(e);if(t){var a=lt(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ct(this,n)}}function ct(e,t){return!t||"object"!==et(t)&&"function"!==typeof t?st(e):t}function st(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ut(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function lt(e){return lt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},lt(e)}L()(Ze,{VBtn:B["a"],VCol:Qe["a"],VIcon:ie["a"],VRow:ze["a"],VSnackbar:ce["a"]});var ft=function(e){at(n,e);var t=it(n);function n(){return tt(this,n),t.apply(this,arguments)}return rt(n,[{key:"destroyed",value:function(){this.$raiden.disconnect()}},{key:"imprint",get:function(){return"https://raiden.network/privacy.html"}}]),n}(Object(c["c"])(s["a"]));ft=Object(i["a"])([Object(c["a"])({components:{AppHeader:H,OfflineSnackbar:ue,UpdateSnackbar:xe,NotificationSnackbar:Je}})],ft);var dt=ft,pt=dt,bt=(n("db20"),n("072b")),yt=n("f56c"),ht=n("e8f8"),mt=Object(C["a"])(pt,a,o,!1,null,"2d94ae86",null),vt=mt.exports;L()(mt,{VApp:bt["a"],VContainer:yt["a"],VMain:ht["a"]});var Ot=n("d74d");Ot["b"].registerHooks(["beforeRouteEnter","beforeRouteLeave","beforeRouteUpdate"]);n("0f75");var jt=n("4af9");function gt(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=wt(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function wt(e,t){if(e){if("string"===typeof e)return _t(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_t(e,t):void 0}}function _t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function kt(e,t,n){var r,a=gt(this.children);try{for(a.s();!(r=a.n()).done;){var o=r.value,i=o(e);if(null===i)return void n();if(void 0!==i)return void n(i)}}catch(c){a.e(c)}finally{a.f()}n({})}var Et=n("fbac"),Tt=n("c38e"),xt=n.n(Tt),St=n("0cb2"),At=n.n(St),Nt=n("79e0"),Pt=n.n(Nt),Dt=n("e6ee"),Rt=n.n(Dt),It=n("6298"),Ct=n.n(It),Ut=n("a19f"),Lt=n.n(Ut),Mt=n("fe07"),Bt=n.n(Mt),Ft=n("605b"),Wt=n.n(Ft),Ht=n("87a2"),$t=n("f455");function Vt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vt(Object(n),!0).forEach((function(t){Kt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Kt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gt(e){return zt(e)||Qt(e)||Yt(e)||Xt()}function Xt(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Yt(e,t){if(e){if("string"===typeof e)return Zt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Zt(e,t):void 0}}function Qt(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function zt(e){if(Array.isArray(e))return Zt(e)}function Zt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Jt(e){var t=Object.values(e).map((function(e){return e.id}));return Math.max.apply(Math,Gt(t).concat([0]))+1}var en={notificationDelete:function(e,t){var n=qt({},e.notifications);delete n[t],e.notifications=n},notificationsViewed:function(e){e.newNotifications=!1},notificationAddOrReplace:function(e,t){var n,r,a,o,i,c,s=e.notifications,u=Object.values(s).filter((function(e){var n=e.txHash;return n&&n===t.txHash})),l=null!==(n=null===(r=u[0])||void 0===r?void 0:r.id)&&void 0!==n?n:Jt(s),f=null===(a=u[0])||void 0===a||!a.id,d=qt(qt({},t),{},{id:l,received:new Date,display:f,context:null!==(o=t.context)&&void 0!==o?o:Pe["a"].NONE,importance:null!==(i=t.importance)&&void 0!==i?i:Ne["a"].LOW,duration:null!==(c=t.duration)&&void 0!==c?c:5e3});e.notifications=qt(qt({},s),{},Kt({},d.id,d)),e.newNotifications=!0},setNotificationShown:function(e,t){e.notifications[t].display=!1},clear:function(e){e.notifications=[]}};function tn(e){return on(e)||an(e)||rn(e)||nn()}function nn(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function rn(e,t){if(e){if("string"===typeof e)return cn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?cn(e,t):void 0}}function an(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function on(e){if(Array.isArray(e))return cn(e)}function cn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var sn={notifications:function(e){return Object.values(e.notifications).sort((function(e,t){return t.id-e.id}))},nextNotificationId:function(e){var t=e.notifications,n=Object.values(t).map((function(e){return e.id}));return Math.max.apply(Math,tn(n).concat([0]))+1},notificationQueue:function(e){return Object.values(e.notifications).filter((function(e){return e.importance===Ne["a"].HIGH&&!0===e.display}))}},un=function(){return{notifications:{},newNotifications:!1}},ln=un(),fn=ln,dn={namespaced:!0,mutations:en,state:fn,getters:sn},pn={setTokenAddress:function(e,t){e.tokenAddress=t},setToken:function(e,t){e.token=t},setPlannedWithdrawal:function(e,t){e.plannedWithdrawal=t},clearPlannedWithdrawal:function(e){e.plannedWithdrawal=void 0}},bn=function(){return{tokenAddress:"",token:void 0,plannedWithdrawal:void 0}},yn=bn(),hn=yn,mn={namespaced:!0,mutations:pn,state:hn};function vn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function On(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vn(Object(n),!0).forEach((function(t){jn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function jn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gn(e,t){return Tn(e)||En(e,t)||_n(e,t)||wn()}function wn(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _n(e,t){if(e){if("string"===typeof e)return kn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?kn(e,t):void 0}}function kn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function En(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done);r=!0)if(n.push(i.value),t&&n.length===t)break}catch(s){a=!0,o=s}finally{try{r||null==c["return"]||c["return"]()}finally{if(a)throw o}}return n}}function Tn(e){if(Array.isArray(e))return e}r["a"].use(f["b"]);var xn={loading:!0,blockNumber:0,defaultAccount:"",accountBalance:"0.0",raidenAccountBalance:"",providerDetected:!0,accessDenied:Ht["a"].UNDEFINED,channels:{},tokens:{},transfers:{},presences:{},network:Ht["b"],stateBackup:"",settings:{isFirstTimeConnect:!0,useRaidenAccount:!0},config:{},disclaimerAccepted:!1,stateBackupReminderDateMs:0,persistDisclaimerAcceptance:!1};function Sn(){return Rt()(xn)}var An=function(e,t){return e.balance&&t.balance&&(!e.balance.isZero()||!t.balance.isZero())},Nn=new Et["a"]({reducer:function(e){return{settings:e.settings}},filter:function(e){return"updateSettings"==e.type},key:"raiden_dapp_settings"}),Pn=new Et["a"]({reducer:function(e){return{disclaimerAccepted:!!e.persistDisclaimerAcceptance&&e.disclaimerAccepted,stateBackupReminderDateMs:e.stateBackupReminderDateMs}},filter:function(e){return"acceptDisclaimer"===e.type||"updateStateBackupReminderDate"===e.type},key:"miscellaneous"}),Dn={state:Sn(),mutations:{noProvider:function(e){e.providerDetected=!1},accessDenied:function(e,t){e.accessDenied=t},account:function(e,t){e.defaultAccount=t},loadComplete:function(e){e.loading=!1},updateBlock:function(e,t){e.blockNumber=t},balance:function(e,t){e.accountBalance=t},raidenAccountBalance:function(e,t){e.raidenAccountBalance=t},updateChannels:function(e,t){e.channels=t},updateTokens:function(e,t){for(var n=0,r=Object.entries(t);n<r.length;n++){var a=gn(r[n],2),o=a[0],i=a[1];o in e.tokens&&Bt()(i,e.tokens[o])||(o in e.tokens?e.tokens[o]=On(On({},e.tokens[o]),i):e.tokens=On(On({},e.tokens),{},jn({},o,i)))}},updatePresence:function(e,t){e.presences=On(On({},e.presences),t)},network:function(e,t){e.network=t},reset:function(e){var t=e.settings,n=e.disclaimerAccepted,r=e.stateBackup,a=e.stateBackupReminderDateMs;Object.assign(e,On(On({},Sn()),{},{settings:t,disclaimerAccepted:n,stateBackup:r,stateBackupReminderDateMs:a}))},updateTransfers:function(e,t){e.transfers=On(On({},e.transfers),{},jn({},t.key,t))},backupState:function(e,t){e.stateBackup=t},updateSettings:function(e,t){e.settings=t},updateConfig:function(e,t){e.config=t},acceptDisclaimer:function(e,t){e.disclaimerAccepted=!0,e.persistDisclaimerAcceptance=t},updateStateBackupReminderDate:function(e,t){e.stateBackupReminderDateMs=t}},actions:{},getters:{tokens:function(e){var t=function(e,t){return e.address=t.token,e[t.state]+=1,e};return xt()(Pt()(At()(e.channels),(function(e){return!Wt()(e)})),(function(n){var r=Ct()(n,t,Object(Ht["d"])()),a=e.tokens[r.address];return a&&(r.name=a.name||"",r.symbol=a.symbol||""),r}))},allTokens:function(e){return Object.values(e.tokens).sort((function(e,t){return An(e,t)?t.balance.gt(e.balance)?1:-1:e.symbol&&t.symbol?e.symbol.localeCompare(t.symbol):0}))},channels:function(e){return function(t){var n=[],r=e.channels[t];return r&&!Wt()(r)&&(n=At()(r)),n}},openChannels:function(e){return Object.keys(e.channels).length>0},token:function(e){return function(t){return t in e.tokens?e.tokens[t]:null}},network:function(e){return Object($t["g"])(e.network)},mainnet:function(e){return 1===e.network.chainId},channelWithBiggestCapacity:function(e,t){return function(e){var n=t.channels(e),r=n.filter((function(e){return e.state===$t["b"].open}));return Lt()(r,["capacity"],["desc"])[0]}},pendingTransfers:function(e){var t=e.transfers;return Object.keys(t).filter((function(e){var n=t[e].completed;return!n})).reduce((function(e,n){return e[n]=t[n],e}),{})},transfer:function(e){return function(t){return Object.values(e.transfers).find((function(e){return e.paymentId.eq(t)}))}},isConnected:function(e){return!e.loading&&!(!e.defaultAccount||""===e.defaultAccount)},usingRaidenAccount:function(e){return!!e.settings.useRaidenAccount}},plugins:[Nn.plugin,Pn.plugin],modules:{notifications:dn,userDepositContract:mn}},Rn=new f["b"].Store(Dn);function In(e){var t=Rn.state.disclaimerAccepted,n=e.name===d["a"].DISCLAIMER;return t||n?!t&&n?null:t&&n?{name:d["a"].HOME}:void 0:{name:d["a"].DISCLAIMER,query:{redirectTo:e.fullPath}}}var Cn=[d["a"].ACCOUNT_ROOT,d["a"].ACCOUNT_BACKUP,d["a"].ACCOUNT_RAIDEN,d["a"].ACCOUNT_SETTINGS,d["a"].ACCOUNT_WITHDRAWAL,d["a"].ACCOUNT_UDC];function Un(e){var t,n=Rn.getters.isConnected,r=Cn.includes(null!==(t=e.name)&&void 0!==t?t:""),a=e.name===d["a"].HOME;if(!r)return n||a?!n&&a?null:n&&a?{name:d["a"].TRANSFER}:void 0:{name:d["a"].HOME,query:{redirectTo:e.fullPath}}}function Ln(e,t,r){null===t.name?r({name:d["a"].HOME}):e.matched.length&&(e.matched[0].components.default=t.matched[0].components.default,e.matched[0].components.notifications=function(){return n.e("chunk-ad1fa19e").then(n.bind(null,"c284"))}),r()}function Mn(e,t,r){null===t.name?r({name:d["a"].HOME}):e.matched.length&&(e.matched[0].components.default=t.matched[0].components.default,e.matched[0].components.modal=function(){return n.e("chunk-36c39c97").then(n.bind(null,"47f5"))}),r()}var Bn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"disclaimer",attrs:{"data-cy":"disclaimer"}},[n("div",{staticClass:"disclaimer__content"},[n("div",{staticClass:"disclaimer__content__paragraphs font-weight-light"},e._l(e.$t("disclaimer.paragraphs"),(function(t,r){return n("p",{key:r},[e._v(" "+e._s(t)+" ")])})),0),n("v-checkbox",{staticClass:"disclaimer__content__accept-checkbox",attrs:{"data-cy":"disclaimer_accept_checkbox",label:e.$t("disclaimer.accept-checkbox"),dense:"","hide-details":""},model:{value:e.checkedAccept,callback:function(t){e.checkedAccept=t},expression:"checkedAccept"}}),n("v-checkbox",{staticClass:"disclaimer__content__persist-checkbox",attrs:{"data-cy":"disclaimer_persist_checkbox",label:e.$t("disclaimer.persist-checkbox"),dense:"","hide-details":""},model:{value:e.checkedPersist,callback:function(t){e.checkedPersist=t},expression:"checkedPersist"}})],1),n("action-button",{staticClass:"disclaimer__accept-button",attrs:{text:e.$t("disclaimer.accept-button"),"data-cy":"disclaimer_accept_button",enabled:e.checkedAccept,sticky:""},on:{click:e.accept}})],1)},Fn=[],Wn=n("750b");function Hn(e){return Hn="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hn(e)}function $n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Vn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qn(e,t,n){return t&&Vn(e.prototype,t),n&&Vn(e,n),e}function Kn(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Gn(e,t)}function Gn(e,t){return Gn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Gn(e,t)}function Xn(e){var t=zn();return function(){var n,r=Zn(e);if(t){var a=Zn(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Yn(this,n)}}function Yn(e,t){return!t||"object"!==Hn(t)&&"function"!==typeof t?Qn(e):t}function Qn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zn(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function Zn(e){return Zn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Zn(e)}var Jn=function(e){Kn(n,e);var t=Xn(n);function n(){var e;return $n(this,n),e=t.apply(this,arguments),e.checkedAccept=!1,e.checkedPersist=!1,e}return qn(n,[{key:"accept",value:function(){this.$store.commit("acceptDisclaimer",this.checkedPersist),this.$router.push(this.navigationTarget)}},{key:"navigationTarget",get:function(){var e=this.$route.query.redirectTo;return e?{path:e}:{name:d["a"].HOME}}}]),n}(c["e"]);Jn=Object(i["a"])([Object(c["a"])({components:{ActionButton:Wn["a"]}})],Jn);var er=Jn,tr=er,nr=(n("0bd4"),n("0591")),rr=Object(C["a"])(tr,Bn,Fn,!1,null,"43f6293e",null),ar=rr.exports;L()(rr,{VCheckbox:nr["a"]});var or=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{staticClass:"home",attrs:{fluid:"","data-cy":"home"}},[r("v-row",{attrs:{"no-gutters":""}},[r("v-col",{attrs:{cols:"12"}},[r("div",{staticClass:"home__logo-container"},[r("v-img",{staticClass:"home__logo-container__logo",attrs:{src:n("9b19"),"aspect-ratio":"1",contain:""}})],1)])],1),r("v-row",{attrs:{"no-gutters":""}},[r("v-col",{attrs:{cols:"12"}},[r("div",{staticClass:"home__app-welcome text-center"},[e._v(" "+e._s(e.$t("home.welcome"))+" ")])])],1),r("v-row",{attrs:{"no-gutters":""}},[r("v-col",{attrs:{cols:"12"}},[r("div",{staticClass:"home__disclaimer text-center font-weight-light"},[e._v(" "+e._s(e.$t("home.disclaimer"))+" ")]),r("i18n",{staticClass:"home__getting-started text-center font-weight-light",attrs:{path:"home.getting-started.description",tag:"div"}},[r("a",{attrs:{href:"https://github.com/raiden-network/light-client#getting-started",target:"_blank"}},[e._v(" "+e._s(e.$t("home.getting-started.link-name"))+" ")])]),e.accessDenied?r("no-access-message",{staticClass:"home__no-access",attrs:{reason:e.accessDenied}}):e._e()],1)],1),r("action-button",{staticClass:"home__connect-button",attrs:{"data-cy":"home_connect_button",text:e.$t("home.connect-button"),loading:e.connecting,enabled:!e.connecting,sticky:""},on:{click:e.connect}}),r("connect-dialog",{attrs:{connecting:e.connecting,visible:e.connectDialog,"has-provider":e.hasProvider},on:{connect:e.connect,close:function(t){e.connectDialog=!1}}})],1)},ir=[],cr=n("36d8"),sr=n.n(cr),ur=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("raiden-dialog",{staticClass:"connect",attrs:{visible:e.visible,"hide-close":e.hideClose},on:{close:e.close}},[n("v-card-title",[e._v(" "+e._s(e.$t("home.connect-dialog.title"))+" ")]),e.hasProvider?n("div",[n("div",{staticClass:"connect__button",attrs:{"data-cy":"connect_button"}},[n("action-button",{attrs:{text:e.$t("home.connect-dialog.raiden-account"),enabled:!e.connecting,loading:e.connecting},on:{click:function(t){return e.connect()}}})],1),n("p",{staticClass:"text-center connect__description"},[e._v(" "+e._s(e.$t("home.connect-dialog.description-raiden-account"))+" ")]),n("p",{staticClass:"text-center connect__description"},[e._v(" "+e._s(e.$t("home.connect-dialog.description-web3-account"))+" ")])]):e._e(),e.accessDenied?n("no-access-message",{attrs:{reason:e.accessDenied}}):e._e(),e.hasProvider?e._e():n("v-card-text",[n("div",{staticClass:"text-center"},[e._v(" "+e._s(e.$t("home.connect-dialog.no-provider"))+" ")])])],1)},lr=[],fr=n("66bc"),dr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-alert",{staticClass:"no-access-message",attrs:{value:!0,color:"error",icon:"warning"}},[n("div",{staticClass:"font-weight-light no-access-message__message"},[e.networkUnsupported?n("span",[e._v(" "+e._s(e.$t("no-access.unsupported-network"))+" ")]):e._e(),e.initializationFailed?n("span",[e._v(" "+e._s(e.$t("no-access.sdk-initialization-failure"))+" ")]):e._e(),e.rdnStateMigration?n("span",[e._v(" "+e._s(e.$t("no-access.rdn-state-migration"))+" ")]):n("span",[e._v(e._s(e.$t("no-access.generic-error")))])])])},pr=[];function br(e){return br="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},br(e)}function yr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function mr(e,t,n){return t&&hr(e.prototype,t),n&&hr(e,n),e}function vr(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Or(e,t)}function Or(e,t){return Or=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Or(e,t)}function jr(e){var t=_r();return function(){var n,r=kr(e);if(t){var a=kr(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return gr(this,n)}}function gr(e,t){return!t||"object"!==br(t)&&"function"!==typeof t?wr(e):t}function wr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _r(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function kr(e){return kr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},kr(e)}var Er=function(e){vr(n,e);var t=jr(n);function n(){return yr(this,n),t.apply(this,arguments)}return mr(n,[{key:"networkUnsupported",get:function(){return this.reason===Ht["a"].UNSUPPORTED_NETWORK}},{key:"initializationFailed",get:function(){return this.reason===Ht["a"].INITIALIZATION_FAILED}},{key:"rdnStateMigration",get:function(){return this.reason===Ht["a"].RDN_STATE_MIGRATION}}]),n}(c["e"]);Object(i["a"])([Object(c["d"])({required:!0})],Er.prototype,"reason",void 0),Er=Object(i["a"])([Object(c["a"])({})],Er);var Tr=Er,xr=Tr,Sr=(n("753f"),n("36c4")),Ar=Object(C["a"])(xr,dr,pr,!1,null,"7b92b083",null),Nr=Ar.exports;function Pr(e){return Pr="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pr(e)}function Dr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Rr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dr(Object(n),!0).forEach((function(t){Ir(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ir(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ur(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Lr(e,t,n){return t&&Ur(e.prototype,t),n&&Ur(e,n),e}function Mr(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Br(e,t)}function Br(e,t){return Br=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Br(e,t)}function Fr(e){var t=$r();return function(){var n,r=Vr(e);if(t){var a=Vr(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Wr(this,n)}}function Wr(e,t){return!t||"object"!==Pr(t)&&"function"!==typeof t?Hr(e):t}function Hr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $r(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function Vr(e){return Vr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Vr(e)}L()(Ar,{VAlert:Sr["a"]});var qr=function(e){Mr(n,e);var t=Fr(n);function n(){var e;return Cr(this,n),e=t.apply(this,arguments),e.hideClose=!1,e}return Lr(n,[{key:"close",value:function(){return!0}},{key:"connect",value:function(){this.$store.commit("updateSettings",Rr(Rr({},this.$store.state.settings),{},{isFirstTimeConnect:!1}))}}]),n}(c["e"]);Object(i["a"])([Object(c["d"])({required:!0,type:Boolean,default:!1})],qr.prototype,"visible",void 0),Object(i["a"])([Object(c["d"])({default:!1,required:!0,type:Boolean})],qr.prototype,"connecting",void 0),Object(i["a"])([Object(c["d"])({required:!0})],qr.prototype,"hasProvider",void 0),Object(i["a"])([Object(c["b"])()],qr.prototype,"close",null),Object(i["a"])([Object(c["b"])()],qr.prototype,"connect",null),qr=Object(i["a"])([Object(c["a"])({components:{RaidenDialog:fr["a"],ActionButton:Wn["a"],NoAccessMessage:Nr},computed:Object(f["e"])(["accessDenied"])})],qr);var Kr=qr,Gr=Kr,Xr=(n("5c73"),n("e47e")),Yr=Object(C["a"])(Gr,ur,lr,!1,null,"89daaee2",null),Qr=Yr.exports;function zr(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function Zr(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){zr(o,r,a,i,c,"next",e)}function c(e){zr(o,r,a,i,c,"throw",e)}i(void 0)}))}}function Jr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ea(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ta(e,t,n){return t&&ea(e.prototype,t),n&&ea(e,n),e}L()(Yr,{VCardText:Xr["b"],VCardTitle:Xr["c"]});var na=function(){function e(){Jr(this,e)}return ta(e,null,[{key:"provider",value:function(){var e=Zr(sr.a.mark((function e(t){var n;return sr.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=null,!t){e.next=5;break}n=t.startsWith("http")?t:"https://".concat(t),e.next=13;break;case 5:if("undefined"===typeof window.ethereum){e.next=12;break}return window.ethereum.autoRefreshOnNetworkChange=!1,e.next=9,window.ethereum.request({method:"eth_requestAccounts"});case 9:n=window.ethereum,e.next=13;break;case 12:window.web3&&(n=window.web3.currentProvider);case 13:return n&&n.isMetaMask&&n.on("chainChanged",(function(){return window.location.replace(window.location.origin)})),e.abrupt("return",n);case 15:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()}]),e}();function ra(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function aa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ra(Object(n),!0).forEach((function(t){oa(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ra(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function oa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ia(e,t){return fa(e)||la(e,t)||sa(e,t)||ca()}function ca(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function sa(e,t){if(e){if("string"===typeof e)return ua(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ua(e,t):void 0}}function ua(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function la(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done);r=!0)if(n.push(i.value),t&&n.length===t)break}catch(s){a=!0,o=s}finally{try{r||null==c["return"]||c["return"]()}finally{if(a)throw o}}return n}}function fa(e){if(Array.isArray(e))return e}function da(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function pa(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){da(o,r,a,i,c,"next",e)}function c(e){da(o,r,a,i,c,"throw",e)}i(void 0)}))}}function ba(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ya(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ha(e,t,n){return t&&ya(e.prototype,t),n&&ya(e,n),e}na.injectedWeb3Available=function(){return window.ethereum||window.web3};var ma=function(){function e(){ba(this,e)}return ha(e,null,[{key:"contracts",value:function(){var e=pa(sr.a.mark((function e(){var t,n,r,a,o,i,c,s,u,l,f;return sr.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=Object({VUE_APP_PFS:"https://pfs.demo001.env.raiden.network",VUE_APP_MATRIX_SERVER:"https://transport.demo001.env.raiden.network",VUE_APP_HUB:"hub.raiden.eth",VUE_APP_ALLOW_MAINNET:"false",VUE_APP_IMPRINT:"https://raiden.network/privacy.html",NODE_ENV:"production",VUE_APP_I18N_LOCALE:"en",VUE_APP_I18N_FALLBACK_LOCALE:"en",BASE_URL:"/"}),n=t.VUE_APP_DEPLOYMENT_INFO,r=t.VUE_APP_DEPLOYMENT_SERVICES_INFO,!n||!r){e.next=15;break}return e.next=4,Promise.all([fetch(n),fetch(r)]);case 4:return a=e.sent,o=ia(a,2),i=o[0],c=o[1],e.next=10,Promise.all([i.json(),c.json()]);case 10:return s=e.sent,u=ia(s,2),l=u[0],f=u[1],e.abrupt("return",aa(aa({},l.contracts),f.contracts));case 15:return e.abrupt("return",void 0);case 16:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"configuration",value:function(){var e=pa(sr.a.mark((function e(){var t,n;return sr.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=Object({VUE_APP_PFS:"https://pfs.demo001.env.raiden.network",VUE_APP_MATRIX_SERVER:"https://transport.demo001.env.raiden.network",VUE_APP_HUB:"hub.raiden.eth",VUE_APP_ALLOW_MAINNET:"false",VUE_APP_IMPRINT:"https://raiden.network/privacy.html",NODE_ENV:"production",VUE_APP_I18N_LOCALE:"en",VUE_APP_I18N_FALLBACK_LOCALE:"en",BASE_URL:"/"}).VUE_APP_CONFIGURATION_URL||"./config.json",e.next=3,fetch(t);case 3:return n=e.sent,e.next=6,n.json();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()}]),e}();function va(e){return va="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},va(e)}function Oa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ja(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oa(Object(n),!0).forEach((function(t){ga(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ga(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wa(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function _a(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){wa(o,r,a,i,c,"next",e)}function c(e){wa(o,r,a,i,c,"throw",e)}i(void 0)}))}}function ka(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ea(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ta(e,t,n){return t&&Ea(e.prototype,t),n&&Ea(e,n),e}function xa(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Sa(e,t)}function Sa(e,t){return Sa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Sa(e,t)}function Aa(e){var t=Da();return function(){var n,r=Ra(e);if(t){var a=Ra(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Na(this,n)}}function Na(e,t){return!t||"object"!==va(t)&&"function"!==typeof t?Pa(e):t}function Pa(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Da(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function Ra(e){return Ra=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ra(e)}var Ia=function(e){xa(n,e);var t=Aa(n);function n(){var e;return ka(this,n),e=t.apply(this,arguments),e.connectDialog=!1,e.connecting=!1,e.hasProvider=!1,e}return Ta(n,[{key:"created",value:function(){var e=_a(sr.a.mark((function e(){var t;return sr.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!na.injectedWeb3Available()){e.next=3;break}return this.hasProvider=!0,e.abrupt("return");case 3:return e.next=5,ma.configuration();case 5:t=e.sent,this.hasProvider=!!t.rpc_endpoint;case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"connect",value:function(){var e=_a(sr.a.mark((function e(){var t,n,r,a;return sr.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=this.settings,n=t.useRaidenAccount,r=t.isFirstTimeConnect,!r||!n){e.next=4;break}return this.connectDialog=!0,e.abrupt("return");case 4:return this.connectDialog=!1,this.connecting=!0,a=this.stateBackup,this.$store.commit("reset"),this.$store.commit("accessDenied",Ht["a"].UNDEFINED),e.next=11,this.$raiden.connect(a,!!n||void 0);case 11:this.connecting=!1,this.accessDenied||(this.connectDialog=!1,this.$router.push(this.navigationTarget));case 13:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"navigationTarget",get:function(){var e=this.$route.query.redirectTo;return e?{path:e}:{name:d["a"].TRANSFER}}}]),n}(c["e"]);Ia=Object(i["a"])([Object(c["a"])({computed:ja(ja({},Object(f["e"])(["loading","accessDenied","stateBackup","settings"])),Object(f["c"])(["isConnected","tokens"])),components:{ActionButton:Wn["a"],ConnectDialog:Qr,NoAccessMessage:Nr}})],Ia);var Ca=Ia,Ua=Ca,La=(n("1752"),Object(C["a"])(Ua,or,ir,!1,null,"13c90f08",null)),Ma=La.exports;L()(La,{VCol:Qe["a"],VContainer:yt["a"],VImg:F["a"],VRow:ze["a"]});var Ba=[{path:"/",name:d["a"].DISCLAIMER,meta:{title:"Disclaimer"},component:ar},{path:"*",redirect:"/"},{path:"/home",name:d["a"].HOME,meta:{title:"Raiden dApp"},component:Ma},{path:"/transfer/:token?",name:d["a"].TRANSFER,meta:{title:"Transfer"},component:function(){return Promise.all([n.e("chunk-4f2072da"),n.e("chunk-1b3da3cb"),n.e("chunk-4990842d"),n.e("chunk-48a029f3"),n.e("chunk-56c83d2d")]).then(n.bind(null,"ded4"))}},{path:"/transfer/:token/:target",name:d["a"].TRANSFER_STEPS,meta:{title:"Transfer"},component:function(){return Promise.all([n.e("chunk-4f2072da"),n.e("chunk-1b3da3cb"),n.e("chunk-48a029f3"),n.e("chunk-880e3342")]).then(n.bind(null,"146c"))}},{path:"/connect",name:d["a"].SELECT_TOKEN,meta:{title:"Select Token"},component:function(){return Promise.all([n.e("chunk-4f2072da"),n.e("chunk-76894b26")]).then(n.bind(null,"eb67"))}},{path:"/connect/:token",name:d["a"].SELECT_HUB,meta:{title:"Select Hub"},component:function(){return Promise.all([n.e("chunk-1b3da3cb"),n.e("chunk-4990842d"),n.e("chunk-5ad6d89f")]).then(n.bind(null,"5876"))}},{path:"/connect/:token/:partner",name:d["a"].OPEN_CHANNEL,meta:{title:"Open Channel"},component:function(){return Promise.all([n.e("chunk-1b3da3cb"),n.e("chunk-5faf00c0")]).then(n.bind(null,"9db2"))}},{path:"/channels/:token",name:d["a"].CHANNELS,meta:{title:"Channels"},component:function(){return Promise.all([n.e("chunk-4f2072da"),n.e("chunk-1b3da3cb"),n.e("chunk-09851a38")]).then(n.bind(null,"3a90"))}},{path:"/notifications",name:d["a"].NOTIFICATIONS,beforeEnter:Ln},{path:"/account",beforeEnter:Mn,children:[{path:"/",name:d["a"].ACCOUNT_ROOT,meta:{title:"Account"},component:function(){return Promise.all([n.e("chunk-4f2072da"),n.e("chunk-130b1c02")]).then(n.bind(null,"f18d"))}},{path:"backup",name:d["a"].ACCOUNT_BACKUP,meta:{title:"Backup State"},component:function(){return Promise.all([n.e("chunk-4f2072da"),n.e("chunk-5827c4a1")]).then(n.bind(null,"248b"))}},{path:"raiden",name:d["a"].ACCOUNT_RAIDEN,meta:{title:"Raiden Account"},component:function(){return Promise.all([n.e("chunk-1b3da3cb"),n.e("chunk-26feb7c8")]).then(n.bind(null,"9114"))}},{path:"settings",name:d["a"].ACCOUNT_SETTINGS,meta:{title:"Settings"},component:function(){return Promise.all([n.e("chunk-4f2072da"),n.e("chunk-7d2ee13d")]).then(n.bind(null,"5d16"))}},{path:"withdrawal",name:d["a"].ACCOUNT_WITHDRAWAL,meta:{title:"Withdrawal"},component:function(){return Promise.all([n.e("chunk-4f2072da"),n.e("chunk-04144265")]).then(n.bind(null,"c917"))}},{path:"udc",name:d["a"].ACCOUNT_UDC,meta:{title:"UDC"},component:function(){return Promise.all([n.e("chunk-1b3da3cb"),n.e("chunk-61d34ff6")]).then(n.bind(null,"4c07"))}}]}];r["a"].use(jt["a"]);var Fa=new jt["a"]({base:"/",mode:"hash",routes:Ba});Fa.beforeEach(kt.bind({children:[In,Un]}));var Wa=Fa,Ha=n("8aa9");Ot["b"].registerHooks(["beforeRouteEnter","beforeRouteLeave","beforeRouteUpdate"]);var $a=n("2726");function Va(){var e=n("49f8"),t={};return e.keys().forEach((function(n){var r=n.match(/([A-Za-z0-9-_]+)\./i);if(r&&r.length>1){var a=r[1];t[a]=e(n)}})),t}r["a"].use($a["a"]);var qa=new $a["a"]({locale:"en",fallbackLocale:"en",messages:Va()}),Ka=n("fbcd"),Ga=n("cefa"),Xa=n("58be"),Ya=n("573d"),Qa=n.n(Ya),za=n("a3d5");function Za(e){return Za="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Za(e)}function Ja(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&co(e,t)}function eo(e){var t=oo();return function(){var n,r=so(e);if(t){var a=so(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return to(this,n)}}function to(e,t){return!t||"object"!==Za(t)&&"function"!==typeof t?no(e):t}function no(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ro(e){var t="function"===typeof Map?new Map:void 0;return ro=function(e){if(null===e||!io(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return ao(e,arguments,so(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),co(n,e)},ro(e)}function ao(e,t,n){return ao=oo()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var a=Function.bind.apply(e,r),o=new a;return n&&co(o,n.prototype),o},ao.apply(null,arguments)}function oo(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function io(e){return-1!==Function.toString.call(e).indexOf("[native code]")}function co(e,t){return co=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},co(e,t)}function so(e){return so=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},so(e)}function uo(e,t){return po(e)||fo(e,t)||vo(e,t)||lo()}function lo(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function fo(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done);r=!0)if(n.push(i.value),t&&n.length===t)break}catch(s){a=!0,o=s}finally{try{r||null==c["return"]||c["return"]()}finally{if(a)throw o}}return n}}function po(e){if(Array.isArray(e))return e}function bo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bo(Object(n),!0).forEach((function(t){ho(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ho(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mo(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=vo(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function vo(e,t){if(e){if("string"===typeof e)return Oo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Oo(e,t):void 0}}function Oo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function jo(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function go(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){jo(o,r,a,i,c,"next",e)}function c(e){jo(o,r,a,i,c,"throw",e)}i(void 0)}))}}function wo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ko(e,t,n){return t&&_o(e.prototype,t),n&&_o(e,n),e}function Eo(e){return void 0===e?qa.t("notifications.tx-state-pending"):e?qa.t("notifications.tx-state-confirmed"):""}var To=function(){function e(t){var n=this;wo(this,e),this._userDepositTokenAddress="",this.disconnect=function(){n.raiden.stop()},this.getAccount=function(){return n.raiden.address},this.getMainAccount=function(){return n.raiden.mainAddress},this._raiden=void 0,this.store=t}return ko(e,[{key:"updateBalances",value:function(){var e=go(sr.a.mark((function e(){return sr.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.t0=this.store,e.next=3,this.getBalance();case 3:return e.t1=e.sent,e.t0.commit.call(e.t0,"balance",e.t1),e.t2=this.store,e.next=8,this.getBalance(this.raiden.address);case 8:e.t3=e.sent,e.t2.commit.call(e.t2,"raidenAccountBalance",e.t3);case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"fetchTokenList",value:function(){var e=go(sr.a.mark((function e(){var t,n,r,a,o,i;return sr.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.raiden.getTokenList();case 2:t=e.sent,n=[],r={},a=mo(t);try{for(a.s();!(o=a.n()).done;)i=o.value,n.push(i),r[i]={address:i}}catch(c){a.e(c)}finally{a.f()}return this.store.commit("updateTokens",r),e.next=10,this.fetchAndUpdateTokenData(n);case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"ensResolve",value:function(){var e=go(sr.a.mark((function e(t){return sr.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.raiden.resolveName(t);case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e["catch"](0),new xo(e.t0);case 9:case"end":return e.stop()}}),e,this,[[0,6]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"connect",value:function(){var t=go(sr.a.mark((function t(n,r){var a,o,i,c,s,u=this;return sr.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ma.configuration();case 3:return o=t.sent,t.next=6,na.provider(o.rpc_endpoint);case 6:if(i=t.sent,i){t.next=11;break}this.store.commit("noProvider"),t.next=49;break;case 11:if("string"===typeof i||!("networkVersion"in i)||"1"!==i.networkVersion){t.next=13;break}throw new $t["f"]($t["c"].RDN_UNRECOGNIZED_NETWORK);case 13:return t.next=15,e.createRaiden(i,null===o||void 0===o?void 0:o.private_key,n,r);case 15:return a=t.sent,this._raiden=a,this._configuration=o,this.usingSubkey=null!==r&&void 0!==r&&r,c=this.getAccount(),this.store.commit("account",c),t.next=23,a.userDepositTokenAddress();case 23:return this._userDepositTokenAddress=t.sent,this.store.commit("userDepositContract/setTokenAddress",this._userDepositTokenAddress),t.next=27,this.monitorPreSetTokens();case 27:return a.events$.pipe(Object(Ga["a"])((function(e){return"block/new"===e.type}))).subscribe((function(e){return u.store.commit("updateBlock",e.payload.blockNumber)})),a.events$.pipe(Object(Ga["a"])((function(e){return"block/new"===e.type})),Object(Xa["a"])((function(){return u.updateUserDepositContractToken()}))).subscribe(),a.events$.pipe(Object(Ga["a"])((function(e){return"raiden/shutdown"===e.type}))).subscribe((function(){return u.store.commit("reset")})),a.config$.subscribe(function(){var e=go(sr.a.mark((function e(t){var n;return sr.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(u.store.commit("updateConfig",t),null!==(n=t.caps)&&void 0!==n&&n[$t["a"].RECEIVE]){e.next=4;break}return e.next=4,u.notifyNoReceive();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),a.events$.subscribe(function(){var e=go(sr.a.mark((function e(t){var n;return sr.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("token/monitored"!==t.type){e.next=5;break}u.store.commit("updateTokens",ho({},t.payload.token,{address:t.payload.token})),u.fetchAndUpdateTokenData([t.payload.token]),e.next=47;break;case 5:if("matrix/presence/success"!==t.type){e.next=9;break}u.store.commit("updatePresence",ho({},t.meta.address,t.payload.available)),e.next=47;break;case 9:if("ms/balanceProof/sent"!==t.type){e.next=16;break}if(t.payload.confirmed){e.next=12;break}return e.abrupt("return");case 12:return e.next=14,u.notifyBalanceProofSend(t.payload.monitoringService,t.payload.partner,t.payload.reward,t.payload.txHash);case 14:e.next=47;break;case 16:if("udc/withdrawn"!==t.type){e.next=23;break}if(t.payload.confirmed){e.next=19;break}return e.abrupt("return");case 19:return e.next=21,u.notifyWithdrawal(t.meta.amount,t.payload.withdrawal);case 21:e.next=47;break;case 23:if("udc/withdraw/failure"!==t.type){e.next=28;break}return e.next=26,u.notifyWithdrawalFailure(null===(n=t.payload)||void 0===n?void 0:n.code,t.meta.amount,t.payload.message);case 26:e.next=47;break;case 28:if("channel/settle/success"!==t.type){e.next=34;break}if(!t.payload.confirmed){e.next=32;break}return e.next=32,u.notifyChannelSettleSuccess(t.meta.partner);case 32:e.next=47;break;case 34:if("channel/settle/failure"!==t.type){e.next=39;break}return e.next=37,u.notifyChannelSettleFailure(t.meta.partner);case 37:e.next=47;break;case 39:if("channel/open/success"!==t.type){e.next=44;break}return e.next=42,u.notifyChannelOpenSuccess(t.payload.txBlock,t.payload.txHash,t.payload.confirmed,t.meta.partner);case 42:e.next=47;break;case 44:if("channel/open/failed"!==t.type){e.next=47;break}return e.next=47,u.notifyChannelOpenFailed(t.payload.message);case 47:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),a.events$.subscribe((function(e){u.updatePlannedUserDepositWithdrawals(e)})),a.channels$.subscribe((function(e){u.store.commit("updateChannels",e)})),a.transfers$.subscribe((function(e){u.store.commit("updateTransfers",e)})),this.store.commit("network",a.network),window.addEventListener("beforeunload",(function(e){return e.preventDefault(),""})),a.start(),t.t0=this.store,t.next=41,this.getBalance();case 41:if(t.t1=t.sent,t.t0.commit.call(t.t0,"balance",t.t1),!r){t.next=49;break}return t.t2=this.store,t.next=47,this.getBalance(a.address);case 47:t.t3=t.sent,t.t2.commit.call(t.t2,"raidenAccountBalance",t.t3);case 49:t.next=55;break;case 51:t.prev=51,t.t4=t["catch"](0),s=t.t4.message&&t.t4.message.indexOf("No deploy info provided")>-1?Ht["a"].UNSUPPORTED_NETWORK:t.t4.message&&t.t4.message.indexOf("Could not replace stored state")>-1?Ht["a"].RDN_STATE_MIGRATION:t.t4 instanceof So?Ht["a"].INITIALIZATION_FAILED:Ht["a"].NO_ACCOUNT,this.store.commit("accessDenied",s);case 55:this.store.commit("loadComplete");case 56:case"end":return t.stop()}}),t,this,[[0,51]])})));function n(e,n){return t.apply(this,arguments)}return n}()},{key:"notifyNoReceive",value:function(){var e=go(sr.a.mark((function e(){return sr.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.store.commit("notifications/notificationAddOrReplace",{icon:qa.t("notifications.no-receive.icon"),title:qa.t("notifications.no-receive.title"),description:qa.t("notifications.no-receive.description"),importance:Ne["a"].HIGH,context:Pe["a"].WARNING});case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"monitorPreSetTokens",value:function(){var e=go(sr.a.mark((function e(){var t,n,r,a,o,i,c;return sr.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=this.raiden.network.chainId,null!==(t=this._configuration)&&void 0!==t&&null!==(n=t.per_network)&&void 0!==n&&n[r]){e.next=3;break}return e.abrupt("return");case 3:a=this._configuration.per_network[r],o=mo(a.monitored),e.prev=5,o.s();case 7:if((i=o.n()).done){e.next=13;break}return c=i.value,e.next=11,this.raiden.monitorToken(c);case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e["catch"](5),o.e(e.t0);case 18:return e.prev=18,o.f(),e.finish(18);case 21:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"notifyWithdrawalFailure",value:function(){var e=go(sr.a.mark((function e(t,n,r){var a,o,i,c,s,u;return sr.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(["UDC_PLAN_WITHDRAW_GT_ZERO","UDC_PLAN_WITHDRAW_EXCEEDS_AVAILABLE","UDC_PLAN_WITHDRAW_FAILED"].indexOf(t)>=0)){e.next=2;break}return e.abrupt("return");case 2:o=this.store.state.userDepositContract.token,i=null!==(a=o.decimals)&&void 0!==a?a:18,c=za["a"].toUnits(n,i),s="string"===typeof t?qa.t("notifications.withdrawal.failure.descriptions.".concat(t),{amount:c,symbol:o.symbol}):void 0,u=s||qa.t("notifications.withdrawal.failure.description",{amount:c,symbol:o.symbol,message:r}),this.store.commit("notifications/notificationAddOrReplace",{title:qa.t("notifications.withdrawal.failure.title"),description:u,context:Pe["a"].ERROR,importance:Ne["a"].HIGH});case 8:case"end":return e.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"notifyWithdrawal",value:function(){var e=go(sr.a.mark((function e(t,n){var r,a,o,i,c,s;return sr.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=this.store.state.userDepositContract.token,o=null!==(r=a.decimals)&&void 0!==r?r:18,i=za["a"].toUnits(t,o),c=za["a"].toUnits(n,o),s={icon:qa.t("notifications.withdrawn.icon"),title:qa.t("notifications.withdrawn.title"),description:qa.t("notifications.withdrawn.description",{plannedAmount:i,withdrawnAmount:c,symbol:a.symbol}),context:Pe["a"].INFO,importance:Ne["a"].HIGH},this.usingSubkey&&(s=yo(yo({},s),{},{link:qa.t("notifications.withdrawn.link"),dappRoute:d["a"].ACCOUNT_WITHDRAWAL})),this.store.commit("notifications/notificationAddOrReplace",s);case 7:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"notifyBalanceProofSend",value:function(){var e=go(sr.a.mark((function e(t,n,r,a){var o,i,c,s;return sr.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:i=this.store.state.userDepositContract.token,c=null!==(o=i.decimals)&&void 0!==o?o:18,s=za["a"].toUnits(r,c),this.store.commit("notifications/notificationAddOrReplace",{title:qa.t("notifications.ms-balance-proof.title"),description:qa.t("notifications.ms-balance-proof.description",{monitoringService:t,partner:n,reward:s,symbol:i.symbol,txHash:a}),context:Pe["a"].INFO,importance:Ne["a"].HIGH});case 4:case"end":return e.stop()}}),e,this)})));function t(t,n,r,a){return e.apply(this,arguments)}return t}()},{key:"notifyChannelSettleSuccess",value:function(){var e=go(sr.a.mark((function e(t){var n;return sr.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=qa.t("notifications.settlement.success.description",{partner:t}),this.store.commit("notifications/notificationAddOrReplace",{title:qa.t("notifications.settlement.success.title"),description:n,icon:qa.t("notifications.settlement.icon"),context:Pe["a"].NONE,importance:Ne["a"].HIGH});case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"notifyChannelSettleFailure",value:function(){var e=go(sr.a.mark((function e(t){return sr.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.store.commit("notifications/notificationAddOrReplace",{title:qa.t("notifications.settlement.failure.title"),description:qa.t("notifications.settlement.failure.description",{partner:t}),icon:qa.t("notifications.settlement.icon"),context:Pe["a"].NONE,importance:Ne["a"].HIGH});case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"notifyChannelOpenSuccess",value:function(){var e=go(sr.a.mark((function e(t,n,r,a){var o,i,c,s,u,l,f,d,p,b;return sr.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:c=null!==(o=null===(i=this.store.state.config)||void 0===i?void 0:i.confirmationBlocks)&&void 0!==o?o:0,s=t+c,u=qa.t("notifications.channel-open.icon"),l="",f="",void 0===r||!0===r?(l=qa.t("notifications.channel-open.success.title"),d=Eo(r),f=qa.t("notifications.channel-open.success.description",{partner:a,state:d})):(p=qa.t("notifications.tx-reorged-failure-reason"),l=qa.t("notifications.channel-open.failure.title"),f=qa.t("notifications.channel-open.failure.description",{reason:p})),b={title:l,description:f,icon:u,txHash:n,txConfirmationBlock:s,importance:Ne["a"].HIGH},this.store.commit("notifications/notificationAddOrReplace",b);case 8:case"end":return e.stop()}}),e,this)})));function t(t,n,r,a){return e.apply(this,arguments)}return t}()},{key:"notifyChannelOpenFailed",value:function(){var e=go(sr.a.mark((function e(t){return sr.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.store.commit("notifications/notificationAddOrReplace",{title:qa.t("notifications.channel-open.failure.title"),description:qa.t("notifications.channel-open.failure.description",{reason:t}),icon:qa.t("notifications.channel-open.icon"),importance:Ne["a"].HIGH});case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"updatePlannedUserDepositWithdrawals",value:function(){var e=go(sr.a.mark((function e(t){return sr.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:"udc/withdraw/success"===t.type?!1===t.payload.confirmed?this.store.commit("userDepositContract/clearPlannedWithdrawal"):this.store.commit("userDepositContract/setPlannedWithdrawal",{txHash:t.payload.txHash,txBlock:t.payload.txBlock,amount:t.meta.amount,withdrawBlock:t.payload.block,confirmed:t.payload.confirmed}):"udc/withdrawn"===t.type&&t.payload.confirmed&&this.store.commit("userDepositContract/clearPlannedWithdrawal");case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getBalance",value:function(){var e=go(sr.a.mark((function e(t){var n;return sr.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.raiden.getBalance(t);case 2:return n=e.sent,e.abrupt("return",za["a"].toEth(n));case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getToken",value:function(){var e=go(sr.a.mark((function e(t){var n,r,a,o,i,c,s,u;return sr.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=this.raiden,e.prev=1,e.next=4,Promise.all([n.getTokenBalance(t),n.getTokenInfo(t)]);case 4:return r=e.sent,a=uo(r,2),o=a[0],i=a[1],c=i.decimals,s=i.symbol,u=i.name,e.abrupt("return",{name:u,symbol:s,balance:o,decimals:c,address:t});case 14:return e.prev=14,e.t0=e["catch"](1),e.abrupt("return",null);case 17:case"end":return e.stop()}}),e,this,[[1,14]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"openChannel",value:function(){var e=go(sr.a.mark((function e(t,n,r,a){var o,i;return sr.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o=function(e,t){a&&a({current:e,total:t})},i=this.raiden,o(1,3),e.next=5,i.openChannel(t,n,{deposit:r},(function(e){return e.type===$t["d"].OPENED?o(2,3):""}));case 5:case"end":return e.stop()}}),e,this)})));function t(t,n,r,a){return e.apply(this,arguments)}return t}()},{key:"closeChannel",value:function(){var e=go(sr.a.mark((function e(t,n){return sr.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.raiden.closeChannel(t,n);case 2:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"deposit",value:function(){var e=go(sr.a.mark((function e(t,n,r){return sr.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.raiden.depositChannel(t,n,r);case 2:case"end":return e.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"withdraw",value:function(){var e=go(sr.a.mark((function e(t,n,r){return sr.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.raiden.withdrawChannel(t,n,r);case 2:case"end":return e.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"settleChannel",value:function(){var e=go(sr.a.mark((function e(t,n){return sr.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.raiden.settleChannel(t,n);case 2:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"updateUserDepositContractToken",value:function(){var e=go(sr.a.mark((function e(){var t;return sr.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getToken(this._userDepositTokenAddress);case 2:t=e.sent,this.store.commit("userDepositContract/setToken",t);case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"fetchAndUpdateTokenData",value:function(){var e=go(sr.a.mark((function e(){var t,n,r=this,a=arguments;return sr.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=a.length>0&&void 0!==a[0]?a[0]:Object.values(this.store.state.tokens).map((function(e){return e.address})),t.length){e.next=3;break}return e.abrupt("return");case 3:return n=function(){var e=go(sr.a.mark((function e(t){return sr.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",r.getToken(t).then((function(e){e&&r.store.commit("updateTokens",ho({},e.address,e))})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.next=6,Qa()(6,t,n);case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"transfer",value:function(){var e=go(sr.a.mark((function e(t,n,r,a,o){var i;return sr.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.raiden.transfer(t,n,r,{paymentId:o,paths:a});case 2:return i=e.sent,e.next=5,this.raiden.waitTransfer(i);case 5:case"end":return e.stop()}}),e,this)})));function t(t,n,r,a,o){return e.apply(this,arguments)}return t}()},{key:"findRoutes",value:function(){var e=go(sr.a.mark((function e(t,n,r,a){return sr.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.raiden.findRoutes(t,n,r,{pfs:a});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(t,n,r,a){return e.apply(this,arguments)}return t}()},{key:"fetchServices",value:function(){var e=go(sr.a.mark((function e(){return sr.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.raiden.findPFS();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"directRoute",value:function(){var e=go(sr.a.mark((function e(t,n,r){return sr.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.raiden.directRoute(t,n,r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"mint",value:function(){var e=go(sr.a.mark((function e(t,n){return sr.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.raiden.mint(t,n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"depositToUDC",value:function(){var e=go(sr.a.mark((function e(t,n){return sr.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.raiden.depositToUDC(t,(function(e){return e.type===$t["d"].APPROVED?n():null}));case 2:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"planUdcWithdraw",value:function(){var e=go(sr.a.mark((function e(t){return sr.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this.raiden.planUdcWithdraw(t));case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getUDCCapacity",value:function(){var e=go(sr.a.mark((function e(){return sr.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this.raiden.getUDCCapacity());case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getAvailability",value:function(){var e=go(sr.a.mark((function e(t){var n,r;return sr.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.raiden.getAvailability(t);case 3:return n=e.sent,r=n.available,e.abrupt("return",r);case 8:e.prev=8,e.t0=e["catch"](0),this.store.commit("updatePresence",ho({},t,!1));case 11:return e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e,this,[[0,8]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getState",value:function(){var e=go(sr.a.mark((function e(){return sr.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this._raiden.stop(),e.abrupt("return",this._raiden.dumpDatabase());case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"transferToRaidenAccount",value:function(){var e=go(sr.a.mark((function e(t){return sr.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.raiden.transferOnchainBalance(this.raiden.address,Ka["b"].parseEther(t));case 2:return e.next=4,this.updateBalances();case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"transferToMainAccount",value:function(){var e=go(sr.a.mark((function e(t){var n;return sr.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=this.raiden.mainAddress,!n){e.next=6;break}return e.next=4,this.raiden.transferOnchainBalance(n,Ka["b"].parseEther(t),{subkey:!0});case 4:return e.next=6,this.updateBalances();case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"transferOnChainTokens",value:function(){var e=go(sr.a.mark((function e(t,n){var r;return sr.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=this.raiden.mainAddress,r){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,this.raiden.transferOnchainTokens(t,r,n,{subkey:!0});case 5:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"getRaidenAccountBalances",value:function(){var e=go(sr.a.mark((function e(){var t,n,r,a,o,i,c,s=this;return sr.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=this.raiden,t.mainAddress){e.next=3;break}return e.abrupt("return",[]);case 3:return e.next=5,t.getTokenList();case 5:return n=e.sent,r={},a=function(){var e=go(sr.a.mark((function e(n){return sr.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",t.getTokenBalance(n,t.address).then((function(e){e.gt(Ka["a"].Zero)&&(r[n]={address:n,balance:e})})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.next=10,Qa()(6,n,a);case 10:if(o={},Object.keys(r).forEach((function(e){var t=s.store.state.tokens[e];t&&(o[e]=yo(yo({},t),r[e]),delete r[e])})),i=function(){var e=go(sr.a.mark((function e(n){return sr.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",t.getTokenInfo(n).then((function(e){o[n]=yo(yo({},e),r[n])})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c=Object.keys(r),!(c.length>0)){e.next=17;break}return e.next=17,Qa()(6,c,i);case 17:return e.abrupt("return",Object.values(o));case 18:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"monitorToken",value:function(){var e=go(sr.a.mark((function e(t){return sr.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.raiden.monitorToken(t);case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getTokenBalance",value:function(){var e=go(sr.a.mark((function e(t,n){var r;return sr.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.raiden.getTokenBalance(t,n);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"raiden",get:function(){if(void 0===this._raiden)throw new Error("Raiden instance was not initialized");return this._raiden}},{key:"monitoringReward",get:function(){return this.raiden.config.monitoringReward}}],[{key:"createRaiden",value:function(){var e=go(sr.a.mark((function e(t){var n,r,a,o,i=arguments;return sr.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:0,r=i.length>2?i[2]:void 0,a=i.length>3?i[3]:void 0,e.prev=3,e.next=6,ma.contracts();case 6:return o=e.sent,e.next=9,$t["e"].create(t,n,{storage:window.localStorage,state:r},o,yo(yo({pfsSafetyMargin:1.1,pfs:"https://pfs.demo001.env.raiden.network",matrixServer:"https://transport.demo001.env.raiden.network",matrixServerLookup:Object({VUE_APP_PFS:"https://pfs.demo001.env.raiden.network",VUE_APP_MATRIX_SERVER:"https://transport.demo001.env.raiden.network",VUE_APP_HUB:"hub.raiden.eth",VUE_APP_ALLOW_MAINNET:"false",VUE_APP_IMPRINT:"https://raiden.network/privacy.html",NODE_ENV:"production",VUE_APP_I18N_LOCALE:"en",VUE_APP_I18N_FALLBACK_LOCALE:"en",BASE_URL:"/"}).VUE_APP_MATRIX_LIST_URL},Object({VUE_APP_PFS:"https://pfs.demo001.env.raiden.network",VUE_APP_MATRIX_SERVER:"https://transport.demo001.env.raiden.network",VUE_APP_HUB:"hub.raiden.eth",VUE_APP_ALLOW_MAINNET:"false",VUE_APP_IMPRINT:"https://raiden.network/privacy.html",NODE_ENV:"production",VUE_APP_I18N_LOCALE:"en",VUE_APP_I18N_FALLBACK_LOCALE:"en",BASE_URL:"/"}).VUE_APP_REVEAL_TIMEOUT&&+Object({VUE_APP_PFS:"https://pfs.demo001.env.raiden.network",VUE_APP_MATRIX_SERVER:"https://transport.demo001.env.raiden.network",VUE_APP_HUB:"hub.raiden.eth",VUE_APP_ALLOW_MAINNET:"false",VUE_APP_IMPRINT:"https://raiden.network/privacy.html",NODE_ENV:"production",VUE_APP_I18N_LOCALE:"en",VUE_APP_I18N_FALLBACK_LOCALE:"en",BASE_URL:"/"}).VUE_APP_REVEAL_TIMEOUT?{revealTimeout:+Object({VUE_APP_PFS:"https://pfs.demo001.env.raiden.network",VUE_APP_MATRIX_SERVER:"https://transport.demo001.env.raiden.network",VUE_APP_HUB:"hub.raiden.eth",VUE_APP_ALLOW_MAINNET:"false",VUE_APP_IMPRINT:"https://raiden.network/privacy.html",NODE_ENV:"production",VUE_APP_I18N_LOCALE:"en",VUE_APP_I18N_FALLBACK_LOCALE:"en",BASE_URL:"/"}).VUE_APP_REVEAL_TIMEOUT}:void 0),Object({VUE_APP_PFS:"https://pfs.demo001.env.raiden.network",VUE_APP_MATRIX_SERVER:"https://transport.demo001.env.raiden.network",VUE_APP_HUB:"hub.raiden.eth",VUE_APP_ALLOW_MAINNET:"false",VUE_APP_IMPRINT:"https://raiden.network/privacy.html",NODE_ENV:"production",VUE_APP_I18N_LOCALE:"en",VUE_APP_I18N_FALLBACK_LOCALE:"en",BASE_URL:"/"}).VUE_APP_SETTLE_TIMEOUT&&+Object({VUE_APP_PFS:"https://pfs.demo001.env.raiden.network",VUE_APP_MATRIX_SERVER:"https://transport.demo001.env.raiden.network",VUE_APP_HUB:"hub.raiden.eth",VUE_APP_ALLOW_MAINNET:"false",VUE_APP_IMPRINT:"https://raiden.network/privacy.html",NODE_ENV:"production",VUE_APP_I18N_LOCALE:"en",VUE_APP_I18N_FALLBACK_LOCALE:"en",BASE_URL:"/"}).VUE_APP_SETTLE_TIMEOUT?{settleTimeout:+Object({VUE_APP_PFS:"https://pfs.demo001.env.raiden.network",VUE_APP_MATRIX_SERVER:"https://transport.demo001.env.raiden.network",VUE_APP_HUB:"hub.raiden.eth",VUE_APP_ALLOW_MAINNET:"false",VUE_APP_IMPRINT:"https://raiden.network/privacy.html",NODE_ENV:"production",VUE_APP_I18N_LOCALE:"en",VUE_APP_I18N_FALLBACK_LOCALE:"en",BASE_URL:"/"}).VUE_APP_SETTLE_TIMEOUT}:void 0),a);case 9:return e.abrupt("return",e.sent);case 12:throw e.prev=12,e.t0=e["catch"](3),new So(e.t0);case 15:case"end":return e.stop()}}),e,null,[[3,12]])})));function t(t){return e.apply(this,arguments)}return t}()}]),e}(),xo=function(e){Ja(n,e);var t=eo(n);function n(){return wo(this,n),t.apply(this,arguments)}return n}(ro(Error)),So=function(e){Ja(n,e);var t=eo(n);function n(){return wo(this,n),t.apply(this,arguments)}return n}(ro(Error));function Ao(e,t){e.prototype.$raiden=new To(Rn)}var No=n("b7e6"),Po=n.n(No);function Do(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ro(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Io(e,t,n){return t&&Ro(e.prototype,t),n&&Ro(e,n),e}var Co=function(){function e(){Do(this,e),this.cache={}}return Io(e,[{key:"getIdenticon",value:function(e){var t=this.cache[e];if(t)return t;var n=Po()(e);return this.cache[e]=n,n}}]),e}();function Uo(e,t){e.prototype.$identicon=new Co}n("8935"),n("8b61"),n("4fa6");var Lo=n("8d28");r["a"].use(Lo["a"]);var Mo=new Lo["a"]({icons:{iconfont:"mdi"},theme:{options:{customProperties:!0},dark:!0,themes:{dark:{notification:"#ea6464",primary:"#28A5C8",secondary:"#0A6E87",pending:"#fdd327",success:"#1dc512",failed:"#ea6464"}}}}),Bo=n("1740");Object({VUE_APP_PFS:"https://pfs.demo001.env.raiden.network",VUE_APP_MATRIX_SERVER:"https://transport.demo001.env.raiden.network",VUE_APP_HUB:"hub.raiden.eth",VUE_APP_ALLOW_MAINNET:"false",VUE_APP_IMPRINT:"https://raiden.network/privacy.html",NODE_ENV:"production",VUE_APP_I18N_LOCALE:"en",VUE_APP_I18N_FALLBACK_LOCALE:"en",BASE_URL:"/"}).VUE_APP_RAIDEN_PACKAGE||Object(Bo["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(e){setInterval((function(){e.update()}),6e4),console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(e){document.dispatchEvent(new CustomEvent("swUpdated",{detail:e})),console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}}),r["a"].config.productionTip=!1,Object(Ha["b"])(),r["a"].use(Ao),r["a"].use(Uo),new r["a"]({vuetify:Mo,router:Wa,store:Rn,i18n:qa,render:function(e){return e(vt)}}).$mount("#app")},d011:function(e,t,n){"use strict";n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return i})),n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return u}));var r=n("2111"),a=n("ca14"),o=r["p"](r["j"]([r["v"]({result:r["d"](r["p"](r["v"]({path:r["q"](a["a"]),estimated_fee:Object(a["d"])(32)})))}),r["o"]({feedback_token:r["s"]})])),i=r["d"](r["p"](r["v"]({path:r["q"](a["a"]),fee:Object(a["d"])(32)}))),c=r["p"](r["v"]({address:a["a"],url:r["s"],rtt:r["n"],price:Object(a["j"])(32),token:a["a"]})),s=r["p"](r["v"]({sender:a["a"],receiver:a["a"],amount:Object(a["j"])(32),expiration_block:Object(a["j"])(32),one_to_n_address:a["a"],chain_id:Object(a["j"])(32)})),u=r["p"](r["v"]({last_iou:Object(a["h"])(s)}))},d0dd:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return ge}));var r=n("36d8"),a=n.n(r),o=(n("40b2"),n("2b89")),i=n("f45b"),c=n("c00b"),s=n("30c0"),u=n("87b8"),l=n("7276"),f=n("06f1"),d=n("1ed4"),p=n("7ff5"),b=n.n(p),y=n("427e"),h=n.n(y),m=n("3912"),v=n("516a"),O=n("34ba"),j=n("2023"),g=n("331d"),w=n("dae3"),_=n("ebf5"),k=n("7f4a"),E=n("cefa"),T=n("0eb1"),x=n("258b"),S=n("4a9c"),A=n("111d"),N=n.n(A),P=n("de7d"),D=n("bf6c"),R=n("05eb"),I=n("2b5b"),C=n("5bbb"),U=n("b8ff"),L=n("1a78"),M=n("6c61"),B=n("50e7"),F=n("f5be"),W=n("f2df"),H=n("f799"),$=n("8120"),V=n("d890"),q=n("83ee"),K=n("59ec"),G=n("eed9"),X=n("d011"),Y=n("358d"),Q=n("ca14"),z=n("d276"),Z=n("325b"),J=n("8089"),ee=n("ee6c"),te=n("74e4"),ne=n("db2c5");function re(e){return ie(e)||oe(e)||de(e)||ae()}function ae(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function oe(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function ie(e){if(Array.isArray(e))return pe(e)}function ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ce(Object(n),!0).forEach((function(t){ue(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ue(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function le(e,t){return ye(e)||be(e,t)||de(e,t)||fe()}function fe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function de(e,t){if(e){if("string"===typeof e)return pe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pe(e,t):void 0}}function pe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function be(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done);r=!0)if(n.push(i.value),t&&n.length===t)break}catch(s){a=!0,o=s}finally{try{r||null==c["return"]||c["return"]()}finally{if(a)throw o}}return n}}function ye(e){if(Array.isArray(e))return e}function he(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function me(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){he(o,r,a,i,c,"next",e)}function c(e){he(o,r,a,i,c,"throw",e)}i(void 0)}))}}function ve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Oe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function je(e,t,n){return t&&Oe(e.prototype,t),n&&Oe(e,n),e}var ge=function(){function t(e,n,r,o,i,c){var s,u,p,y,j,g=this,w=i.db,T=i.state,x=i.config;ve(this,t);var S=T.address;this.resolveName=e.resolveName.bind(e),this.log=N.a.getLogger("raiden:".concat(S));var A=Object(C["b"])({network:n},x&&Object(Q["l"])(C["a"],x));e.resetEventsBlock(T.blockNumber+1);var D=new m["a"](1);this.state$=D.pipe(Object(Z["b"])("state")),this.action$=D.pipe(Object(Z["b"])("action"),Object(_["a"])(1)),this.blockTime$=D.pipe(Object(Z["b"])("blockTime")),this.channels$=this.state$.pipe(Object(Z["b"])("channels"),Object(k["a"])(J["k"])),this.transfers$=Object(J["i"])(this.state$,w),this.events$=this.action$.pipe(Object(E["a"])(Object(z["e"])(F["b"]))),this.getTokenInfo=h()(function(){var e=me(a.a.mark((function e(t){var n,r,o,i,c,s,u;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return Object(W["a"])(Q["a"].is(t),[ee["b"].DTA_INVALID_ADDRESS,{token:t}],this.log.info),n=this.deps.getTokenContract(t),e.next=4,Promise.all([n.callStatic.totalSupply(),n.callStatic.decimals(),n.callStatic.name().catch(b()(void 0)),n.callStatic.symbol().catch(b()(void 0))]);case 4:return r=e.sent,o=le(r,4),i=o[0],c=o[1],s=o[2],u=o[3],Object(W["a"])(i&&null!=c,ee["b"].RDN_NOT_A_TOKEN,this.log.info),e.abrupt("return",{totalSupply:i,decimals:c,name:s,symbol:u});case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()),this.deps={latest$:D,config$:D.pipe(Object(Z["b"])("config")),matrix$:new v["a"],provider:e,network:n,signer:r,address:S,log:this.log,defaultConfig:A,contractsInfo:o,registryContract:P["f"].connect(o.TokenNetworkRegistry.address,null!==(s=null===c||void 0===c?void 0:c.signer)&&void 0!==s?s:r),getTokenNetworkContract:h()((function(e){var t;return P["g"].connect(e,null!==(t=null===c||void 0===c?void 0:c.signer)&&void 0!==t?t:r)})),getTokenContract:h()((function(e){var t;return P["b"].connect(e,null!==(t=null===c||void 0===c?void 0:c.signer)&&void 0!==t?t:r)})),serviceRegistryContract:P["e"].connect(o.ServiceRegistry.address,null!==(u=null===c||void 0===c?void 0:c.signer)&&void 0!==u?u:r),userDepositContract:P["h"].connect(o.UserDeposit.address,null!==(p=null===c||void 0===c?void 0:c.signer)&&void 0!==p?p:r),secretRegistryContract:P["d"].connect(o.SecretRegistry.address,null!==(y=null===c||void 0===c?void 0:c.signer)&&void 0!==y?y:r),monitoringServiceContract:P["c"].connect(o.MonitoringService.address,null!==(j=null===c||void 0===c?void 0:c.signer)&&void 0!==j?j:r),main:c,db:w},this.userDepositTokenAddress=h()(me(a.a.mark((function e(){return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,g.deps.userDepositContract.callStatic.token();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))));var R=Object(d["createLogger"])({predicate:function(){return g.log.getLevel()<=N.a.levels.INFO},logger:this.log,level:{prevState:!1,action:"info",error:"error",nextState:"debug"}});this.config$=this.deps.config$,this.config$.subscribe((function(e){return g.config=e})),this.epicMiddleware=Object(f["a"])({dependencies:this.deps});var I=Object(ne["a"])(w);this.store=Object(l["b"])(M["a"],T,Object(l["a"])(R,I,this.epicMiddleware)),Object(B["a"])(Object(O["a"])(Object(F["c"])({})),Object(O["a"])(this.store.getState()),this.deps).subscribe((function(e){return g.deps.latest$.next(e)}))}return je(t,[{key:"start",value:function(){var n,r=this;Object(W["a"])(this.epicMiddleware,ee["b"].RDN_ALREADY_STARTED,this.log.info),this.log.info("Starting Raiden Light-Client",{prevBlockNumber:this.state.blockNumber,address:this.address,TokenNetworkRegistry:this.deps.contractsInfo.TokenNetworkRegistry.address,network:{name:this.deps.network.name,chainId:this.deps.network.chainId},"raiden-ts":t.version,"raiden-contracts":t.contractVersion,config:this.config,versions:null===(n=e)||void 0===n?void 0:n.versions});var a={complete:function(){return r.epicMiddleware=null}};this.deps.latest$.subscribe(a),this.epicMiddleware.run(B["b"]),this.epicMiddleware=void 0,this.store.dispatch(Object(F["c"])({}))}},{key:"stop",value:function(){var e=me(a.a.mark((function e(){return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.started&&this.store.dispatch(Object(F["d"])({reason:I["d"].STOP})),void 0===this.started){e.next=4;break}return e.next=4,this.deps.db.busy$.toPromise();case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getBlockNumber",value:function(){var e=me(a.a.mark((function e(){var t;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=this.deps.provider.blockNumber,!(t&&t>=this.deps.contractsInfo.TokenNetworkRegistry.block_number)){e.next=5;break}return e.abrupt("return",t);case 5:return e.next=7,this.deps.provider.getBlockNumber();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"updateConfig",value:function(e){this.store.dispatch(Object(F["c"])(Object(Q["l"])(C["a"],e)))}},{key:"dumpDatabase",value:function(){var e=me(a.a.mark((function e(){return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(void 0===this.started){e.next=3;break}return e.next=3,this.deps.db.busy$.toPromise();case 3:return e.abrupt("return",Object(te["b"])(this.deps.db));case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getBalance",value:function(e){var t;return e=null!==(t=e)&&void 0!==t?t:Object(J["b"])(this.deps,this.config.subkey).address,Object(W["a"])(Q["a"].is(e),[ee["b"].DTA_INVALID_ADDRESS,{address:e}],this.log.info),this.deps.provider.getBalance(e)}},{key:"getTokenBalance",value:function(){var e=me(a.a.mark((function e(t,n){var r,o;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=null!==(r=n)&&void 0!==r?r:Object(J["b"])(this.deps,this.config.subkey).address,Object(W["a"])(Q["a"].is(n),[ee["b"].DTA_INVALID_ADDRESS,{address:n}],this.log.info),Object(W["a"])(Q["a"].is(t),[ee["b"].DTA_INVALID_ADDRESS,{token:t}],this.log.info),o=this.deps.getTokenContract(t),e.abrupt("return",o.callStatic.balanceOf(n));case 5:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"getTokenList",value:function(){var e=me(a.a.mark((function e(){var t=this;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this.deps.provider.getLogs(se(se({},this.deps.registryContract.filters.TokenNetworkCreated(null,null)),{},{fromBlock:this.deps.contractsInfo.TokenNetworkRegistry.block_number,toBlock:"latest"})).then((function(e){return e.map((function(e){return t.deps.registryContract.interface.parseLog(e)})).filter((function(e){return!!e.args.token_address})).map((function(e){return e.args.token_address}))})));case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"monitorToken",value:function(){var e=me(a.a.mark((function e(t){var n;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(Object(W["a"])(Q["a"].is(t),[ee["b"].DTA_INVALID_ADDRESS,{token:t}],this.log.info),n=this.state.tokens[t],!n){e.next=4;break}return e.abrupt("return",n);case 4:return e.next=6,this.deps.registryContract.token_to_token_networks(t);case 6:return n=e.sent,Object(W["a"])(n&&n!==s["a"],ee["b"].RDN_UNKNOWN_TOKEN_NETWORK,this.log.info),this.store.dispatch(Object(H["tokenMonitored"])({token:t,tokenNetwork:n,fromBlock:this.deps.contractsInfo.TokenNetworkRegistry.block_number})),e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"openChannel",value:function(){var e=me(a.a.mark((function e(t,n){var r,o,i,c,s,u,l,f,d,p,b=arguments;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=b.length>2&&void 0!==b[2]?b[2]:{},o=b.length>3?b[3]:void 0,Object(W["a"])(Q["a"].is(t),[ee["b"].DTA_INVALID_ADDRESS,{token:t}],this.log.info),Object(W["a"])(Q["a"].is(n),[ee["b"].DTA_INVALID_ADDRESS,{partner:n}],this.log.info),e.next=6,this.monitorToken(t);case 6:return i=e.sent,Object(W["a"])(!r.subkey||this.deps.main,ee["b"].RDN_SUBKEY_NOT_SET,this.log.info),c=r.settleTimeout?Object(Q["l"])(Object(Q["j"])(4),r.settleTimeout,ee["b"].DTA_INVALID_TIMEOUT,this.log.info).toNumber():void 0,s=r.deposit?Object(Q["l"])(Object(Q["j"])(32),r.deposit,ee["b"].DTA_INVALID_DEPOSIT,this.log.info):void 0,u={tokenNetwork:i,partner:n},l=Object(z["a"])(H["channelOpen"],u,this.action$,!0).then((function(e){var t=e.txHash;return t})),null!==s&&void 0!==s&&s.gt(0)&&(f=Object(z["a"])(H["channelDeposit"],u,this.action$,!0).then((function(e){var t=e.txHash;return t}))),this.store.dispatch(H["channelOpen"].request(se(se({},r),{},{settleTimeout:c,deposit:s}),u)),e.next=16,l;case 16:return d=e.sent,null===o||void 0===o||o({type:R["a"].OPENED,payload:{txHash:d}}),e.next=20,this.state$.pipe(Object(Z["b"])("channels",Object($["d"])({tokenNetwork:i,partner:n}),"state"),Object(T["a"])((function(e){return e===U["b"].open}))).toPromise();case 20:if(null===o||void 0===o||o({type:R["a"].CONFIRMED,payload:{txHash:d}}),!f){e.next=26;break}return e.next=24,f;case 24:p=e.sent,null===o||void 0===o||o({type:R["a"].DEPOSITED,payload:{txHash:p}});case 26:return e.abrupt("return",d);case 27:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"depositChannel",value:function(){var e=me(a.a.mark((function e(t,n,r){var o,i,c,s,u,l,f,d=arguments;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o=d.length>3&&void 0!==d[3]?d[3]:{},i=o.subkey,Object(W["a"])(Q["a"].is(t),[ee["b"].DTA_INVALID_ADDRESS,{token:t}],this.log.info),Object(W["a"])(Q["a"].is(n),[ee["b"].DTA_INVALID_ADDRESS,{partner:n}],this.log.info),c=this.state,s=c.tokens[t],Object(W["a"])(s,ee["b"].RDN_UNKNOWN_TOKEN_NETWORK,this.log.info),Object(W["a"])(!i||this.deps.main,ee["b"].RDN_SUBKEY_NOT_SET,this.log.info),u=Object(Q["l"])(Object(Q["j"])(32),r,ee["b"].DTA_INVALID_DEPOSIT,this.log.info),l={tokenNetwork:s,partner:n},f=Object(z["a"])(H["channelDeposit"],l,this.action$,!0).then((function(e){var t=e.txHash;return t})),this.store.dispatch(H["channelDeposit"].request({deposit:u,subkey:i},l)),e.abrupt("return",f);case 12:case"end":return e.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"closeChannel",value:function(){var e=me(a.a.mark((function e(t,n){var r,o,i,c,s,u,l=arguments;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=l.length>2&&void 0!==l[2]?l[2]:{},o=r.subkey,Object(W["a"])(Q["a"].is(t),[ee["b"].DTA_INVALID_ADDRESS,{token:t}],this.log.info),Object(W["a"])(Q["a"].is(n),[ee["b"].DTA_INVALID_ADDRESS,{partner:n}],this.log.info),i=this.state,c=i.tokens[t],Object(W["a"])(c,ee["b"].RDN_UNKNOWN_TOKEN_NETWORK,this.log.info),Object(W["a"])(!o||this.deps.main,ee["b"].RDN_SUBKEY_NOT_SET,this.log.info),s={tokenNetwork:c,partner:n},u=Object(z["a"])(H["channelClose"],s,this.action$,!0).then((function(e){var t=e.txHash;return t})),this.store.dispatch(H["channelClose"].request(o?{subkey:o}:void 0,s)),e.abrupt("return",u);case 11:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"settleChannel",value:function(){var e=me(a.a.mark((function e(t,n){var r,o,i,c,s,u,l=arguments;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=l.length>2&&void 0!==l[2]?l[2]:{},o=r.subkey,Object(W["a"])(Q["a"].is(t),[ee["b"].DTA_INVALID_ADDRESS,{token:t}],this.log.info),Object(W["a"])(Q["a"].is(n),[ee["b"].DTA_INVALID_ADDRESS,{partner:n}],this.log.info),i=this.state,c=i.tokens[t],Object(W["a"])(c,ee["b"].RDN_UNKNOWN_TOKEN_NETWORK,this.log.info),Object(W["a"])(!o||this.deps.main,ee["b"].RDN_SUBKEY_NOT_SET,this.log.info),s={tokenNetwork:c,partner:n},u=Object(z["a"])(H["channelSettle"],s,this.action$,!0).then((function(e){var t=e.txHash;return t})),this.store.dispatch(H["channelSettle"].request(o?{subkey:o}:void 0,s)),e.abrupt("return",u);case 11:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"getAvailability",value:function(){var e=me(a.a.mark((function e(t){var n,r;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return Object(W["a"])(Q["a"].is(t),[ee["b"].DTA_INVALID_ADDRESS,{address:t}],this.log.info),n={address:t},r=Object(z["a"])(V["matrixPresence"],n,this.action$),this.store.dispatch(V["matrixPresence"].request(void 0,n)),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"transfer",value:function(){var e=me(a.a.mark((function e(t,n,r){var o,i,c,s,u,l,f,d,p,b,y=this,h=arguments;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o=h.length>3&&void 0!==h[3]?h[3]:{},Object(W["a"])(Q["a"].is(t),[ee["b"].DTA_INVALID_ADDRESS,{token:t}],this.log.info),Object(W["a"])(Q["a"].is(n),[ee["b"].DTA_INVALID_ADDRESS,{target:n}],this.log.info),i=this.state.tokens[t],Object(W["a"])(i,ee["b"].RDN_UNKNOWN_TOKEN_NETWORK,this.log.info),c=Object(Q["l"])(Object(Q["j"])(32),r,ee["b"].DTA_INVALID_AMOUNT,this.log.info),s=void 0!==o.paymentId?Object(Q["l"])(Object(Q["j"])(8),o.paymentId,ee["b"].DTA_INVALID_PAYMENT_ID,this.log.info):Object(K["f"])(),u=o.paths?Object(Q["l"])(X["e"],o.paths,ee["b"].DTA_INVALID_PATH,this.log.info):void 0,l=o.pfs?Object(Q["l"])(X["c"],o.pfs,ee["b"].DTA_INVALID_PFS,this.log.info):void 0,f=o.lockTimeout?this.state.blockNumber+o.lockTimeout:void 0,Object(W["a"])(void 0===o.secret||Q["f"].is(o.secret),ee["b"].RDN_INVALID_SECRET,this.log.info),Object(W["a"])(void 0===o.secrethash||Q["c"].is(o.secrethash),ee["b"].RDN_INVALID_SECRETHASH,this.log.info),d=o.secret?o.secret:o.secrethash?void 0:Object(K["g"])(),p=o.secrethash||Object(K["c"])(d),Object(W["a"])(!d||Object(K["c"])(d)===p,ee["b"].RDN_SECRET_SECRETHASH_MISMATCH,this.log.info),b={tokenNetwork:i,target:n,value:c},e.abrupt("return",Object(j["a"])(this.action$.pipe(Object(T["a"])(Object(z["g"])(G["pathFind"],b)),Object(k["a"])((function(e){if(G["pathFind"].failure.is(e))throw e.payload;return e.payload.paths}))),Object(g["a"])((function(){return y.store.dispatch(G["pathFind"].request({paths:u,pfs:l},b)),w["a"]}))).pipe(Object(x["a"])((function(e){return Object(j["a"])(y.action$.pipe(Object(E["a"])(Object(z["e"])([q["transferSigned"],q["transfer"].failure])),Object(T["a"])((function(e){return e.meta.direction===L["a"].SENT&&e.meta.secrethash===p})),Object(k["a"])((function(e){if(q["transfer"].failure.is(e))throw e.payload;return Object(K["i"])(e.meta)}))),Object(g["a"])((function(){return y.store.dispatch(q["transfer"].request({tokenNetwork:i,target:n,value:c,paths:e,paymentId:s,secret:d,expiration:f},{secrethash:p,direction:L["a"].SENT})),w["a"]})))}))).toPromise());case 17:case"end":return e.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"waitTransfer",value:function(){var e=me(a.a.mark((function e(t){var n,r,o,i,c,s,u;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=Object(K["j"])(t),o=r.direction,i=r.secrethash,c=this.state.transfers[t],c){e.next=14;break}return e.prev=3,e.t0=Q["l"],e.t1=L["d"],e.next=8,this.deps.db.get(t);case 8:e.t2=e.sent,c=(0,e.t0)(e.t1,e.t2),e.next=14;break;case 12:e.prev=12,e.t3=e["catch"](3);case 14:if(Object(W["a"])(c,ee["b"].RDN_UNKNOWN_TRANSFER,this.log.info),s=Object(K["h"])(c),!s.completed){e.next=22;break}if(!s.success){e.next=21;break}return e.abrupt("return",s);case 21:throw new ee["c"](ee["b"].XFER_ALREADY_COMPLETED,{status:s.status});case 22:return e.next=24,Object(z["a"])(q["transfer"],{secrethash:i,direction:o},this.action$);case 24:return e.next=26,this.state$.pipe(Object(S["a"])("transfers",t),Object(T["a"])((function(e){return!!e.unlockProcessed}))).toPromise();case 26:return u=e.sent,this.log.info("Transfer successful",{key:t,partner:u.partner,initiator:u.transfer.initiator,target:u.transfer.target,fee:u.fee.toString(),lockAmount:u.transfer.lock.amount.toString(),targetReceived:null===(n=u.secretRequest)||void 0===n?void 0:n.amount.toString(),transferTime:u.unlockProcessed.ts-u.transfer.ts}),e.abrupt("return",Object(K["h"])(u));case 29:case"end":return e.stop()}}),e,this,[[3,12]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"findRoutes",value:function(){var e=me(a.a.mark((function e(t,n,r){var o,i,c,s,u,l,f=arguments;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o=f.length>3&&void 0!==f[3]?f[3]:{},Object(W["a"])(Q["a"].is(t),[ee["b"].DTA_INVALID_ADDRESS,{token:t}],this.log.info),Object(W["a"])(Q["a"].is(n),[ee["b"].DTA_INVALID_ADDRESS,{target:n}],this.log.info),i=this.state.tokens[t],Object(W["a"])(i,ee["b"].RDN_UNKNOWN_TOKEN_NETWORK,this.log.info),c=Object(Q["l"])(Object(Q["j"])(32),r),s=o.pfs?Object(Q["l"])(X["c"],o.pfs):void 0,u={tokenNetwork:i,target:n,value:c},l=Object(z["a"])(G["pathFind"],u,this.action$).then((function(e){var t=e.paths;return t})),this.store.dispatch(G["pathFind"].request({pfs:s},u)),e.abrupt("return",l);case 11:case"end":return e.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"directRoute",value:function(){var e=me(a.a.mark((function e(t,n,r){var o,i,c,s;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return Object(W["a"])(Q["a"].is(t),[ee["b"].DTA_INVALID_ADDRESS,{token:t}],this.log.info),Object(W["a"])(Q["a"].is(n),[ee["b"].DTA_INVALID_ADDRESS,{target:n}],this.log.info),o=this.state.tokens[t],Object(W["a"])(o,ee["b"].RDN_UNKNOWN_TOKEN_NETWORK,this.log.info),i=Object(Q["l"])(Object(Q["j"])(32),r),c={tokenNetwork:o,target:n,value:i},s=Object(z["a"])(G["pathFind"],c,this.action$).then((function(e){var t=e.paths;return t}),(function(){})),this.store.dispatch(G["pathFind"].request({pfs:null},c)),e.abrupt("return",s);case 9:case"end":return e.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"findPFS",value:function(){var e=me(a.a.mark((function e(){var t=this;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return Object(W["a"])(null!==this.config.pfs,ee["b"].PFS_DISABLED,this.log.info),e.abrupt("return",(this.config.pfs?Object(O["a"])([this.config.pfs]):this.deps.latest$.pipe(Object(Z["b"])("pfsList"),Object(T["a"])((function(e){return e.length>0})))).pipe(Object(x["a"])((function(e){return Object(Y["d"])(e,t.deps)}))).toPromise());case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"mint",value:function(){var e=me(a.a.mark((function e(t,n){var r,o,i,c,s,u,l,f,d,p,b=arguments;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=b.length>2&&void 0!==b[2]?b[2]:{},o=r.subkey,i=r.to,Object(W["a"])(Q["a"].is(t),[ee["b"].DTA_INVALID_ADDRESS,{token:t}],this.log.info),Object(W["a"])(!o||this.deps.main,ee["b"].RDN_SUBKEY_NOT_SET,this.log.info),Object(W["a"])(1!==this.deps.network.chainId,ee["b"].RDN_MINT_MAINNET,this.log.info),c=Object(J["b"])(this.deps,null!==o&&void 0!==o?o:this.config.subkey),s=c.signer,u=c.address,l=P["a"].connect(t,s),f=null!==i&&void 0!==i?i:u,Object(W["a"])(Q["a"].is(f),[ee["b"].DTA_INVALID_ADDRESS,{beneficiary:f}],this.log.info),d=Object(Q["l"])(Object(Q["j"])(32),n,ee["b"].DTA_INVALID_AMOUNT),e.next=11,Object(J["a"])(l,"mintFor",[d,f],ee["b"].RDN_MINT_FAILED,{log:this.log});case 11:return p=e.sent,e.next=14,Object(J["l"])(p,this.deps,1);case 14:return e.abrupt("return",p.transactionHash);case 15:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"getUDCCapacity",value:function(){var e=me(a.a.mark((function e(){var t,n,r;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(J["h"])(this.deps.latest$);case 2:return t=e.sent,n=this.state.blockNumber,r=Object.values(this.state.iou).reduce((function(e,t){return[].concat(re(e),re(Object.values(t).filter((function(e){return e.expiration_block.gte(n)}))))}),[]).reduce((function(e,t){return e.add(t.amount)}),u["f"]),e.abrupt("return",t.sub(r));case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"depositToUDC",value:function(){var e=me(a.a.mark((function e(t,n){var r,o,i,c,s,l,f,d,p=arguments;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=p.length>2&&void 0!==p[2]?p[2]:{},o=r.subkey,Object(W["a"])(!o||this.deps.main,ee["b"].RDN_SUBKEY_NOT_SET,this.log.info),i=Object(Q["l"])(Object(Q["j"])(32),t,ee["b"].DTA_INVALID_DEPOSIT,this.log.info),Object(W["a"])(i.gt(u["f"]),ee["b"].DTA_NON_POSITIVE_NUMBER,this.log.info),e.next=6,this.deps.userDepositContract.callStatic.total_deposit(this.address);case 6:return c=e.sent,s={totalDeposit:c.add(i)},l=Object(z["a"])(G["udcDeposit"],s,this.action$,!1).then((function(e){return e.txHash})),this.store.dispatch(G["udcDeposit"].request({deposit:i,subkey:o},s)),e.next=12,l;case 12:return f=e.sent,null===n||void 0===n||n({type:R["a"].DEPOSITED,payload:{txHash:f}}),d=Object(z["a"])(G["udcDeposit"],s,this.action$,!0).then((function(e){return e.txHash})),e.next=17,d;case 17:return f=e.sent,null===n||void 0===n||n({type:R["a"].CONFIRMED,payload:{txHash:f}}),e.abrupt("return",f);case 20:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"transferOnchainBalance",value:function(){var e=me(a.a.mark((function e(t){var n,r,o,i,s,l,f,d,p,b,y,h,m,v,O=arguments;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=O.length>1&&void 0!==O[1]?O[1]:u["a"],r=O.length>2&&void 0!==O[2]?O[2]:{},o=r.subkey,i=r.gasPrice,Object(W["a"])(Q["a"].is(t),[ee["b"].DTA_INVALID_ADDRESS,{to:t}],this.log.info),Object(W["a"])(!o||this.deps.main,ee["b"].RDN_SUBKEY_NOT_SET,this.log.info),s=Object(J["b"])(this.deps,null!==o&&void 0!==o?o:this.config.subkey),l=s.signer,f=s.address,!i){e.next=9;break}e.t0=c["a"].from(i),e.next=12;break;case 9:return e.next=11,this.deps.provider.getGasPrice();case 11:e.t0=e.sent;case 12:return d=e.t0,p=c["a"].from(21e3),e.next=16,this.getBalance(f);case 16:return b=e.sent,y=b.sub(d.mul(p)),Object(W["a"])(y.gt(u["f"]),[ee["b"].RDN_INSUFFICIENT_BALANCE,{transferable:y.toString()}],this.log.info),h=y.lte(n)?y:c["a"].from(n),e.next=22,l.sendTransaction({to:t,value:h,gasPrice:d,gasLimit:p});case 22:return m=e.sent,e.next=25,m.wait();case 25:return v=e.sent,Object(W["a"])(v.status,ee["b"].RDN_TRANSFER_ONCHAIN_BALANCE_FAILED,this.log.info),e.abrupt("return",m.hash);case 28:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"transferOnchainTokens",value:function(){var e=me(a.a.mark((function e(t,n){var r,o,i,s,l,f,d,p,b,y,h=arguments;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=h.length>2&&void 0!==h[2]?h[2]:u["a"],o=h.length>3&&void 0!==h[3]?h[3]:{},i=o.subkey,Object(W["a"])(Q["a"].is(t),[ee["b"].DTA_INVALID_ADDRESS,{token:t}],this.log.info),Object(W["a"])(Q["a"].is(n),[ee["b"].DTA_INVALID_ADDRESS,{to:n}],this.log.info),Object(W["a"])(!i||this.deps.main,ee["b"].RDN_SUBKEY_NOT_SET,this.log.info),s=Object(J["b"])(this.deps,null!==i&&void 0!==i?i:this.config.subkey),l=s.signer,f=s.address,d=Object(J["d"])(this.deps.getTokenContract(t),l),e.next=9,this.getTokenBalance(t,f);case 9:return p=e.sent,b=p.lte(r)?p:c["a"].from(r),e.next=13,Object(J["a"])(d,"transfer",[n,b],ee["b"].RDN_TRANSFER_ONCHAIN_TOKENS_FAILED,{log:this.log});case 13:return y=e.sent,e.abrupt("return",y.transactionHash);case 15:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"planUdcWithdraw",value:function(){var e=me(a.a.mark((function e(t){var n,r;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={amount:Object(Q["l"])(Object(Q["j"])(32),t,ee["b"].DTA_INVALID_AMOUNT,this.log.error)},r=Object(z["a"])(G["udcWithdraw"],n,this.action$,!0).then((function(e){var t=e.txHash;return t})),this.store.dispatch(G["udcWithdraw"].request(void 0,n)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"withdrawChannel",value:function(){var e=me(a.a.mark((function e(t,n,r){var o,i,c,s,u,l,f,d,p,b;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return Object(W["a"])(Q["a"].is(t),[ee["b"].DTA_INVALID_ADDRESS,{token:t}],this.log.info),Object(W["a"])(Q["a"].is(n),[ee["b"].DTA_INVALID_ADDRESS,{partner:n}],this.log.info),o=this.state.tokens[t],Object(W["a"])(o,ee["b"].RDN_UNKNOWN_TOKEN_NETWORK,this.log.info),i=this.state.channels[Object($["d"])({tokenNetwork:o,partner:n})],Object(W["a"])((null===i||void 0===i?void 0:i.state)===U["b"].open,ee["b"].CNL_NO_OPEN_CHANNEL_FOUND,this.log.error),c=Object($["c"])(i),s=c.ownWithdrawable,u=c.ownWithdraw,l=Object(Q["l"])(Object(Q["j"])(32),null!==r&&void 0!==r?r:s,ee["b"].DTA_INVALID_AMOUNT,this.log.info),f=u.add(l),d=this.state.blockNumber+2*this.config.revealTimeout,p={direction:L["a"].SENT,tokenNetwork:o,partner:n,totalWithdraw:f,expiration:d},b=Object(z["a"])(q["withdraw"],p,this.action$,!0).then((function(e){var t=e.txHash;return t})),this.store.dispatch(q["withdraw"].request(void 0,p)),e.abrupt("return",b);case 14:case"end":return e.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"started",get:function(){if(!this.epicMiddleware)return void 0===this.epicMiddleware}},{key:"state",get:function(){return this.store.getState()}},{key:"address",get:function(){return this.deps.address}},{key:"mainAddress",get:function(){var e;return null===(e=this.deps.main)||void 0===e?void 0:e.address}},{key:"network",get:function(){return this.deps.network}},{key:"contractsInfo",get:function(){return this.deps.contractsInfo}}],[{key:"create",value:function(){var e=me(a.a.mark((function e(t,n,r,c,s,u){var l,f,d,p,b,y,h,m,v,O;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return l="string"===typeof t?new o["a"](t):t instanceof o["a"]?t:new i["a"](t),e.next=3,l.getNetwork();case 3:if(f=e.sent,c){e.next=8;break}d=Object(J["e"])(f),e.next=16;break;case 8:if("string"!==typeof c){e.next=15;break}return Object(W["a"])(Q["a"].is(c),[ee["b"].DTA_INVALID_ADDRESS,{contractsOrUserDepositAddress:c}]),e.next=12,Object(J["c"])(l,c);case 12:d=e.sent,e.next=16;break;case 15:d=c;case 16:return e.next=18,Object(J["f"])(n,l,u);case 18:return p=e.sent,b=p.signer,y=p.address,h=p.main,e.next=24,Object(J["g"])({network:f,contractsInfo:d,address:y,log:N.a.getLogger("raiden:".concat(y))},r);case 24:return m=e.sent,v=m.state,O=m.db,Object(W["a"])(y===v.address,[ee["b"].RDN_STATE_ADDRESS_MISMATCH,{account:y,state:v.address}]),Object(W["a"])(f.chainId===v.chainId&&d.TokenNetworkRegistry.address===v.registry,[ee["b"].RDN_STATE_NETWORK_MISMATCH,{network:f.chainId,contracts:d.TokenNetworkRegistry.address,stateNetwork:v.chainId,stateRegistry:v.registry}]),e.abrupt("return",new this(l,f,b,d,{db:O,state:v,config:s},h));case 30:case"end":return e.stop()}}),e,this)})));function t(t,n,r,a,o,i){return e.apply(this,arguments)}return t}()},{key:"version",get:function(){return D.sdk}},{key:"contractVersion",get:function(){return D.contracts}}]),t}()}).call(this,n("6fc9"))},d276:function(e,t,n){"use strict";n.d(t,"e",(function(){return E})),n.d(t,"b",(function(){return T})),n.d(t,"c",(function(){return x})),n.d(t,"g",(function(){return A})),n.d(t,"f",(function(){return N})),n.d(t,"a",(function(){return P})),n.d(t,"d",(function(){return R}));var r=n("36d8"),a=n.n(r),o=n("2111"),i=n("53b1"),c=n.n(i),s=n("cefa"),u=n("0eb1"),l=n("7f4a"),f=n("f2df"),d=n("ee6c"),p=n("ca14");function b(e){return v(e)||m(e)||h(e)||y()}function y(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function h(e,t){if(e){if("string"===typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?O(e,t):void 0}}function m(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function v(e){if(Array.isArray(e))return O(e)}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function j(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function g(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){j(o,r,a,i,c,"next",e)}function c(e){j(o,r,a,i,c,"throw",e)}i(void 0)}))}}function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){k(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E(e){var t=Array.isArray(e)?e:[e];function n(e){return null!=e&&t.some((function(t){return t.is(e)}))}return(arguments.length<=1?0:arguments.length-1)>0?n(arguments.length<=1?void 0:arguments[1]):n}function T(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],a=t[1],i=t[2],c=t[3],s=o["v"](_(_(_({type:o["l"](r)},a?{payload:a}:null),i?{meta:i}:null),c?{error:o["l"](c)}:null)),u=function(e){return(null===e||void 0===e?void 0:e["type"])===r},l=_({codec:s,type:r,is:u},void 0!==c?{error:c}:null),f=function(e,t){return _(_(_({type:r},a?{payload:e}:null),i?{meta:t}:null),void 0!==c?{error:c}:null)};return Object.assign(f,l)}function x(e,t,n,r,a,i){var c=!(arguments.length<=6)&&arguments.length-6?arguments.length<=6?void 0:arguments[6]:o["c"],s=T(t,a,e),u=T(n,i,e),l=T(r,c,e,!0);return{request:s,success:u,failure:l}}function S(e){var t=function(t){return c()(t.meta,e,(function(e,t){return p["b"].is(e)&&p["b"].is(t)?e.eq(t):void 0}))};return!(arguments.length<=1)&&arguments.length-1?t(arguments.length<=1?void 0:arguments[1]):t}function A(e,t){var n=function(n){return E([e.success,e.failure],n)&&S(t,n)};return!(arguments.length<=2)&&arguments.length-2?n(arguments.length<=2?void 0:arguments[2]):n}function N(e,t){function n(e){var t;return"boolean"===typeof(null===e||void 0===e||null===(t=e["payload"])||void 0===t?void 0:t["confirmed"])}var r=function(r){return A(e,t,r)&&(e.failure.is(r)||n(r))};return!(arguments.length<=2)&&arguments.length-2?r(arguments.length<=2?void 0:arguments[2]):r}function P(e,t,n,r){return D.apply(this,arguments)}function D(){return D=g(a.a.mark((function e(t,n,r,o){return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",r.pipe(Object(s["a"])(o?N(t,n):A(t,n)),Object(u["a"])((function(e){return void 0===o||!t.success.is(e)||"confirmed"in e.payload})),Object(l["a"])((function(e){var n;if(t.failure.is(e))throw e.payload;if(!1===(null===(n=e.payload)||void 0===n?void 0:n.confirmed))throw new d["c"](d["b"].RDN_TRANSACTION_REORG,{transactionHash:e.payload.txHash});return e.payload}))).toPromise());case 1:case"end":return e.stop()}}),e)}))),D.apply(this,arguments)}function R(e){function t(n){var r=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e,r=arguments.length>1?arguments[1]:void 0;return r.type in n&&n[r.type][0].is(r)?n[r.type][1](t,r):t};function a(e,r){var a=Array.isArray(e)?e:[e];return Object(f["a"])(!a.some((function(e){return e.type in n})),"Already handled"),t(Object.assign.apply(Object,[{},n].concat(b(a.map((function(e){return k({},e.type,[e,r])}))))))}return Object.assign(r,{handle:a})}return t({})}},d890:function(e,t,n){"use strict";n.r(t),n.d(t,"matrixSetup",(function(){return s})),n.d(t,"matrixPresence",(function(){return u})),n.d(t,"matrixRoom",(function(){return l})),n.d(t,"matrixRoomLeave",(function(){return f})),n.d(t,"rtcChannel",(function(){return d}));var r=n("2111"),a=n("d276"),o=n("ca14"),i=n("ee57"),c=r["v"]({address:o["a"]}),s=Object(a["b"])("matrix/setup",r["v"]({server:r["s"],setup:i["a"]})),u=Object(a["c"])(c,"matrix/presence/request","matrix/presence/success","matrix/presence/failure",void 0,r["j"]([r["v"]({userId:r["s"],available:r["e"],ts:r["n"]}),r["o"]({caps:r["r"](r["s"],r["c"])})])),l=Object(a["b"])("matrix/room",r["v"]({roomId:r["s"]}),c),f=Object(a["b"])("matrix/room/leave",r["v"]({roomId:r["s"]}),c),d=Object(a["b"])("rtc/channel",r["x"]([r["w"],Object(o["m"])(RTCDataChannel)]),c)},d8a5:function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e["NONE"]="none",e["INFO"]="info",e["WARNING"]="warning",e["ERROR"]="error"}(r||(r={}))},db20:function(e,t,n){"use strict";n("9c98")},db2c5:function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var r=n("36d8"),a=n.n(r),o=n("605b"),i=n.n(o),c=n("ee6c");function s(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=b(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t){return m(e)||h(e,t)||b(e,t)||p()}function p(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function b(e,t){if(e){if("string"===typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(e,t):void 0}}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done);r=!0)if(n.push(i.value),t&&n.length===t)break}catch(s){a=!0,o=s}finally{try{r||null==c["return"]||c["return"]()}finally{if(a)throw o}}return n}}function m(e){if(Array.isArray(e))return e}function v(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function O(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){v(o,r,a,i,c,"next",e)}function c(e){v(o,r,a,i,c,"throw",e)}i(void 0)}))}}function j(e){var t={},n=function(){var n=O(a.a.mark((function n(){var r;return a.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,e.info();case 2:Object(c["d"])(!e.__opts.versionchanged,c["b"].RDN_DATABASE_DELETED),r=a.a.mark((function n(){var r,o,i,c,u,f,p,b;return a.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=t,t={},o=Object.keys(r),n.next=5,e.allDocs({keys:o});case 5:return i=n.sent,c=function(e){var t=i.rows.find((function(t){return t.id===e}));return null!==t&&void 0!==t&&t.value.deleted?{_rev:t.value.rev,deleted:!1}:t&&!("error"in t)?{_rev:t.value.rev}:void 0},n.next=9,e.bulkDocs(Object.entries(r).map((function(e){var t=d(e,2),n=t[0],r=t[1];return l(l({},r),{},{_id:n},c(n))})));case 9:u=n.sent,f=s(u);try{for(f.s();!(p=f.n()).done;)b=p.value,"error"in b&&b.error&&b.id&&!(b.id in t)&&(t[b.id]=r[b.id])}catch(a){f.e(a)}finally{f.f()}case 12:case"end":return n.stop()}}),n)}));case 4:if(i()(t)){n.next=8;break}return n.delegateYield(r(),"t0",6);case 6:n.next=4;break;case 8:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return function(r){return function(a){return function(o){var i=r.getState(),c=a(o),s=r.getState();if(s===i)return c;for(var u in s){var f=u;if(s[f]!==i[f])if("channels"===f||"oldChannels"===f){for(var d in s[f])if(s[f][d]!==i[f][d]){var p="channels.".concat(s[f][d]._id);e.storageKeys.add(p),t[p]=s[f][d]}}else if("transfers"===f){for(var b in s.transfers)s.transfers[b]!==i.transfers[b]&&(e.storageKeys.add(b),t[b]=s.transfers[b]);for(var y in i.transfers)y in s.transfers||(t[y]=l(l({},i.transfers[y]),{},{cleared:Date.now()}))}else{var h="state.".concat(f);e.storageKeys.add(h),t[h]={value:s[f]}}}return e.busy$.value||(e.busy$.next(!0),n().then((function(){return e.busy$.next(!1)}),(function(t){return e.busy$.error(t)}))),c}}}}},db7b:function(e,t,n){e.exports=n.p+"img/notifications.9b9982fe.svg"},de7d:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return m})),n.d(t,"d",(function(){return w})),n.d(t,"e",(function(){return x})),n.d(t,"g",(function(){return D})),n.d(t,"f",(function(){return L})),n.d(t,"h",(function(){return H}));var r=n("bf95");function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}var c=function(){function e(){a(this,e)}return i(e,null,[{key:"connect",value:function(e,t){return new r["a"](e,s,t)}}]),e}(),s=[{inputs:[{internalType:"uint256",name:"initial_supply",type:"uint256"},{internalType:"uint8",name:"decimal_units",type:"uint8"},{internalType:"string",name:"token_name",type:"string"},{internalType:"string",name:"token_symbol",type:"string"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_owner",type:"address"},{indexed:!0,internalType:"address",name:"_spender",type:"address"},{indexed:!1,internalType:"uint256",name:"_value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_to",type:"address"},{indexed:!0,internalType:"uint256",name:"_num",type:"uint256"}],name:"Minted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_from",type:"address"},{indexed:!0,internalType:"address",name:"_to",type:"address"},{indexed:!1,internalType:"uint256",name:"_value",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[],name:"_decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_owner",type:"address"},{internalType:"address",name:"_spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"remaining",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_spender",type:"address"},{internalType:"uint256",name:"_value",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"success",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"balance",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"balances",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"decimals",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"num",type:"uint256"}],name:"mint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"num",type:"uint256"},{internalType:"address",name:"target",type:"address"}],name:"mintFor",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"multiplier",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner_address",outputs:[{internalType:"address payable",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"supply",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_to",type:"address"},{internalType:"uint256",name:"_value",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"success",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_from",type:"address"},{internalType:"address",name:"_to",type:"address"},{internalType:"uint256",name:"_value",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"success",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"transferFunds",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"version",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"}];function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),e}var d=function(){function e(){u(this,e)}return f(e,null,[{key:"connect",value:function(e,t){return new r["a"](e,p,t)}}]),e}(),p=[{inputs:[{internalType:"uint256",name:"_initialAmount",type:"uint256"},{internalType:"uint8",name:"_decimalUnits",type:"uint8"},{internalType:"string",name:"_tokenName",type:"string"},{internalType:"string",name:"_tokenSymbol",type:"string"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_owner",type:"address"},{indexed:!0,internalType:"address",name:"_spender",type:"address"},{indexed:!1,internalType:"uint256",name:"_value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_from",type:"address"},{indexed:!0,internalType:"address",name:"_to",type:"address"},{indexed:!1,internalType:"uint256",name:"_value",type:"uint256"}],name:"Transfer",type:"event"},{stateMutability:"nonpayable",type:"fallback"},{inputs:[],name:"_decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_owner",type:"address"},{internalType:"address",name:"_spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"remaining",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_spender",type:"address"},{internalType:"uint256",name:"_value",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"success",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_spender",type:"address"},{internalType:"uint256",name:"_value",type:"uint256"},{internalType:"bytes",name:"_extraData",type:"bytes"}],name:"approveAndCall",outputs:[{internalType:"bool",name:"success",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"balance",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"balances",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"decimals",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"supply",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_to",type:"address"},{internalType:"uint256",name:"_value",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"success",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_from",type:"address"},{internalType:"address",name:"_to",type:"address"},{internalType:"uint256",name:"_value",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"success",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"version",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"}];function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t,n){return t&&y(e.prototype,t),n&&y(e,n),e}var m=function(){function e(){b(this,e)}return h(e,null,[{key:"connect",value:function(e,t){return new r["a"](e,v,t)}}]),e}(),v=[{inputs:[{internalType:"address",name:"_token_address",type:"address"},{internalType:"address",name:"_service_registry_address",type:"address"},{internalType:"address",name:"_udc_address",type:"address"},{internalType:"address",name:"_token_network_registry_address",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"token_network_address",type:"address"},{indexed:!1,internalType:"uint256",name:"channel_identifier",type:"uint256"},{indexed:!1,internalType:"uint256",name:"reward_amount",type:"uint256"},{indexed:!0,internalType:"uint256",name:"nonce",type:"uint256"},{indexed:!0,internalType:"address",name:"ms_address",type:"address"},{indexed:!0,internalType:"address",name:"raiden_node_address",type:"address"}],name:"NewBalanceProofReceived",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"ms_address",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!0,internalType:"bytes32",name:"reward_identifier",type:"bytes32"}],name:"RewardClaimed",type:"event"},{inputs:[{internalType:"uint256",name:"channel_identifier",type:"uint256"},{internalType:"address",name:"token_network_address",type:"address"},{internalType:"address",name:"closing_participant",type:"address"},{internalType:"address",name:"non_closing_participant",type:"address"}],name:"claimReward",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"contract_address",type:"address"}],name:"contractExists",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"closed_at_block",type:"uint256"},{internalType:"uint256",name:"settle_timeout",type:"uint256"},{internalType:"address",name:"participant1",type:"address"},{internalType:"address",name:"participant2",type:"address"},{internalType:"address",name:"monitoring_service_address",type:"address"}],name:"firstBlockAllowedToMonitor",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"closing_participant",type:"address"},{internalType:"address",name:"non_closing_participant",type:"address"},{internalType:"bytes32",name:"balance_hash",type:"bytes32"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"bytes32",name:"additional_hash",type:"bytes32"},{internalType:"bytes",name:"closing_signature",type:"bytes"},{internalType:"bytes",name:"non_closing_signature",type:"bytes"},{internalType:"uint256",name:"reward_amount",type:"uint256"},{internalType:"address",name:"token_network_address",type:"address"},{internalType:"bytes",name:"reward_proof_signature",type:"bytes"}],name:"monitor",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"service_registry",outputs:[{internalType:"contract ServiceRegistry",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"token",outputs:[{internalType:"contract Token",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"token_network_registry",outputs:[{internalType:"contract TokenNetworkRegistry",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"user_deposit",outputs:[{internalType:"contract UserDeposit",name:"",type:"address"}],stateMutability:"view",type:"function"}];function O(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t,n){return t&&j(e.prototype,t),n&&j(e,n),e}var w=function(){function e(){O(this,e)}return g(e,null,[{key:"connect",value:function(e,t){return new r["a"](e,_,t)}}]),e}(),_=[{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"secrethash",type:"bytes32"},{indexed:!1,internalType:"bytes32",name:"secret",type:"bytes32"}],name:"SecretRevealed",type:"event"},{inputs:[{internalType:"bytes32",name:"secrethash",type:"bytes32"}],name:"getSecretRevealBlockHeight",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"secret",type:"bytes32"}],name:"registerSecret",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32[]",name:"secrets",type:"bytes32[]"}],name:"registerSecretBatch",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"}];function k(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function T(e,t,n){return t&&E(e.prototype,t),n&&E(e,n),e}var x=function(){function e(){k(this,e)}return T(e,null,[{key:"connect",value:function(e,t){return new r["a"](e,S,t)}}]),e}(),S=[{inputs:[{internalType:"address",name:"_token_for_registration",type:"address"},{internalType:"address",name:"_controller",type:"address"},{internalType:"uint256",name:"_initial_price",type:"uint256"},{internalType:"uint256",name:"_price_bump_numerator",type:"uint256"},{internalType:"uint256",name:"_price_bump_denominator",type:"uint256"},{internalType:"uint256",name:"_decay_constant",type:"uint256"},{internalType:"uint256",name:"_min_price",type:"uint256"},{internalType:"uint256",name:"_registration_duration",type:"uint256"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"service",type:"address"},{indexed:!1,internalType:"uint256",name:"valid_till",type:"uint256"},{indexed:!1,internalType:"uint256",name:"deposit_amount",type:"uint256"},{indexed:!1,internalType:"contract Deposit",name:"deposit_contract",type:"address"}],name:"RegisteredService",type:"event"},{inputs:[{internalType:"uint256",name:"_price_bump_numerator",type:"uint256"},{internalType:"uint256",name:"_price_bump_denominator",type:"uint256"},{internalType:"uint256",name:"_decay_constant",type:"uint256"},{internalType:"uint256",name:"_min_price",type:"uint256"},{internalType:"uint256",name:"_registration_duration",type:"uint256"}],name:"changeParameters",outputs:[{internalType:"bool",name:"_success",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"contract_address",type:"address"}],name:"contractExists",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"controller",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"currentPrice",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"decay_constant",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_set_price",type:"uint256"},{internalType:"uint256",name:"_seconds_passed",type:"uint256"}],name:"decayedPrice",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_limit_amount",type:"uint256"}],name:"deposit",outputs:[{internalType:"bool",name:"_success",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"deprecated",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"everMadeDepositsLen",outputs:[{internalType:"uint256",name:"_len",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"ever_made_deposits",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_address",type:"address"}],name:"hasValidRegistration",outputs:[{internalType:"bool",name:"_has_registration",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"min_price",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"price_bump_denominator",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"price_bump_numerator",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"registration_duration",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"service_valid_till",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"setDeprecationSwitch",outputs:[{internalType:"bool",name:"_success",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"new_url",type:"string"}],name:"setURL",outputs:[{internalType:"bool",name:"_success",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"set_price",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"set_price_at",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"token",outputs:[{internalType:"contract Token",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"urls",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"}];function A(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function P(e,t,n){return t&&N(e.prototype,t),n&&N(e,n),e}var D=function(){function e(){A(this,e)}return P(e,null,[{key:"connect",value:function(e,t){return new r["a"](e,R,t)}}]),e}(),R=[{inputs:[{internalType:"address",name:"_token_address",type:"address"},{internalType:"address",name:"_secret_registry",type:"address"},{internalType:"uint256",name:"_chain_id",type:"uint256"},{internalType:"uint256",name:"_settlement_timeout_min",type:"uint256"},{internalType:"uint256",name:"_settlement_timeout_max",type:"uint256"},{internalType:"address",name:"_deprecation_executor",type:"address"},{internalType:"uint256",name:"_channel_participant_deposit_limit",type:"uint256"},{internalType:"uint256",name:"_token_network_deposit_limit",type:"uint256"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"channel_identifier",type:"uint256"},{indexed:!0,internalType:"address",name:"closing_participant",type:"address"},{indexed:!0,internalType:"uint256",name:"nonce",type:"uint256"},{indexed:!1,internalType:"bytes32",name:"balance_hash",type:"bytes32"}],name:"ChannelClosed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"channel_identifier",type:"uint256"},{indexed:!0,internalType:"address",name:"participant",type:"address"},{indexed:!1,internalType:"uint256",name:"total_deposit",type:"uint256"}],name:"ChannelNewDeposit",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"channel_identifier",type:"uint256"},{indexed:!0,internalType:"address",name:"participant1",type:"address"},{indexed:!0,internalType:"address",name:"participant2",type:"address"},{indexed:!1,internalType:"uint256",name:"settle_timeout",type:"uint256"}],name:"ChannelOpened",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"channel_identifier",type:"uint256"},{indexed:!1,internalType:"uint256",name:"participant1_amount",type:"uint256"},{indexed:!1,internalType:"bytes32",name:"participant1_locksroot",type:"bytes32"},{indexed:!1,internalType:"uint256",name:"participant2_amount",type:"uint256"},{indexed:!1,internalType:"bytes32",name:"participant2_locksroot",type:"bytes32"}],name:"ChannelSettled",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"channel_identifier",type:"uint256"},{indexed:!0,internalType:"address",name:"receiver",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"},{indexed:!1,internalType:"bytes32",name:"locksroot",type:"bytes32"},{indexed:!1,internalType:"uint256",name:"unlocked_amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"returned_tokens",type:"uint256"}],name:"ChannelUnlocked",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"channel_identifier",type:"uint256"},{indexed:!0,internalType:"address",name:"participant",type:"address"},{indexed:!1,internalType:"uint256",name:"total_withdraw",type:"uint256"}],name:"ChannelWithdraw",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bool",name:"new_value",type:"bool"}],name:"DeprecationSwitch",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"channel_identifier",type:"uint256"},{indexed:!0,internalType:"address",name:"closing_participant",type:"address"},{indexed:!0,internalType:"uint256",name:"nonce",type:"uint256"},{indexed:!1,internalType:"bytes32",name:"balance_hash",type:"bytes32"}],name:"NonClosingBalanceProofUpdated",type:"event"},{inputs:[],name:"MAX_SAFE_UINT256",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"chain_id",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"channel_counter",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"channel_participant_deposit_limit",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"channels",outputs:[{internalType:"uint256",name:"settle_block_number",type:"uint256"},{internalType:"enum TokenNetwork.ChannelState",name:"state",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"channel_identifier",type:"uint256"},{internalType:"address",name:"non_closing_participant",type:"address"},{internalType:"address",name:"closing_participant",type:"address"},{internalType:"bytes32",name:"balance_hash",type:"bytes32"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"bytes32",name:"additional_hash",type:"bytes32"},{internalType:"bytes",name:"non_closing_signature",type:"bytes"},{internalType:"bytes",name:"closing_signature",type:"bytes"}],name:"closeChannel",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"contract_address",type:"address"}],name:"contractExists",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"deprecate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"deprecation_executor",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"participant",type:"address"},{internalType:"address",name:"partner",type:"address"}],name:"getChannelIdentifier",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"channel_identifier",type:"uint256"},{internalType:"address",name:"participant1",type:"address"},{internalType:"address",name:"participant2",type:"address"}],name:"getChannelInfo",outputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"enum TokenNetwork.ChannelState",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"channel_identifier",type:"uint256"},{internalType:"address",name:"participant",type:"address"},{internalType:"address",name:"partner",type:"address"}],name:"getChannelParticipantInfo",outputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bool",name:"",type:"bool"},{internalType:"bytes32",name:"",type:"bytes32"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes32",name:"",type:"bytes32"},{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"participant",type:"address"},{internalType:"address",name:"partner",type:"address"}],name:"getParticipantsHash",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"uint256",name:"channel_identifier",type:"uint256"},{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"receiver",type:"address"}],name:"getUnlockIdentifier",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"participant1",type:"address"},{internalType:"address",name:"participant2",type:"address"},{internalType:"uint256",name:"settle_timeout",type:"uint256"}],name:"openChannel",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"}],name:"participants_hash_to_channel_identifier",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"safety_deprecation_switch",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"secret_registry",outputs:[{internalType:"contract SecretRegistry",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"channel_identifier",type:"uint256"},{internalType:"address",name:"participant",type:"address"},{internalType:"uint256",name:"total_deposit",type:"uint256"},{internalType:"address",name:"partner",type:"address"}],name:"setTotalDeposit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"channel_identifier",type:"uint256"},{internalType:"address",name:"participant",type:"address"},{internalType:"uint256",name:"total_withdraw",type:"uint256"},{internalType:"uint256",name:"expiration_block",type:"uint256"},{internalType:"bytes",name:"participant_signature",type:"bytes"},{internalType:"bytes",name:"partner_signature",type:"bytes"}],name:"setTotalWithdraw",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"channel_identifier",type:"uint256"},{internalType:"address",name:"participant1",type:"address"},{internalType:"uint256",name:"participant1_transferred_amount",type:"uint256"},{internalType:"uint256",name:"participant1_locked_amount",type:"uint256"},{internalType:"bytes32",name:"participant1_locksroot",type:"bytes32"},{internalType:"address",name:"participant2",type:"address"},{internalType:"uint256",name:"participant2_transferred_amount",type:"uint256"},{internalType:"uint256",name:"participant2_locked_amount",type:"uint256"},{internalType:"bytes32",name:"participant2_locksroot",type:"bytes32"}],name:"settleChannel",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"channel_identifier",type:"uint256"},{components:[{internalType:"address",name:"participant",type:"address"},{internalType:"uint256",name:"transferred_amount",type:"uint256"},{internalType:"uint256",name:"locked_amount",type:"uint256"},{internalType:"bytes32",name:"locksroot",type:"bytes32"}],internalType:"struct TokenNetwork.SettleInput",name:"participant1_settlement",type:"tuple"},{components:[{internalType:"address",name:"participant",type:"address"},{internalType:"uint256",name:"transferred_amount",type:"uint256"},{internalType:"uint256",name:"locked_amount",type:"uint256"},{internalType:"bytes32",name:"locksroot",type:"bytes32"}],internalType:"struct TokenNetwork.SettleInput",name:"participant2_settlement",type:"tuple"}],name:"settleChannel2",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"settlement_timeout_max",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"settlement_timeout_min",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"signature_prefix",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"token",outputs:[{internalType:"contract Token",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"token_network_deposit_limit",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"channel_identifier",type:"uint256"},{internalType:"address",name:"receiver",type:"address"},{internalType:"address",name:"sender",type:"address"},{internalType:"bytes",name:"locks",type:"bytes"}],name:"unlock",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"channel_identifier",type:"uint256"},{internalType:"address",name:"closing_participant",type:"address"},{internalType:"address",name:"non_closing_participant",type:"address"},{internalType:"bytes32",name:"balance_hash",type:"bytes32"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"bytes32",name:"additional_hash",type:"bytes32"},{internalType:"bytes",name:"closing_signature",type:"bytes"},{internalType:"bytes",name:"non_closing_signature",type:"bytes"}],name:"updateNonClosingBalanceProof",outputs:[],stateMutability:"nonpayable",type:"function"}];function I(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function U(e,t,n){return t&&C(e.prototype,t),n&&C(e,n),e}var L=function(){function e(){I(this,e)}return U(e,null,[{key:"connect",value:function(e,t){return new r["a"](e,M,t)}}]),e}(),M=[{inputs:[{internalType:"address",name:"_secret_registry_address",type:"address"},{internalType:"uint256",name:"_chain_id",type:"uint256"},{internalType:"uint256",name:"_settlement_timeout_min",type:"uint256"},{internalType:"uint256",name:"_settlement_timeout_max",type:"uint256"},{internalType:"uint256",name:"_max_token_networks",type:"uint256"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"token_address",type:"address"},{indexed:!0,internalType:"address",name:"token_network_address",type:"address"}],name:"TokenNetworkCreated",type:"event"},{inputs:[],name:"chain_id",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"contract_address",type:"address"}],name:"contractExists",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_token_address",type:"address"},{internalType:"uint256",name:"_channel_participant_deposit_limit",type:"uint256"},{internalType:"uint256",name:"_token_network_deposit_limit",type:"uint256"}],name:"createERC20TokenNetwork",outputs:[{internalType:"address",name:"token_network_address",type:"address"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"deprecation_executor",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"max_token_networks",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"secret_registry_address",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"settlement_timeout_max",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"settlement_timeout_min",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"token_network_created",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"token_to_token_networks",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"}];function B(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function F(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function W(e,t,n){return t&&F(e.prototype,t),n&&F(e,n),e}var H=function(){function e(){B(this,e)}return W(e,null,[{key:"connect",value:function(e,t){return new r["a"](e,$,t)}}]),e}(),$=[{inputs:[{internalType:"address",name:"_token_address",type:"address"},{internalType:"uint256",name:"_whole_balance_limit",type:"uint256"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!1,internalType:"uint256",name:"newBalance",type:"uint256"}],name:"BalanceReduced",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"withdrawer",type:"address"},{indexed:!1,internalType:"uint256",name:"plannedBalance",type:"uint256"}],name:"WithdrawPlanned",type:"event"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"balances",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"contract_address",type:"address"}],name:"contractExists",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"beneficiary",type:"address"},{internalType:"uint256",name:"new_total_deposit",type:"uint256"}],name:"deposit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"effectiveBalance",outputs:[{internalType:"uint256",name:"remaining_balance",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_msc_address",type:"address"},{internalType:"address",name:"_one_to_n_address",type:"address"}],name:"init",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"msc_address",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"one_to_n_address",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"}],name:"planWithdraw",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"token",outputs:[{internalType:"contract Token",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"total_deposit",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"receiver",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"success",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"whole_balance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"whole_balance_limit",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"}],name:"withdraw",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"withdraw_delay",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"withdraw_plans",outputs:[{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"withdraw_block",type:"uint256"}],stateMutability:"view",type:"function"}]},edd4:function(e){e.exports=JSON.parse('{"disclaimer":{"paragraphs":["This is a Beta version of experimental open source software released as a test version under an MIT license and may contain errors and/or bugs. No guarantee or representation whatsoever is made regarding its suitability (or its use) for any purpose or regarding its compliance with any applicable laws and regulations. Use of the software is at your own risk and discretion and by using the software you warrant and represent that you have read this disclaimer, understand its contents, assume all risk related thereto and hereby release, waive, discharge and covenant not to hold liable Brainbot Labs Establishment or any of its officers, employees or affiliates from and for any direct or indirect damage resulting from the the software or the use thereof. Such to the extent as permissible by applicable laws and regulations."," Privacy warning: Please be aware, that by using the Raiden Client, among others your Ethereum address, channels, channel deposits, settlements and the Ethereum address of your channel counterparty will be stored on the Ethereum chain, i.e. on servers of Ethereum node operators and ergo are to a certain extent publicly available. The same might also be stored on systems of parties running Raiden nodes connected to the same token network. Data present in the Ethereum chain is very unlikely to be able to be changed, removed or deleted from the public arena."," Also be aware, that data on individual Raiden token transfers will be made available via the Matrix protocol to the recipient, intermediating nodes of a specific transfer as well as to the Matrix server operators, see Raiden Transport Specification."],"accept-checkbox":"I have read, understood and hereby accept the above disclaimer and privacy warning","persist-checkbox":"Don\'t display this message on start up","accept-button":"Accept"},"home":{"welcome":"Welcome to the Raiden dApp","connect-button":"Connect","disclaimer":"The Raiden dApp is a reference implementation of the Raiden Light Client SDK. It is work in progress and can only be used on Ethereum testnets.","getting-started":{"description":"Read the {0} for detailed information on how to use the Raiden dApp.","link-name":"getting started guide"},"connect-dialog":{"title":"Connect","raiden-account":"Generate Account & Key","description-raiden-account":"A Raiden Account will be generated.","description-web3-account":"You can use your Web3 account directly by enabling it in the settings menu.","no-provider":"No Web3 provider detected, please install e.g. MetaMask."}},"notifications":{"no-notifications":"No notifications","clear":"Clear","block-count-progress":"Blocks until confirmation: ","tx-reorged-failure-reason":"The transaction could not get confirmed due to a reorg of the blockchain!","tx-state-confirmed":"confirmed","tx-state-pending":"not confirmed yet","backup-state":{"icon":"notification_state_backup","title":"Backup your state!","description":"Backup your state to not risk losing funds","link":"Click here to go to the backup state menu"},"ms-balance-proof":{"title":"Balance proof submitted","description":"A monitoring service successfully submitted a balance proof for a channel claiming a reward of {reward} {symbol}. Service: {monitoringService}, Partner: {partner}, Transaction: {txHash}"},"no-receive":{"icon":"notification_receive","title":"Receiving transfers disabled","description":"Check configuration and/or UDC balance"},"withdrawal":{"success":{"title":"User Deposit Withdraw Planned","description":"A planned withdrawal of {amount} {symbol} was successfully completed withdrawing {withdrawal} {symbol}"},"failure":{"title":"User Deposit Withdrawal","description":"The planned withdrawal of {amount} {symbol} failed: {message}","descriptions":{"UDC_WITHDRAW_NO_BALANCE":"We could not complete the withdrawal of {amount} {symbol} because there was not enough balance.","UDC_WITHDRAW_FAILED":"We could not complete the withdrawal of {amount} {symbol} because the transaction failed."}}},"withdrawn":{"icon":"notification_withdrawn","title":"User Deposit Tokens Withdrawn","description":"{withdrawnAmount} {symbol} ({plannedAmount} planned) have been withdrawn from the user deposit contract.","link":"Click here to transfer them to your main acccount."},"settlement":{"icon":"notification_settle","success":{"title":"Channel Settlement","description":"Channel with {partner} was settled."},"failure":{"title":"Channel Settlement","description":"Channel settlement with {partner} failed."}},"channel-open":{"icon":"notification_channels","success":{"title":"Channel Open","description":"Open channel with {partner} is {state}."},"failure":{"title":"Channel Open Failure","description":"{reason}"}}},"general":{"buttons":{"cancel":"Cancel","transfer":"Transfer","continue":"Continue","confirm":"Confirm"},"offline":"Please connect to the internet.","raiden-account":"Raiden Account","main-account":"Main Account"},"account-content":{"account-details":"Account Details","address":"Address:","account":{"main":"Main ETH:","raiden":"Raiden ETH:"},"menu-items":{"settings":{"title":"Settings","subtitle":"Change how you interact with the dApp"},"backup-state":{"title":"Backup State","subtitle":"Download or upload your state"},"report-bugs":{"title":"Download Logs","subtitle":"Download your logs"},"raiden-account":{"title":"Transfer ETH","subtitle":"Transfer ETH between main and Raiden account"},"withdrawal":{"title":"Withdraw Tokens","subtitle":"Transfer tokens from your Raiden account to your main account"},"udc":{"title":"Manage UDC Tokens","subtitle":"Transfer tokens from or to your User Deposit Contract"}}},"withdrawal":{"title":"Transfer tokens to your main Ethereum account.","navigation-link-title":"For service tokens, make sure you withdrew them at the UDC screen first.","dialog":{"title":"Withdraw {0}","body":"You are about to withdraw {0} from your Raiden account.","progress":"Withdrawing...","button":"Confirm","no-eth":"Your Raiden account does not have sufficient ETH to withdraw."},"blockie-alt":"Token address blockie","no-tokens":"The Raiden account has no tokens"},"udc":{"balance":"User Deposit Contract Balance","balance-too-low":"Balance is too low for services. Deposit at least {minAmount} {tokenSymbol} to enable receiving.","withdrawal-header":"Withdrawal in progress","withdrawal":"Withdrawal","deposit":"Deposit","asterisk":"*","withdrawal-footnote":"Actual withdrawal amount might vary","withdrawal-planned":"The withdrawal from the user deposit has been planned. You will get notified when the withdrawal is complete.","information":{"no-withdrawal-in-progress":"No withdrawal in progress","pending-message":"Blocks remaining...","ready-message":"Readyãƒ»Tokens get claimed automatically"}},"backup-state":{"description":"The state holds all account information except the private key. You can backup your state to make sure the dApp is kept in sync when switching between browsers.","disabled-download":"Downloading the state is only possible when connected to the dApp","disabled-upload":"Uploading the state is only possible when the dApp is disconnected","download":"Download State","download-warning":"Downloading the state will force the dApp to shut down","download-button":"Download","upload":"Upload State and Connect","upload-drag-and-drop":"Drag and drop state file","upload-divider":"or","upload-button":"Browse files","upload-error":"Only one state file in valid JSON format can be uploaded"},"raiden-account":{"in-progress":"Transfer in progress","transfer-from-main-account":"Transfer ETH from Main Account to Raiden Account","transfer-from-raiden-account":"Transfer ETH from Raiden Account to Main Account"},"update":{"available":"A new version is available.","update":"Refresh"},"address-input":{"input":{"placeholder":"Address / ENS name"},"blockie-alt":"Selected token address blockie","error":{"invalid-address":"Enter a valid address or ENS name","no-checksum":"Please enter an address in checksum format. You can convert your address on https://ethsum.netlify.com","empty":"Enter an address or ENS name","ens-resolve-failed":"Please enter a resolvable ENS name","invalid-excluded-address":"Please enter a different address or ENS name. You can\'t use your own address or the address of the token network.","channel-not-open":"Please enter a hub address you have an open channel with.","target-offline":"Target is offline."}},"amount-input":{"input":{"hint":"Please enter an amount"},"error":{"empty":"Please enter an amount","too-many-decimals":"Please use only up to {decimals} decimals for this token","not-enough-funds":"Your maximum usable amount is {funds} {symbol}","zero":"Enter an amount larger than zero","invalid":"Please enter a valid amount"}},"address-display":{"copy":"Click to copy","copied":"Copied!"},"app-header":{"currency":"ETH"},"channel-actions":{"deposit":"Deposit","withdraw":"Withdraw","close":"Close","settle":"Settle"},"channel-deposit":{"buttons":{"confirm":"Deposit"},"input":{"label":"Amount"}},"channel-withdraw":{"buttons":{"confirm":"Withdraw"},"input":{"label":"Amount"},"dialog":{"label":"Withdraw","title":"Withdrawing Tokens","description":"Sign the transaction in MetaMask and close this dialogue to continue using the dApp."},"done":{"label":"Done","title":"Withdraw Successful","description":"Your tokens have been successfully withdrawn."}},"find-routes":{"hops":"Hops","price":"Price","sub-title":"Route(s) provided by {subdomain} including number of hops and estimated fee","error":{"title":"Oops, something went wrong"}},"stepper":{"steps":{"open":{"title":"Open","description":"You can deposit more tokens \\n or close the channel."},"closed":{"title":"Closed","description":"Please wait until your channel is settleable. \\nthis may take some time."},"settleable":{"title":"Settleable","description":"Settle your channel to transfer \\n your tokens back to your account."}}},"channels":{"open":{"header":"Open"},"closed":{"header":"Closed"},"settleable":{"header":"Settleable"},"snackbar-close":"Close","token-info":"{symbol} | {name}","title":"Channels on"},"channel-list":{"channel":{"blockie_alt":"Partner address blockie","state":"Capacity: {value} | State: {state}","close_dialog":{"title":"Close Channel","description":"Are you sure you want to close this channel? This action cannot be undone."},"settle_dialog":{"title":"Settle Channel","description":"Are you sure you want to settle the channel with hub {partner} for token {token}?"}},"messages":{"close":{"success":"Channel closed successfully","failure":"Channel close failed"},"deposit":{"success":"Deposit was successful","failure":"Deposit failed"},"withdraw":{"success":"Withdraw was successful","failure":"Withdraw failed"},"settle":{"success":"Channel settle was successful","failure":"Channel settle failed"}}},"confirmation":{"buttons":{"cancel":"Cancel","close":"Close","settle":"Settle"}},"confirmation-dialog":{"buttons":{"cancel":"Cancel","confirm":"Confirm"}},"error-screen":{"title":"Error"},"no-access":{"unsupported-network":"The current network is unsupported. Please choose a different network.","sdk-initialization-failure":"SDK initialization failed. Please check the console for more information.","rdn-state-migration":"Cannot replace state with older uploaded state.","generic-error":"A valid account could not be detected. Please make sure that your provider is unlocked and accessible."},"tokens":{"connected":{"header":"Connected Tokens"},"connect-new":"Connect new token","disconnect-dialog":{"header":"Disconnect token","confirmation-message":"This action will close all channels for the {symbol} token! {address}"},"leave-progress":{"label":"Disconnect","title":"Disconnecting from the token network","description":"Closing the channels"},"leave-done":{"label":"Done","title":"Disconnected from the token network","description":"All your channels were successfully closed"}},"application":{"privacy-policy":"Privacy Policy, Disclaimer & Imprint"},"udc-deposit-dialog":{"title":"Deposit to UDC","button":"Mint and deposit","button-main":"Deposit","uniswap-url-title":"Click here to purchase RDN","uniswap-url":"https://app.uniswap.org/#/swap?inputCurrency=ETH&outputCurrency={rdnToken}&exactAmount=10&exactField=outPUT&recipient={mainAccountAddress}","available-utility-token":"Available {utilityTokenSymbol} to deposit: {utilityTokenBalance}","available-eth":"Available ETH for on-chain transaction: {balance} {currency}","error":"The mint and deposit operation failed.","error-main":"The deposit operation failed.","progress":{"mint":"Minting {currency} tokens","approve":"Allow UDC to access {currency} tokens","deposit":"Deposit {currency} tokens to the UDC"}},"transfer":{"capacity-label":"Capacity","recipient-label":"Recipient","amount-label":"Amount","amount-placeholder":"Amount","error":{"button":"Dismiss","title":"Token transfer unsuccessful","deposit-title":"Deposit failed, please try again."},"transfer-menus":{"change-token-title":"Change Token","deposit-button":"Deposit","channel-button":"Channels","no-channels":"No open channels"},"transfer-inputs":{"title":"Transfer"},"no-channels-dialog":{"title":"No connected tokens and open channels","button":"Connect new token"},"steps":{"request-route":{"title":"Request Route","tooltip":"Mint and deposit {token} to the User Deposit Contract to pay for PFS requests","tooltip-main":"Deposit {token} to the User Deposit Contract to pay for PFS requests","udc-description":"Balance to pay the Pathfinding Service","udc-description-low-balance":"Your {token} token balance is too low to pay for the Pathfinding Service. Use the button above to mint and deposit more tokens.","in-progress":"Paying for the route request","searching-for-route":"Searching for route...","done":"Route request payment complete"},"select-route":{"title":"Select Route"},"confirm-transfer":{"title":"Confirm Transfer","total-amount":"Total Amount"},"call-to-action":{"1":{"default":"Transfer Route Request","amount":"Confirm PFS Fee of {amount} {symbol}"},"2":{"default":"Confirm Mediation Fees","amount":"Confirm Mediation Fee of {amount} {symbol}"},"3":{"amount":"Transfer {amount} {symbol}"}},"transfer":{"title":"Transferring Tokens"},"done":{"title":"Send Successful","description":"Your transfer was successful."},"deposit":{"label":"Deposit","title":"Depositing Tokens","description":"Sign the transaction in MetaMask and close this dialogue to continue using the dApp."},"deposit-done":{"label":"Done","title":"Deposit Successful","description":"Your tokens have been successfully deposited."},"summary":{"headline":"Summary","route-request":"Route Request","pfs":"Pathfinding Service","service-fee":"Service Fee","mediated-transfer":"Mediated Transfer","direct-transfer":"Direct Transfer","target":"Target","transfer-amount":"Transfer Amount","total-amount":"Total Amount","mediation-fee":"Mediation Fee","identifier":"Identifier","footnotes":{"one":"1","direct-transfer":"Route request and selection skipped, because you are performing a direct transfer.","route-selection-skipped":"Automatically skipped route selection, because there was only a single route with zero fees."}}}},"transfer-history":{"title":"History","sent-title":"Sent to","sent-symbol":"-","received-title":"Received from","received-symbol":"+","pending-transfer":"PENDING","successful-transfer":"CONFIRMED","failed-transfer":"FAILED"},"select-token":{"header":"Available Tokens"},"select-hub":{"select-button":"Select Hub","service-token-tooltip":"Mint and deposit {token} to the User Deposit Contract to pay for the Monitoring Service.","service-token-tooltip-main":"Deposit {token} to the User Deposit Contract to pay for the Monitoring Service.","service-token-balance-too-low":"Your {token} balance is too low to pay for the Monitoring Service. Use the button above to mint and deposit more tokens.","service-token-description":"Balance to pay the Monitoring Service"},"open-channel":{"error":{"title":"Ops, something went wrong","button":"Dismiss","deposit-failed":"Could not deposit to the channel.","open-failed":"Channel open failed."},"open-button":"Open Channel","hub":"Hub","steps":{"open":{"label":"Open","title":"Opening a new channel","description":"Please do not close the browser and confirm the transaction with MetaMask."},"transfer":{"label":"Transfer","title":"Transferring tokens to the network and deposit into the channel","description":"Please do not close the browser and confirm two (2) transactions with MetaMask."},"deposit":{"label":"Deposit","title":"Not implemented - split title above, when done","description":"Not implemented - split description above, when done"},"done":{"label":"Done","title":"New Channel opened","description":"A new channel was successfully opened. You can now start making transfers."}},"confirmation":"Channel opening is in progress, are you sure you want to leave?"},"token-information":{"title":"Token","description":"{symbol} | {name}","balance":"Balance"},"pathfinding-services":{"title":"Select Pathfinding Service","rtt":"{time} ms","headers":{"host":"Pathfinding Service","rtt":"Ping","price":"Price"}},"mint-dialog":{"title":"Mint {symbol}","description":"If you continue, you will get prompted by MetaMask to sign off a minting transaction. In order to mint tokens, you need test net ETH in your wallet."},"error-message":{"problem":"Problem:","solution":"Solution:"},"errors":{"RDN_GENERAL_ERROR":{"title":"An error occurred","problem":"We do not know this error, sorry.","solution":["Please help us and report the issue","Click on your identicon in the top right corner","Click on Report Bugs / Download logs","File a new issue on https://github.com/raiden-network/light-client","Upload logs to the issue"]},"RDN_MINT_FAILED":{"title":"Could not mint token","problem":"It looks like the Light Client does not support minting out-of-the-box for this token contract.","solution":"You may try to mint manually via MetaMask and Etherscan. You can find a step-by-step guide on https://github.com/raiden-network/light-client#minting-manually."},"PFS_UNKNOWN_TOKEN_NETWORK":{"title":"No open channels","problem":"You don\'t seem to have open channels on this token network.","solution":["Hit the â† button in the top left","Click on the current token network","Select Connect new token","Select the token you want to transfer","Proceed with the flow to open a new channel"]},"PFS_INVALID_INFO":{"title":"Couldn\'t understand Pathfinding Service","problem":"The Light Client has received a response from the Pathfinding Service that it couldn\'t understand. It\'s possible that the current Light Client version is out-of-sync with the Pathfinding Service.","solution":["Update the dApp by reloading the page","Attempt a new transfer","If the problem persists, please help us and report the issue","Click on your identicon in the top right corner","Click on Report Bugs / Download logs","File a new issue on https://github.com/raiden-network/light-client","Upload logs to the issue"]},"PFS_NO_ROUTES_FOUND":{"title":"No routes found","problem":"Pathfinding Service wasn\'t able to find a route in the Raiden Network to perform your transfer.","solution":"Make sure that you either have a direct channel with the target or that both of you are connected to a well-connected hub."},"PFS_ERROR_RESPONSE":{"title":"Pathfinding replied with an error","problem":"While communicating with the Pathfinding Service, you have received an error response that we don\'t actively handle yet.","solution":["Simply retry your last action","If the problem persists, please help us and report the issue","Click on your identicon in the top right corner","Click on Report Bugs / Download logs","File a new issue on https://github.com/raiden-network/light-client","Upload logs to the issue"]},"PFS_DISABLED":{"title":"Pathfinding Service disabled","problem":"You tried to find a route in the Raiden Network but Pathfinding was either disabled in your configuration or you did not select a valid Pathfinding Service.","solution":"Try to restart the Light Client by reloading the page and attempt a new transfer."},"PFS_TARGET_OFFLINE":{"title":"Target address is offline","problem":"You are trying to send tokens to an offline target.","solution":"Hit the â† button and verify that the address is online or choose a different target address."},"PFS_LAST_IOU_REQUEST_FAILED":{"title":"Error while depositing tokens for Pathfinding Service","problem":"While trying to deposit tokens for route requests, the Pathfinding Service returned an error.","solution":["This should happen very rarely, please retry to deposit","If the problem persists, please help us and report the issue","Click on your identicon in the top right corner","Click on Report Bugs / Download logs","File a new issue on https://github.com/raiden-network/light-client","Upload logs to the issue"]},"PFS_IOU_SIGNATURE_MISMATCH":{"title":"Error while depositing tokens for Pathfinding Service","problem":"While trying to deposit tokens for route requests, the Pathfinding Service encountered mismatching signatures.","solution":["This should happen very rarely, please retry to deposit","If the problem persists, please help us and report the issue","Click on your identicon in the top right corner","Click on Report Bugs / Download logs","File a new issue on https://github.com/raiden-network/light-client","Upload logs to the issue"]},"PFS_NO_ROUTES_BETWEEN_NODES":{"title":"No route between you and your target","problem":"The Pathfinding Service was not able to find a usable route between you and the target you want to transfer tokens to.","solution":["Hit the â† button in the top left","Click on the current token network","Select Connect new token","Select the token you want to transfer","Connect with a more popular hub, e.g. hub.raiden.eth. That way, Pathfinding Service is more likely to find a route between you and the target","Retry your transfer"]}},"versions":{"sdk":"Raiden SDK: {version}","contracts":"Raiden Contracts: {version}"},"scan":{"permission":{"title":"Grant Camera Access","description":"In order to scan QR codes, you will need to allow camera access."}},"progress-steps":{"transfer":{"PENDING":"Transfer sent","RECEIVED":"Transfer acknowledged by partner","REFUNDED":"Transfer refunded","CLOSED":"Channel closed early","REVEALED":"Secret revealed to target","UNLOCKING":"Unlock sent to partner","EXPIRING":"Lock expired","UNLOCKED":"Unlock acknowledged","EXPIRED":"Lock expired acknowledged","REQUESTED":"Secret requested by target","REGISTERED":"Secret registered on-chain"}},"settings":{"raiden-account":{"title":"Use Raiden Account","description":"By default the dApp uses a generated Raiden account to sign messages. Disable the Raiden account to use your Web3 provider account. All messages will then have to be signed manually."}},"token-list":{"item":{"blockie-alt":"Token address blockie","information-template":"{symbol} | {name}"}}}')},ee57:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("2111"),a=r["p"](r["v"]({userId:r["s"],accessToken:r["s"],deviceId:r["s"],displayName:r["s"]}))},ee6c:function(e,t,n){"use strict";n.d(t,"b",(function(){return D})),n.d(t,"f",(function(){return I})),n.d(t,"c",(function(){return C})),n.d(t,"d",(function(){return U})),n.d(t,"a",(function(){return M})),n.d(t,"e",(function(){return B}));var r=n("2111"),a=n("a91f"),o=n("98aa"),i=n("5a9d"),c=n.n(i),s=n("a32b");function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e){return d="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function p(e){return m(e)||h(e)||y(e)||b()}function b(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function y(e,t){if(e){if("string"===typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(e,t):void 0}}function h(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function m(e){if(Array.isArray(e))return v(e)}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function O(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t,n){return t&&j(e.prototype,t),n&&j(e,n),e}function w(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&N(e,t)}function _(e){var t=S();return function(){var n,r=P(e);if(t){var a=P(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return k(this,n)}}function k(e,t){return!t||"object"!==d(t)&&"function"!==typeof t?E(e):t}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function T(e){var t="function"===typeof Map?new Map:void 0;return T=function(e){if(null===e||!A(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return x(e,arguments,P(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),N(n,e)},T(e)}function x(e,t,n){return x=S()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var a=Function.bind.apply(e,r),o=new a;return n&&N(o,n.prototype),o},x.apply(null,arguments)}function S(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function A(e){return-1!==Function.toString.call(e).indexOf("[native code]")}function N(e,t){return N=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},N(e,t)}function P(e){return P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},P(e)}var D=s,R=r["r"](r["s"],r["x"]([r["s"],r["n"],r["e"],r["m"]])),I=["invalid response"],C=function(e){w(n,e);var t=_(n);function n(e){var r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return O(this,n),r=t.call(this,e),r.details=a,r.name="RaidenError",Object.setPrototypeOf(E(r),n.prototype),r}return g(n,[{key:"code",get:function(){var e,t=this;return null!==(e=c()(D,(function(e){return e===t.message})))&&void 0!==e?e:"RDN_GENERAL_ERROR"}}]),n}(T(Error));function U(e,t,n){if(!e)throw null===n||void 0===n||n("__assertion failed:",e,t),t instanceof Error?t:"function"===typeof t?t(e):Array.isArray(t)?x(C,p(t)):new C(null!==t&&void 0!==t?t:D.RDN_ASSERT_ERROR,{condition:e})}var L=r["j"]([r["v"]({name:r["s"]}),r["o"]({message:r["s"],stack:r["s"],details:R})]),M=new r["b"]("Error",(function(e){return"object"===d(e)&&!!e&&"name"in e&&"message"in e}),(function(e){return Object(o["pipe"])(L.decode(e),Object(a["map"])((function(e){return"details"in e?Object.assign(new C(e.message,e.details),{name:e.name,stack:e.stack}):Object.assign(new Error(e.message),{name:e.name,stack:e.stack})})))}),(function(e){return l({name:e.name,message:e.message,stack:e.stack},"details"in e?{details:e.details}:{})}));function B(e){return!("string"===typeof(null===e||void 0===e?void 0:e.message)&&I.some((function(t){return e.message.includes(t)})))}},ee79:function(e){e.exports=JSON.parse('{"contracts_version":null,"chain_id":1,"contracts":{"SecretRegistry":{"address":"0x70f0c29b946E63803BD0Be796E17E47138668A68","transaction_hash":"0xa5a2672315e336dde3b43f3c09a4d0dbc7a59a4fe84f0506ea3abb5025bf94fb","block_number":10095755,"gas_cost":247286,"constructor_arguments":[]},"TokenNetworkRegistry":{"address":"0x6d07A2ef8De5d7D48337510BCEb9FEEa5424b20c","transaction_hash":"0xfde25a57b5ce0c8fcb748d5ff5ba8464cfce022d6eea72b6374b07c1b5f27b14","block_number":10095771,"gas_cost":4001210,"constructor_arguments":["0x70f0c29b946E63803BD0Be796E17E47138668A68",1,100,500,2]}},"token_networks":[{"token_network_address":"0x5b606943b36F3569E00EC4178A9f83eea8730184","constructor_arguments":{"_token_address":"0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2","_secret_registry":"0x70f0c29b946E63803BD0Be796E17E47138668A68","_chain_id":1,"_settlement_timeout_min":100,"_settlement_timeout_max":500,"_deprecation_executor":"0xbBF11c2f66E1887681C902095CEfB1018C854c0f","_channel_participant_deposit_limit":4683182690956770000,"_token_network_deposit_limit":4.68318269095677e+21}},{"token_network_address":"0xEA92bD481e54BBB9Bb6C927970a54E82eE26c6B4","constructor_arguments":{"_token_address":"0x6B175474E89094C44Da98b954EedeAC495271d0F","_secret_registry":"0x70f0c29b946E63803BD0Be796E17E47138668A68","_chain_id":1,"_settlement_timeout_min":100,"_settlement_timeout_max":500,"_deprecation_executor":"0xbBF11c2f66E1887681C902095CEfB1018C854c0f","_channel_participant_deposit_limit":1e+21,"_token_network_deposit_limit":1e+24}}]}')},eed9:function(e,t,n){"use strict";n.r(t),n.d(t,"pathFind",(function(){return u})),n.d(t,"pfsListUpdated",(function(){return l})),n.d(t,"iouPersist",(function(){return f})),n.d(t,"iouClear",(function(){return d})),n.d(t,"udcDeposit",(function(){return p})),n.d(t,"udcWithdraw",(function(){return y})),n.d(t,"udcWithdrawn",(function(){return h})),n.d(t,"msBalanceProofSent",(function(){return m}));var r=n("2111"),a=n("d276"),o=n("ca14"),i=n("d011"),c=r["v"]({tokenNetwork:o["a"],target:o["a"],value:Object(o["j"])(32)}),s=r["v"]({tokenNetwork:o["a"],serviceAddress:o["a"]}),u=Object(a["c"])(c,"path/find/request","path/find/success","path/find/failure",r["o"]({paths:i["e"],pfs:r["x"]([i["c"],r["m"]])}),r["v"]({paths:i["e"]})),l=Object(a["b"])("pfs/list/updated",r["v"]({pfsList:r["q"](o["a"])})),f=Object(a["b"])("iou/persist",r["v"]({iou:Object(o["h"])(i["a"])}),s),d=Object(a["b"])("iou/clear",void 0,s),p=Object(a["c"])(r["v"]({totalDeposit:Object(o["j"])(32)}),"udc/deposit/request","udc/deposit/success","udc/deposit/failure",r["j"]([r["v"]({deposit:Object(o["j"])(32)}),r["o"]({subkey:r["e"]})]),r["x"]([r["v"]({balance:Object(o["j"])(32)}),r["v"]({balance:Object(o["j"])(32),txHash:o["c"],txBlock:r["n"],confirmed:r["x"]([r["w"],r["e"]])})])),b=r["v"]({amount:Object(o["j"])(32)}),y=Object(a["c"])(b,"udc/withdraw/request","udc/withdraw/success","udc/withdraw/failure",r["w"],r["j"]([r["v"]({block:r["n"]}),r["o"]({txHash:o["c"],txBlock:r["n"],confirmed:r["x"]([r["w"],r["e"]])})])),h=Object(a["b"])("udc/withdrawn",r["v"]({withdrawal:Object(o["j"])(32),txHash:o["c"],txBlock:r["n"],confirmed:r["x"]([r["w"],r["e"]])}),b),m=Object(a["b"])("ms/balanceProof/sent",r["v"]({tokenNetwork:o["a"],partner:o["a"],id:r["n"],reward:Object(o["j"])(32),nonce:Object(o["j"])(8),monitoringService:o["a"],txHash:o["c"],txBlock:r["n"],confirmed:r["x"]([r["w"],r["e"]])}))},f265:function(e,t,n){},f2df:function(e,t,n){"use strict";var r=n("ee6c");n.d(t,"a",(function(){return r["d"]}))},f455:function(e,t,n){"use strict";var r=n("d0dd");n.d(t,"e",(function(){return r["a"]}));n("65e1"),n("1a78");var a=n("b8ff");n.d(t,"b",(function(){return a["b"]}));n("5bbb");var o=n("2b5b");n.d(t,"a",(function(){return o["a"]}));var i=n("05eb");n.d(t,"d",(function(){return i["a"]}));n("ca14");var c=n("ee6c");n.d(t,"c",(function(){return c["b"]})),n.d(t,"f",(function(){return c["c"]}));var s=n("1b23");n.d(t,"g",(function(){return s["b"]}))},f5be:function(e,t,n){"use strict";n.d(t,"d",(function(){return k})),n.d(t,"c",(function(){return E})),n.d(t,"b",(function(){return x})),n.d(t,"a",(function(){return N}));var r=n("2111"),a=n("a91f"),o=n("0128"),i=n.n(o),c=n("d2a5"),s=n.n(c),u=n("6298"),l=n.n(u),f=n("2b5b"),d=n("5bbb"),p=n("d276"),b=n("ee6c"),y=n("ca14"),h=n("f799"),m=n("d890"),v=n("8173"),O=n("83ee"),j=n("eed9");function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var k=Object(p["b"])("raiden/shutdown",r["v"]({reason:r["x"]([r["l"](f["d"].STOP),r["l"](f["d"].ACCOUNT_CHANGED),r["l"](f["d"].NETWORK_CHANGED),b["a"]])})),E=Object(p["b"])("raiden/config/update",d["a"]),T=w(w(w(w(w({raidenShutdown:k,raidenConfigUpdate:E},h),m),v),O),j),x=[T.raidenShutdown,T.newBlock,T.matrixPresence.success,T.tokenMonitored,T.udcWithdraw.success,T.udcWithdraw.failure,T.udcWithdrawn,T.msBalanceProofSent,T.channelSettle.success,T.channelSettle.failure,T.channelOpen.success,T.channelOpen.failure],S=l()(T,(function(e,t){return w(w({},e),"type"in t?_({},t.type,t):i()(t,s()("type")))}),{}),A=r["p"](r["v"]({type:r["s"],payload:r["p"](r["v"]({txHash:y["c"],txBlock:r["n"],confirmed:r["x"]([r["w"],r["e"]])}))})),N=new r["b"]("ConfirmableAction",A.is,(function(e,t){return a["either"].chain(A.validate(e,t),(function(e){var n=e.type;return n in S?S[n].codec.validate(e,t):r["h"](e,t)}))}),(function(e){return S[e.type].codec.encode(e)}))},f718:function(e,t,n){},f799:function(e,t,n){"use strict";n.r(t),n.d(t,"newBlock",(function(){return s})),n.d(t,"tokenMonitored",(function(){return u})),n.d(t,"channelOpen",(function(){return l})),n.d(t,"channelMonitored",(function(){return f})),n.d(t,"channelDeposit",(function(){return d})),n.d(t,"channelWithdrawn",(function(){return p})),n.d(t,"channelClose",(function(){return b})),n.d(t,"channelSettleable",(function(){return y})),n.d(t,"channelSettle",(function(){return h}));var r=n("2111"),a=n("d276"),o=n("ca14"),i=n("9201"),c=r["v"]({tokenNetwork:o["a"],partner:o["a"]}),s=Object(a["b"])("block/new",r["v"]({blockNumber:r["n"]})),u=Object(a["b"])("token/monitored",r["j"]([r["v"]({token:o["a"],tokenNetwork:o["a"]}),r["o"]({fromBlock:r["n"],toBlock:r["n"]})])),l=Object(a["c"])(c,"channel/open/request","channel/open/success","channel/open/failed",r["o"]({settleTimeout:r["n"],subkey:r["e"],deposit:Object(o["j"])(32)}),r["v"]({id:r["n"],token:o["a"],settleTimeout:r["n"],isFirstParticipant:r["e"],txHash:o["c"],txBlock:r["n"],confirmed:r["x"]([r["w"],r["e"]])})),f=Object(a["b"])("channel/monitored",r["v"]({id:r["n"]}),c),d=Object(a["c"])(c,"channel/deposit/request","channel/deposit/success","channel/deposit/failure",r["j"]([r["v"]({deposit:Object(o["j"])(32)}),r["o"]({subkey:r["e"],waitOpen:r["l"](!0)})]),r["v"]({id:r["n"],participant:o["a"],totalDeposit:Object(o["j"])(32),txHash:o["c"],txBlock:r["n"],confirmed:r["x"]([r["w"],r["e"]])})),p=Object(a["b"])("channel/withdraw/success",r["v"]({id:r["n"],participant:o["a"],totalWithdraw:Object(o["j"])(32),txHash:o["c"],txBlock:r["n"],confirmed:r["x"]([r["w"],r["e"]])}),c),b=Object(a["c"])(c,"channel/close/request","channel/close/success","channel/close/failure",r["x"]([r["o"]({subkey:r["e"]}),r["w"]]),r["v"]({id:r["n"],participant:o["a"],txHash:o["c"],txBlock:r["n"],confirmed:r["x"]([r["w"],r["e"]])})),y=Object(a["b"])("channel/settleable",r["v"]({settleableBlock:r["n"]}),c),h=Object(a["c"])(c,"channel/settle/request","channel/settle/success","channel/settle/failure",r["x"]([r["o"]({subkey:r["e"]}),r["w"]]),r["j"]([r["v"]({id:r["n"],txHash:o["c"],txBlock:r["n"],confirmed:r["x"]([r["w"],r["e"]])}),r["o"]({locks:r["q"](i["d"])})]))}});