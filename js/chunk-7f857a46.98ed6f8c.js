(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7f857a46"],{"03af":function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"amount-display",class:{"amount-display--inline":t.inline,"amount-display--full-width":t.fullWidth},on:{mouseover:function(e){t.exactAmount&&(t.displayExactAmount=!0)},mouseleave:function(e){t.exactAmount&&(t.displayExactAmount=!1)}}},[t.showLabel?n("span",{staticClass:"amount-display__label"},[t._v(" "+t._s(t.label)+" ")]):t._e(),t._t("default",(function(){return[n("span",{staticClass:"amount-display__formatted-amount",class:{"amount-display__formatted-amount--warning":t.warning}},[t._v(" "+t._s(t.formattedAmount)+" ")])]}))],2)},o=[],i=n("6dbe"),a=n("c00b"),c=n("5cf9"),u=n("0f75");function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function d(t,e,n){return e&&f(t.prototype,e),n&&f(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function p(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(t,"prototype",{value:Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),writable:!1}),e&&y(t,e)}function y(t,e){return y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},y(t,e)}function b(t){var e=m();return function(){var n,r=w(t);if(e){var o=w(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h(this,n)}}function h(t,e){if(e&&("object"===s(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return v(t)}function v(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function m(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function w(t){return w=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},w(t)}var O=function(t){p(n,t);var e=b(n);function n(){var t;return l(this,n),t=e.apply(this,arguments),t.displayExactAmount=!1,t}return d(n,[{key:"showLabel",get:function(){return void 0!==this.label}},{key:"exactAmountValue",get:function(){var t=a["a"].from(this.amount);return u["a"].toUnits(t,this.token.decimals)}},{key:"roundedAmountValue",get:function(){var t=a["a"].from(this.amount);return u["a"].displayFormat(t,this.token.decimals)}},{key:"formattedAmount",get:function(){var t=this.sign;return t+=this.displayExactAmount?this.exactAmountValue:this.roundedAmountValue,t+=" "+this.token.symbol,t}}]),n}(c["g"]);Object(i["f"])([Object(c["e"])({required:!1,default:!1,type:Boolean})],O.prototype,"exactAmount",void 0),Object(i["f"])([Object(c["e"])({type:String,required:!1})],O.prototype,"label",void 0),Object(i["f"])([Object(c["e"])({required:!0})],O.prototype,"amount",void 0),Object(i["f"])([Object(c["e"])({type:String,default:""})],O.prototype,"sign",void 0),Object(i["f"])([Object(c["e"])({required:!0})],O.prototype,"token",void 0),Object(i["f"])([Object(c["e"])({required:!1,default:!1,type:Boolean})],O.prototype,"inline",void 0),Object(i["f"])([Object(c["e"])({type:Boolean,default:!1})],O.prototype,"fullWidth",void 0),Object(i["f"])([Object(c["e"])({type:Boolean,default:!1})],O.prototype,"warning",void 0),O=Object(i["f"])([c["a"]],O);var g=O,_=g,j=(n("b106"),n("a6c2")),k=Object(j["a"])(_,r,o,!1,null,"97172a00",null);e["a"]=k.exports},"0bed":function(t,e,n){},"0feb":function(t,e,n){},"2e1f":function(t,e,n){t.exports=n.p+"img/done.51f3a970.svg"},"4c07":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"udc",attrs:{"data-cy":"udc"}},[r("div",{staticClass:"udc__content-box"},[r("amount-display",{staticClass:"udc__amount",attrs:{amount:t.udcCapacity,token:t.udcToken}}),r("div",[t._v(" "+t._s(t._f("upperCase")(t.$t("udc.balance")))+" ")]),t.hasEnoughServiceTokens?t._e():r("div",{staticClass:"udc__content-box udc__content-box--nested"},[r("v-icon",{attrs:{color:"#84878A",size:"16px"}},[t._v("mdi-alert-outline")]),r("span",[t._v(" "+t._s(t.$t("udc.balance-too-low",{minAmount:t.minAmount,tokenSymbol:t.serviceTokenSymbol}))+" ")])],1)],1),r("div",{staticClass:"udc__actions"},[r("div",{staticClass:"udc__actions__button",attrs:{"data-cy":"udc__actions__button__deposit"},on:{click:function(e){t.showUdcDeposit=!0}}},[r("img",{attrs:{src:n("61c2")}}),t._v(" "+t._s(t.$t("udc.deposit"))+" ")]),r("div",{staticClass:"udc__actions__button",attrs:{"data-cy":"udc__actions__button__withdrawal"},on:{click:function(e){t.withdrawFromUdc=!0}}},[r("img",{attrs:{src:n("ddf9")}}),t._v(" "+t._s(t.$t("udc.withdrawal"))+" ")])]),r("div",{staticClass:"udc__content-box"},[r("div",{staticClass:"udc__content-box__header"},[t._v(" "+t._s(t.$t("udc.withdrawal-header"))+" ")]),r("planned-udc-withdrawal-information",{attrs:{"planned-withdrawal":t.plannedUdcWithdrawal,"udc-token":t.udcToken,"block-number":t.blockNumber}})],1),r("udc-deposit-dialog",{attrs:{visible:t.showUdcDeposit},on:{cancel:function(e){t.showUdcDeposit=!1},done:function(e){return t.mintDone()}}}),r("udc-withdrawal-dialog",{attrs:{visible:t.withdrawFromUdc,"account-balance":t.relevantEthBalanceForWithdrawal,token:t.udcToken,capacity:t.udcCapacity},on:{cancel:function(e){t.withdrawFromUdc=!1}}})],1)},o=[],i=n("36d8"),a=n.n(i),c=n("6dbe"),u=n("fbcd"),s=n("5cf9"),l=n("94ea"),f=n("f455"),d=n("750b"),p=n("03af"),y=n("7688"),b=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("raiden-dialog",{staticClass:"udc-withdrawal-dialog",attrs:{visible:t.visible,"data-cy":"udc-withdrawal-dialog"},on:{close:t.cancel}},[r("v-card-title",[t._v(t._s(t.$t("udc.withdrawal")))]),r("v-card-text",[t.inProgress?r("spinner",{staticClass:"udc-withdrawal-dialog__progress"}):t.error?r("error-message",{attrs:{error:t.error}}):t.isDone?[r("v-img",{staticClass:"udc-withdrawal-dialog__done my-4",attrs:{src:n("2e1f")}}),r("span",[t._v(t._s(t.$t("udc.withdrawal-planned")))])]:[r("amount-input",{staticClass:"udc-withdrawal-dialog__amount",attrs:{"data-cy":"udc-withdrawal-dialog__amount",token:t.tokenWithAsteriskAtSymbol,placeholder:t.$t("transfer.amount-placeholder"),autofocus:""},model:{value:t.amount,callback:function(e){t.amount=e},expression:"amount"}}),r("div",{staticClass:"udc-withdrawal-dialog__available-eth",class:{"udc-withdrawal-dialog__available-eth--too-low":t.accountBalanceTooLow}},[t._v(" "+t._s(t._f("upperCase")(t.$t("udc-deposit-dialog.available-eth",{balance:t.accountBalance,currency:t.$t("app-header.currency")})))+" ")])]],2),t.error||t.isDone?t._e():r("v-card-actions",{staticClass:"flex-column"},[r("action-button",{staticClass:"udc-withdrawal-dialog__button",attrs:{"data-cy":"udc-withdrawal-dialog__button",enabled:t.isValid&&!t.accountBalanceTooLow,text:t.$t("general.buttons.confirm"),"full-width":""},on:{click:t.planWithdraw}}),t.error?t._e():r("span",{staticClass:"mt-2"},[r("sup",[t._v(t._s(t.$t("udc.asterisk")))]),t._v(" "+t._s(t.$t("udc.withdrawal-footnote"))+" ")])],1)],1)},h=[],v=n("dbe0"),m=n("66bc"),w=n("8e27"),O=n("0527"),g=n("a3d5");function _(t){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_(t)}function j(t,e,n,r,o,i,a){try{var c=t[i](a),u=c.value}catch(s){return void n(s)}c.done?e(u):Promise.resolve(u).then(r,o)}function k(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){j(i,r,o,a,c,"next",t)}function c(t){j(i,r,o,a,c,"throw",t)}a(void 0)}))}}function P(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function x(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?P(Object(n),!0).forEach((function(e){C(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function C(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function T(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function S(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function D(t,e,n){return e&&S(t.prototype,e),n&&S(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function E(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(t,"prototype",{value:Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),writable:!1}),e&&A(t,e)}function A(t,e){return A=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},A(t,e)}function R(t){var e=$();return function(){var n,r=W(t);if(e){var o=W(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return B(this,n)}}function B(t,e){if(e&&("object"===_(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return U(t)}function U(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function W(t){return W=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},W(t)}var N=function(t){E(n,t);var e=R(n);function n(){var t;return T(this,n),t=e.apply(this,arguments),t.amount="0",t.inProgress=!1,t.error=null,t.isDone=!1,t}return D(n,[{key:"done",value:function(){var t=this;this.isDone=!0,setTimeout((function(){t.isDone=!1,t.cancel()}),5e3)}},{key:"accountBalanceTooLow",get:function(){return g["a"].parse(this.accountBalance,18).lte(u["a"].Zero)}},{key:"tokenWithAsteriskAtSymbol",get:function(){return x(x({},this.token),{},{symbol:this.token.symbol+"*"})}},{key:"withdrawAmount",get:function(){var t;try{t=u["c"].parseUnits(this.amount,this.token.decimals)}catch(e){t=u["a"].Zero}return t}},{key:"isValid",get:function(){if(this.inProgress)return!1;var t=this.withdrawAmount;return t.gt(u["a"].Zero)&&t.lte(this.capacity)}},{key:"planWithdraw",value:function(){var t=k(a.a.mark((function t(){return a.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.inProgress=!0,t.prev=1,t.next=4,this.$raiden.planUDCWithdraw(this.withdrawAmount);case 4:this.done(),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](1),this.error=t.t0;case 10:return t.prev=10,this.inProgress=!1,t.finish(10);case 13:case"end":return t.stop()}}),t,this,[[1,7,10,13]])})));function e(){return t.apply(this,arguments)}return e}()},{key:"cancel",value:function(){this.isDone=!1,this.inProgress=!1,this.error=null,this.amount="0"}}]),n}(s["g"]);Object(c["f"])([Object(s["e"])({required:!0,type:Boolean})],N.prototype,"visible",void 0),Object(c["f"])([Object(s["e"])({required:!0,type:String})],N.prototype,"accountBalance",void 0),Object(c["f"])([Object(s["e"])({required:!0})],N.prototype,"token",void 0),Object(c["f"])([Object(s["e"])({required:!0})],N.prototype,"capacity",void 0),Object(c["f"])([Object(s["b"])()],N.prototype,"cancel",null),N=Object(c["f"])([Object(s["a"])({components:{ErrorMessage:w["a"],RaidenDialog:m["a"],AmountInput:v["a"],ActionButton:d["a"],Spinner:O["a"]},computed:x({},Object(l["e"])("userDepositContract",{udcToken:"token"}))})],N);var V=N,I=V,q=(n("72e4"),n("a6c2")),F=n("411c"),L=n.n(F),M=n("e47e"),Z=n("1331"),J=Object(q["a"])(I,b,h,!1,null,"4cce3ecf",null),z=J.exports;L()(J,{VCardActions:M["a"],VCardText:M["c"],VCardTitle:M["d"],VImg:Z["a"]});var H=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"planned-udc-withdrawal-information d-flex justify-center align-center px-2",class:{"planned-udc-withdrawal-information--no-progress":t.noWithdrawInProgress,"planned-udc-withdrawal-information--pending":t.isPending,"planned-udc-withdrawal-information--ready":t.isReady}},[t.noWithdrawInProgress?[t._v(" "+t._s(t._f("upperCase")(t.$t("udc.information.no-withdrawal-in-progress")))+" ")]:[r("img",{staticClass:"planned-udc-withdrawal-information__status-icon mr-2",attrs:{src:n("52b61")("./status-icon-"+t.statusIconName+".svg"),width:"13px",height:"13px"}}),r("amount-display",{staticClass:"planned-udc-withdrawal-information__amount",attrs:{token:t.udcToken,amount:t.plannedWithdrawal.amount}}),r("v-spacer"),t.isPending?r("span",{staticClass:"planned-udc-withdrawal-information__message"},[t._v(" "+t._s(t.remainingBlocksUntilReady)+" "+t._s(t._f("upperCase")(t.$t("udc.information.pending-message")))+" ")]):t._e(),t.isReady?r("span",{staticClass:"planned-udc-withdrawal-information__message"},[t._v(" "+t._s(t._f("upperCase")(t.$t("udc.information.ready-message")))+" ")]):t._e()]],2)},G=[],K=n("152b");function Q(t){return Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Q(t)}function X(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Y(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function tt(t,e,n){return e&&Y(t.prototype,e),n&&Y(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function et(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(t,"prototype",{value:Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),writable:!1}),e&&nt(t,e)}function nt(t,e){return nt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},nt(t,e)}function rt(t){var e=at();return function(){var n,r=ct(t);if(e){var o=ct(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ot(this,n)}}function ot(t,e){if(e&&("object"===Q(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return it(t)}function it(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function at(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function ct(t){return ct=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ct(t)}var ut=function(t){et(n,t);var e=rt(n);function n(){var t;return X(this,n),t=e.apply(this,arguments),t.assetSourceDirectory="@/assets/planned-udc-withdrawal",t}return tt(n,[{key:"noWithdrawInProgress",get:function(){return void 0===this.plannedWithdrawal}},{key:"isPending",get:function(){return void 0!==this.plannedWithdrawal&&this.remainingBlocksUntilReady>0}},{key:"isReady",get:function(){return void 0!==this.plannedWithdrawal&&this.remainingBlocksUntilReady<=0}},{key:"remainingBlocksUntilReady",get:function(){return void 0!==this.plannedWithdrawal?this.plannedWithdrawal.withdrawBlock-this.blockNumber:0}},{key:"statusIconName",get:function(){return this.isReady?"ready":this.isPending?"pending":""}}]),n}(K["a"]);Object(c["f"])([Object(s["e"])()],ut.prototype,"plannedWithdrawal",void 0),Object(c["f"])([Object(s["e"])({required:!0})],ut.prototype,"udcToken",void 0),Object(c["f"])([Object(s["e"])({required:!0})],ut.prototype,"blockNumber",void 0),ut=Object(c["f"])([Object(s["a"])({components:{AmountDisplay:p["a"]}})],ut);var st=ut,lt=st,ft=(n("e986"),n("61ac")),dt=Object(q["a"])(lt,H,G,!1,null,null,null),pt=dt.exports;function yt(t){return yt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yt(t)}function bt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ht(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?bt(Object(n),!0).forEach((function(e){vt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function vt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mt(t,e,n,r,o,i,a){try{var c=t[i](a),u=c.value}catch(s){return void n(s)}c.done?e(u):Promise.resolve(u).then(r,o)}function wt(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){mt(i,r,o,a,c,"next",t)}function c(t){mt(i,r,o,a,c,"throw",t)}a(void 0)}))}}function Ot(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _t(t,e,n){return e&&gt(t.prototype,e),n&&gt(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function jt(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(t,"prototype",{value:Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),writable:!1}),e&&kt(t,e)}function kt(t,e){return kt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},kt(t,e)}function Pt(t){var e=Tt();return function(){var n,r=St(t);if(e){var o=St(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return xt(this,n)}}function xt(t,e){if(e&&("object"===yt(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Ct(t)}function Ct(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Tt(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function St(t){return St=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},St(t)}L()(dt,{VSpacer:ft["a"]});var Dt=Object(l["a"])("userSettings"),Et=Dt.mapState,At=Object(l["a"])("userDepositContract"),Rt=At.mapState,Bt=10,Ut=function(t){jt(n,t);var e=Pt(n);function n(){var t;return Ot(this,n),t=e.apply(this,arguments),t.amount=u["c"].formatEther(f["c"].mul(2)),t.minAmount=+u["c"].formatEther(f["c"].add(f["c"].mul(Bt).div(100))),t.udcCapacity=u["a"].Zero,t.hasEnoughServiceTokens=!1,t.showUdcDeposit=!1,t.withdrawFromUdc=!1,t}return _t(n,[{key:"serviceTokenSymbol",get:function(){var t;return null!==(t=this.udcToken.symbol)&&void 0!==t?t:this.mainnet?"RDN":"SVT"}},{key:"relevantEthBalanceForWithdrawal",get:function(){return this.useRaidenAccount?this.raidenAccountBalance:this.accountBalance}},{key:"mounted",value:function(){var t=wt(a.a.mark((function t(){return a.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.updateUDCCapacity();case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"updateUDCCapacity",value:function(){var t=wt(a.a.mark((function t(){var e;return a.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=this.$raiden.monitoringReward,t.next=3,this.$raiden.getUDCCapacity();case 3:this.udcCapacity=t.sent,this.hasEnoughServiceTokens=!(!e||!this.udcCapacity.gte(e));case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"mintDone",value:function(){var t=wt(a.a.mark((function t(){return a.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.showUdcDeposit=!1,t.next=3,this.updateUDCCapacity();case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}]),n}(s["g"]);Ut=Object(c["f"])([Object(s["a"])({components:{ActionButton:d["a"],UdcDepositDialog:y["a"],UdcWithdrawalDialog:z,AmountDisplay:p["a"],ErrorMessage:w["a"],Spinner:O["a"],PlannedUdcWithdrawalInformation:pt},computed:ht(ht(ht(ht({},Object(l["e"])(["blockNumber","accountBalance","raidenAccountBalance"])),Et(["useRaidenAccount"])),Rt({udcToken:"token",plannedUdcWithdrawal:"plannedWithdrawal"})),Object(l["c"])(["mainnet"]))})],Ut);var $t=Ut,Wt=$t,Nt=(n("de935"),n("b503")),Vt=Object(q["a"])(Wt,r,o,!1,null,"a9ebbb4a",null);e["default"]=Vt.exports;L()(Vt,{VIcon:Nt["a"]})},"52b61":function(t,e,n){var r={"./status-icon-pending.svg":"ebff","./status-icon-ready.svg":"5549"};function o(t){var e=i(t);return n(e)}function i(t){if(!n.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}o.keys=function(){return Object.keys(r)},o.resolve=i,t.exports=o,o.id="52b61"},5549:function(t,e,n){t.exports=n.p+"img/status-icon-ready.5a7696c1.svg"},"61ac":function(t,e,n){"use strict";n("f0bf");var r=n("bc63");e["a"]=Object(r["i"])("spacer","div","v-spacer")},"61c2":function(t,e,n){t.exports=n.p+"img/icon-deposit.83f3ca48.svg"},"6aa7":function(t,e,n){},"72e4":function(t,e,n){"use strict";n("0feb")},7688:function(t,e,n){"use strict";var r,o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("raiden-dialog",{attrs:{visible:t.visible},on:{close:t.cancel}},[t.error?t._e():n("v-card-title",[t._v(" "+t._s(t.$t("udc-deposit-dialog.title"))+" ")]),t.error?t._e():n("v-card-subtitle",{staticClass:"udc-deposit-dialog__balance"},[t._v(" "+t._s(t.$t("udc-deposit-dialog.available-utility-token",{utilityTokenSymbol:t.udcToken.symbol,utilityTokenBalance:t.utilityTokenBalance}))+" ")]),n("v-card-text",[t.loading||t.error?t.error?n("error-message",{attrs:{error:t.error}}):n("div",{staticClass:"udc-deposit-dialog--progress"},[n("spinner"),t.currentStepDescription?n("span",[t._v(" "+t._s(t.currentStepDescription)+" ")]):t._e()],1):n("amount-input",{attrs:{token:t.udcToken,placeholder:t.$t("transfer.amount-placeholder")},model:{value:t.defaultUtilityTokenAmount,callback:function(e){t.defaultUtilityTokenAmount=e},expression:"defaultUtilityTokenAmount"}}),!t.mainnet||t.loading||t.error?t._e():n("a",{staticClass:"udc-deposit-dialog--uniswap-url",attrs:{href:t.uniswapURL,target:"_blank"}},[t._v(" "+t._s(t.$t("udc-deposit-dialog.uniswap-url-title"))+" ")])],1),t.error?t._e():n("v-card-actions",[n("action-button",{staticClass:"udc-deposit-dialog__action",attrs:{arrow:"","full-width":"",enabled:t.valid&&!t.loading,text:t.$t(t.mainnet?"udc-deposit-dialog.button-main":"udc-deposit-dialog.button"),"data-cy":"udc_deposit_dialog_action"},on:{click:function(e){return t.udcDeposit()}}})],1)],1)},i=[],a=n("36d8"),c=n.n(a),u=n("6dbe"),s=n("fbcd"),l=n("5cf9"),f=n("94ea"),d=n("f455"),p=n("750b"),y=n("dbe0"),b=n("66bc"),h=n("8e27"),v=n("0527"),m=n("0f75"),w=n("a3d5");function O(t){return O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},O(t)}function g(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function _(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?g(Object(n),!0).forEach((function(e){j(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function j(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function k(t,e,n,r,o,i,a){try{var c=t[i](a),u=c.value}catch(s){return void n(s)}c.done?e(u):Promise.resolve(u).then(r,o)}function P(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){k(i,r,o,a,c,"next",t)}function c(t){k(i,r,o,a,c,"throw",t)}a(void 0)}))}}function x(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function C(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function T(t,e,n){return e&&C(t.prototype,e),n&&C(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function S(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(t,"prototype",{value:Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),writable:!1}),e&&D(t,e)}function D(t,e){return D=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},D(t,e)}function E(t){var e=B();return function(){var n,r=U(t);if(e){var o=U(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return A(this,n)}}function A(t,e){if(e&&("object"===O(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return R(t)}function R(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function B(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function U(t){return U=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},U(t)}(function(t){t["MINT"]="mint",t["APPROVE"]="approve",t["DEPOSIT"]="deposit",t["NONE"]="none"})(r||(r={}));var $=function(t){S(n,t);var e=E(n);function n(){var t;return x(this,n),t=e.apply(this,arguments),t.uniswapURL="",t.defaultUtilityTokenAmount="",t.step=r.NONE,t.loading=!1,t.error=null,t}return T(n,[{key:"cancel",value:function(){this.error=null}},{key:"utilityTokenBalance",get:function(){return m["a"].displayFormat(this.udcToken.balance,this.udcToken.decimals)}},{key:"valid",get:function(){var t;try{t=s["c"].parseUnits(this.defaultUtilityTokenAmount,this.udcToken.decimals)}catch(e){return!1}return this.mainnet?t.lte(this.udcToken.balance)&&t.gt(s["a"].Zero):t.gt(s["a"].Zero)}},{key:"currentStepDescription",get:function(){if(this.step===r.NONE)return"";var t="udc-deposit-dialog.progress.".concat(this.step.toString());return this.$t(t,{currency:this.udcToken.symbol})}},{key:"mounted",value:function(){var t,e=null!==(t=this.$raiden.getMainAccount())&&void 0!==t?t:this.$raiden.getAccount(),n=s["c"].formatEther(d["c"].mul(2));this.uniswapURL="https://app.uniswap.org/#/swap?inputCurrency=ETH&outputCurrency=".concat(this.udcToken.address,"&exactAmount=").concat(n,"&exactField=outPUT&recipient=").concat(e),this.defaultUtilityTokenAmount=this.mainnet?this.utilityTokenBalance:n}},{key:"udcDeposit",value:function(){var t=P(c.a.mark((function t(){var e,n,o=this;return c.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.error=null,this.loading=!0,e=this.udcToken,n=w["a"].parse(this.defaultUtilityTokenAmount,e.decimals),t.prev=4,this.mainnet||!n.gt(e.balance)){t.next=9;break}return this.step=r.MINT,t.next=9,this.$raiden.mint(e.address,n);case 9:return this.step=r.APPROVE,t.next=12,this.$raiden.depositToUDC(n,(function(){o.step=r.DEPOSIT}));case 12:this.$emit("done"),t.next=18;break;case 15:t.prev=15,t.t0=t["catch"](4),this.error=t.t0;case 18:this.step=r.NONE,this.loading=!1;case 20:case"end":return t.stop()}}),t,this,[[4,15]])})));function e(){return t.apply(this,arguments)}return e}()}]),n}(l["g"]);Object(u["f"])([Object(l["e"])({required:!0,type:Boolean})],$.prototype,"visible",void 0),Object(u["f"])([Object(l["b"])()],$.prototype,"cancel",null),$=Object(u["f"])([Object(l["a"])({components:{ActionButton:p["a"],RaidenDialog:b["a"],ErrorMessage:h["a"],Spinner:v["a"],AmountInput:y["a"]},computed:_(_({},Object(f["e"])("userDepositContract",{udcToken:"token"})),Object(f["c"])(["mainnet"]))})],$);var W=$,N=W,V=(n("880f"),n("a6c2")),I=n("411c"),q=n.n(I),F=n("e47e"),L=Object(V["a"])(N,o,i,!1,null,"c3777994",null);e["a"]=L.exports;q()(L,{VCardActions:F["a"],VCardSubtitle:F["b"],VCardText:F["c"],VCardTitle:F["d"]})},"880f":function(t,e,n){"use strict";n("e2f7")},b106:function(t,e,n){"use strict";n("6aa7")},c026:function(t,e,n){},ddf9:function(t,e,n){t.exports=n.p+"img/icon-withdraw.2858f46f.svg"},de935:function(t,e,n){"use strict";n("0bed")},e2f7:function(t,e,n){},e986:function(t,e,n){"use strict";n("c026")},ebff:function(t,e,n){t.exports=n.p+"img/status-icon-pending.cd303cd6.svg"}}]);