(function(e){function t(t){for(var r,a,c=t[0],s=t[1],u=t[2],l=0,f=[];l<c.length;l++)a=c[l],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&f.push(o[a][0]),o[a]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);p&&p(t);while(f.length)f.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,a=1;a<n.length;a++){var c=n[a];0!==o[c]&&(r=!1)}r&&(i.splice(t--,1),e=s(s.s=n[0]))}return e}var r={},a={app:0},o={app:0},i=[];function c(e){return s.p+"js/"+({}[e]||e)+"."+{"chunk-090d25fa":"8e84e9fb","chunk-17a6e8db":"e2a6039b","chunk-08659113":"364a29ba","chunk-2646bd9b":"49835ce3","chunk-3f5a3c0a":"99c5a291","chunk-f1143468":"591d285d","chunk-01d75df8":"1afc86b7","chunk-30d9ea07":"b192dffd","chunk-38ea932f":"0779530e","chunk-8eb4b120":"a636b432","chunk-4a1a3507":"236283d7","chunk-9dcdf37e":"609672e3","chunk-ece0ec30":"ceeb52b0","chunk-3eadbefa":"ae8d5e25","chunk-5305576c":"1f43e6e7","chunk-7c35cafc":"619560fd","chunk-7cb46696":"e34b0c9e","chunk-1b7c28fc":"8b2bed6d","chunk-660e2352":"0b62435f","chunk-f550b538":"af7b4c02"}[e]+".js"}function s(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(e){var t=[],n={"chunk-17a6e8db":1,"chunk-08659113":1,"chunk-2646bd9b":1,"chunk-3f5a3c0a":1,"chunk-f1143468":1,"chunk-01d75df8":1,"chunk-30d9ea07":1,"chunk-38ea932f":1,"chunk-8eb4b120":1,"chunk-4a1a3507":1,"chunk-9dcdf37e":1,"chunk-ece0ec30":1,"chunk-5305576c":1,"chunk-7c35cafc":1,"chunk-7cb46696":1,"chunk-1b7c28fc":1,"chunk-660e2352":1,"chunk-f550b538":1};a[e]?t.push(a[e]):0!==a[e]&&n[e]&&t.push(a[e]=new Promise((function(t,n){for(var r="css/"+({}[e]||e)+"."+{"chunk-090d25fa":"31d6cfe0","chunk-17a6e8db":"8855aa51","chunk-08659113":"808d5333","chunk-2646bd9b":"631f2584","chunk-3f5a3c0a":"45e21c1e","chunk-f1143468":"932318fb","chunk-01d75df8":"69149fc9","chunk-30d9ea07":"a160510e","chunk-38ea932f":"279034fb","chunk-8eb4b120":"fce8c2a1","chunk-4a1a3507":"0fda19b4","chunk-9dcdf37e":"fe8c07f8","chunk-ece0ec30":"250cbe39","chunk-3eadbefa":"31d6cfe0","chunk-5305576c":"94e031fa","chunk-7c35cafc":"be21e826","chunk-7cb46696":"f8950776","chunk-1b7c28fc":"6995c444","chunk-660e2352":"25190d9f","chunk-f550b538":"34e16e0d"}[e]+".css",o=s.p+r,i=document.getElementsByTagName("link"),c=0;c<i.length;c++){var u=i[c],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===r||l===o))return t()}var f=document.getElementsByTagName("style");for(c=0;c<f.length;c++){u=f[c],l=u.getAttribute("data-href");if(l===r||l===o)return t()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=t,p.onerror=function(t){var r=t&&t.target&&t.target.src||o,i=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=r,delete a[e],p.parentNode.removeChild(p),n(i)},p.href=o;var d=document.getElementsByTagName("head")[0];d.appendChild(p)})).then((function(){a[e]=0})));var r=o[e];if(0!==r)if(r)t.push(r[2]);else{var i=new Promise((function(t,n){r=o[e]=[t,n]}));t.push(r[2]=i);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,s.nc&&l.setAttribute("nonce",s.nc),l.src=c(e);var f=new Error;u=function(t){l.onerror=l.onload=null,clearTimeout(p);var n=o[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;f.message="Loading chunk "+e+" failed.\n("+r+": "+a+")",f.name="ChunkLoadError",f.type=r,f.request=a,n[1](f)}o[e]=void 0}};var p=setTimeout((function(){u({type:"timeout",target:l})}),12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(t)},s.m=e,s.c=r,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(n,r,function(t){return e[t]}.bind(null,r));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/",s.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=t,u=u.slice();for(var f=0;f<u.length;f++)t(u[f]);var p=l;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"05eb":function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e["OPENED"]="OPENED",e["APPROVED"]="APPROVED",e["DEPOSITED"]="DEPOSITED",e["CONFIRMED"]="CONFIRMED"}(r||(r={}))},"0602":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("2111"),a=r["x"]([r["s"],r["n"],r["e"],r["m"]],"CapsPrimitive"),o=r["x"]([a,r["d"](a)],"CapsValue"),i=r["p"](r["r"](r["s"],o),"Caps")},"0731":function(e,t,n){},"0862":function(e,t,n){"use strict";n.d(t,"c",(function(){return g})),n.d(t,"b",(function(){return w})),n.d(t,"f",(function(){return _})),n.d(t,"e",(function(){return k})),n.d(t,"a",(function(){return E})),n.d(t,"d",(function(){return T}));var r=n("427e"),a=n.n(r),o=n("cefa"),i=n("58da"),c=n("8df4"),s=n("4377"),u=n("2b5b"),l=n("46f7"),f=n("d890");function p(e,t){return m(e)||y(e,t)||b(e,t)||d()}function d(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function b(e,t){if(e){if("string"===typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done);r=!0)if(n.push(i.value),t&&n.length===t)break}catch(s){a=!0,o=s}finally{try{r||null==c["return"]||c["return"]()}finally{if(a)throw o}}return n}}function m(e){if(Array.isArray(e))return e}function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){j(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=a()((function(e){return e.pipe(Object(o["a"])(f["matrixPresence"].success.is),Object(i["a"])((function(e,t){return O(O({},e),{},j({},t.meta.address,t))}),{}),Object(c["a"])(),Object(s["a"])({}))}));function w(e,t){return Object.values(e).find((function(e){return e.payload.userId===t}))}function _(e){for(var t=new URL("mxc://raiden.network/cap"),n=function(e,n){return t.searchParams.append(e,n)},r=0,a=Object.entries(e);r<a.length;r++){var o=p(a[r],2),i=o[0],c=o[1];Array.isArray(c)?c.forEach(n.bind(null,i)):n(i,c)}return t.href}function k(e){if(e){var t={};try{var n=new URL(e);return n.searchParams.forEach((function(e,n){var r=e;if(/^\d+$/.test(e))r=Object(l["b"])(e);else{var a=e.toLowerCase();"none"===a||"null"===a?r=null:"false"===a?r=!1:"true"===a&&(r=!0)}if(n in t){var o=t[n];Array.isArray(o)||(t[n]=o=[o]),o.push(r)}else t[n]=r})),t}catch(r){}}}function E(e,t){var n;return null!==(n=null===e||void 0===e?void 0:e[t])&&void 0!==n?n:u["b"][t]}function T(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.sort((function(e,t){return e.toLowerCase().localeCompare(t.toLowerCase())}))}},"0a08":function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.show?n("div",{staticClass:"blurred-overlay",class:{fullscreen:e.fullscreen}},[e._t("default")],2):e._e()},a=[],o=n("9ab4"),i=n("5cf9");function c(e){return c="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}function f(e){var t=b();return function(){var n,r=h(e);if(t){var a=h(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return p(this,n)}}function p(e,t){return!t||"object"!==c(t)&&"function"!==typeof t?d(e):t}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}var y=function(e){u(n,e);var t=f(n);function n(){return s(this,n),t.apply(this,arguments)}return n}(i["f"]);Object(o["a"])([Object(i["d"])({type:Boolean,required:!0})],y.prototype,"show",void 0),Object(o["a"])([Object(i["d"])({required:!1,default:!1,type:Boolean})],y.prototype,"fullscreen",void 0),y=Object(o["a"])([Object(i["a"])({})],y);var m=y,v=m,O=(n("ef8c"),n("a6c2")),j=Object(O["a"])(v,r,a,!1,null,"de732a60",null);t["a"]=j.exports},"0ba5":function(e,t,n){"use strict";var r=n("5778");n.d(t,"a",(function(){return r["d"]})),n.d(t,"b",(function(){return r["e"]})),n.d(t,"c",(function(){return r["i"]})),n.d(t,"d",(function(){return r["j"]})),n.d(t,"e",(function(){return r["k"]}));var a=n("7de2");n.d(t,"f",(function(){return a["b"]})),n.d(t,"g",(function(){return a["e"]})),n.d(t,"h",(function(){return a["g"]})),n.d(t,"i",(function(){return a["h"]}))},"0dd2":function(e,t,n){e.exports=n.p+"img/back_arrow.268247fb.svg"},"0f05":function(e,t,n){},"0f75":function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var r=n("7fcc"),a=n.n(r),o=n("c010"),i=n.n(o),c=n("e832"),s=n("a3d5");function u(e,t){return b(e)||d(e,t)||f(e,t)||l()}function l(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function f(e,t){if(e){if("string"===typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done);r=!0)if(n.push(i.value),t&&n.length===t)break}catch(s){a=!0,o=s}finally{try{r||null==c["return"]||c["return"]()}finally{if(a)throw o}}return n}}function b(e){if(Array.isArray(e))return e}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t,n){return t&&y(e.prototype,t),n&&y(e,n),e}var v=function(){function e(){h(this,e)}return m(e,null,[{key:"truncate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12;if(!e)return"";var n="...";if(e.length<=t)return e;var r=Math.floor(t/2);return e.substr(0,r)+n+e.substr(e.length-r)}},{key:"decimals",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;return parseFloat(e).toFixed(t)}},{key:"upper",value:function(e){return e?e.toLocaleUpperCase():""}},{key:"displayFormat",value:function(t,n){var r=s["a"].toUnits(t,null!==n&&void 0!==n?n:18),a=parseFloat(r);return 0===a?0===n?"0":"0.0":a<1e-6?"<0.000001":e.formatValue(r,n)}},{key:"formatValue",value:function(e,t){var n=i()(e,"."),r=u(n,2),a=r[0],o=r[1];if(o&&o.length>6){var c=o.substring(0,6);return"â‰ˆ".concat(a,".").concat(c)}return 0===t?a:e}},{key:"capitalizeFirst",value:function(e){return a()(e)}},{key:"upperCase",value:function(e){return e.toUpperCase()}}]),e}();v.toUnits=function(e,t){return s["a"].toUnits(e,null!==t&&void 0!==t?t:18)},v.formatDate=function(e){return"".concat(new Intl.DateTimeFormat("en-US").format(e)," ").concat(e.toLocaleTimeString("en-US"))},c["a"].filter("truncate",v.truncate),c["a"].filter("decimals",v.decimals),c["a"].filter("upper",v.upper),c["a"].filter("displayFormat",v.displayFormat),c["a"].filter("capitalizeFirst",v.capitalizeFirst),c["a"].filter("upperCase",v.upperCase),c["a"].filter("toUnits",v.toUnits),c["a"].filter("formatDate",v.formatDate)},"0ff6":function(e){e.exports=JSON.parse('{"contracts_version":null,"chain_id":4,"contracts":{"ServiceRegistry":{"address":"0xe44921f1F63B6369A1Ef0Ae497b2620D68C40f3C","transaction_hash":"0xd9d8ac1821c2f4ac47af6f44e3c2e6da49fae8acac936e851dd21833e86684f9","block_number":6515467,"gas_cost":1999628,"constructor_arguments":["0x2488C9445b405E0fbbD60e89813f8b8652973737","0x062C12c01D0f17fC9eAa33940D994594d91a0182",2e+21,6,5,17280000,1000,15552000]},"UserDeposit":{"address":"0x9d87E6E25029dAa79E064Db04f3Dc1a785025FcE","transaction_hash":"0xfdefb83579530c6bc54f732a9d15a8c8e8bff3f88e85b6fbbcb1ffc55f8ff0de","block_number":6515468,"gas_cost":1530470,"constructor_arguments":["0x2488C9445b405E0fbbD60e89813f8b8652973737",1.157920892373162e+77]},"MonitoringService":{"address":"0x9D5fF7860dcFc1EB6bCF230D911Fe0df0f8C0e31","transaction_hash":"0x21fbe2880e3168989a1f53cec9e83e765e00aa0f43eded08612caefc7359ba9b","block_number":6515469,"gas_cost":1949901,"constructor_arguments":["0x2488C9445b405E0fbbD60e89813f8b8652973737","0xe44921f1F63B6369A1Ef0Ae497b2620D68C40f3C","0x9d87E6E25029dAa79E064Db04f3Dc1a785025FcE","0xC1e1F66c196738E6E38728Cac797E658631C8580"]},"OneToN":{"address":"0xd392CE4c8A44d3D22c24a2812EF7c11e27F3E194","transaction_hash":"0xb41df6abc165200fe335d23008ef82e6febb948984fc6df3d35d473fcd439af7","block_number":6515470,"gas_cost":1097797,"constructor_arguments":["0x9d87E6E25029dAa79E064Db04f3Dc1a785025FcE",4,"0xe44921f1F63B6369A1Ef0Ae497b2620D68C40f3C"]}}}')},1:function(e,t){},"14b9":function(e,t,n){"use strict";n("f789")},"152b":function(e,t,n){"use strict";var r=n("9ab4"),a=n("5cf9"),o=n("80bf");function i(e){return i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}function l(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}function f(e,t){return f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},f(e,t)}function p(e){var t=h();return function(){var n,r=y(e);if(t){var a=y(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return d(this,n)}}function d(e,t){return!t||"object"!==i(t)&&"function"!==typeof t?b(e):t}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}var m=function(e){l(n,e);var t=p(n);function n(){return c(this,n),t.apply(this,arguments)}return u(n,[{key:"navigateToSelectHub",value:function(e){this.$router.push({name:o["a"].SELECT_HUB,params:{token:e}})}},{key:"navigateToHome",value:function(){this.$router.push({name:o["a"].HOME})}},{key:"navigateToTransfer",value:function(e){this.$router.push({name:o["a"].TRANSFER,params:{token:e}})}},{key:"navigateToOpenChannel",value:function(e,t){this.$router.push({name:o["a"].OPEN_CHANNEL,params:{token:e,partner:t}})}},{key:"navigateToChannels",value:function(e){this.$router.push({name:o["a"].CHANNELS,params:{token:e}})}},{key:"navigateToSelectTransferTarget",value:function(e,t,n){var r={name:o["a"].TRANSFER,params:{token:e},query:{}};t&&n&&(r.query={target:t,amount:n}),this.$router.push(r)}},{key:"navigateToTokenSelect",value:function(){this.$router.push({name:o["a"].SELECT_TOKEN})}},{key:"navigateToTransferSteps",value:function(e,t,n){this.$router.push({name:o["a"].TRANSFER_STEPS,params:{token:e,target:t},query:{amount:n}})}},{key:"navigateToNotifications",value:function(){this.$router.push({name:o["a"].NOTIFICATIONS})}},{key:"navigateToAccount",value:function(){this.$router.push({name:o["a"].ACCOUNT_ROOT})}},{key:"navigateToBackupState",value:function(){this.$router.push({name:o["a"].ACCOUNT_BACKUP})}},{key:"navigateToRaidenAccountTransfer",value:function(){this.$router.push({name:o["a"].ACCOUNT_RAIDEN})}},{key:"navigateToSettings",value:function(){this.$router.push({name:o["a"].ACCOUNT_SETTINGS})}},{key:"navigateToWithdrawal",value:function(){this.$router.push({name:o["a"].ACCOUNT_WITHDRAWAL})}},{key:"navigateToUDC",value:function(){this.$router.push({name:o["a"].ACCOUNT_UDC})}},{key:"onModalBackClicked",value:function(){this.$router.go(-1)}},{key:"onBackClicked",value:function(){switch(this.$route.name){case o["a"].TRANSFER_STEPS:this.navigateToSelectTransferTarget(this.$route.params.token,this.$route.params.target,this.$route.params.amount);break;case o["a"].CHANNELS:this.navigateToTransfer(this.$route.params.token);break;case o["a"].SELECT_TOKEN:case o["a"].SELECT_HUB:case o["a"].OPEN_CHANNEL:this.$router.go(-1);break;default:break}}}]),n}(a["f"]);m=Object(r["a"])([a["a"]],m),t["a"]=m},"18cb":function(e,t,n){e.exports=n.p+"img/channels_info.76c17597.svg"},1924:function(e,t,n){e.exports=n.p+"img/backup_state_info.0f9ae539.svg"},"19ce":function(e,t,n){"use strict";n("886f")},"1a78":function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return l})),n.d(t,"d",(function(){return p})),n.d(t,"c",(function(){return r}));var r,a=n("2111"),o=n("48a3"),i=n.n(o),c=n("5778"),s=n("ca14"),u={SENT:"sent",RECEIVED:"received"},l=a["k"](i()(u)),f=a["p"](a["j"]([a["v"]({_id:a["s"],channel:a["s"],direction:l,secrethash:s["c"],expiration:a["n"],transfer:Object(s["i"])(Object(s["h"])(c["b"])),fee:Object(s["d"])(32),partner:s["a"],cleared:a["n"]},"TransferStateBase"),a["o"]({secret:s["f"],secretRegistered:Object(s["i"])(a["v"]({txHash:s["c"],txBlock:a["n"]})),transferProcessed:Object(s["i"])(Object(s["h"])(c["e"])),channelClosed:Object(s["i"])(a["v"]({txHash:s["c"],txBlock:a["n"]})),channelSettled:Object(s["i"])(a["v"]({txHash:s["c"],txBlock:a["n"]})),secretRequest:Object(s["i"])(Object(s["h"])(c["f"])),secretReveal:Object(s["i"])(Object(s["h"])(c["g"])),unlock:Object(s["i"])(Object(s["h"])(c["h"])),expired:Object(s["i"])(Object(s["h"])(c["a"])),unlockProcessed:Object(s["i"])(Object(s["h"])(c["e"])),expiredProcessed:Object(s["i"])(Object(s["h"])(c["e"]))},"TransferStateOpts")])),p=f;(function(e){e["pending"]="PENDING",e["received"]="RECEIVED",e["closed"]="CLOSED",e["requested"]="REQUESTED",e["revealed"]="REVEALED",e["registered"]="REGISTERED",e["unlocking"]="UNLOCKING",e["expiring"]="EXPIRING",e["unlocked"]="UNLOCKED",e["expired"]="EXPIRED"})(r||(r={}))},"1b23":function(e,t,n){"use strict";n.d(t,"b",(function(){return W})),n.d(t,"a",(function(){return V})),n.d(t,"d",(function(){return $})),n.d(t,"c",(function(){return H}));var r=n("36d8"),a=n.n(r),o=n("b97c"),i=n("1e78"),c=n("331d"),s=n("ae8f"),u=n("42f4"),l=n("a489"),f=n("0fda"),p=n("34ba"),d=n("7f4a"),b=n("daae"),h=n("258b"),y=n("423d"),m=n("4cf1"),v=n("ae0c"),O=n("18df"),j=n("769c"),g=n("25cb"),w=n("43a7"),_=n("58be"),k=n("2b5b"),E=n("325b");function T(e){return A(e)||x(e)||R(e)||S()}function S(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function x(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function A(e){if(Array.isArray(e))return D(e)}function P(e,t){return I(e)||C(e,t)||R(e,t)||N()}function N(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function R(e,t){if(e){if("string"===typeof e)return D(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?D(e,t):void 0}}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function C(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done);r=!0)if(n.push(i.value),t&&n.length===t)break}catch(s){a=!0,o=s}finally{try{r||null==c["return"]||c["return"]()}finally{if(a)throw o}}return n}}function I(e){if(Array.isArray(e))return e}function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(Object(n),!0).forEach((function(t){L(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function B(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function F(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){B(o,r,a,i,c,"next",e)}function c(e){B(o,r,a,i,c,"throw",e)}i(void 0)}))}}function W(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e5,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e3,f=t.fromBlock,p=t.toBlock;return Object(c["a"])((function(){var j=f,g=n,w=3;return Object(c["a"])(F(a.a.mark((function n(){return a.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.abrupt("return",e.send("eth_getLogs",[M(M({},t),{},{fromBlock:Object(o["g"])(j),toBlock:Object(o["g"])(Math.min(j+g-1,p))})]));case 1:case"end":return n.stop()}}),n)})))).pipe(Object(d["a"])((function(t){return t.forEach((function(e){null==e.removed&&(e.removed=!1)})),i["a"].arrayOf(e.formatter.filterLog.bind(e.formatter))(t)})),Object(b["a"])({complete:function(){return j+=g},error:function(){g=Math.round(g/2),g<r&&(g=r,w--)}}),Object(h["a"])((function(e){return Object(s["a"])(e)})),Object(y["a"])((function(t){return w>=0?Object(u["a"])(e.pollingInterval).pipe(Object(m["a"])()):Object(l["a"])(t)})),Object(v["a"])((function(e){return e.pipe(Object(O["a"])((function(){return j<=p})))})))}))}function V(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.fromBlock,a=n.confirmations,o=n.blockNumber$,i=n.onPastCompleted;if("string"===typeof t||Array.isArray(t))return Object(f["a"])((function(n){return e.on(t,n)}),(function(n){return e.removeListener(t,n)}));var c=a?"number"===typeof a?Object(p["a"])(a):a:Object(p["a"])(k["c"]),s=[],u=Date.now();return c.pipe(Object(j["a"])(),Object(E["f"])((function(t){if(!r){var n=e._lastBlockNumber,a=e.blockNumber;n=n&&n>0?n:a&&a>0?a:t+1,r=n-t}return s.splice(0,s.length,r),null!==o&&void 0!==o?o:V(e,"block")}),g["a"]),Object(w["a"])(Math.ceil(e.pollingInterval/10)),Object(_["a"])((function(n){var r=P(n,2),a=r[0],o=r[1];return W(e,M(M({},t),{},{fromBlock:s[0],toBlock:o})).pipe(Object(b["a"])({next:function(e){if(e.blockNumber&&!(e.blockNumber+a>o)){var t=e.blockNumber+1,n=s.findIndex((function(e){return e>t}));n&&(n<0&&(n=s.length),s.splice(0,n,t))}},complete:function(){while(s.length>=2*a)s.shift();i&&u&&(u=0,i(Date.now()-u)),s.push(o+1)}}))})))}function $(e){return function(t){var n=e.interface.parseLog(t),r=M(M(M({},t),n),{},{removeListener:function(){},getBlock:function(){return e.provider.getBlock(t.blockHash)},getTransaction:function(){return e.provider.getTransaction(t.transactionHash)},getTransactionReceipt:function(){return e.provider.getTransactionReceipt(t.transactionHash)}});return[].concat(T(n.args),[r])}}function H(e){return"unknown"===e.name?e.chainId.toString():"homestead"===e.name?"mainnet":e.name}},"1f0b":function(e){e.exports=JSON.parse('{"contracts_version":null,"chain_id":1,"contracts":{"ServiceRegistry":{"address":"0xa80aEc9eebD8058A1468e563C025999590F32C08","transaction_hash":"0x5aea719cdc67247db8f24da779a3cf817daab629ad2f743bf4c6b0b067339804","block_number":10095929,"gas_cost":1999694,"constructor_arguments":["0x255Aa6DF07540Cb5d3d297f0D0D4D84cb52bc8e6","0xbBF11c2f66E1887681C902095CEfB1018C854c0f",8.420485356775965e+21,5,4,2836573,842048535677596500000,15552000]},"UserDeposit":{"address":"0x1c62fF66aF8aaD410065E02338F5bFbbe23e1f10","transaction_hash":"0xa810cc5afd8eef2f056fe8d9895b32b81927d76643d8965aaa40d2e24d63dc97","block_number":10095932,"gas_cost":1530140,"constructor_arguments":["0x255Aa6DF07540Cb5d3d297f0D0D4D84cb52bc8e6",8.420485356775965e+23]},"MonitoringService":{"address":"0x727DDdBD042d891180A252C7A20634a696A16925","transaction_hash":"0x8404ad70bd1a42ad0bf27c41d720a78ebdc0a8c23621f479ca1f700773ddfc03","block_number":10095941,"gas_cost":1949835,"constructor_arguments":["0x255Aa6DF07540Cb5d3d297f0D0D4D84cb52bc8e6","0xa80aEc9eebD8058A1468e563C025999590F32C08","0x1c62fF66aF8aaD410065E02338F5bFbbe23e1f10","0x6d07A2ef8De5d7D48337510BCEb9FEEa5424b20c"]},"OneToN":{"address":"0x960f01E9E219E1c8564784a050fD1cA51651592D","transaction_hash":"0xd775a9e8b2baa0005d84cc9d0ff5efa627163e80b05d53712a5b19b44b552836","block_number":10095943,"gas_cost":1097785,"constructor_arguments":["0x1c62fF66aF8aaD410065E02338F5bFbbe23e1f10",1,"0xa80aEc9eebD8058A1468e563C025999590F32C08"]}}}')},2:function(e,t){},"233e":function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"header-identicon"},[n("v-img",{class:{"header-identicon__blockie":e.defaultAccount,"header-identicon__blockie header-identicon__blockie__grayscale":!e.defaultAccount},attrs:{src:e.$blockie(e.defaultAccount),contain:"","aspect-ratio":"1"}})],1)},a=[],o=n("9ab4"),i=n("5cf9"),c=n("94ea"),s=n("77fd");function u(e){return u="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}function h(e,t){return h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},h(e,t)}function y(e){var t=O();return function(){var n,r=j(e);if(t){var a=j(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return m(this,n)}}function m(e,t){return!t||"object"!==u(t)&&"function"!==typeof t?v(e):t}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function j(e){return j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},j(e)}var g=function(e){b(n,e);var t=y(n);function n(){return d(this,n),t.apply(this,arguments)}return n}(Object(i["c"])(s["a"]));g=Object(o["a"])([Object(i["a"])({computed:f({},Object(c["e"])(["defaultAccount"]))})],g);var w=g,_=w,k=(n("43fd"),n("a6c2")),E=n("411c"),T=n.n(E),S=n("1331"),x=Object(k["a"])(_,r,a,!1,null,"d302227a",null);t["a"]=x.exports;T()(x,{VImg:S["a"]})},"2b5b":function(e,t,n){"use strict";n.d(t,"g",(function(){return u})),n.d(t,"d",(function(){return l})),n.d(t,"f",(function(){return c})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return f})),n.d(t,"e",(function(){return p})),n.d(t,"c",(function(){return d})),n.d(t,"h",(function(){return b}));var r,a=n("b97c"),o=n("6da0");function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c,s,u=Object(a["h"])([],65),l=Object(o["a"])([]);(function(e){e["STOP"]="raidenStopped",e["ACCOUNT_CHANGED"]="providerAccountChanged",e["NETWORK_CHANGED"]="providerNetworkChanged"})(c||(c={})),function(e){e["DELIVERY"]="Delivery",e["RECEIVE"]="Receive",e["MEDIATE"]="Mediate",e["WEBRTC"]="webRTC",e["TO_DEVICE"]="toDevice"}(s||(s={}));var f=(r={},i(r,s.DELIVERY,1),i(r,s.RECEIVE,1),i(r,s.MEDIATE,1),i(r,s.WEBRTC,0),i(r,s.TO_DEVICE,1),r),p="RAIDEN",d=5,b=100},"2b7f":function(e,t,n){},3:function(e,t){},"31a7":function(e){e.exports=JSON.parse('{"contracts_version":null,"chain_id":4,"contracts":{"SecretRegistry":{"address":"0x84df710E901299486F120B06e85b9f22AF913387","transaction_hash":"0x3bf1a9f9f03720a51c593d466c007a65d69c1ca197ac4b572ba9d689773936d3","block_number":6515460,"gas_cost":247286,"constructor_arguments":[]},"TokenNetworkRegistry":{"address":"0xC1e1F66c196738E6E38728Cac797E658631C8580","transaction_hash":"0x0072b99e7cac9134c5769044c9d7d4bafa32cad2a95afaaa3c10b30a8493ddb7","block_number":6515461,"gas_cost":4001594,"constructor_arguments":["0x84df710E901299486F120B06e85b9f22AF913387",4,20,555428,1.157920892373162e+77]}},"token_networks":[{"token_network_address":"0x5CEd7CfC56B4249296108B00DbA70b1b903371D8","constructor_arguments":{"_token_address":"0xD7bB0F9D05766c0149C1A3BE14c634310C4B7719","_secret_registry":"0x84df710E901299486F120B06e85b9f22AF913387","_chain_id":4,"_settlement_timeout_min":20,"_settlement_timeout_max":555428,"_deprecation_executor":"0x062C12c01D0f17fC9eAa33940D994594d91a0182","_channel_participant_deposit_limit":1.157920892373162e+77,"_token_network_deposit_limit":1.157920892373162e+77}}]}')},"325b":function(e,t,n){"use strict";n.d(t,"g",(function(){return W})),n.d(t,"d",(function(){return V})),n.d(t,"h",(function(){return $})),n.d(t,"j",(function(){return q})),n.d(t,"i",(function(){return K})),n.d(t,"k",(function(){return G})),n.d(t,"b",(function(){return Y})),n.d(t,"e",(function(){return X})),n.d(t,"l",(function(){return Q})),n.d(t,"c",(function(){return Z})),n.d(t,"f",(function(){return z})),n.d(t,"a",(function(){return J}));var r=n("97a5"),a=n("42f4"),o=n("331d"),i=n("ae8f"),c=n("a489"),s=n("d9d5"),u=n("dae3"),l=n("35dc"),f=n("4a9c"),p=n("769c"),d=n("258b"),b=n("58da"),h=n("cefa"),y=n("ae0c"),m=n("7f4a"),v=n("18df"),O=n("25cb"),j=n("231d"),g=n("daae"),w=n("dfba"),_=n("4cf1"),k=n("a00b"),E=n("84d4"),T=n("319d"),S=n("534d"),x=n("459b"),A=n("423d"),P=n("ee6c"),N=n("ca14");function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach((function(t){C(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function I(e,t){return F(e)||B(e,t)||M(e,t)||U()}function U(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function M(e,t){if(e){if("string"===typeof e)return L(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?L(e,t):void 0}}function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function B(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done);r=!0)if(n.push(i.value),t&&n.length===t)break}catch(s){a=!0,o=s}finally{try{r||null==c["return"]||c["return"]()}finally{if(a)throw o}}return n}}function F(e){if(Array.isArray(e))return e}var W=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return e.pipe(f["a"].apply(void 0,t),Object(p["a"])())}};function V(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e,t){return e===t};return function(t){return t.pipe(Object(p["a"])(),Object(d["a"])((function(e){return Object(r["a"])(e)})),Object(b["a"])((function(t,n){var r=t.acc,a=I(n,2),o=a[0],i=a[1];return e(r[o],i)?{acc:r}:{acc:D(D({},r),{},C({},o,i)),changed:[o,i]}}),{acc:{}}),Object(f["a"])("changed"),Object(h["a"])(N["n"]))}}function $(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e4;return function(n){return n.pipe(Object(y["a"])((function(e){return e.pipe(Object(m["a"])((function(){if("number"===typeof t)return t;var e=t.next();return e.done?-1:e.value})),Object(v["a"])((function(e){return e>=0})),Object(O["a"])((function(e){return Object(a["a"])(e)})))})),Object(j["a"])(e))}}function H(e){return Symbol.iterator in e}function q(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return r.log&&(r=D(D({},r),{},{log:r.log.bind(null,"retryWhile")})),function(s){return Object(o["a"])((function(){return t=void 0,n=Object(P["i"])(r),Object(i["a"])(s).pipe(Object(g["a"])((function(){t=void 0,n=Object(P["i"])(r)})),Object(w["a"])((function(r){return r.pipe(Object(d["a"])((function(r){var o;if("number"===typeof e)o=e;else{t||(t=H(e)?e[Symbol.iterator]():e);var i=t.next();o=i.done?-1:i.value}return o>=0&&n(r)?Object(a["a"])(o):Object(c["a"])(r)})))})))}))}}function K(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Object(o["a"])(e).pipe(q.apply(void 0,n))}function G(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n){var r=new s["a"];return e.pipe(Object(m["a"])((function(e){return t?!e:!!e})),Object(p["a"])(),Object(j["a"])(r),Object(O["a"])((function(e){return e?n.pipe(Object(g["a"])({complete:function(){return r.next(!0)}})):u["a"]})))}}function Y(e,t){return function(n){return e=e.pipe(Object(_["a"])(),Object(k["a"])(null)),void 0!==t&&(e=e.pipe(Object(E["a"])(t))),n.pipe(Object(j["a"])(e))}}function X(e){return function(t){return t.pipe(Object(T["a"])(void 0,null),Object(d["a"])(e))}}function Q(e){return function(t){return Object(l["a"])(Object(a["a"])(e).pipe(Object(S["a"])(Object(c["a"])(new Error("timeout waiting first")))),t)}}function Z(e,t){return function(n){var r=[];return n.pipe(Object(g["a"])((function(e){return r.push(e)})),Object(x["a"])((function(){return Object(o["a"])((function(){return r.length?e(r.splice(0,null!==t&&void 0!==t?t:r.length)):u["a"]}))})))}}function z(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d["a"];return function(n){return n.pipe(t((function(t,n){return Object(i["a"])(e(t,n)).pipe(Object(m["a"])((function(e){return[t,e]})))})))}}function J(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];e.log&&r.length&&(e=D(D({},e),{},{log:(t=e.log).bind.apply(t,[null].concat(r))}));var o=Object(P["i"])(e);return function(e){return e.pipe(Object(A["a"])((function(e){return o(e)?u["a"]:Object(c["a"])(e)})))}}},"358d":function(e,t,n){"use strict";n.d(t,"a",(function(){return C})),n.d(t,"c",(function(){return B})),n.d(t,"d",(function(){return W})),n.d(t,"b",(function(){return V})),n.d(t,"e",(function(){return $}));var r=n("36d8"),a=n.n(r),o=n("b97c"),i=n("2111"),c=n("427e"),s=n.n(c),u=n("523d"),l=n.n(u),f=n("ae8f"),p=n("331d"),d=n("dae3"),b=n("0eb1"),h=n("258b"),y=n("423d"),m=n("94e7"),v=n("7f4a"),O=n("b8ff"),j=n("8120"),g=n("2b5b"),w=n("7de2"),_=n("0862"),k=n("46f7"),E=n("ee6c"),T=n("9a49"),S=n("325b"),x=n("ca14");function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){N(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function R(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function D(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){R(o,r,a,i,c,"next",e)}function c(e){R(o,r,a,i,c,"throw",e)}i(void 0)}))}}function C(e,t,n,r,a,o){if(!(r in t)||!t[r].payload.available)return'path: partner "'.concat(r,'" not available in transport');if(a!==r&&!Object(_["a"])(t[r].payload.caps,g["a"].MEDIATE))return'path: partner "'.concat(r,"\" doesn't mediate transfers");var i=e.channels[Object(j["d"])({tokenNetwork:n,partner:r})];if(!i)return"path: there's no direct channel with partner \"".concat(r,'"');if(i.state!==O["b"].open)return'path: channel with "'.concat(r,'" in state "').concat(i.state,'" instead of "').concat(O["b"].open,'"');var c=Object(j["c"])(i),s=c.ownCapacity;return!s.lt(o)||'path: channel with "'.concat(r,"\" doesn't have enough capacity=").concat(s.toString())}var I=s()(function(){var e=D(a.a.mark((function e(t,n){return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(S["i"])((function(){return t.callStatic.token()}),n,{onErrors:E["h"]}).toPromise());case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),U=/^(?:https:\/\/)?[^\s\/$.?#&"']+\.[^\s\/$?#&"']+$/;function M(e){return Object(E["d"])(e,E["b"].PFS_EMPTY_URL),Object(E["d"])(U.test(e),[E["b"].PFS_INVALID_URL,{url:e}]),e.match(/^https?:\/\//)||(e="https://".concat(e)),e}var L=new T["a"](32);function B(e,t){return F.apply(this,arguments)}function F(){return F=D(a.a.mark((function e(t,n){var r,o,c,s,u,l,f,p,d,h,y,m,v;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=n.serviceRegistryContract,o=n.network,c=n.contractsInfo,s=n.provider,u=n.config$,e.next=3,u.pipe(Object(b["a"])()).toPromise();case 3:if(l=e.sent,f=l.pfsMaxFee,p=i["v"]({message:i["s"],network_info:i["v"]({chain_id:i["l"](o.chainId),token_network_registry_address:i["l"](c.TokenNetworkRegistry.address)}),operator:i["s"],payment_address:x["a"],price_info:Object(x["j"])(32),version:i["s"]}),d=t,!x["a"].is(t)){e.next=11;break}return e.next=10,r.callStatic.urls(t);case 10:d=e.sent;case 11:return d=M(d),h=Date.now(),e.next=15,fetch(d+"/api/v1/info",{mode:"cors"});case 15:return y=e.sent,e.next=18,y.text();case 18:return m=e.sent,Object(E["d"])(y.ok,[E["b"].PFS_ERROR_RESPONSE,{text:m}]),v=Object(x["l"])(p,Object(k["b"])(m)),Object(E["d"])(v.price_info.lte(f),[E["b"].PFS_TOO_EXPENSIVE,{price:v.price_info.toString()}]),L.set(d,Promise.resolve(v.payment_address)),e.t0=v.payment_address,e.t1=d,e.t2=Date.now()-h,e.t3=v.price_info,e.next=29,I(r,s.pollingInterval);case 29:return e.t4=e.sent,e.abrupt("return",{address:e.t0,url:e.t1,rtt:e.t2,price:e.t3,token:e.t4});case 31:case"end":return e.stop()}}),e)}))),F.apply(this,arguments)}Object.assign(function(){var e=D(a.a.mark((function e(t,n){var r;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=M(t),r=L.get(t),r||(r=B(t,n).then((function(e){var t=e.address;return t})),L.set(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}(),{cache:L});function W(e,t){var n=t.log;return Object(f["a"])(e).pipe(Object(h["a"])((function(e){return Object(p["a"])(D(a.a.mark((function n(){return a.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.abrupt("return",B(e,t));case 1:case"end":return n.stop()}}),n)})))).pipe(Object(y["a"])((function(t){return n.warn('Error trying to fetch PFS info for "'.concat(e,'" - ignoring:'),t),d["a"]})))}),5),Object(m["a"])(),Object(v["a"])((function(t){return Object(E["d"])(t.length||!e.length,E["b"].PFS_INVALID_INFO),l()(t,"url").sort((function(e,t){var n=e.price.sub(t.price);return n.lt(0)?-1:n.gt(0)?1:e.rtt-t.rtt}))})))}function V(e){return Object(o["b"])([Object(k["a"])(e.one_to_n_address,20),Object(k["a"])(e.chain_id,32),Object(k["a"])(w["a"].IOU,32),Object(k["a"])(e.sender,20),Object(k["a"])(e.receiver,20),Object(k["a"])(e.amount,32),Object(k["a"])(e.expiration_block,32)])}function $(e,t){return H.apply(this,arguments)}function H(){return H=D(a.a.mark((function e(t,n){return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",t.signMessage(V(n)).then((function(e){return P(P({},n),{},{signature:e})})));case 1:case"end":return e.stop()}}),e)}))),H.apply(this,arguments)}},"3b2c":function(e,t,n){},"40b2":function(e,t,n){"use strict";n("5919"),n("823d");var r=n("111d"),a=n.n(r),o=r["methodFactory"];Object.defineProperty(a.a,"methodFactory",{enumerable:!0,configurable:!0,get:function(){return o},set:function(e){var t;null!==(t=e.name)&&void 0!==t&&t.startsWith("raiden")&&(o=e)}});var i=n("178d"),c=Object(i["getRequest"])();Object(i["request"])((function(e,t){var n=c(e,t),r=n.abort.bind(n);return Object.assign(n,{abort:function(){r(),t(new Error("aborted!"))}})}))},"438d":function(e,t,n){"use strict";n.d(t,"b",(function(){return b})),n.d(t,"a",(function(){return h})),n.d(t,"d",(function(){return y})),n.d(t,"c",(function(){return m}));var r=n("36d8"),a=n.n(r),o=n("2023"),i=n("34ba"),c=n("cefa"),s=n("dd5b"),u=n("4cf1"),l=n("8173"),f=n("d276"),p=n("325b"),d=a.a.mark(b);function b(){var e,t,n,r,o=arguments;return a.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:e=o.length>0&&void 0!==o[0]?o[0]:1e3,t=o.length>1&&void 0!==o[1]?o[1]:6e4,n=o.length>2&&void 0!==o[2]?o[2]:1.4,r=e;case 4:return a.next=7,r;case 7:r=Math.min(t,Math.ceil(r*n)),a.next=4;break;case 10:case"end":return a.stop()}}),d)}function h(e,t,n){return Object(o["a"])(e.pipe(Object(c["a"])(n),Object(s["a"])(1),Object(u["a"])()),Object(i["a"])(t))}function y(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:3e4;return h(t,e,Object(f["g"])(l["messageSend"],e.meta)).pipe(Object(p["h"])(n,r),Object(p["b"])(t))}function m(e,t){return function(n){return n.type===e&&(!t||n.expiration.eq(t.expiration)&&n.total_withdraw.eq("totalWithdraw"in t?t.totalWithdraw:t.total_withdraw))}}},"43fd":function(e,t,n){"use strict";n("7419")},"46f7":function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return b}));var r=n("c00b"),a=n("b97c"),o=n("87b8"),i=n("699d"),c=n("e64d"),s=n.n(c),u=n("ee6c"),l=n("ca14");function f(e,t){var n;if("boolean"===typeof e?e=e?o["c"]:o["f"]:"number"===typeof e&&(e=r["a"].from(e)),"string"!==typeof e||Object(a["l"])(e)||(e=Object(i["f"])(e)),Object(a["k"])(e)&&(e=Object(a["i"])(e)),l["b"].is(e)){if(e.lt(0))throw new u["c"](u["b"].DTA_NEGATIVE_NUMBER);if(e.gte(o["d"].pow(8*t)))throw new u["c"](u["b"].DTA_NUMBER_TOO_LARGE);n=Object(a["h"])(Object(a["i"])(e),t)}else{if("string"!==typeof e)throw new u["c"](u["b"].DTA_UNENCODABLE_DATA);if(Object(a["d"])(e)!==t)throw new u["c"](u["b"].DTA_ARRAY_LENGTH_DIFFERENCE);n=e}return n}var p=s()({storeAsString:!0}),d=p.parse,b=p.stringify},"49f8":function(e,t,n){var r={"./en.json":"edd4"};function a(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=o,e.exports=a,a.id="49f8"},"4bcb":function(e,t,n){"use strict";n("2b7f")},"4cd4":function(e,t,n){e.exports=n.p+"img/notification_block.ad9b07ff.svg"},"4e0b":function(e){e.exports=JSON.parse('{"contracts_version":null,"chain_id":5,"contracts":{"ServiceRegistry":{"address":"0x3bc9C8d34f5714327095358668fD436D7c457C6C","transaction_hash":"0xcec06ceaf6c15357177391017580bb0debdec890eb745c192d137e9ac57678d5","block_number":2723632,"gas_cost":1999628,"constructor_arguments":["0x5Fc523e13fBAc2140F056AD7A96De2cC0C4Cc63A","0x062C12c01D0f17fC9eAa33940D994594d91a0182",2e+21,6,5,17280000,1000,15552000]},"UserDeposit":{"address":"0x0794F09913AA8C77C8c5bdd1Ec4Bb51759Ee0cC5","transaction_hash":"0x50508f3c0a34284cf45d1f710e7cfe1c09ee0635a44c3bb2a72227ac9c1f1802","block_number":2723633,"gas_cost":1530470,"constructor_arguments":["0x5Fc523e13fBAc2140F056AD7A96De2cC0C4Cc63A",1.157920892373162e+77]},"MonitoringService":{"address":"0x20e8e5181000e60799A523a2023d630868f378Fd","transaction_hash":"0x72080b163a9b759f3b27cc207c5237826e8c7e525a44b28dba033a359416e494","block_number":2723634,"gas_cost":1949901,"constructor_arguments":["0x5Fc523e13fBAc2140F056AD7A96De2cC0C4Cc63A","0x3bc9C8d34f5714327095358668fD436D7c457C6C","0x0794F09913AA8C77C8c5bdd1Ec4Bb51759Ee0cC5","0x5a5CF4A63022F61F1506D1A2398490c2e8dfbb98"]},"OneToN":{"address":"0xA514Da2418576CeC4070C82996f30532dDa99706","transaction_hash":"0xaba87d45cfed63d3b69945de2bf9c7aa65d636a6163b54d305b369f28a3a5eaa","block_number":2723635,"gas_cost":1097797,"constructor_arguments":["0x0794F09913AA8C77C8c5bdd1Ec4Bb51759Ee0cC5",5,"0x3bc9C8d34f5714327095358668fD436D7c457C6C"]}}}')},"50e7":function(e,t,n){"use strict";n.d(t,"a",(function(){return fs})),n.d(t,"b",(function(){return ds}));var r={};n.r(r),n.d(r,"initEpic",(function(){return qe})),n.d(r,"initNewBlockEpic",(function(){return Ke})),n.d(r,"blockTimeEpic",(function(){return Ge})),n.d(r,"blockStaleEpic",(function(){return Ye})),n.d(r,"initTokensRegistryEpic",(function(){return Qe})),n.d(r,"initMonitorProviderEpic",(function(){return Ze})),n.d(r,"channelEventsEpic",(function(){return nt})),n.d(r,"channelMonitoredEpic",(function(){return rt})),n.d(r,"channelOpenEpic",(function(){return at})),n.d(r,"channelDepositEpic",(function(){return it})),n.d(r,"channelCloseEpic",(function(){return ct})),n.d(r,"channelUpdateEpic",(function(){return st})),n.d(r,"channelAutoSettleEpic",(function(){return ut})),n.d(r,"channelSettleEpic",(function(){return lt})),n.d(r,"channelSettleableEpic",(function(){return ft})),n.d(r,"channelUnlockEpic",(function(){return pt})),n.d(r,"confirmationEpic",(function(){return bt}));var a={};n.r(a),n.d(a,"dbErrorsEpic",(function(){return yt}));var o={};n.r(o),n.d(o,"msMonitorRequestEpic",(function(){return Rt})),n.d(o,"msMonitorNewBPEpic",(function(){return Dt})),n.d(o,"pfsRequestEpic",(function(){return Mn})),n.d(o,"pfsCapacityUpdateEpic",(function(){return Ln})),n.d(o,"pfsFeeUpdateEpic",(function(){return Bn})),n.d(o,"pfsServiceRegistryMonitorEpic",(function(){return Fn})),n.d(o,"monitorUdcBalanceEpic",(function(){return zn})),n.d(o,"udcDepositEpic",(function(){return er})),n.d(o,"udcWithdrawPlanRequestEpic",(function(){return tr})),n.d(o,"udcAutoWithdrawEpic",(function(){return nr})),n.d(o,"udcWithdrawEpic",(function(){return rr}));var i={};n.r(i),n.d(i,"transferMediateEpic",(function(){return yr})),n.d(i,"transferAutoExpireEpic",(function(){return _r})),n.d(i,"initQueuePendingEnvelopeMessagesEpic",(function(){return Cr})),n.d(i,"initQueuePendingReceivedEpic",(function(){return Ir})),n.d(i,"transferClearCompletedEpic",(function(){return Mr})),n.d(i,"transferGenerateAndSignEnvelopeMessageEpic",(function(){return ya})),n.d(i,"transferProcessedReceivedEpic",(function(){return _a})),n.d(i,"transferProcessedSendEpic",(function(){return ka})),n.d(i,"transferRetryMessageEpic",(function(){return Na})),n.d(i,"transferSecretRequestedEpic",(function(){return Fa})),n.d(i,"transferSecretRevealEpic",(function(){return Va})),n.d(i,"transferSecretRevealedEpic",(function(){return $a})),n.d(i,"transferRequestUnlockEpic",(function(){return Ha})),n.d(i,"monitorSecretRegistryEpic",(function(){return qa})),n.d(i,"transferSuccessOnSecretRegisteredEpic",(function(){return Ka})),n.d(i,"transferAutoRegisterEpic",(function(){return Ga})),n.d(i,"transferSecretRegisterEpic",(function(){return Ya})),n.d(i,"initWithdrawMessagesEpic",(function(){return oo})),n.d(i,"withdrawSendRequestMessageEpic",(function(){return io})),n.d(i,"withdrawSendTxEpic",(function(){return co})),n.d(i,"withdrawMessageProcessedEpic",(function(){return so})),n.d(i,"autoWithdrawExpireEpic",(function(){return uo})),n.d(i,"withdrawSendExpireMessageEpic",(function(){return lo}));var c={};n.r(c),n.d(c,"initMatrixEpic",(function(){return $o})),n.d(c,"matrixShutdownEpic",(function(){return Ho})),n.d(c,"matrixMessageSendEpic",(function(){return hi})),n.d(c,"matrixMessageGlobalSendEpic",(function(){return mi})),n.d(c,"matrixMessageReceivedEpic",(function(){return vi})),n.d(c,"deliveredEpic",(function(){return Oi})),n.d(c,"matrixMonitorPresenceEpic",(function(){return Hi})),n.d(c,"matrixPresenceUpdateEpic",(function(){return Yi})),n.d(c,"matrixMonitorChannelPresenceEpic",(function(){return Xi})),n.d(c,"matrixUpdateCapsEpic",(function(){return Qi})),n.d(c,"matrixLeaveUnknownRoomsEpic",(function(){return ic})),n.d(c,"rtcConnectEpic",(function(){return Gc}));var s=n("36d8"),u=n.n(s),l=n("87b8"),f=n("2bde"),p=n.n(f),d=n("fe07"),b=n.n(d),h=n("0529"),y=n.n(h),m=n("5e354"),v=n("2023"),O=n("dd97"),j=n("ae8f"),g=n("34ba"),w=n("42f4"),_=n("f5c1"),k=n("7f4a"),E=n("769c"),T=n("daae"),S=n("4cf1"),x=n("cefa"),A=n("4377"),P=n("4a9c"),N=n("dd5b"),R=n("58da"),D=n("18df"),C=n("231d"),I=n("258b"),U=n("423d"),M=n("2ac2"),L=n("dd00"),B=n("2f2f"),F=n("0eb1"),W=n("f5be"),V=n("f799"),$=n("f9e5"),H=n("3638"),q=n("b97c"),K=n("7ff5"),G=n.n(K),Y=n("5a9d"),X=n.n(Y),Q=n("605b"),Z=n.n(Q),z=n("02ce"),J=n.n(z),ee=n("331d"),te=n("dae3"),ne=n("516a"),re=n("a489"),ae=n("a00b"),oe=n("43a7"),ie=n("58be"),ce=n("25cb"),se=n("bd71"),ue=n("94e7"),le=n("9112"),fe=n("dc10"),pe=n("534d"),de=n("1c01"),be=n("459b"),he=n("5bbb"),ye=n("2b5b"),me=n("8089"),ve=n("7de2"),Oe=n("1a78"),je=n("59ec"),ge=n("d276"),we=n("46f7"),_e=n("ee6c"),ke=n("1b23"),Ee=n("325b"),Te=n("ca14"),Se=n("b8ff"),xe=n("8120");function Ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ae(Object(n),!0).forEach((function(t){Ne(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ae(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ne(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Re(e){return Ie(e)||Ce(e)||Fe(e)||De()}function De(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ce(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function Ie(e){if(Array.isArray(e))return We(e)}function Ue(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function Me(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Ue(o,r,a,i,c,"next",e)}function c(e){Ue(o,r,a,i,c,"throw",e)}i(void 0)}))}}function Le(e,t){return $e(e)||Ve(e,t)||Fe(e,t)||Be()}function Be(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Fe(e,t){if(e){if("string"===typeof e)return We(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?We(e,t):void 0}}function We(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ve(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done);r=!0)if(n.push(i.value),t&&n.length===t)break}catch(s){a=!0,o=s}finally{try{r||null==c["return"]||c["return"]()}finally{if(a)throw o}}return n}}function $e(e){if(Array.isArray(e))return e}function He(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function qe(e,t,n){He(e);var r=n.init$;return t.pipe(Object(F["a"])(),Object(I["a"])((function(e){var n=e.blockNumber,a=Date.now();return r.pipe(Object(I["a"])((function(e){return Object(_["a"])(Object(g["a"])(1),e.pipe(Object(S["a"])(),Object(ae["a"])(-1)))})),Object(R["a"])((function(e,t){return e+t}),0),Object(oe["a"])(10),Object(F["a"])((function(e){return 0===e})),Object(L["a"])(t),Object(k["a"])((function(e){var t=Le(e,2),r=t[1].blockNumber;return Object(W["g"])({tookMs:Date.now()-a,initialBlock:n,currentBlock:r})})))})),Object(Ee["b"])(t),Object(M["a"])((function(){return r.complete()})))}function Ke(e,t,n){He(t);var r=n.provider,a=n.init$;return Object(Ee["i"])((function(){return r.getBlockNumber()}),r.pollingInterval).pipe(Object(I["a"])((function(e){return a.pipe(Object(Ee["e"])((function(){return Object(ke["a"])(r,"block")})),Object(A["a"])(e))})),Object(k["a"])((function(e){return Object(V["newBlock"])({blockNumber:e})})),Object(Ee["b"])(e))}function Ge(e,t,n){He(t);var r=n.provider,a=20,o=[-a,0],i=function(e){return Object(ee["a"])(Me(u.a.mark((function t(){return u.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",r.getBlock(e).then((function(t){var n=t.timestamp;return[e,1e3*n]})));case 1:case"end":return t.stop()}}),t)}))))};return e.pipe(Object(x["a"])(V["newBlock"].is),Object(P["a"])("payload","blockNumber"),Object(x["a"])((function(e){return e>=o[0]+a})),Object(ie["a"])((function(e){var t=o[0]>0?Object(g["a"])(o):i(Math.max(1,e-a)),n=i(e);return Object(m["a"])([t,n]).pipe(Object(I["a"])(u.a.mark((function e(t){var n,r,a,i;return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=Le(t,2),r=n[0],a=n[1],i=(a[1]-r[1])/(a[0]-r[0]),i===o[2]){e.next=5;break}return e.next=5,i;case 5:o=[a[0],a[1],i];case 6:case"end":return e.stop()}}),e)}))),Object(U["a"])(G()(te["a"])))})),Object(k["a"])((function(e){return Object(V["blockTime"])({blockTime:e})})))}function Ye(e,t,n){He(e);var r=n.latest$,a=n.config$;return t.pipe(Object(Ee["g"])("blockNumber"),Object(L["a"])(r,a),Object(k["a"])((function(e){var t=Le(e,3),n=t[1].blockTime,r=t[2].httpTimeout;return Math.max(3*n,2*r)})),Object(ce["a"])((function(e){return Object(_["a"])(Object(g["a"])(!1),Object(w["a"])(e).pipe(Object(se["a"])(!0),Object(Ee["b"])(t)))})),Object(E["a"])(),Object(k["a"])((function(e){return Object(V["blockStale"])({stale:e})})))}function Xe(e){var t=e.address,n=e.provider,r=e.registryContract,a=e.contractsInfo,o=e.getTokenNetworkContract,i=$["b"].encode(["address"],[t]);return Object(ke["b"])(n,Object.assign(r.filters.TokenNetworkCreated(null,null),{fromBlock:a.TokenNetworkRegistry.block_number,toBlock:n.blockNumber})).pipe(Object(k["a"])(Object(ke["d"])(r)),Object(x["a"])((function(e){var t=Le(e,2),n=t[1];return!!n})),Object(ue["a"])(),Object(I["a"])((function(e){var t=Object(j["a"])(e.splice(0,2).map((function(e){var t=Le(e,3),n=t[0],r=t[1],a=t[2];return Object(V["tokenMonitored"])({token:n,tokenNetwork:r,fromBlock:a.blockNumber})}))),r=te["a"];if(e.length){var a=e[0][2].blockNumber,c=new Map(e.map((function(e){var t=Le(e,3),n=t[0],r=t[1],a=t[2];return[r,[n,a]]}))),s=Array.from(c.keys()),u=o(s[0]),l=ze(u),f=l.openTopic;r=Object(v["a"])(Object(ke["b"])(n,{address:s,topics:[f,null,i],fromBlock:a,toBlock:n.blockNumber}),Object(ke["b"])(n,{address:s,topics:[f,null,null,i],fromBlock:a,toBlock:n.blockNumber})).pipe(Object(le["a"])((function(e){return e.address})),Object(x["a"])((function(e){return c.has(e.address)})),Object(k["a"])((function(e){return Object(V["tokenMonitored"])({token:c.get(e.address)[0],tokenNetwork:e.address,fromBlock:e.blockNumber})})))}return Object(v["a"])(t,r)})))}function Qe(e,t,n){return e.pipe(Object(x["a"])(V["newBlock"].is),Object(N["a"])(1),Object(L["a"])(t),Object(I["a"])((function(e){var t,r=Le(e,2),a=r[1],o=new ne["a"];return n.init$.next(o),t=Z()(a.tokens)?Xe(n):Object(j["a"])(Object.entries(a.tokens).map((function(e){var t=Le(e,2),n=t[0],r=t[1];return Object(V["tokenMonitored"])({token:n,tokenNetwork:r})}))),t.pipe(Object(M["a"])((function(){return o.complete()})))})))}function Ze(e,t,n){var r;He(t);var a,o=n.address,i=n.main,c=n.network,s=n.provider,l=null!==(r=null===i||void 0===i?void 0:i.address)&&void 0!==r?r:o;return Object(w["a"])(0,s.pollingInterval).pipe(Object(Ee["b"])(e),Object(ie["a"])(Me(u.a.mark((function e(){var t,n,r,o,i;return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.all([!1===a?Promise.resolve(null):s.listAccounts(),s.getNetwork()]);case 3:if(t=e.sent,n=Le(t,2),r=n[0],o=n[1],Object(_e["d"])(o.chainId===c.chainId,"network changed"),void 0===a&&(a=null===r||void 0===r?void 0:r.includes(l)),!a||!r||r.includes(l)){e.next=11;break}return e.abrupt("return",Object(W["e"])({reason:ye["f"].ACCOUNT_CHANGED}));case 11:e.next=20;break;case 13:if(e.prev=13,e.t0=e["catch"](0),null===e.t0||void 0===e.t0||null===(i=e.t0.message)||void 0===i||!i.includes("network changed")){e.next=17;break}return e.abrupt("return",Object(W["e"])({reason:ye["f"].NETWORK_CHANGED}));case 17:if(!Object(_e["g"])(_e["h"],e.t0)){e.next=19;break}return e.abrupt("return");case 19:throw e.t0;case 20:case"end":return e.stop()}}),e,null,[[0,13]])})))),Object(x["a"])(Te["n"]))}function ze(e){return{openTopic:H["b"].getEventTopic(e.interface.getEvent("ChannelOpened")),depositTopic:H["b"].getEventTopic(e.interface.getEvent("ChannelNewDeposit")),withdrawTopic:H["b"].getEventTopic(e.interface.getEvent("ChannelWithdraw")),closedTopic:H["b"].getEventTopic(e.interface.getEvent("ChannelClosed")),settledTopic:H["b"].getEventTopic(e.interface.getEvent("ChannelSettled"))}}function Je(e,t){var n=Le(e,2),r=n[0],a=n[1],o=t.address,i=t.latest$,c=t.getTokenNetworkContract,s=c(a),u=ze(s),l=u.openTopic,f=u.depositTopic,p=u.withdrawTopic,d=u.closedTopic,b=u.settledTopic;return function(e){return e.pipe(Object(L["a"])(i),Object(k["a"])((function(e){var t,n,i=Le(e,2),c=i[0],s=i[1],u=s.state,h=s.config,y=c[0].toNumber(),m=Object.values(u.channels).find((function(e){return e.tokenNetwork===a&&e.id===y})),v=Object(Te["o"])(c),O=null===(t=v.topics)||void 0===t?void 0:t[0],j=v.transactionHash,g=v.blockNumber,w=g+h.confirmationBlocks<=u.blockNumber||void 0;switch(O){case l:var _=Le(c,4),k=_[1],E=_[2],T=_[3];if((o===k||o===E)&&(!m||y>m.id)){var S=o==k?E:k;n=V["channelOpen"].success({id:y,token:r,settleTimeout:T.toNumber(),isFirstParticipant:o===k,txHash:j,txBlock:g,confirmed:w},{tokenNetwork:a,partner:S})}break;case f:var x=Le(c,3),A=x[1],P=x[2];(null===m||void 0===m?void 0:m.id)===y&&P.gt(m[A===m.partner.address?"partner":"own"].deposit)&&(n=V["channelDeposit"].success({id:y,participant:A,totalDeposit:P,txHash:j,txBlock:g,confirmed:w},{tokenNetwork:a,partner:m.partner.address}));break;case p:var N=Le(c,3),R=N[1],D=N[2];(null===m||void 0===m?void 0:m.id)===y&&D.gt(m[R===m.partner.address?"partner":"own"].withdraw)&&(n=Object(V["channelWithdrawn"])({id:y,participant:R,totalWithdraw:D,txHash:j,txBlock:g,confirmed:w},{tokenNetwork:a,partner:m.partner.address}));break;case d:if((null===m||void 0===m?void 0:m.id)===y&&!("closeBlock"in m)){var C=Le(c,2),I=C[1];n=V["channelClose"].success({id:y,participant:I,txHash:j,txBlock:g,confirmed:w},{tokenNetwork:a,partner:m.partner.address})}break;case b:(null===m||void 0===m?void 0:m.id)===y&&(n=V["channelSettle"].success({id:y,txHash:j,txBlock:g,confirmed:w,locks:m.partner.locks},{tokenNetwork:a,partner:m.partner.address}));break}return n})),Object(x["a"])(Te["n"]))}}function et(e,t,n){var r=Le(e,2),a=r[0],o=r[1],i=Le(t,2),c=i[0],s=i[1],u=n.address,l=n.provider,f=n.latest$,p=n.getTokenNetworkContract,d=p(s),b=ze(d),h=b.openTopic;return Object(v["a"])(Object(ke["b"])(l,Object.assign(d.filters.ChannelOpened(null,u,null,null),{fromBlock:a,toBlock:o})),Object(ke["b"])(l,Object.assign(d.filters.ChannelOpened(null,null,u,null),{fromBlock:a,toBlock:o}))).pipe(Object(k["a"])(Object(ke["d"])(d)),Object(ue["a"])(),Object(L["a"])(f),Object(I["a"])((function(e){var t=Le(e,2),n=t[0],r=t[1].state,i=n.filter((function(e){var t=Le(e,3),n=t[0],a=t[1],o=t[2],i=u===a?o:a,c=n.toNumber(),l=Object(xe["d"])({tokenNetwork:s,partner:i});return!(Object(xe["e"])({id:c,tokenNetwork:s,partner:i})in r.oldChannels||l in r.channels&&c<r.channels[l].id)})),c=[].concat(Re(i),Re(Object.values(r.channels).filter((function(e){return e.tokenNetwork===s})).map((function(e){return[e.id]})))).map((function(e){var t=Le(e,1),n=t[0];return $["b"].encode(["uint256"],[n])}));if(0===c.length)return te["a"];var f={address:s,topics:[Object.values(ze(d)).filter((function(e){return e!==h})),c]};return Object(ke["b"])(l,Object.assign(f,{fromBlock:a,toBlock:o})).pipe(Object(k["a"])(Object(ke["d"])(d)),Object(ue["a"])(),Object(I["a"])((function(e){var t=[].concat(Re(i),Re(e));return Object(j["a"])(J()(t,[function(e){return Object(Te["o"])(e).blockNumber},function(e){return Object(Te["o"])(e).transactionIndex}]))})))})),Je([c,s],n))}function tt(e,t,n){var r=Le(t,2),a=r[0],o=r[1],i=n.provider,c=n.getTokenNetworkContract,s=n.config$,u=n.latest$,l=c(o),f=u.pipe(Object(Ee["g"])("state","blockNumber")),p={address:o,topics:[Object.values(ze(l))]};return Object(ke["a"])(i,p,{fromBlock:e,blockNumber$:f,confirmations:s.pipe(Object(P["a"])("confirmationBlocks"))}).pipe(Object(k["a"])(Object(ke["d"])(l)),Je([a,o],n))}function nt(e,t,n){He(t);var r=n.provider._lastBlockNumber;return e.pipe(Object(x["a"])(V["newBlock"].is),Object(P["a"])("payload","blockNumber"),Object(fe["a"])(1,void 0,(function(t){return e.pipe(Object(x["a"])(V["tokenMonitored"].is),Object(le["a"])((function(e){return e.payload.tokenNetwork})),Object(L["a"])(n.config$),Object(I["a"])((function(e){var a,o=Le(e,2),i=o[0],c=o[1].confirmationBlocks,s=i.payload,u=s.token,l=s.tokenNetwork,f=null!==(a=i.payload.fromBlock)&&void 0!==a?a:r-c,p=new ne["a"];return n.init$.next(p),t.pipe(Object(F["a"])(),Object(I["a"])((function(e){return Object(v["a"])(et([f,e],[u,l],n).pipe(Object(M["a"])((function(){p.next(!0),p.complete()}))),tt(e+1,[u,l],n).pipe(Object(B["a"])((function(){return p}))))})))})))})),Object(Ee["b"])(e))}function rt(e,t){return He(e),t.pipe(xe["f"],Object(I["a"])((function(e){return e.pipe(Object(F["a"])(),Object(k["a"])((function(e){return Object(V["channelMonitored"])({id:e.id},{tokenNetwork:e.tokenNetwork,partner:e.partner.address})})))})))}function at(e,t,n){var r=n.log,a=n.signer,o=n.address,i=n.main,c=n.provider,s=n.getTokenNetworkContract,u=n.config$;return e.pipe(Object(x["a"])(Object(ge["e"])(V["channelOpen"].request)),Object(L["a"])(t,u),Object(I["a"])((function(t){var n,l,f,p=Le(t,3),d=p[0],b=p[1],h=p[2],y=h.settleTimeout,m=h.subkey,v=d.meta,O=v.tokenNetwork,j=v.partner,w=null===(n=b.channels[Object(xe["d"])(d.meta)])||void 0===n?void 0:n.state;if(w)return Object(g["a"])(V["channelOpen"].failure(new _e["c"](_e["b"].CNL_INVALID_STATE,{state:w}),d.meta));var k=Object(me["b"])({signer:a,address:o,main:i},null!==(l=d.payload.subkey)&&void 0!==l?l:m),E=k.signer,T=Object(me["d"])(s(O),E),A=te["a"];return null!==(f=d.payload.deposit)&&void 0!==f&&f.gt(0)&&(A=Object(g["a"])(V["channelDeposit"].request({deposit:d.payload.deposit,subkey:d.payload.subkey,waitOpen:!0},d.meta))),Object(_["a"])(A,Object(ee["a"])((function(){var e;return T.openChannel(o,j,null!==(e=d.payload.settleTimeout)&&void 0!==e?e:y)})).pipe(Object(xe["b"])("openChannel",_e["b"].CNL_OPENCHANNEL_FAILED,{log:r,provider:c}),Object(Ee["j"])(Object(he["b"])(u),{onErrors:_e["e"],log:r.info}),Object(C["a"])(e.pipe(Object(x["a"])(V["channelOpen"].success.is),Object(x["a"])((function(e){return e.meta.tokenNetwork===O&&e.meta.partner===j})))),Object(S["a"])(),Object(U["a"])((function(e){return Object(g["a"])(V["channelOpen"].failure(e,d.meta))}))))})))}function ot(e,t,n,r,a){var o=Le(e,2),i=o[0],c=o[1],s=Le(t,3),l=s[0],f=s[1],p=s[2],d=a.log,b=a.provider,h=a.config$;return Object(ee["a"])((function(){return Promise.all([i.callStatic.balanceOf(l),i.callStatic.allowance(l,c.address)])})).pipe(Object(L["a"])(h),Object(I["a"])((function(e){var t=Le(e,2),r=Le(t[0],2),a=r[0],o=r[1],s=t[1].minimumAllowance;return Object(xe["a"])([a,o,n],i,c.address,_e["b"].CNL_APPROVE_TRANSACTION_FAILED,{provider:b},{log:d,minimumAllowance:s})})),Object(pe["a"])(r),Object(N["a"])(1),Object(I["a"])(function(){var e=Me(u.a.mark((function e(t){return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",c.callStatic.getChannelParticipantInfo(t,f,p).then((function(e){var n=e[0];return[t,n]})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Object(I["a"])(function(){var e=Me(u.a.mark((function e(t){var r,a,o;return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=Le(t,2),a=r[0],o=r[1],e.abrupt("return",c.setTotalDeposit(a,f,o.add(n),p));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Object(xe["b"])("setTotalDeposit",_e["b"].CNL_SETTOTALDEPOSIT_FAILED,{log:d,provider:b}),Object(Ee["j"])(Object(he["b"])(h),{onErrors:_e["e"],log:d.info}))}function it(e,t,n){He(t);var r=n.log,a=n.signer,o=n.address,i=n.main,c=n.getTokenContract,s=n.getTokenNetworkContract,u=n.provider,l=n.config$,f=n.latest$;return e.pipe(Object(x["a"])(Object(ge["e"])(V["channelDeposit"].request)),Object(de["a"])((function(e){return e.meta.tokenNetwork})),Object(I["a"])((function(t){return t.pipe(Object(be["a"])((function(t){return Object(m["a"])([f,l]).pipe(Object(F["a"])(),Object(I["a"])((function(n){var p,d=Le(n,2),b=d[0].state,h=d[1].subkey;Object(_e["d"])(t.payload.deposit.gt(0),_e["b"].DTA_INVALID_DEPOSIT);var y,m=t.meta,O=m.tokenNetwork,j=m.partner,w=X()(b.tokens,(function(e){return e===O})),_=b.channels[Object(xe["d"])(t.meta)];if(w&&!_&&t.payload.waitOpen)y=Object(v["a"])(e.pipe(Object(x["a"])(V["channelOpen"].failure.is),Object(x["a"])((function(e){return e.meta.tokenNetwork===t.meta.tokenNetwork&&e.meta.partner===t.meta.partner})),Object(pe["a"])(Object(re["a"])(new _e["c"](_e["b"].CNL_NO_OPEN_CHANNEL_FOUND,t.meta)))),f.pipe(Object(P["a"])("state","channels",Object(xe["d"])(t.meta)),Object(x["a"])(Te["n"])));else{if((null===_||void 0===_?void 0:_.state)!==Se["b"].open)throw new _e["c"](_e["b"].CNL_NO_OPEN_CHANNEL_FOUND);y=Object(g["a"])(_)}var k=Object(me["b"])({signer:a,address:o,main:i},null!==(p=t.payload.subkey)&&void 0!==p?p:h),E=k.signer,T=k.address,A=Object(me["d"])(c(w),E),N=Object(me["d"])(s(O),E);return y.pipe(Object(P["a"])("id"),Object(fe["a"])(1,void 0,(function(e){return ot([A,N],[T,o,j],t.payload.deposit,e,{log:r,provider:u,config$:l})})),Object(S["a"])())})),Object(U["a"])((function(e){return Object(g["a"])(V["channelDeposit"].failure(e,t.meta))})))})))})))}function ct(e,t,n){var r=n.log,a=n.signer,o=n.address,i=n.main,c=n.provider,s=n.network,u=n.getTokenNetworkContract,l=n.config$;return e.pipe(Object(x["a"])(Object(ge["e"])(V["channelClose"].request)),Object(L["a"])(t,l),Object(I["a"])((function(t){var n,f,p=Le(t,3),d=p[0],b=p[1],h=p[2].subkey,y=d.meta,m=y.tokenNetwork,v=y.partner,O=Object(me["b"])({signer:a,address:o,main:i},null!==(n=null===(f=d.payload)||void 0===f?void 0:f.subkey)&&void 0!==n?n:h),w=O.signer,_=Object(me["d"])(u(m),w),k=b.channels[Object(xe["d"])(d.meta)];if((null===k||void 0===k?void 0:k.state)!==Se["b"].open&&(null===k||void 0===k?void 0:k.state)!==Se["b"].closing){var E=new _e["c"](_e["b"].CNL_NO_OPEN_OR_CLOSING_CHANNEL_FOUND,d.meta);return Object(g["a"])(V["channelClose"].failure(E,d.meta))}var T=k.partner.balanceProof,A=Object(ve["b"])(T),P=T.nonce,N=T.additionalHash,R=T.signature,D=Object(q["b"])([Object(we["a"])(m,20),Object(we["a"])(s.chainId,32),Object(we["a"])(ve["a"].BALANCE_PROOF,32),Object(we["a"])(k.id,32),Object(we["a"])(A,32),Object(we["a"])(P,32),Object(we["a"])(N,32),Object(we["a"])(R,65)]);return Object(j["a"])(a.signMessage(D)).pipe(Object(I["a"])((function(t){return Object(ee["a"])((function(){return _.closeChannel(k.id,v,o,A,P,N,R,t)})).pipe(Object(xe["b"])("closeChannel",_e["b"].CNL_CLOSECHANNEL_FAILED,{log:r,provider:c}),Object(Ee["j"])(Object(he["b"])(l),{onErrors:_e["e"],log:r.info}),Object(C["a"])(e.pipe(Object(x["a"])(V["channelClose"].success.is),Object(x["a"])((function(e){return e.meta.tokenNetwork===m&&e.meta.partner===v})))))})),Object(S["a"])(),Object(U["a"])((function(e){return Object(g["a"])(V["channelClose"].failure(e,d.meta))})))})))}function st(e,t,n){var r=n.log,a=n.signer,o=n.address,i=n.main,c=n.provider,s=n.network,u=n.getTokenNetworkContract,f=n.config$;return e.pipe(Object(x["a"])(Object(ge["e"])(V["channelClose"].success)),Object(x["a"])((function(e){return!!e.payload.confirmed})),Object(B["a"])((function(){return e.pipe(Object(x["a"])(V["newBlock"].is))})),Object(L["a"])(t,f),Object(x["a"])((function(e){var t=Le(e,2),n=t[0],r=t[1],a=r.channels[Object(xe["d"])(n.meta)];return(null===a||void 0===a?void 0:a.state)===Se["b"].closed&&a.id===n.payload.id&&a.partner.balanceProof.transferredAmount.add(a.partner.balanceProof.lockedAmount).gt(l["f"])&&a.closeParticipant!==o})),Object(I["a"])((function(e){var t=Le(e,3),n=t[0],l=t[1],p=t[2].subkey,d=n.meta,b=d.tokenNetwork,h=d.partner,y=Object(me["b"])({signer:a,address:o,main:i},p),m=y.signer,v=Object(me["d"])(u(b),m),O=l.channels[Object(xe["d"])(n.meta)],g=Object(ve["b"])(O.partner.balanceProof),w=O.partner.balanceProof.nonce,_=O.partner.balanceProof.additionalHash,k=O.partner.balanceProof.signature,E=Object(q["b"])([Object(we["a"])(b,20),Object(we["a"])(s.chainId,32),Object(we["a"])(ve["a"].BALANCE_PROOF_UPDATE,32),Object(we["a"])(O.id,32),Object(we["a"])(g,32),Object(we["a"])(w,32),Object(we["a"])(_,32),Object(we["a"])(k,65)]);return Object(j["a"])(a.signMessage(E)).pipe(Object(I["a"])((function(e){return Object(ee["a"])((function(){return v.updateNonClosingBalanceProof(O.id,h,o,g,w,_,k,e)})).pipe(Object(xe["b"])("updateNonClosingBalanceProof",_e["b"].CNL_UPDATE_NONCLOSING_BP_FAILED,{log:r,provider:c}),Object(Ee["j"])(Object(he["b"])(f),{onErrors:_e["e"],log:r.info}))})),Object(S["a"])(),Object(U["a"])((function(e){return r.error("Error updating non-closing balance-proof, ignoring",e),te["a"]})))})))}function ut(e,t,n){He(e);var r=n.config$;return t.pipe(xe["f"],Object(I["a"])((function(e){return e.pipe(Object(x["a"])((function(e){return e.state===Se["b"].settleable})),Object(N["a"])(1),Object(L["a"])(r),Object(B["a"])((function(e){var n=Le(e,2),r=n[0],a=n[1].confirmationBlocks,o=r.closeBlock+r.settleTimeout+Math.round(a*(1+Math.random()));return t.pipe(Object(P["a"])("blockNumber"),Object(x["a"])((function(e){return o<=e})),Object(N["a"])(1))})),Object(L["a"])(t),Object(x["a"])((function(e){var t,n=Le(e,2),r=Le(n[0],1),a=r[0],o=n[1];return(null===(t=o.channels[Object(xe["d"])(a)])||void 0===t?void 0:t.state)===Se["b"].settleable})),Object(k["a"])((function(e){var t=Le(e,1),n=Le(t[0],1),r=n[0];return V["channelSettle"].request(void 0,{tokenNetwork:r.tokenNetwork,partner:r.partner.address})})))})),Object(Ee["k"])(r.pipe(Object(P["a"])("autoSettle"),Object(Ee["b"])(t))))}function lt(e,t,n){var r=n.log,a=n.signer,o=n.address,i=n.main,c=n.provider,s=n.getTokenNetworkContract,u=n.config$,l=n.db;return e.pipe(Object(x["a"])(Object(ge["e"])(V["channelSettle"].request)),Object(L["a"])(t,u),Object(I["a"])((function(t){var n,f,p=Le(t,3),d=p[0],b=p[1],h=p[2].subkey,y=d.meta,v=y.tokenNetwork,O=y.partner,j=Object(me["b"])({signer:a,address:o,main:i},null!==(n=null===(f=d.payload)||void 0===f?void 0:f.subkey)&&void 0!==n?n:h),w=j.signer,_=Object(me["d"])(s(v),w),E=b.channels[Object(xe["d"])(d.meta)],T=[Se["b"].settleable,Se["b"].settling];if(!T.includes(null===E||void 0===E?void 0:E.state)){var A=new _e["c"](_e["b"].CNL_NO_SETTLEABLE_OR_SETTLING_CHANNEL_FOUND,d.meta);return Object(g["a"])(V["channelSettle"].failure(A,d.meta))}return Object(ee["a"])((function(){return Promise.all([_.callStatic.getChannelParticipantInfo(E.id,o,O),_.callStatic.getChannelParticipantInfo(E.id,O,o)])})).pipe(Object(Ee["j"])(Object(he["b"])(u),{onErrors:_e["h"]}),Object(I["a"])((function(t){var n,a,i=Le(t,2),s=i[0][3],f=i[1][3];return n=s===Object(ve["b"])(E.own.balanceProof)?Object(g["a"])(E.own.balanceProof):Object(je["a"])(l,E,Oe["a"].SENT,s).pipe(Object(U["a"])((function(){return Object(re["a"])(new _e["c"](_e["b"].CNL_SETTLE_INVALID_BALANCEHASH,{address:o,ownBalanceHash:s}))}))),a=f===Object(ve["b"])(E.partner.balanceProof)?Object(g["a"])(E.partner.balanceProof):Object(je["a"])(l,E,Oe["a"].RECEIVED,f).pipe(Object(U["a"])((function(){return Object(re["a"])(new _e["c"](_e["b"].CNL_SETTLE_INVALID_BALANCEHASH,{address:o,partnerBalanceHash:f}))}))),Object(m["a"])([n,a]).pipe(Object(k["a"])((function(e){var t=Le(e,2),n=t[0],r=t[1];return r.transferredAmount.add(r.lockedAmount).lt(n.transferredAmount.add(n.lockedAmount))?[[O,r],[o,n]]:[[o,n],[O,r]]})),Object(I["a"])((function(t){var n=Le(t,2),a=n[0],o=n[1];return Object(ee["a"])((function(){return _.settleChannel(E.id,a[0],a[1].transferredAmount,a[1].lockedAmount,a[1].locksroot,o[0],o[1].transferredAmount,o[1].lockedAmount,o[1].locksroot)})).pipe(Object(xe["b"])("settleChannel",_e["b"].CNL_SETTLE_FAILED,{log:r,provider:c}),Object(Ee["j"])(Object(he["b"])(u),{onErrors:_e["e"],log:r.info}),Object(C["a"])(e.pipe(Object(x["a"])(V["channelSettle"].success.is),Object(x["a"])((function(e){return e.meta.tokenNetwork===v&&e.meta.partner===O})))))})))})),Object(S["a"])(),Object(U["a"])((function(e){return Object(g["a"])(V["channelSettle"].failure(e,d.meta))})))})))}function ft(e,t){return e.pipe(Object(x["a"])(V["newBlock"].is),Object(P["a"])("payload","blockNumber"),Object(L["a"])(t),Object(I["a"])(u.a.mark((function e(t){var n,r,a,o,i,c;return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=Le(t,2),r=n[0],a=n[1],o=0,i=Object.values(a.channels);case 2:if(!(o<i.length)){e.next=10;break}if(c=i[o],!(c.state===Se["b"].closed&&r>=c.closeBlock+c.settleTimeout)){e.next=7;break}return e.next=7,Object(V["channelSettleable"])({settleableBlock:r},{tokenNetwork:c.tokenNetwork,partner:c.partner.address});case 7:o++,e.next=2;break;case 10:case"end":return e.stop()}}),e)}))))}function pt(e,t,n){var r=n.log,a=n.signer,o=n.address,i=n.main,c=n.provider,s=n.getTokenNetworkContract,u=n.config$;return e.pipe(Object(x["a"])(Object(ge["e"])(V["channelSettle"].success)),Object(x["a"])((function(e){var t;return!(!e.payload.confirmed||null===(t=e.payload.locks)||void 0===t||!t.length)})),Object(L["a"])(t,u),Object(x["a"])((function(e){var t,n=Le(e,2),r=n[0],a=n[1];return(null===(t=a.channels[Object(xe["d"])(r.meta)])||void 0===t?void 0:t.id)!==r.payload.id})),Object(I["a"])((function(e){var t=Le(e,3),n=t[0],l=t[2].subkey,f=n.meta,p=f.tokenNetwork,d=f.partner,b=Object(me["d"])(s(p),Object(me["b"])({signer:a,address:o,main:i},l).signer),h=Object(q["b"])(n.payload.locks.reduce((function(e,t){return[].concat(Re(e),[Object(we["a"])(t.expiration,32),Object(we["a"])(t.amount,32),t.secrethash])}),[]));return Object(ee["a"])((function(){return b.unlock(n.payload.id,o,d,h)})).pipe(Object(xe["b"])("unlock",_e["b"].CNL_ONCHAIN_UNLOCK_FAILED,{log:r,provider:c}),Object(Ee["j"])(Object(he["b"])(u),{onErrors:_e["e"],log:r.info}),Object(S["a"])(),Object(U["a"])((function(e){return r.error("Error unlocking pending locks on-chain, ignoring",e),te["a"]})))})))}function dt(e,t,n,r){return Object(Ee["i"])((function(){return t.getTransactionReceipt(e.payload.txHash)}),t.pollingInterval).pipe(Object(k["a"])((function(t){var a;return void 0!==(null===t||void 0===t?void 0:t.confirmations)&&t.confirmations>=r&&t.status?Pe(Pe({},e),{},{payload:Pe(Pe({},e.payload),{},{txBlock:null!==(a=t.blockNumber)&&void 0!==a?a:e.payload.txBlock,confirmed:!0})}):e.payload.txBlock+2*r<n?Pe(Pe({},e),{},{payload:Pe(Pe({},e.payload),{},{confirmed:!1})}):void 0})),Object(x["a"])(Te["n"]))}function bt(e,t,n){He(e);var r=n.config$,a=n.provider,o=n.latest$;return Object(m["a"])([t.pipe(Object(Ee["g"])("blockNumber")),t.pipe(Object(P["a"])("pendingTxs")),r.pipe(Object(Ee["g"])("confirmationBlocks"),Object(Ee["b"])(t))]).pipe(Object(x["a"])((function(e){var t=Le(e,2),n=t[1];return n.length>0})),Object(ie["a"])((function(e){var t=Le(e,3),n=t[0],r=t[1],i=t[2];return Object(j["a"])(r).pipe(Object(x["a"])((function(e){return e.payload.txBlock+i<n})),Object(be["a"])((function(e){return dt(e,a,n,i).pipe(Object(C["a"])(o.pipe(Object(x["a"])((function(t){var n=t.state;return!n.pendingTxs.some((function(t){return t.type===e.type&&t.payload.txHash===e.payload.txHash}))})))))})))})))}function ht(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function yt(e,t,n){ht(t);var r=n.db;return r.busy$.pipe(Object(S["a"])(),Object(Ee["b"])(e))}var mt=n("eed9"),vt=n("c00b"),Ot=n("945b"),jt=n("ad7d"),gt=n("8173"),wt=n("5778"),_t=n("d011");function kt(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function Et(e,t){return Pt(e)||At(e,t)||St(e,t)||Tt()}function Tt(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function St(e,t){if(e){if("string"===typeof e)return xt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xt(e,t):void 0}}function xt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function At(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done);r=!0)if(n.push(i.value),t&&n.length===t)break}catch(s){a=!0,o=s}finally{try{r||null==c["return"]||c["return"]()}finally{if(a)throw o}}return n}}function Pt(e){if(Array.isArray(e))return e}function Nt(e){var t=e.address,n=e.log,r=e.network,a=e.signer,o=e.contractsInfo,i=e.latest$,c=e.config$;return function(e){var s=Et(e,2),u=s[1],f=Object(xe["c"])(u),p=f.partnerUnlocked;return p.isZero()?te["a"]:Object(m["a"])([i,c]).pipe(Object(x["a"])((function(e){var t,n=Et(e,2),r=n[0].udcDeposit,a=n[1],o=a.monitoringReward,i=a.rateToSvt;return!(null===o||void 0===o||!o.gt(l["f"]))&&r.balance.gte(o)&&p.mul(null!==(t=i[u.token])&&void 0!==t?t:l["a"]).div(l["e"]).gt(o)})),Object(N["a"])(1),Object(I["a"])((function(e){var i=Et(e,2),c=i[1].monitoringReward,s=u.partner.balanceProof,l=Object(ve["b"])(s),f=Object(q["b"])([Object(we["a"])(u.tokenNetwork,20),Object(we["a"])(r.chainId,32),Object(we["a"])(ve["a"].BALANCE_PROOF_UPDATE,32),Object(we["a"])(u.id,32),Object(we["a"])(l,32),Object(we["a"])(s.nonce,32),Object(we["a"])(s.additionalHash,32),Object(we["a"])(s.signature,65)]),p=Object(je["e"])().toString();return Object(j["a"])(a.signMessage(f)).pipe(Object(I["a"])((function(e){return Object(ve["h"])(a,{type:wt["d"].MONITOR_REQUEST,balance_proof:{chain_id:s.chainId,token_network_address:s.tokenNetworkAddress,channel_identifier:vt["a"].from(u.id),nonce:s.nonce,balance_hash:l,additional_hash:s.additionalHash,signature:s.signature},non_closing_participant:t,non_closing_signature:e,monitoring_service_contract_address:o.MonitoringService.address,reward_amount:c},{log:n})})),Object(k["a"])((function(e){return gt["messageServiceSend"].request({message:e},{service:_t["h"].MS,msgId:p})})))})),Object(U["a"])((function(e){return n.error("Error trying to generate & sign MonitorRequest",e),te["a"]})))}}function Rt(e,t,n){return kt(e),t.pipe(xe["f"],Object(L["a"])(n.config$),Object(I["a"])((function(e){var t=Et(e,2),r=t[0],a=t[1].httpTimeout;return r.pipe(Object(E["a"])((function(e,t){return t.partner.balanceProof.transferredAmount.eq(e.partner.balanceProof.transferredAmount)&&t.partner.balanceProof.lockedAmount.eq(e.partner.balanceProof.lockedAmount)&&t.partner.locks===e.partner.locks})),Object(Ot["a"])(),Object(jt["a"])((function(e){var t=Et(e,2),n=t[0],r=t[1];return r.partner.locks.length>n.partner.locks.length?Object(w["a"])(a):Object(g["a"])(1)})),Object(ce["a"])(Nt(n)))})))}function Dt(e,t,n){var r=n.provider,a=n.monitoringServiceContract,o=n.address,i=n.config$,c=n.init$,s=new ne["a"];return c.next(s),Object(ke["a"])(r,a.filters.NewBalanceProofReceived(null,null,null,null,null,o),{confirmations:i.pipe(Object(P["a"])("confirmationBlocks")),blockNumber$:e.pipe(Object(x["a"])(V["newBlock"].is),Object(P["a"])("payload","blockNumber")),onPastCompleted:function(){s.next(null),s.complete()}}).pipe(Object(Ee["b"])(t),Object(k["a"])(Object(ke["d"])(a)),Object(x["a"])((function(e){var t=Et(e,6),n=t[5];return n===o})),Object(L["a"])(t,i),Object(k["a"])((function(e){var t=Et(e,3),n=Et(t[0],7),r=n[0],a=n[1],o=n[2],i=n[3],c=n[4],s=n[6],u=t[1],l=t[2].confirmationBlocks,f=Object.values(u.channels).concat(Object.values(u.oldChannels)).find((function(e){return e.tokenNetwork===r&&a.eq(e.id)})),p=s.blockNumber;if(f&&p)return Object(mt["msBalanceProofSent"])({tokenNetwork:r,partner:f.partner.address,id:f.id,reward:o,nonce:i,monitoringService:c,txHash:s.transactionHash,txBlock:p,confirmed:p+l<=u.blockNumber||void 0})})),Object(x["a"])(Te["n"]))}var Ct=n("a033"),It=n.n(Ct),Ut=n("d890"),Mt=n("0862"),Lt=n("699d"),Bt=n("8379"),Ft=n("d9a3"),Wt=n.n(Ft),Vt=n("2111"),$t=n("8509"),Ht=n("72251"),qt=n("358d");function Kt(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=an(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function Gt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Yt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gt(Object(n),!0).forEach((function(t){Xt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Xt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qt(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function Zt(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Qt(o,r,a,i,c,"next",e)}function c(e){Qt(o,r,a,i,c,"throw",e)}i(void 0)}))}}function zt(e){return tn(e)||en(e)||an(e)||Jt()}function Jt(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function en(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function tn(e){if(Array.isArray(e))return on(e)}function nn(e,t){return sn(e)||cn(e,t)||an(e,t)||rn()}function rn(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function an(e,t){if(e){if("string"===typeof e)return on(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?on(e,t):void 0}}function on(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function cn(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done);r=!0)if(n.push(i.value),t&&n.length===t)break}catch(s){a=!0,o=s}finally{try{r||null==c["return"]||c["return"]()}finally{if(a)throw o}}return n}}function sn(e){if(Array.isArray(e))return e}var un=Vt["p"](Vt["v"]({error_code:Vt["n"],errors:Vt["s"]}));function ln(e){return(null!==e&&void 0!==e?e:new Date).toISOString().substr(0,19)}function fn(e,t,n){var r=n.address,a=n.signer,o=n.network,i=n.contractsInfo,c=n.latest$,s=n.config$;return Object(ee["a"])((function(){var t=ln(),n=Object(q["b"])([r,e.address,Object(Lt["f"])(t)]);return Object(j["a"])(a.signMessage(n)).pipe(Object(k["a"])((function(n){return{sender:r,receiver:e.address,timestamp:t,signature:n}})))})).pipe(Object(L["a"])(s),Object(I["a"])((function(n){var r=nn(n,2),a=r[0],o=r[1].httpTimeout;return Object($t["a"])("".concat(e.url,"/api/v1/").concat(t,"/payment/iou?").concat(new URLSearchParams(a).toString()),{method:"GET",headers:{"Content-Type":"application/json"}}).pipe(Object(Ht["a"])(o),Object(Ee["j"])(Object(he["b"])(s),{onErrors:[].concat(zt(_e["h"]),["TimeoutError"])}))})),Object(L["a"])(c.pipe(Object(P["a"])("state","blockNumber")),s),Object(I["a"])(function(){var t=Zt(u.a.mark((function t(n){var a,c,s,f,p,d,b,h;return u.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=nn(n,3),c=a[0],s=a[1],f=a[2].pfsIouTimeout,404!==c.status){t.next=3;break}return t.abrupt("return",{sender:r,receiver:e.address,chain_id:vt["a"].from(o.chainId),amount:l["f"],one_to_n_address:i.OneToN.address,expiration_block:vt["a"].from(s).add(f)});case 3:return t.next=5,c.text();case 5:if(p=t.sent,c.ok){t.next=8;break}throw new _e["c"](_e["b"].PFS_LAST_IOU_REQUEST_FAILED,{responseStatus:c.status,responseText:p});case 8:if(d=Object(Te["l"])(_t["b"],Object(we["b"])(p)),b=d.last_iou,h=Object(Bt["b"])(Object(qt["b"])(b),b.signature),h===r){t.next=12;break}throw new _e["c"](_e["b"].PFS_IOU_SIGNATURE_MISMATCH,{signer:h,address:r});case 12:return t.abrupt("return",b);case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()))}function pn(e,t,n){return e.price.isZero()?Object(g["a"])(void 0):n.latest$.pipe(Object(F["a"])(),Object(I["a"])((function(r){var a,o=r.state,i=null===(a=o.iou[t])||void 0===a?void 0:a[e.address];return i?Object(g["a"])(i):fn(e,t,n)})),Object(k["a"])((function(t){return Yt(Yt({},t),{},{amount:t.amount.add(e.price)})})),Object(I["a"])((function(e){return Object(qt["e"])(n.signer,e)})))}function dn(e,t,n){var r=e.meta,a=r.tokenNetwork,o=r.target,i=r.value;Object(_e["d"])(Object.values(t.tokens).includes(a),[_e["b"].PFS_UNKNOWN_TOKEN_NETWORK,{tokenNetwork:a}]),Object(_e["d"])(n[o].payload.available,[_e["b"].PFS_TARGET_OFFLINE,{target:o}]),Object(_e["d"])(Object(Mt["a"])(n[o].payload.caps,ye["a"].RECEIVE),[_e["b"].PFS_TARGET_NO_RECEIVE,{target:o}]),Object(_e["d"])(Object.values(t.channels).some((function(e){return!0===Object(qt["a"])(t,n,a,e.partner.address,o,i)})),_e["b"].PFS_NO_ROUTES_BETWEEN_NODES)}function bn(e,t){var n=null===e.payload.pfs,r=!e.payload.pfs&&t.pfsMode===_t["f"].disabled;return n||r}function hn(e,t){return t.config$.pipe(Object(F["a"])(),Object(Ee["f"])((function(n){return mn(e.payload.pfs,n,t)})),Object(Ee["f"])((function(n){var r=nn(n,2),a=r[1];return pn(a,e.meta.tokenNetwork,t)})),Object(Ee["f"])((function(n){var r=nn(n,2),a=nn(r[0],2),o=a[0],i=a[1],c=r[1];return vn(i,c,e.meta,{address:t.address,config:o})})),Object(k["a"])((function(t){var n=nn(t,2),r=nn(n[0],2),a=nn(r[0],1),o=a[0],i=r[1],c=n[1],s=c.response,u=c.text,l=Object(we["b"])(u);if(!s.ok){var f=Object(Te["l"])(un,l);return{iou:i,error:f}}return{iou:i,paths:jn(e.meta.value,l,o)}})))}function yn(e,t,n,r){var a,o=t.address,i=t.log,c=n.state,s=n.presences,u=[],l=new Set,f=Kt(r);try{for(f.s();!(a=f.n()).done;){var p=a.value,d=p.path,b=p.fee,h=wn(d,o),y=h[0];if(!l.has(y)){var m=!1,v="";if(u.length)y!==u[0].path[0]?v="path: already selected another recipient":b.gt(u[0].fee)?v="path: already selected a smaller fee":m=!0;else{var O=Object(qt["a"])(c,s,e.meta.tokenNetwork,y,e.meta.target,e.meta.value);!0===O?m=!0:v=O}m?u.push({path:h,fee:b}):(i.warn("Invalidated received route. Reason:",v,"Route:",h),l.add(y))}}}catch(j){f.e(j)}finally{f.f()}return u}function mn(e,t,n){if(e)return Object(g["a"])(e);if(t.pfsMode===_t["f"].onlyAdditional)return Object(ee["a"])(Zt(u.a.mark((function e(){var r,a,o,i;return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=Kt(t.additionalServices),e.prev=1,a.s();case 3:if((o=a.n()).done){e.next=16;break}return i=o.value,e.prev=5,e.next=8,Object(qt["c"])(i,n);case 8:return e.abrupt("return",e.sent);case 11:e.prev=11,e.t0=e["catch"](5),r||(r=e.t0);case 14:e.next=3;break;case 16:e.next=21;break;case 18:e.prev=18,e.t1=e["catch"](1),a.e(e.t1);case 21:return e.prev=21,a.f(),e.finish(21);case 24:throw r;case 25:case"end":return e.stop()}}),e,null,[[1,18,21,24],[5,11]])}))));var r=n.log,a=n.latest$,o=n.init$;return o.pipe(Object(Ee["e"])((function(){return a.pipe(Object(F["a"])(),Object(P["a"])("state","services"))})),Object(I["a"])((function(e){return Object(qt["d"])(t.additionalServices.concat(Object.keys(e)),n).pipe(Object(k["a"])((function(n){return r.info("Auto-selecting best PFS from:",n),Object(_e["d"])(n.length,[_e["b"].PFS_INVALID_INFO,{services:Object.keys(e).join(","),additionalServices:t.additionalServices.join(",")}]),n[0]})))})))}function vn(e,t,n,r){var a=n.tokenNetwork,o=n.target,i=n.value,c=r.address,s=r.config,l=s.httpTimeout,f=s.pfsMaxPaths,p=Object(we["c"])({from:c,to:o,value:Object(Te["j"])(32).encode(i),max_paths:f,iou:t?Yt(Yt({},t),{},{amount:Object(Te["j"])(32).encode(t.amount),expiration_block:Object(Te["j"])(32).encode(t.expiration_block),chain_id:Object(Te["j"])(32).encode(t.chain_id)}):void 0});return Object($t["a"])("".concat(e.url,"/api/v1/").concat(a,"/paths"),{method:"POST",headers:{"Content-Type":"application/json"},body:p}).pipe(Object(Ht["a"])(l),Object(Ee["j"])(Object(he["b"])(Object(g["a"])(s)),{onErrors:[].concat(zt(_e["h"]),["TimeoutError"])}),Object(I["a"])(function(){var e=Zt(u.a.mark((function e(t){return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.t0=t,e.next=3,t.text();case 3:return e.t1=e.sent,e.abrupt("return",{response:e.t0,text:e.t1});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))}function On(e,t,n){var r=n.pfsSafetyMargin,a=1,o=0;return"number"===typeof r?a=r:(a=r[0]+1,o=r[1]),Object(Te["l"])(Object(Te["d"])(32),new Wt.a(e.toHexString()).times(a).plus(new Wt.a(t.toHexString()).times(o)).toFixed(0,Wt.a.ROUND_CEIL))}function jn(e,t,n){var r=Object(Te["l"])(_t["d"],t).result.slice(0,n.pfsMaxPaths);return r.map((function(t){var r,a=t.path,o=t.estimated_fee;return r=o.lte(0)?o:On(o,e,n),{path:a,fee:r}}))}function gn(e){var t=e.paths,n=e.error;return void 0!==t||_n(n)}function wn(e,t){return e[0]===t?e.slice(1):e}function _n(e){return 2201===(null===e||void 0===e?void 0:e.error_code)}function kn(e,t,n){return e.pipe(Object(x["a"])(Object(ge["g"])(Ut["matrixPresence"],{address:n})),Object(N["a"])(1),Object(I["a"])((function(e){if(Ut["matrixPresence"].success.is(e))return t.latest$.pipe(Object(F["a"])((function(e){var t=e.presences;return n in t})));throw e.payload})))}function En(e,t,n){var r=n.state,a=n.presences,o=n.config;dn(e,r,a);var i=e.meta,c=i.tokenNetwork,s=i.target,u=i.value;if(e.payload.paths)return Object(g["a"])({paths:e.payload.paths,iou:void 0});if(!0===Object(qt["a"])(r,a,c,s,s,u))return Object(g["a"])({paths:[{path:[t.address,e.meta.target],fee:l["f"]}],iou:void 0});if(bn(e,o))throw new _e["c"](_e["b"].PFS_DISABLED);return hn(e,t)}function Tn(e,t,n,r){var a=e.meta.tokenNetwork,o=n.iou,i=n.paths,c=n.error;return Object(j["a"])(u.a.mark((function s(){var l;return u.a.wrap((function(s){while(1)switch(s.prev=s.next){case 0:if(!o){s.next=8;break}if(!gn(n)){s.next=6;break}return s.next=4,Object(mt["iouPersist"])({iou:o},{tokenNetwork:a,serviceAddress:o.receiver});case 4:s.next=8;break;case 6:return s.next=8,Object(mt["iouClear"])(void 0,{tokenNetwork:a,serviceAddress:o.receiver});case 8:if(!c){s.next=14;break}if(!_n(c)){s.next=13;break}throw new _e["c"](_e["b"].PFS_NO_ROUTES_BETWEEN_NODES);case 13:throw new _e["c"](_e["b"].PFS_ERROR_RESPONSE,{errorCode:c.error_code,errors:c.errors});case 14:if(l=i?yn(e,t,r,i):[],!l.length){s.next=20;break}return s.next=18,mt["pathFind"].success({paths:l},e.meta);case 18:s.next=21;break;case 20:throw new _e["c"](_e["b"].PFS_NO_ROUTES_FOUND);case 21:case"end":return s.stop()}}),s)}))())}function Sn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Sn(Object(n),!0).forEach((function(t){An(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function An(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pn(e,t){return In(e)||Cn(e,t)||Rn(e,t)||Nn()}function Nn(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Rn(e,t){if(e){if("string"===typeof e)return Dn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Dn(e,t):void 0}}function Dn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Cn(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done);r=!0)if(n.push(i.value),t&&n.length===t)break}catch(s){a=!0,o=s}finally{try{r||null==c["return"]||c["return"]()}finally{if(a)throw o}}return n}}function In(e){if(Array.isArray(e))return e}function Un(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function Mn(e,t,n){return Un(t),e.pipe(Object(x["a"])(Object(ge["e"])(mt["pathFind"].request)),Object(be["a"])((function(t){return n.latest$.pipe(Object(F["a"])(),Object(I["a"])((function(r){var a,o,i=t.meta.target;return i in r.presences?(a=te["a"],o=Object(g["a"])(r)):(a=Object(g["a"])(Ut["matrixPresence"].request(void 0,{address:i})),o=kn(e,n,i)),Object(v["a"])(o.pipe(Object(I["a"])((function(e){return En(t,n,e)})),Object(L["a"])(n.latest$),Object(I["a"])((function(e){var r=Pn(e,2),a=r[0],o=r[1];return Tn(t,n,a,o)})),Object(U["a"])((function(e){return Object(g["a"])(mt["pathFind"].failure(e,t.meta))}))),a)})))})))}function Ln(e,t,n){Un(e);var r=n.log,a=n.address,o=n.network,i=n.signer,c=n.config$;return t.pipe(xe["f"],Object(I["a"])((function(e){return e.pipe(Object(Ot["a"])(),Object(L["a"])(c),Object(x["a"])((function(e){var t=Pn(e,2),n=Pn(t[0],2),r=n[1],a=t[1].pfsMode;return r.state===Se["b"].open&&a!==_t["f"].disabled})),Object(jt["a"])((function(e){var t=Pn(e,2),n=Pn(t[0],2),r=n[0],a=n[1],o=t[1].httpTimeout;return a.own.locks.length>r.own.locks.length||a.partner.locks.length>r.partner.locks.length?Object(w["a"])(o):Object(g["a"])(1)})),Object(ce["a"])((function(e){var t=Pn(e,2),n=Pn(t[0],2),c=n[1],s=t[1].revealTimeout,u=c.tokenNetwork,l=c.partner.address,f=Object(xe["c"])(c),p=f.ownCapacity,d=f.partnerCapacity,b={type:wt["d"].PFS_CAPACITY_UPDATE,canonical_identifier:{chain_identifier:vt["a"].from(o.chainId),token_network_address:u,channel_identifier:vt["a"].from(c.id)},updating_participant:a,other_participant:l,updating_nonce:c.own.balanceProof.nonce,other_nonce:c.partner.balanceProof.nonce,updating_capacity:p,other_capacity:d,reveal_timeout:vt["a"].from(s)},h=Object(je["e"])().toString();return Object(ee["a"])((function(){return Object(ve["h"])(i,b,{log:r})})).pipe(Object(k["a"])((function(e){return gt["messageServiceSend"].request({message:e},{service:_t["h"].PFS,msgId:h})})),Object(U["a"])((function(e){return r.error("Error trying to generate & sign PFSCapacityUpdate",e),te["a"]})))})))})))}function Bn(e,t,n){Un(e);var r=n.log,a=n.address,o=n.network,i=n.signer,c=n.config$,s=n.mediationFeeCalculator;return t.pipe(xe["f"],Object(I["a"])((function(e){return Object(m["a"])([e,c.pipe(Object(Ee["g"])("caps")),c.pipe(Object(Ee["g"])("mediationFees"))]).pipe(Object(x["a"])((function(e){var t=Pn(e,2),n=t[1];return!!Object(Mt["a"])(n,ye["a"].MEDIATE)})),Object(k["a"])((function(e){var t=Pn(e,3),n=t[0],r=t[2],a=xn({cap_fees:!0,flat:l["f"],proportional:l["f"],imbalance_penalty:null},s.emptySchedule);return Object.assign(a,s.schedule(r,n)),[n,a]})),Object(E["a"])((function(e,t){var n=Pn(e,2),r=n[1],a=Pn(t,2),o=a[1];return b()(r,o)})),Object(ce["a"])((function(e){var t=Pn(e,2),n=t[0],c=t[1],s={type:wt["d"].PFS_FEE_UPDATE,canonical_identifier:{chain_identifier:vt["a"].from(o.chainId),token_network_address:n.tokenNetwork,channel_identifier:vt["a"].from(n.id)},updating_participant:a,timestamp:ln(),fee_schedule:c},u=Object(je["e"])().toString(),l={service:_t["h"].PFS,msgId:u};return Object(j["a"])(Object(ve["h"])(i,s,{log:r})).pipe(Object(k["a"])((function(e){return gt["messageServiceSend"].request({message:e},l)})),Object(U["a"])((function(e){return r.error("Error trying to generate & sign PFSFeeUpdate",e),te["a"]})))})),Object(C["a"])(e.pipe(Object(x["a"])((function(e){return e.state!==Se["b"].open})))))})),Object(Ee["b"])(t))}function Fn(e,t,n){var r=n.provider,a=n.serviceRegistryContract,o=n.contractsInfo,i=n.config$,c=n.init$,s=e.pipe(Object(x["a"])(V["newBlock"].is),Object(P["a"])("payload","blockNumber"));return t.pipe(Object(F["a"])(),Object(ce["a"])((function(n){var u=n.services,l=new ne["a"];return c.next(l),Object(ke["a"])(r,a.filters.RegisteredService(null,null,null,null),{fromBlock:Z()(u)?o.TokenNetworkRegistry.block_number:void 0,confirmations:i.pipe(Object(P["a"])("confirmationBlocks")),blockNumber$:s,onPastCompleted:function(){l.next(null),l.complete()}}).pipe(Object(L["a"])(t,i),Object(x["a"])((function(e){var t=Pn(e,3),n=t[0].blockNumber,r=t[1].blockNumber,a=t[2].confirmationBlocks;return!!n&&n+a<=r})),Object(P["a"])(0),Object(k["a"])(Object(ke["d"])(a)),Object(L["a"])(t),Object(k["a"])((function(e){var t=Pn(e,2),n=Pn(t[0],2),r=n[0],a=n[1],o=t[1].services;return xn(xn({},o),{},An({},r,1e3*a.toNumber()))})),Object(A["a"])(u),Object(ce["a"])((function(t){return e.pipe(Object(x["a"])(V["newBlock"].is),Object(A["a"])(!0),Object(k["a"])((function(){return It()(t,(function(e){return Date.now()<e}))})))})))})),Object(E["a"])(b.a),Object(k["a"])((function(e){return Object(mt["servicesValid"])(e)})),Object(Ee["b"])(e))}var Wn=n("8906"),Vn=n("438d");function $n(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function Hn(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){$n(o,r,a,i,c,"next",e)}function c(e){$n(o,r,a,i,c,"throw",e)}i(void 0)}))}}function qn(e,t){return Qn(e)||Xn(e,t)||Gn(e,t)||Kn()}function Kn(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Gn(e,t){if(e){if("string"===typeof e)return Yn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Yn(e,t):void 0}}function Yn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Xn(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done);r=!0)if(n.push(i.value),t&&n.length===t)break}catch(s){a=!0,o=s}finally{try{r||null==c["return"]||c["return"]()}finally{if(a)throw o}}return n}}function Qn(e){if(Array.isArray(e))return e}function Zn(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function zn(e,t,n){Zn(t);var r=n.address,a=n.latest$,o=n.provider,i=n.userDepositContract;return e.pipe(Object(x["a"])(V["newBlock"].is),Object(A["a"])(null),Object(ie["a"])((function(){return Object(Ee["i"])((function(){return Promise.all([i.callStatic.effectiveBalance(r),i.callStatic.total_deposit(r)])}),o.pollingInterval,{onErrors:_e["h"]}).pipe(Object(U["a"])(G()(te["a"])))})),Object(L["a"])(a),Object(x["a"])((function(e){var t=qn(e,2),n=qn(t[0],1),r=n[0],a=t[1].udcDeposit;return!a.balance.eq(r)})),Object(k["a"])((function(e){var t=qn(e,1),n=qn(t[0],2),r=n[0],a=n[1];return mt["udcDeposit"].success({balance:r},{totalDeposit:a})})))}function Jn(e,t,n,r){var a=qn(e,2),o=a[0],i=a[1],c=qn(t,2),s=c[0],l=c[1],f=qn(n,2),p=f[0],d=f[1],b=r.log,h=r.provider,y=r.config$;return Object(ee["a"])(Hn(u.a.mark((function e(){return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all([o.callStatic.balanceOf(s),o.callStatic.allowance(s,i.address)]));case 1:case"end":return e.stop()}}),e)})))).pipe(Object(Ee["j"])(Object(he["b"])(y),{onErrors:_e["h"]}),Object(L["a"])(y),Object(I["a"])((function(e){var t=qn(e,2),n=qn(t[0],2),r=n[0],a=n[1],c=t[1].minimumAllowance;return Object(xe["a"])([r,a,p],o,i.address,_e["b"].RDN_APPROVE_TRANSACTION_FAILED,{provider:h},{log:b,minimumAllowance:c})})),Object(I["a"])((function(){return Object(ee["a"])(Hn(u.a.mark((function e(){return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",i.callStatic.total_deposit(l));case 1:case"end":return e.stop()}}),e)})))).pipe(Object(Ee["j"])(Object(he["b"])(y),{onErrors:_e["h"]}),Object(I["a"])(function(){var e=Hn(u.a.mark((function e(t){return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return Object(_e["d"])(t.add(p).eq(d),[_e["b"].UDC_DEPOSIT_OUTDATED,{requested:d.toString(),current:t.toString()}]),e.abrupt("return",i.deposit(l,d));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))})),Object(xe["b"])("deposit",_e["b"].RDN_DEPOSIT_TRANSACTION_FAILED,{log:b,provider:h}),Object(Ee["j"])(Object(he["b"])(y),{onErrors:_e["f"],log:b.debug}))}function er(e,t,n){Zn(t);var r=n.userDepositContract,a=n.getTokenContract,o=n.address,i=n.log,c=n.signer,s=n.main,u=n.config$,l=n.provider;return e.pipe(Object(x["a"])(mt["udcDeposit"].request.is),Object(be["a"])((function(e){return Object(Ee["i"])((function(){return r.callStatic.token()}),l.pollingInterval,{onErrors:_e["h"]}).pipe(Object(L["a"])(u),Object(I["a"])((function(t){var n,f=qn(t,2),p=f[0],d=f[1],b=Object(me["b"])({signer:c,address:o,main:s},null!==(n=e.payload.subkey)&&void 0!==n?n:d.subkey),h=b.signer,y=b.address,m=Object(me["d"])(a(p),h),v=Object(me["d"])(r,h);return Jn([m,v],[y,o],[e.payload.deposit,e.meta.totalDeposit],{log:i,provider:l,config$:u})})),Object(I["a"])((function(t){var n=qn(t,2),a=n[1];return Object(Ee["i"])((function(){return r.callStatic.effectiveBalance(o)}),l.pollingInterval,{onErrors:_e["h"]}).pipe(Object(k["a"])((function(t){return mt["udcDeposit"].success({balance:t,txHash:a.transactionHash,txBlock:a.blockNumber,confirmed:void 0},e.meta)})))})),Object(U["a"])((function(t){return Object(g["a"])(mt["udcDeposit"].failure(t,e.meta))})))})))}function tr(e,t,n){Zn(t);var r=n.userDepositContract,a=n.address,o=n.log,i=n.signer,c=n.provider,s=n.config$;return e.pipe(Object(x["a"])(mt["udcWithdrawPlan"].request.is),Object(be["a"])((function(t){var n=Object(me["d"])(r,i),f=t.meta.amount;return Object(ee["a"])(Hn(u.a.mark((function e(){return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",r.callStatic.balances(a));case 1:case"end":return e.stop()}}),e)})))).pipe(Object(I["a"])(function(){var e=Hn(u.a.mark((function e(t){return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return Object(_e["d"])(f.gt(l["f"]),[_e["b"].UDC_PLAN_WITHDRAW_GT_ZERO,{amount:f.toString()}]),Object(_e["d"])(f.lte(t),[_e["b"].UDC_PLAN_WITHDRAW_EXCEEDS_AVAILABLE,{balance:t.toString(),amount:f.toString()}]),e.abrupt("return",n.planWithdraw(f));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Object(xe["b"])("planWithdraw",_e["b"].UDC_PLAN_WITHDRAW_FAILED,{log:o,provider:c}),Object(Ee["j"])(Object(he["b"])(s),{onErrors:_e["f"],log:o.info}),Object(Ee["f"])((function(){return e.pipe(Object(x["a"])(V["newBlock"].is),Object(A["a"])(0),Object(ie["a"])((function(){return Object(ee["a"])(Hn(u.a.mark((function e(){return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",r.callStatic.withdraw_plans(a));case 1:case"end":return e.stop()}}),e)})))).pipe(Object(Ee["a"])({onErrors:_e["h"],log:o.debug}))})),Object(F["a"])((function(e){var n=e.amount;return n.gte(t.meta.amount)})))})),Object(k["a"])((function(e){var n=qn(e,2),r=qn(n[0],2),a=r[0].hash,o=r[1].blockNumber,i=n[1].withdraw_block;return mt["udcWithdrawPlan"].success({block:i.toNumber(),txHash:a,txBlock:o,confirmed:void 0},t.meta)})),Object(U["a"])((function(e){return Object(g["a"])(mt["udcWithdrawPlan"].failure(e,t.meta))})))})))}function nr(e,t,n){Zn(t);var r=n.userDepositContract,a=n.address,o=n.config$,i=n.log,c=0;return e.pipe(Object(x["a"])(V["newBlock"].is),Object(P["a"])("payload","blockNumber"),Object(x["a"])((function(e){return e>=c})),Object(ie["a"])((function(t){return Object(ee["a"])(Hn(u.a.mark((function e(){return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",r.withdraw_plans(a));case 1:case"end":return e.stop()}}),e)})))).pipe(Object(Ee["a"])({onErrors:_e["h"],log:i.debug}),Object(I["a"])(u.a.mark((function n(r){var a,o,i,s;return u.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(a=r.amount,o=r.withdraw_block,i={amount:a},!o.isZero()){n.next=5;break}return c=t+ye["h"],n.abrupt("return");case 5:if(s=0===c,!s){n.next=9;break}return n.next=9,Object(g["a"])(mt["udcWithdrawPlan"].success({block:o.toNumber(),confirmed:!0},i));case 9:if(!o.gt(t)){n.next=13;break}c=o.toNumber(),n.next=15;break;case 13:return n.next=15,Object(Vn["a"])(e,mt["udcWithdraw"].request(void 0,i),Object(ge["f"])(mt["udcWithdraw"],i));case 15:case"end":return n.stop()}}),n)}))),Object(Wn["a"])())})),Object(Ee["k"])(o.pipe(Object(P["a"])("autoUDCWithdraw"),Object(Ee["b"])(e))))}function rr(e,t,n){Zn(t);var r=n.log,a=n.userDepositContract,o=n.address,i=n.signer,c=n.provider,s=n.config$;return e.pipe(Object(x["a"])(mt["udcWithdraw"].request.is),Object(be["a"])((function(t){var n,f=Object(me["d"])(a,i);return Object(ee["a"])(Hn(u.a.mark((function e(){return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",a.callStatic.balances(o));case 1:case"end":return e.stop()}}),e)})))).pipe(Object(I["a"])(function(){var e=Hn(u.a.mark((function e(r){return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return Object(_e["d"])(r.gt(l["f"]),[_e["b"].UDC_WITHDRAW_NO_BALANCE,{balance:r.toString()}]),n=r,e.abrupt("return",f.withdraw(t.meta.amount));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Object(xe["b"])("withdraw",_e["b"].UDC_WITHDRAW_FAILED,{log:r,provider:c}),Object(Ee["j"])(Object(he["b"])(s),{onErrors:_e["f"],log:r.info}),Object(I["a"])((function(a){var i=qn(a,2),c=i[1],s=c.transactionHash,l=c.blockNumber;return e.pipe(Object(x["a"])(V["newBlock"].is),Object(ie["a"])((function(){return Object(ee["a"])(Hn(u.a.mark((function e(){return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",f.callStatic.balances(o));case 1:case"end":return e.stop()}}),e)})))).pipe(Object(Ee["a"])({onErrors:_e["h"],log:r.info}))})),Object(x["a"])((function(e){return e.lt(n)})),Object(N["a"])(1),Object(k["a"])((function(e){return mt["udcWithdraw"].success({withdrawal:n.sub(e),txHash:s,txBlock:l,confirmed:void 0},t.meta)})))})),Object(U["a"])((function(e){return Object(g["a"])(mt["udcWithdraw"].failure(e,t.meta))})))})))}var ar=n("83ee");function or(e,t){return lr(e)||ur(e,t)||cr(e,t)||ir()}function ir(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function cr(e,t){if(e){if("string"===typeof e)return sr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?sr(e,t):void 0}}function sr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ur(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done);r=!0)if(n.push(i.value),t&&n.length===t)break}catch(s){a=!0,o=s}finally{try{r||null==c["return"]||c["return"]()}finally{if(a)throw o}}return n}}function lr(e){if(Array.isArray(e))return e}function fr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fr(Object(n),!0).forEach((function(t){dr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function dr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function br(e,t,n){var r=n.caps,a=Object(Mt["a"])(r,ye["a"].MEDIATE),o=e.meta.direction===Oe["a"].RECEIVED&&e.payload.message.target!==t;return!!a&&o}function hr(e,t,n,r){var a,o=r.address,i=r.log,c=new Set(Object.values(t.channels).filter((function(e){return e.tokenNetwork===n})).filter((function(e){return e.state===Se["b"].open})).map((function(e){var t=e.partner;return t.address})));function s(e){var t=e.route,n=t.findIndex((function(e){return e===o}));return n>=0&&(t=t.slice(n+1)),c.has(t[0])?pr(pr({},e),{},{route:t}):null}var u=e.map(s).filter(Te["n"]),l=null===(a=u[0])||void 0===a?void 0:a.route[0];if(l)return u=u.filter((function(e){var t=e.route;return t[0]===l})),u;i.warn("Mediation: could not find a suitable route, ignoring",{inputRoutes:e,openPartners:c})}function yr(e,t,n){var r=n.address,a=n.config$,o=n.log,i=n.mediationFeeCalculator;return e.pipe(Object(x["a"])(ar["transferSigned"].is),Object(L["a"])(a,t),Object(x["a"])((function(e){var t=or(e,2),n=t[0],a=t[1];return br(n,r,a)})),Object(k["a"])((function(e){var t=or(e,3),n=t[0],a=t[1],c=t[2],s=c.transfers[Object(je["i"])(n.meta)],u=n.payload.message,l=u.token_network_address,f=n.meta.secrethash,p=s.partner,d=hr(u.metadata.routes,c,l,{address:r,log:o});if(d){var b=d[0].route[0],h=c.channels[Object(xe["d"])({tokenNetwork:l,partner:p})],y=c.channels[Object(xe["d"])({tokenNetwork:l,partner:b})],m=i.fee(a.mediationFees,h,y)(u.lock.amount);m=m.mul(-1);var v=d.map((function(e){var t=e.route;return{path:t,fee:m}}));return ar["transfer"].request({tokenNetwork:u.token_network_address,target:u.target,paymentId:u.payment_identifier,value:u.lock.amount,paths:v,expiration:u.lock.expiration.toNumber(),initiator:u.initiator},{secrethash:f,direction:Oe["a"].SENT})}})),Object(x["a"])(Te["n"]))}function mr(e,t){return wr(e)||gr(e,t)||Or(e,t)||vr()}function vr(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Or(e,t){if(e){if("string"===typeof e)return jr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?jr(e,t):void 0}}function jr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function gr(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done);r=!0)if(n.push(i.value),t&&n.length===t)break}catch(s){a=!0,o=s}finally{try{r||null==c["return"]||c["return"]()}finally{if(a)throw o}}return n}}function wr(e){if(Array.isArray(e))return e}function _r(e,t,n){var r=n.config$;return e.pipe(Object(x["a"])(V["newBlock"].is),Object(P["a"])("payload","blockNumber"),Object(L["a"])(t,r),Object(ie["a"])((function(t){var n=mr(t,3),r=n[0],a=n[1].transfers,o=n[2].confirmationBlocks;return Object(j["a"])(Object.values(a).filter((function(e){return e.direction===Oe["a"].SENT&&!e.unlock&&!e.expired&&!e.secretRegistered&&!e.channelClosed&&e.expiration<=r-2*o}))).pipe(Object(I["a"])((function(t){var n={secrethash:t.transfer.lock.secrethash,direction:Oe["a"].SENT};return Object(v["a"])(Object(Vn["a"])(e,ar["transferExpire"].request(void 0,n),Object(ge["g"])(ar["transferExpire"],n)),Object(g["a"])(ar["transfer"].failure(new _e["c"](_e["b"].XFER_EXPIRED,{block:t.transfer.lock.expiration.toString()}),n)))})))})))}var kr=n("ee9f"),Er=n.n(kr),Tr=n("8480");function Sr(e,t){return Rr(e)||Nr(e,t)||Ar(e,t)||xr()}function xr(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ar(e,t){if(e){if("string"===typeof e)return Pr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Pr(e,t):void 0}}function Pr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Nr(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done);r=!0)if(n.push(i.value),t&&n.length===t)break}catch(s){a=!0,o=s}finally{try{r||null==c["return"]||c["return"]()}finally{if(a)throw o}}return n}}function Rr(e){if(Array.isArray(e))return e}function Dr(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function Cr(e,t){return Dr(e),t.pipe(Object(F["a"])(),Object(I["a"])((function(e){var t=e.transfers;return Object(j["a"])(Object.values(t).filter((function(e){return e.direction===Oe["a"].SENT&&!e.unlockProcessed&&!e.expiredProcessed&&!e.secretRegistered&&!e.channelClosed})))})),Object(I["a"])(u.a.mark((function e(t){var n;return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={secrethash:t.transfer.lock.secrethash,direction:Oe["a"].SENT},e.next=3,Ut["matrixPresence"].request(void 0,{address:t.transfer.target});case 3:if(t.transferProcessed){e.next=6;break}return e.next=6,Object(ar["transferSigned"])({message:Object(Te["q"])(t.transfer),fee:t.fee,partner:t.partner},n);case 6:if(!t.unlock){e.next=9;break}return e.next=9,ar["transferUnlock"].success({message:Object(Te["q"])(t.unlock),partner:t.partner},n);case 9:if(!t.expired){e.next=12;break}return e.next=12,ar["transferExpire"].success({message:Object(Te["q"])(t.expired),partner:t.partner},n);case 12:case"end":return e.stop()}}),e)}))))}function Ir(e,t,n){Dr(e);var r=n.config$;return t.pipe(Object(F["a"])(),Object(I["a"])((function(e){var t=e.transfers;return Object(j["a"])(Object.values(t).filter((function(e){return e.direction===Oe["a"].RECEIVED&&!e.unlock&&!e.expired&&!e.secretRegistered&&!e.channelClosed})))})),Object(I["a"])((function(e){var t=e.transfer.lock.secrethash,n={secrethash:t,direction:Oe["a"].RECEIVED};return Object(v["a"])(Object(g["a"])(Object(ar["transferSigned"])({message:Object(Te["q"])(e.transfer),fee:e.fee,partner:e.partner},n)),e.secret&&!e.secretReveal?Object(g["a"])(Object(ar["transferSecret"])({secret:e.secret},n)):te["a"],e.secretReveal?Object(g["a"])(Object(ar["transferSecretReveal"])({message:Object(Te["q"])(e.secretReveal)},n)):te["a"],!e.secret&&e.secretRequest?r.pipe(Object(P["a"])("caps"),Object(x["a"])((function(e){return!!Object(Mt["a"])(e,ye["a"].RECEIVE)})),Object(N["a"])(1),Object(pe["a"])(Object(g["a"])(Ut["matrixPresence"].request(void 0,{address:e.transfer.initiator}),Object(ar["transferSecretRequest"])({message:Object(Te["q"])(e.secretRequest)},n)))):te["a"])})))}function Ur(e){var t,n;return"meta"in e&&(null===(t=e.meta)||void 0===t?void 0:t.secrethash)&&(null===(n=e.meta)||void 0===n?void 0:n.direction)}function Mr(e,t,n){var r=n.config$;return t.pipe(Object(Ee["g"])("transfers"),Object(Ee["d"])(),Object(de["a"])((function(e){var t=Sr(e,1),n=t[0];return n}),Tr["a"],(function(e){return t.pipe(Object(x["a"])((function(t){var n=t.transfers;return!(e.key in n)})))})),Object(L["a"])(r),Object(I["a"])((function(n){var r=Sr(n,2),a=r[0],o=r[1].httpTimeout;return a.pipe(Object(x["a"])((function(e){var t=Sr(e,2),n=t[1];return!!(n.unlockProcessed||n.expiredProcessed||n.channelSettled)})),Object(N["a"])(1),Object(I["a"])((function(t){var n=Sr(t,2),r=n[1];return e.pipe(Object(x["a"])(Ur),Object(x["a"])((function(e){return Object(je["i"])(e.meta)===a.key})),Object(A["a"])({meta:Er()(["secrethash","direction"],r)}))})),Object(Ee["b"])(e),Object(oe["a"])(3*o),Object(k["a"])((function(e){var t=e.meta;return Object(ar["transferClear"])(void 0,t)})),Object(C["a"])(t.pipe(Object(x["a"])((function(e){var t=e.transfers;return!(a.key in t)})))))})))}var Lr=n("f2df"),Br=n("9a49");function Fr(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function Wr(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function Vr(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Wr(o,r,a,i,c,"next",e)}function c(e){Wr(o,r,a,i,c,"throw",e)}i(void 0)}))}}function $r(e,t){return Kr(e)||qr(e,t)||Xr(e,t)||Hr()}function Hr(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function qr(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done);r=!0)if(n.push(i.value),t&&n.length===t)break}catch(s){a=!0,o=s}finally{try{r||null==c["return"]||c["return"]()}finally{if(a)throw o}}return n}}function Kr(e){if(Array.isArray(e))return e}function Gr(e){return Zr(e)||Qr(e)||Xr(e)||Yr()}function Yr(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Xr(e,t){if(e){if("string"===typeof e)return zr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?zr(e,t):void 0}}function Qr(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function Zr(e){if(Array.isArray(e))return zr(e)}function zr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Jr(e,t){var n=e.locks.filter((function(e){return e.secrethash!==t}));return Object(Lr["a"])(n.length===e.locks.length-1,"invalid locks size"),n}function ea(e){return e.reduce((function(e,t){var n=t.amount;return e.add(n)}),l["f"])}function ta(e,t,n){var r=e.channels[Object(xe["d"])(t)];return Object(Lr["a"])((null===r||void 0===r?void 0:r.state)===Se["b"].open,"channel not open"),n&&(Object(Lr["a"])(n.chain_id.eq(e.chainId),"chainId mismatch"),Object(Lr["a"])(n.channel_identifier.eq(r.id),"channelId mismatch")),r}function na(e,t,n,r){var a,o=n.revealTimeout,i=n.confirmationBlocks,c=n.expiryFactor,s=r.log,l=r.address,f=r.network,p=r.signer,d={routes:t.payload.paths.map((function(e){var t=e.path;return{route:t}}))},b=t.payload.paths[0].fee,h=t.payload.paths[0].path[0],y=t.payload.tokenNetwork,m=ta(e,{tokenNetwork:y,partner:h});Object(Lr["a"])(!t.payload.expiration||t.payload.expiration>e.blockNumber+o,"expiration too soon");var v=vt["a"].from(t.payload.expiration||Math.min(e.blockNumber+Math.round(o*c),e.blockNumber+m.settleTimeout-i));Object(Lr["a"])(v.lte(e.blockNumber+m.settleTimeout),["expiration too far in the future",{expiration:v.toString(),blockNumber:e.blockNumber,settleTimeout:m.settleTimeout,revealTimeout:o}]);var O={amount:t.payload.value.add(b),expiration:v,secrethash:t.meta.secrethash},g=[].concat(Gr(m.own.locks),[O]),w=ea(g);Object(Lr["a"])(Object(Te["j"])(32).is(m.own.balanceProof.transferredAmount.add(w)),"overflow on future transferredAmount");var _=Object(je["b"])(g);s.info("Signing transfer of value",t.payload.value.toString(),"of token",m.token,", to",t.payload.target,", through routes",t.payload.paths,", paying",b.toString(),"in fees.");var k={type:wt["d"].LOCKED_TRANSFER,message_identifier:Object(je["e"])(),chain_id:vt["a"].from(f.chainId),token_network_address:t.payload.tokenNetwork,channel_identifier:vt["a"].from(m.id),nonce:m.own.nextNonce,transferred_amount:m.own.balanceProof.transferredAmount,locked_amount:w,locksroot:_,payment_identifier:t.payload.paymentId,token:m.token,recipient:h,lock:O,target:t.payload.target,initiator:null!==(a=t.payload.initiator)&&void 0!==a?a:l,metadata:d};return Object(j["a"])(Object(ve["h"])(p,k,{log:s})).pipe(Object(I["a"])(u.a.mark((function e(n){return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(ar["transferSigned"])({message:n,fee:b,partner:h},t.meta);case 2:if(!t.payload.secret){e.next=5;break}return e.next=5,Object(ar["transferSecret"])({secret:t.payload.secret},t.meta);case 5:case"end":return e.stop()}}),e)}))))}function ra(e,t,n){return Object(m["a"])([e,n.config$]).pipe(Object(F["a"])(),Object(I["a"])((function(e){var r=$r(e,2),a=r[0],o=r[1];return n.db.storageKeys.has(Object(je["i"])(t.meta))?(n.log.warn("transfer already present",t.meta),te["a"]):na(a,t,o,n)})),Object(U["a"])((function(e){return Object(g["a"])(ar["transfer"].failure(e,t.meta))})))}function aa(e,t,n,r,a){var o,i=a.log,c=a.signer,s=n.meta.secrethash,u=r.transfer,l=u.token_network_address,f=r.partner,p=ta(t,{tokenNetwork:l,partner:f});if(r.unlock)o=Object(g["a"])(r.unlock);else{Object(Lr["a"])(r.secret,"unknown secret"),Object(Lr["a"])(p.own.locks.find((function(e){return e.secrethash===s})),"transfer already unlocked or expired"),Object(Lr["a"])(r.secretRegistered||r.expiration>t.blockNumber,"lock expired");var d={type:wt["d"].UNLOCK,message_identifier:Object(je["e"])(),chain_id:u.chain_id,token_network_address:u.token_network_address,channel_identifier:u.channel_identifier,nonce:p.own.nextNonce,transferred_amount:Object(Te["l"])(Object(Te["j"])(32),p.own.balanceProof.transferredAmount.add(u.lock.amount),"overflow on transferredAmount"),locked_amount:p.own.balanceProof.lockedAmount.sub(u.lock.amount),locksroot:Object(je["b"])(Jr(p.own,s)),payment_identifier:u.payment_identifier,secret:r.secret};o=Object(j["a"])(Object(ve["h"])(c,d,{log:i}))}return o.pipe(Object(L["a"])(e),Object(k["a"])((function(e){var t=$r(e,2),r=t[0],a=t[1],o=a.transfers[Object(je["i"])(n.meta)],i=ta(a,{tokenNetwork:l,partner:f});return Object(Lr["a"])(o.expiration>a.blockNumber||o.secretRegistered||i.own.locks.find((function(e){return e.secrethash===s&&e.registered})),"lock expired"),ar["transferUnlock"].success({message:r,partner:f},n.meta)})))}function oa(e,t,n){var r=n.signer,a=n.log,o=n.db;return Object(ee["a"])((function(){return Object(je["d"])(e,o,t.meta)})).pipe(Object(L["a"])(e),Object(I["a"])((function(n){var o=$r(n,2),i=o[0],c=o[1];return aa(e,c,t,i,{log:a,signer:r})})),Object(U["a"])((function(e){return a.warn("Error trying to unlock after SecretReveal",e),Object(g["a"])(ar["transferUnlock"].failure(e,t.meta))})))}function ia(e,t,n,r){var a,o=r.signer,i=r.log,c=t.meta.secrethash,s=n.transfer,u=s.token_network_address,l=n.partner,f=ta(e,{tokenNetwork:u,partner:l});if(n.expired)a=Object(g["a"])(n.expired);else{Object(Lr["a"])(s.lock.expiration.lt(e.blockNumber),"lock not yet expired"),Object(Lr["a"])(f.own.locks.find((function(e){return e.secrethash===c}))&&!n.unlock,"transfer already unlocked or expired");var p=Object(je["b"])(Jr(f.own,c)),d={type:wt["d"].LOCK_EXPIRED,message_identifier:Object(je["e"])(),chain_id:s.chain_id,token_network_address:s.token_network_address,channel_identifier:s.channel_identifier,nonce:f.own.nextNonce,transferred_amount:f.own.balanceProof.transferredAmount,locked_amount:f.own.balanceProof.lockedAmount.sub(s.lock.amount),locksroot:p,recipient:l,secrethash:c};a=Object(j["a"])(Object(ve["h"])(o,d,{log:i}))}return a.pipe(Object(k["a"])((function(e){return ar["transferExpire"].success({message:e,partner:l},t.meta)})))}function ca(e,t,n){var r=n.log,a=n.signer,o=n.db;return Object(ee["a"])((function(){return Object(je["d"])(e,o,t.meta)})).pipe(Object(L["a"])(e),Object(I["a"])((function(e){var n=$r(e,2),o=n[0],i=n[1];return ia(i,t,o,{signer:a,log:r})})),Object(U["a"])((function(e){return Object(g["a"])(ar["transferExpire"].failure(e,t.meta))})))}function sa(e,t,n){var r=n.address,a=n.log,o=n.signer,i=n.config$,c=n.db,s=t.payload.message.lock.secrethash,f={secrethash:s,direction:Oe["a"].RECEIVED};return Object(m["a"])([e,i]).pipe(Object(F["a"])(),Object(I["a"])((function(e){var n=$r(e,2),i=n[0],p=n[1],d=p.revealTimeout,b=p.caps,h=t.payload.message;if(c.storageKeys.has(Object(je["i"])(f))){a.warn("transfer already present",f);var y=h.message_identifier,v=i.transfers[Object(je["i"])(f)];return null!==v&&void 0!==v&&v.transferProcessed&&v.partner===t.meta.address&&y.eq(v.transfer.message_identifier)?Object(g["a"])(Object(ar["transferProcessed"])({message:Object(Te["q"])(v.transferProcessed)},f)):te["a"]}var O=h.token_network_address,j=t.meta.address,w=ta(i,{tokenNetwork:O,partner:j},h);Object(Lr["a"])(h.nonce.eq(w.partner.nextNonce),["nonce mismatch",{expected:w.partner.nextNonce.toNumber(),received:h.nonce.toNumber()}]);var _=[].concat(Gr(w.partner.locks),[h.lock]),k=Object(je["b"])(_);Object(Lr["a"])(h.locksroot===k,"locksroot mismatch"),Object(Lr["a"])(h.transferred_amount.eq(w.partner.balanceProof.transferredAmount),"transferredAmount mismatch");var E=ea(_);Object(Lr["a"])(h.locked_amount.eq(E),"lockedAmount mismatch"),Object(Lr["a"])(Object(Te["j"])(32).is(w.partner.balanceProof.transferredAmount.add(E)),"overflow on future transferredAmount");var T=Object(xe["c"])(w),S=T.partnerCapacity;Object(Lr["a"])(h.lock.amount.lte(S),"balanceProof total amount bigger than capacity"),Object(Lr["a"])(h.lock.expiration.lte(i.blockNumber+w.settleTimeout),["expiration too far in the future",{expiration:h.lock.expiration.toString(),blockNumber:i.blockNumber,settleTimeout:w.settleTimeout,revealTimeout:d}]),Object(Lr["a"])(h.recipient===r,"Received transfer isn't for us"),a.info("Receiving transfer of value",h.lock.amount.toString(),"of token",w.token,", from",h.initiator,", through partner",j);var x,A=Object(g["a"])(void 0);h.target===r&&(Object(Mt["a"])(b,ye["a"].RECEIVE)?h.lock.expiration.sub(d).gt(i.blockNumber)||(x={reason:"lock expired or expires too soon",lockExpiration:h.lock.expiration.toString(),dangerZoneStart:h.lock.expiration.sub(d).toString()}):x={reason:"receiving disabled"},x?a.warn("Ignoring received transfer",x):A=Object(ee["a"])(Vr(u.a.mark((function e(){var t;return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={type:wt["d"].SECRET_REQUEST,payment_identifier:h.payment_identifier,secrethash:s,amount:h.lock.amount,expiration:h.lock.expiration,message_identifier:Object(je["e"])()},e.abrupt("return",Object(ve["h"])(o,t,{log:a}));case 2:case"end":return e.stop()}}),e)})))));var P=Object(ee["a"])((function(){var e={type:wt["d"].PROCESSED,message_identifier:h.message_identifier};return Object(ve["h"])(o,e,{log:a})}));return Object(m["a"])([P,A]).pipe(Object(I["a"])(u.a.mark((function e(t){var n,r,a;return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=$r(t,2),r=n[0],a=n[1],e.next=3,Object(ar["transferSigned"])({message:h,fee:l["f"],partner:j},f);case 3:return e.next=5,Object(ar["transferProcessed"])({message:r},f);case 5:if(!a){e.next=10;break}return e.next=8,Ut["matrixPresence"].request(void 0,{address:h.initiator});case 8:return e.next=10,Object(ar["transferSecretRequest"])({message:a},f);case 10:case"end":return e.stop()}}),e)}))))})),Object(U["a"])((function(e){return Object(g["a"])(ar["transfer"].failure(e,f))})))}function ua(e,t,n){var r=n.log,a=n.signer,o=n.db,i=Object(je["c"])(t.payload.message.secret),c={secrethash:i,direction:Oe["a"].RECEIVED};return Object(ee["a"])((function(){return Object(je["d"])(e,o,c)})).pipe(Object(L["a"])(e),Object(I["a"])((function(e){var n=$r(e,2),o=n[0],s=n[1];Object(Lr["a"])(o,"unknown transfer");var l=t.payload.message,f=t.meta.address;if(Object(Lr["a"])(f===o.partner,"wrong partner"),Object(Lr["a"])(!o.expired,"already expired"),o.unlock)return r.warn("transfer already unlocked",t.meta),o.unlockProcessed&&l.message_identifier.eq(o.unlockProcessed.message_identifier)?Object(g["a"])(Object(ar["transferUnlockProcessed"])({message:Object(Te["q"])(o.unlockProcessed)},c)):te["a"];var p=o.transfer;Object(Lr["a"])(l.token_network_address===p.token_network_address,"wrong tokenNetwork");var d=l.token_network_address,b=ta(s,{tokenNetwork:d,partner:f},l);Object(Lr["a"])(l.nonce.eq(b.partner.nextNonce),["nonce mismatch",{expected:b.partner.nextNonce.toNumber(),received:l.nonce.toNumber()}]);var h=p.lock.amount,y=Jr(b.partner,i);Object(Lr["a"])(l.locksroot===Object(je["b"])(y),"locksroot mismatch"),Object(Lr["a"])(l.transferred_amount.eq(b.partner.balanceProof.transferredAmount.add(h)),"transferredAmount mismatch"),Object(Lr["a"])(l.locked_amount.eq(ea(y)),"lockedAmount mismatch");var m={type:wt["d"].PROCESSED,message_identifier:l.message_identifier};return Object(j["a"])(Object(ve["h"])(a,m,{log:r})).pipe(Object(I["a"])(u.a.mark((function e(t){return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(o.secret){e.next=3;break}return e.next=3,Object(ar["transferSecret"])({secret:l.secret},c);case 3:return e.next=5,ar["transferUnlock"].success({message:l,partner:f},c);case 5:return e.next=7,Object(ar["transferUnlockProcessed"])({message:t},c);case 7:return e.next=9,ar["transfer"].success({balanceProof:Object(ve["e"])(l)},c);case 9:case"end":return e.stop()}}),e)}))))})),Object(U["a"])((function(e){return r.warn("Error trying to process received Unlock",e),Object(g["a"])(ar["transferUnlock"].failure(e,c))})))}function la(e,t,n){var r=n.log,a=n.signer,o=n.config$,i=n.db,c=t.payload.message.secrethash,s={secrethash:c,direction:Oe["a"].RECEIVED};return Object(ee["a"])((function(){return Object(je["d"])(e,i,s)})).pipe(Object(L["a"])(e,o),Object(I["a"])((function(e){var n=$r(e,3),o=n[0],i=n[1],l=n[2].confirmationBlocks,f=t.payload.message,p=t.meta.address;if(Object(Lr["a"])(p===o.partner,"wrong partner"),Object(Lr["a"])(!o.unlock,"transfer unlocked"),o.expired)return r.warn("transfer already expired",t.meta),o.expiredProcessed&&f.message_identifier.eq(o.expiredProcessed.message_identifier)?Object(g["a"])(Object(ar["transferExpireProcessed"])({message:Object(Te["q"])(o.expiredProcessed)},s)):te["a"];var d=o.transfer;Object(Lr["a"])(d.lock.expiration.add(l).lte(i.blockNumber),"expiration block not confirmed yet"),Object(Lr["a"])(!o.secretRegistered,"secret registered onchain"),Object(Lr["a"])(f.token_network_address===d.token_network_address,"wrong tokenNetwork");var b=f.token_network_address,h=ta(i,{tokenNetwork:b,partner:p},f);Object(Lr["a"])(f.nonce.eq(h.partner.nextNonce),["nonce mismatch",{expected:h.partner.nextNonce.toNumber(),received:f.nonce.toNumber()}]);var y=Jr(h.partner,c);Object(Lr["a"])(f.locksroot===Object(je["b"])(y),"locksroot mismatch"),Object(Lr["a"])(f.locked_amount.eq(ea(y)),"lockedAmount mismatch"),Object(Lr["a"])(f.transferred_amount.eq(h.partner.balanceProof.transferredAmount),"transferredAmount mismatch");var m={type:wt["d"].PROCESSED,message_identifier:f.message_identifier};return Object(j["a"])(Object(ve["h"])(a,m,{log:r})).pipe(Object(I["a"])(u.a.mark((function e(t){return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ar["transferExpire"].success({message:f,partner:p},s);case 2:return e.next=4,Object(ar["transferExpireProcessed"])({message:t},s);case 4:return e.next=6,ar["transfer"].failure(new _e["c"](_e["b"].XFER_EXPIRED,{block:d.lock.expiration.toString()}),s);case 6:case"end":return e.stop()}}),e)}))))})),Object(U["a"])((function(e){return r.warn("Error trying to process received LockExpired",e),Object(g["a"])(ar["transferExpire"].failure(e,s))})))}function fa(e,t,n){var r=n.log,a=n.address,o=n.signer,i=n.network,c=n.config$,s=n.latest$;return t.meta.direction!==Oe["a"].SENT?te["a"]:Object(m["a"])([e,c,s]).pipe(Object(F["a"])(),Object(I["a"])((function(e){var n,c=$r(e,3),s=c[0],u=c[1].revealTimeout,l=c[2].presences,f=ta(s,t.meta);if(f.own.pendingWithdraws.some(Object(Vn["c"])(wt["d"].WITHDRAW_REQUEST,t.meta)))return te["a"];Object(Lr["a"])(null===(n=l[t.meta.partner])||void 0===n?void 0:n.payload.available,_e["b"].CNL_WITHDRAW_PARTNER_OFFLINE),Object(Lr["a"])(t.meta.expiration>=s.blockNumber+u,_e["b"].CNL_WITHDRAW_EXPIRES_SOON),Object(Lr["a"])(t.meta.totalWithdraw.gt(f.own.withdraw),_e["b"].CNL_WITHDRAW_AMOUNT_TOO_LOW),Object(Lr["a"])(t.meta.totalWithdraw.lte(Object(xe["c"])(f).ownTotalWithdrawable),_e["b"].CNL_WITHDRAW_AMOUNT_TOO_HIGH);var p={type:wt["d"].WITHDRAW_REQUEST,message_identifier:Object(je["e"])(),chain_id:vt["a"].from(i.chainId),token_network_address:t.meta.tokenNetwork,channel_identifier:vt["a"].from(f.id),participant:a,total_withdraw:t.meta.totalWithdraw,nonce:f.own.nextNonce,expiration:vt["a"].from(t.meta.expiration)};return Object(j["a"])(Object(ve["h"])(o,p,{log:r})).pipe(Object(k["a"])((function(e){return ar["withdrawMessage"].request({message:e},t.meta)})))})),Object(U["a"])((function(e){return Object(g["a"])(ar["withdraw"].failure(e,t.meta))})))}function pa(e,t,n){var r=n.address,a=t.payload.message,o=a.token_network_address,i=t.meta.address,c={direction:Oe["a"].SENT,tokenNetwork:o,partner:i,totalWithdraw:a.total_withdraw,expiration:a.expiration.toNumber()};return e.pipe(Object(F["a"])(),Object(k["a"])((function(e){return ta(e,{tokenNetwork:o,partner:i},a),Object(Lr["a"])(a.participant===r,"participant mismatch"),ar["withdrawMessage"].success({message:a},c)})),Object(U["a"])((function(e){return Object(g["a"])(ar["withdrawMessage"].failure(e,c))})))}function da(e,t,n){var r=n.log,a=n.address,o=n.signer,i=n.config$;return t.meta.direction!==Oe["a"].SENT?te["a"]:Object(m["a"])([e,i]).pipe(Object(F["a"])(),Object(I["a"])((function(e){var n=$r(e,2),i=n[0],c=n[1].confirmationBlocks,s=ta(i,t.meta);Object(Lr["a"])(!s.own.pendingWithdraws.some(Object(Vn["c"])(wt["d"].WITHDRAW_EXPIRED,t.meta)),"already expired");var l=s.own.pendingWithdraws.find(Object(Vn["c"])(wt["d"].WITHDRAW_REQUEST,t.meta));Object(Lr["a"])(l,"no matching WithdrawRequest found, maybe already confirmed"),Object(Lr["a"])(i.blockNumber>=t.meta.expiration+c,"not yet expired");var f={type:wt["d"].WITHDRAW_EXPIRED,message_identifier:Object(je["e"])(),chain_id:l.chain_id,token_network_address:l.token_network_address,channel_identifier:l.channel_identifier,participant:a,total_withdraw:t.meta.totalWithdraw,nonce:s.own.nextNonce,expiration:l.expiration};return Object(j["a"])(Object(ve["h"])(o,f,{log:r})).pipe(Object(I["a"])(u.a.mark((function e(n){return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ar["withdrawExpire"].success({message:n},t.meta);case 2:return e.next=4,ar["withdraw"].failure(new _e["c"](_e["b"].CNL_WITHDRAW_EXPIRED),t.meta);case 4:case"end":return e.stop()}}),e)}))))})),Object(U["a"])((function(e){return Object(g["a"])(ar["withdrawExpire"].failure(e,t.meta))})))}function ba(e,t,n){var r=n.signer,a=n.log,o=t.payload.message,i=o.token_network_address,c=o.participant,s={direction:Oe["a"].RECEIVED,tokenNetwork:i,partner:c,totalWithdraw:o.total_withdraw,expiration:o.expiration.toNumber()};return e.pipe(Object(F["a"])(),Object(I["a"])((function(e){Object(Lr["a"])(o.participant===t.meta.address,"participant mismatch");var n,l=ta(e,{tokenNetwork:i,partner:c},o),f=l.partner.pendingWithdraws.find(Object(Vn["c"])(wt["d"].WITHDRAW_CONFIRMATION,o));if(f)n=Object(g["a"])(f);else{Object(Lr["a"])(o.nonce.eq(l.partner.nextNonce),["nonce mismatch",{expected:l.partner.nextNonce.toNumber(),received:o.nonce.toNumber()}]),Object(Lr["a"])(o.total_withdraw.lte(Object(xe["c"])(l).partnerTotalWithdrawable),"invalid total_withdraw");var p={type:wt["d"].WITHDRAW_CONFIRMATION,message_identifier:o.message_identifier,chain_id:o.chain_id,token_network_address:o.token_network_address,channel_identifier:o.channel_identifier,participant:o.participant,total_withdraw:o.total_withdraw,nonce:l.own.nextNonce,expiration:o.expiration};n=Object(j["a"])(Object(ve["h"])(r,p,{log:a}))}return n.pipe(Object(I["a"])(u.a.mark((function e(n){return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ar["withdrawMessage"].request({message:o},s);case 2:return e.next=4,ar["withdrawMessage"].success({message:n},s);case 4:return e.next=6,gt["messageSend"].request({message:n},{address:c,msgId:t.payload.message.message_identifier.toString()});case 6:case"end":return e.stop()}}),e)}))))})),Object(U["a"])((function(e){return Object(g["a"])(ar["withdrawMessage"].failure(e,s))})))}function ha(e,t,n,r){var a=n.signer,o=n.log,i=n.config$,c=t.payload.message,s=c.token_network_address,l=c.participant,f={direction:Oe["a"].RECEIVED,tokenNetwork:s,partner:l,totalWithdraw:c.total_withdraw,expiration:c.expiration.toNumber()};return Object(m["a"])([e,i]).pipe(Object(F["a"])(),Object(I["a"])((function(e){var n=$r(e,2),i=n[0],p=n[1].confirmationBlocks;Object(Lr["a"])(l===t.meta.address,"participant mismatch");var d,b=ta(i,{tokenNetwork:s,partner:l},c),h="".concat(Object(xe["e"])(b),"+").concat(c.message_identifier.toString()),y=r.get(h);if(y)d=Object(g["a"])(y);else{Object(Lr["a"])(c.nonce.eq(b.partner.nextNonce),["nonce mismatch",{expected:b.partner.nextNonce.toNumber(),received:c.nonce.toNumber()}]),Object(Lr["a"])(i.blockNumber>=f.expiration+p,"expire block not confirmed yet");var m={type:wt["d"].PROCESSED,message_identifier:c.message_identifier};d=Object(j["a"])(Object(ve["h"])(a,m,{log:o})).pipe(Object(T["a"])((function(e){return r.set(h,e)})))}return d.pipe(Object(I["a"])(u.a.mark((function e(t){return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ar["withdrawExpire"].success({message:c},f);case 2:return e.next=4,Object(ar["withdrawCompleted"])(void 0,f);case 4:return e.next=6,gt["messageSend"].request({message:t},{address:l,msgId:t.message_identifier.toString()});case 6:case"end":return e.stop()}}),e)}))))})),Object(U["a"])((function(e){return Object(g["a"])(ar["withdrawExpire"].failure(e,f))})))}function ya(e,t,n){Fr(t);var r=new Br["a"](32),a=n.latest$.pipe(Object(Ee["g"])("state"),Object(Ee["b"])(e));return Object(v["a"])(e.pipe(Object(x["a"])(Object(ge["e"])([ar["transfer"].request,ar["transferUnlock"].request,ar["transferExpire"].request,ar["withdraw"].request,ar["withdrawExpire"].request]))),e.pipe(Object(x["a"])(Object(ve["g"])([Object(Te["h"])(wt["b"]),Object(Te["h"])(wt["h"]),Object(Te["h"])(wt["a"]),Object(Te["h"])(wt["k"]),Object(Te["h"])(wt["i"]),Object(Te["h"])(wt["j"])])))).pipe(Object(be["a"])((function(e){var t;switch(e.type){case ar["transfer"].request.type:t=ra(a,e,n);break;case ar["transferUnlock"].request.type:t=oa(a,e,n);break;case ar["transferExpire"].request.type:t=ca(a,e,n);break;case ar["withdraw"].request.type:t=fa(a,e,n);break;case ar["withdrawExpire"].request.type:t=da(a,e,n);break;case gt["messageReceived"].type:switch(e.payload.message.type){case wt["d"].LOCKED_TRANSFER:t=sa(a,e,n);break;case wt["d"].UNLOCK:t=ua(a,e,n);break;case wt["d"].LOCK_EXPIRED:t=la(a,e,n);break;case wt["d"].WITHDRAW_REQUEST:t=ba(a,e,n);break;case wt["d"].WITHDRAW_CONFIRMATION:t=pa(a,e,n);break;case wt["d"].WITHDRAW_EXPIRED:t=ha(a,e,n,r);break}break}return t})))}function ma(e,t){return wa(e)||ga(e,t)||Oa(e,t)||va()}function va(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Oa(e,t){if(e){if("string"===typeof e)return ja(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ja(e,t):void 0}}function ja(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ga(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done);r=!0)if(n.push(i.value),t&&n.length===t)break}catch(s){a=!0,o=s}finally{try{r||null==c["return"]||c["return"]()}finally{if(a)throw o}}return n}}function wa(e){if(Array.isArray(e))return e}function _a(e,t){return e.pipe(Object(x["a"])(Object(ve["g"])(Object(Te["h"])(wt["e"]))),Object(L["a"])(t),Object(I["a"])(u.a.mark((function e(t){var n,r,a,o,i,c,s,l,f,p,d;return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=ma(t,2),r=n[0],a=n[1].transfers,o=0,i=Object.values(a);case 2:if(!(o<i.length)){e.next=25;break}if(p=i[o],p.direction===Oe["a"].SENT&&p.partner===r.meta.address){e.next=6;break}return e.abrupt("continue",22);case 6:if(d={secrethash:p.secrethash,direction:Oe["a"].SENT},!r.payload.message.message_identifier.eq(p.transfer.message_identifier)){e.next=12;break}return e.next=10,Object(ar["transferProcessed"])({message:r.payload.message},d);case 10:e.next=22;break;case 12:if(!r.payload.message.message_identifier.eq(null!==(c=null===(s=p.unlock)||void 0===s?void 0:s.message_identifier)&&void 0!==c?c:-1)){e.next=19;break}return e.next=15,ar["transfer"].success({balanceProof:Object(ve["e"])(p.unlock)},d);case 15:return e.next=17,Object(ar["transferUnlockProcessed"])({message:r.payload.message},d);case 17:e.next=22;break;case 19:if(!r.payload.message.message_identifier.eq(null!==(l=null===(f=p.expired)||void 0===f?void 0:f.message_identifier)&&void 0!==l?l:-1)){e.next=22;break}return e.next=22,Object(ar["transferExpireProcessed"])({message:r.payload.message},d);case 22:o++,e.next=2;break;case 25:case"end":return e.stop()}}),e)}))))}function ka(e,t,n){var r=n.db;return e.pipe(Object(x["a"])(Object(ge["e"])([ar["transferProcessed"],ar["transferUnlockProcessed"],ar["transferExpireProcessed"]])),Object(x["a"])((function(e){return e.meta.direction===Oe["a"].RECEIVED})),Object(L["a"])(t),Object(I["a"])((function(e){var t=ma(e,2),n=t[0],a=t[1];return Object(je["d"])(a,r,n.meta).then((function(e){return[n,e]}))})),Object(k["a"])((function(e){var t=ma(e,2),n=t[0],r=t[1];return gt["messageSend"].request({message:n.payload.message},{address:r.partner,msgId:n.payload.message.message_identifier.toString()})})))}function Ea(e,t){return Pa(e)||Aa(e,t)||Sa(e,t)||Ta()}function Ta(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Sa(e,t){if(e){if("string"===typeof e)return xa(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xa(e,t):void 0}}function xa(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Aa(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done);r=!0)if(n.push(i.value),t&&n.length===t)break}catch(s){a=!0,o=s}finally{try{r||null==c["return"]||c["return"]()}finally{if(a)throw o}}return n}}function Pa(e){if(Array.isArray(e))return e}function Na(e,t,n){var r=n.config$;return e.pipe(Object(x["a"])(Object(ge["e"])([ar["transferSigned"],ar["transferUnlock"].success,ar["transferExpire"].success,ar["transferSecretRequest"],ar["transferSecretReveal"]])),Object(L["a"])(t,r),Object(I["a"])((function(n){var a,o,i=Ea(n,3),c=i[0],s=i[1],u=i[2].revealTimeout,l=s.transfers[Object(je["i"])(c.meta)],f=t.pipe(Object(Ee["g"])("transfers",Object(je["i"])(c.meta)));switch(c.type){case ar["transferSigned"].type:c.meta.direction===Oe["a"].SENT&&(a=c.payload.partner,o=f.pipe(Object(x["a"])((function(e){return!!(e.transferProcessed||e.unlockProcessed||e.expiredProcessed||e.channelClosed)}))));break;case ar["transferUnlock"].success.type:c.meta.direction===Oe["a"].SENT&&(a=c.payload.partner,o=f.pipe(Object(x["a"])((function(e){return!(!e.unlockProcessed&&!e.channelClosed)}))));break;case ar["transferExpire"].success.type:c.meta.direction===Oe["a"].SENT&&(a=c.payload.partner,o=f.pipe(Object(x["a"])((function(e){return!(!e.expiredProcessed&&!e.channelClosed)}))));break;case ar["transferSecretRequest"].type:c.meta.direction===Oe["a"].RECEIVED&&l&&(a=l.transfer.initiator,o=Object(m["a"])([t,f]).pipe(Object(x["a"])((function(e){var t=Ea(e,2),n=t[0].blockNumber,r=t[1];return!(!r.secretReveal&&!r.channelClosed)||n>r.expiration-u}))));break;case ar["transferSecretReveal"].type:c.meta.direction===Oe["a"].RECEIVED&&l&&(a=l.partner,o=f.pipe(Object(x["a"])((function(e){return!(!e.unlock&&!e.channelClosed)}))));break}return a&&o?Object(Vn["d"])(gt["messageSend"].request({message:c.payload.message},{address:a,msgId:c.payload.message.message_identifier.toString()}),e,o,Object(he["b"])(r)):te["a"]})))}function Ra(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=Ua(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function Da(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function Ca(e,t){return Ba(e)||La(e,t)||Ua(e,t)||Ia()}function Ia(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ua(e,t){if(e){if("string"===typeof e)return Ma(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ma(e,t):void 0}}function Ma(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function La(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done);r=!0)if(n.push(i.value),t&&n.length===t)break}catch(s){a=!0,o=s}finally{try{r||null==c["return"]||c["return"]()}finally{if(a)throw o}}return n}}function Ba(e){if(Array.isArray(e))return e}function Fa(e,t,n){var r=n.address,a=n.log;return e.pipe(Object(x["a"])(Object(ve["g"])(Object(Te["h"])(wt["f"]))),Object(L["a"])(t),Object(I["a"])(u.a.mark((function e(t){var n,o,i,c,s,l;return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=Ca(t,2),o=n[0],i=n[1],c=o.payload.message,s=Object(je["i"])({secrethash:c.secrethash,direction:Oe["a"].SENT}),s in i.transfers){e.next=5;break}return e.abrupt("return");case 5:if(l=i.transfers[s].transfer,l.initiator===r&&l.target===o.meta.address&&l.payment_identifier.eq(c.payment_identifier)){e.next=9;break}return a.warn("Invalid SecretRequest for transfer",c,l),e.abrupt("return");case 9:return e.next=11,Object(ar["transferSecretRequest"])({message:c},{secrethash:c.secrethash,direction:Oe["a"].SENT});case 11:case"end":return e.stop()}}),e)}))))}var Wa=function(e,t){var n=t.signer,r=t.log,a=t.latest$,o=e.payload.message;return a.pipe(Object(F["a"])(),Object(I["a"])((function(t){var a=t.state,i=a.transfers[Object(je["i"])(e.meta)];Object(_e["d"])(i.secret,"SecretRequest for unknown secret");var c,s=i.transfer,l=s.target,f=i.fee,p=s.lock.amount.sub(f);if(Object(_e["d"])(o.expiration.lte(s.lock.expiration)&&o.expiration.gt(a.blockNumber),"SecretRequest for expired transfer"),Object(_e["d"])(o.amount.gte(p),"SecretRequest for amount too small!"),o.amount.eq(p)||r.info("Accepted SecretRequest for amount different than sent",o,s),i.secretReveal)c=Object(g["a"])(i.secretReveal);else{var d={type:wt["d"].SECRET_REVEAL,message_identifier:Object(je["e"])(),secret:i.secret};c=Object(j["a"])(Object(ve["h"])(n,d,{log:r}))}return c.pipe(Object(I["a"])(u.a.mark((function t(n){return u.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(ar["transferSecretReveal"])({message:n},e.meta);case 2:return t.next=4,gt["messageSend"].request({message:n},{address:l,msgId:n.message_identifier.toString()});case 4:case"end":return t.stop()}}),t)}))))})),Object(U["a"])((function(t){return r.error("Invalid SecretRequest",t),Object(g["a"])(ar["transfer"].failure(new _e["c"](_e["b"].XFER_INVALID_SECRETREQUEST),e.meta))})))};function Va(e,t,n){return Da(t),e.pipe(Object(x["a"])(Object(ge["e"])(ar["transferSecretRequest"])),Object(x["a"])((function(e){return e.meta.direction===Oe["a"].SENT})),Object(be["a"])((function(e){return Wa(e,n)})))}function $a(e,t,n){var r=n.config$;return e.pipe(Object(x["a"])(Object(ve["g"])(wt["g"])),Object(L["a"])(t,r),Object(I["a"])(u.a.mark((function e(t){var n,r,a,o,i,c,s,l,f,p,d,b,h;return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=Ca(t,3),r=n[0],a=n[1],o=n[2].caps,i=Object(je["c"])(r.payload.message.secret),c=Object.values(Oe["a"]).map((function(e){return a.transfers[Object(je["i"])({secrethash:i,direction:e})]})).filter(Te["n"]),s=r.payload.message,l=Ra(c.filter((function(e){return e.direction===Oe["a"].SENT}))),e.prev=5,l.s();case 7:if((f=l.n()).done){e.next=17;break}return p=f.value,d={secrethash:i,direction:Oe["a"].SENT},e.next=12,Object(ar["transferSecret"])({secret:s.secret},d);case 12:if(r.meta.address!==p.partner||p.channelClosed){e.next=15;break}return e.next=15,ar["transferUnlock"].request(void 0,d);case 15:e.next=7;break;case 17:e.next=22;break;case 19:e.prev=19,e.t0=e["catch"](5),l.e(e.t0);case 22:return e.prev=22,l.f(),e.finish(22);case 25:if(Object(Mt["a"])(o,ye["a"].RECEIVE)){e.next=27;break}return e.abrupt("return");case 27:b=Ra(c.filter((function(e){return e.direction===Oe["a"].RECEIVED}))),e.prev=28,b.s();case 30:if((h=b.n()).done){e.next=36;break}return h.value,e.next=34,Object(ar["transferSecret"])({secret:s.secret},{secrethash:i,direction:Oe["a"].RECEIVED});case 34:e.next=30;break;case 36:e.next=41;break;case 38:e.prev=38,e.t1=e["catch"](28),b.e(e.t1);case 41:return e.prev=41,b.f(),e.finish(41);case 44:case"end":return e.stop()}}),e,null,[[5,19,22,25],[28,38,41,44]])}))))}function Ha(e,t,n){Da(t);var r=n.log,a=n.signer,o=n.latest$;return e.pipe(Object(x["a"])(Object(ge["e"])([ar["transferSecret"],ar["transferSecretRegister"].success])),Object(x["a"])((function(e){return e.meta.direction===Oe["a"].RECEIVED})),Object(x["a"])((function(e){return ar["transferSecret"].is(e)||!!e.payload.confirmed})),Object(be["a"])((function(e){return o.pipe(Object(Ee["g"])("state"),Object(F["a"])(),Object(x["a"])((function(t){var n=t.transfers;return Object(je["i"])(e.meta)in n})),Object(I["a"])((function(t){var n,o=t.transfers,i=null===(n=o[Object(je["i"])(e.meta)])||void 0===n?void 0:n.secretReveal;if(i)return Object(g["a"])(Object(Te["q"])(i));var c={type:wt["d"].SECRET_REVEAL,message_identifier:Object(je["e"])(),secret:e.payload.secret};return Object(ve["h"])(a,c,{log:r})})),Object(k["a"])((function(t){return Object(ar["transferSecretReveal"])({message:t},e.meta)})),Object(U["a"])((function(t){return r.warn("Error trying to sign SecretReveal - ignoring",t,e.meta),te["a"]})))})))}function qa(e,t,n){Da(e);var r=n.provider,a=n.secretRegistryContract,o=n.config$,i=n.init$,c=new ne["a"];return i.next(c),Object(ke["a"])(r,a.filters.SecretRevealed(null,null),{confirmations:o.pipe(Object(P["a"])("confirmationBlocks")),blockNumber$:t.pipe(Object(Ee["g"])("blockNumber")),onPastCompleted:function(){c.next(null),c.complete()}}).pipe(Object(Ee["b"])(t),Object(k["a"])(Object(ke["d"])(a)),Object(L["a"])(t,o),Object(I["a"])(u.a.mark((function e(t){var n,r,a,o,i,c,s,l,f,p,d,b,h;return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=Ca(t,3),r=Ca(n[0],3),a=r[0],o=r[1],i=r[2],c=n[1],s=c.transfers,l=c.blockNumber,f=n[2].confirmationBlocks,p=0,d=Object.values(Oe["a"]);case 2:if(!(p<d.length)){e.next=12;break}if(b=d[p],h=Object(je["i"])({secrethash:a,direction:b}),h in s){e.next=7;break}return e.abrupt("continue",9);case 7:return e.next=9,ar["transferSecretRegister"].success({secret:o,txHash:i.transactionHash,txBlock:i.blockNumber,confirmed:i.blockNumber+f<=l?i.blockNumber<s[h].expiration:void 0},{secrethash:a,direction:b});case 9:p++,e.next=2;break;case 12:case"end":return e.stop()}}),e)}))))}function Ka(e){return e.pipe(Object(x["a"])(ar["transferSecretRegister"].success.is),Object(x["a"])((function(e){return!!e.payload.confirmed})),Object(k["a"])((function(e){return ar["transfer"].success({},e.meta)})))}function Ga(e,t,n){var r=n.config$,a=n.latest$;return t.pipe(Object(L["a"])(r),Object(I["a"])((function(e){var t=Ca(e,2),n=t[0],r=n.blockNumber,a=n.transfers,o=t[1].revealTimeout;return Object(j["a"])(Object.values(a).filter((function(e){return e.direction===Oe["a"].RECEIVED&&!e.unlock&&!e.expired&&!!e.secret&&!e.secretRegistered&&e.expiration>r&&e.expiration<=r+o})))})),Object(de["a"])((function(e){return e._id}),Tr["a"],(function(e){return a.pipe(Object(P["a"])("state"),Object(x["a"])((function(t){var n=t.blockNumber,r=t.transfers;return!!(r[e.key].expiration<n||r[e.key].unlock||r[e.key].secretRegistered)})))})),Object(I["a"])((function(t){return t.pipe(Object(ie["a"])((function(t){var n={secrethash:t.secrethash,direction:Oe["a"].RECEIVED};return Object(Vn["a"])(e,ar["transferSecretRegister"].request({secret:t.secret},n),Object(ge["f"])(ar["transferSecretRegister"],n))})),Object(C["a"])(t.pipe(Object(S["a"])(),Object(ae["a"])(1))))})),Object(Ee["k"])(r.pipe(Object(P["a"])("caps"),Object(k["a"])((function(e){return Object(Mt["a"])(e,ye["a"].RECEIVE)})),Object(Ee["b"])(e))))}function Ya(e,t,n){Da(t);var r=n.log,a=n.signer,o=n.address,i=n.main,c=n.provider,s=n.secretRegistryContract,u=n.config$;return e.pipe(Object(x["a"])(ar["transferSecretRegister"].request.is),Object(L["a"])(u),Object(I["a"])((function(e){var t,n=Ca(e,2),l=n[0],f=n[1].subkey,p=Object(me["b"])({signer:a,address:o,main:i},null!==(t=l.payload.subkey)&&void 0!==t?t:f),d=p.signer,b=Object(me["d"])(s,d);return Object(ee["a"])((function(){return b.registerSecret(l.payload.secret)})).pipe(Object(xe["b"])("registerSecret",_e["b"].XFER_REGISTERSECRET_TX_FAILED,{log:r,provider:c}),Object(Ee["j"])(Object(he["b"])(u),{onErrors:_e["f"],log:r.debug}),Object(S["a"])(),Object(U["a"])((function(e){return Object(g["a"])(ar["transferSecretRegister"].failure(e,l.meta))})))})))}var Xa=n("8df4"),Qa=(n("9201"),n("0ba5"));function Za(e,t){return eo(e)||Ja(e,t)||no(e,t)||za()}function za(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ja(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done);r=!0)if(n.push(i.value),t&&n.length===t)break}catch(s){a=!0,o=s}finally{try{r||null==c["return"]||c["return"]()}finally{if(a)throw o}}return n}}function eo(e){if(Array.isArray(e))return e}function to(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=no(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function no(e,t){if(e){if("string"===typeof e)return ro(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ro(e,t):void 0}}function ro(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ao(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function oo(e,t){return ao(e),t.pipe(Object(F["a"])(),Object(I["a"])(u.a.mark((function e(t){var n,r,a,o,i,c;return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=0,r=Object.values(t.channels);case 1:if(!(n<r.length)){e.next=31;break}if(a=r[n],a.state===Se["b"].open){e.next=5;break}return e.abrupt("continue",28);case 5:o=to(a.own.pendingWithdraws),e.prev=6,o.s();case 8:if((i=o.n()).done){e.next=20;break}if(c=i.value,c.type!==Qa["a"].WITHDRAW_REQUEST||a.own.pendingWithdraws.some(Object(Vn["c"])(Qa["a"].WITHDRAW_CONFIRMATION,c))){e.next=15;break}return e.next=13,ar["withdrawMessage"].request({message:c},{direction:Oe["a"].SENT,tokenNetwork:a.tokenNetwork,partner:a.partner.address,totalWithdraw:c.total_withdraw,expiration:c.expiration.toNumber()});case 13:e.next=18;break;case 15:if(c.type!==Qa["a"].WITHDRAW_EXPIRED){e.next=18;break}return e.next=18,ar["withdrawExpire"].success({message:c},{direction:Oe["a"].SENT,tokenNetwork:a.tokenNetwork,partner:a.partner.address,totalWithdraw:c.total_withdraw,expiration:c.expiration.toNumber()});case 18:e.next=8;break;case 20:e.next=25;break;case 22:e.prev=22,e.t0=e["catch"](6),o.e(e.t0);case 25:return e.prev=25,o.f(),e.finish(25);case 28:n++,e.next=1;break;case 31:case"end":return e.stop()}}),e,null,[[6,22,25,28]])}))))}function io(e,t,n){var r=n.config$;return e.pipe(Object(x["a"])(ar["withdrawMessage"].request.is),Object(x["a"])((function(e){return e.meta.direction===Oe["a"].SENT})),Object(I["a"])((function(n){var a=n.payload.message,o=gt["messageSend"].request({message:a},{address:n.meta.partner,msgId:a.message_identifier.toString()}),i=t.pipe(Object(x["a"])((function(e){var t=e.channels[Object(xe["d"])(n.meta)];return(null===t||void 0===t?void 0:t.state)!==Se["b"].open||t.own.pendingWithdraws.some(Object(Vn["c"])(Qa["a"].WITHDRAW_CONFIRMATION,n.meta))||!t.own.pendingWithdraws.some(Object(Vn["c"])(Qa["a"].WITHDRAW_REQUEST,n.meta))})));return Object(Vn["d"])(o,e,i,Object(he["b"])(r))})))}function co(e,t,n){ao(t);var r=n.address,a=n.signer,o=n.main,i=n.provider,c=n.log,s=n.getTokenNetworkContract,u=n.latest$,l=n.config$;return e.pipe(Object(x["a"])(ar["withdrawMessage"].success.is),Object(x["a"])((function(e){return e.meta.direction===Oe["a"].SENT})),Object(be["a"])((function(e){return u.pipe(Object(F["a"])(),Object(I["a"])((function(t){var n=t.state,u=t.config,f=u.subkey,p=u.revealTimeout;Object(_e["d"])(e.meta.expiration>=n.blockNumber+p,_e["b"].CNL_WITHDRAW_EXPIRES_SOON);var d=n.channels[Object(xe["d"])(e.meta)];Object(_e["d"])((null===d||void 0===d?void 0:d.state)===Se["b"].open,"channel not open"),Object(_e["d"])(e.meta.totalWithdraw.gt(d.own.withdraw),"withdraw already performed");var b=d.own.pendingWithdraws.find(Object(Vn["c"])(Qa["a"].WITHDRAW_REQUEST,e.payload.message));Object(_e["d"])(b,"no matching WithdrawRequest found");var h=e.meta.tokenNetwork,y=Object(me["b"])({signer:a,address:r,main:o},f),m=y.signer,v=Object(me["d"])(s(h),m);return Object(ee["a"])((function(){return v.setTotalWithdraw(d.id,r,e.meta.totalWithdraw,e.meta.expiration,b.signature,e.payload.message.signature)})).pipe(Object(xe["b"])("setTotalWithdraw",_e["b"].CNL_WITHDRAW_TRANSACTION_FAILED,{log:c,provider:i}),Object(Ee["j"])(Object(he["b"])(l),{onErrors:_e["f"],log:c.debug}))})),Object(k["a"])((function(t){var n=Za(t,2),r=n[1];return ar["withdraw"].success({txHash:r.transactionHash,txBlock:r.blockNumber,confirmed:void 0},e.meta)})),Object(U["a"])((function(t){return Object(g["a"])(ar["withdraw"].failure(t,e.meta))})))})))}function so(e,t,n){ao(t);var r=n.signer,a=n.log,o=n.latest$,i=new Br["a"](32);return e.pipe(Object(x["a"])(Object(ge["e"])([ar["withdrawMessage"].request,ar["withdrawMessage"].success])),Object(x["a"])((function(e){return e.meta.direction===Oe["a"].RECEIVED!==ar["withdrawMessage"].success.is(e)})),Object(be["a"])((function(e){return o.pipe(Object(F["a"])(),Object(x["a"])((function(t){var n=t.presences;return e.meta.partner in n&&!!Object(Mt["a"])(n[e.meta.partner].payload.caps,ye["a"].DELIVERY)})),Object(I["a"])((function(){var t,n=e.payload.message,o=n.message_identifier.toString(),c=i.get(o);if(c)t=Object(g["a"])(c);else{var s={type:Qa["a"].PROCESSED,message_identifier:n.message_identifier};t=Object(j["a"])(Object(Qa["i"])(r,s,{log:a})).pipe(Object(T["a"])((function(e){return i.set(o,e)})))}return t.pipe(Object(k["a"])((function(t){return gt["messageSend"].request({message:t},{address:e.meta.partner,msgId:t.message_identifier.toString()})})))})),Object(U["a"])((function(e){return a.info("Signing Processed message for Withdraw message failed, ignoring",e),te["a"]})))})))}function uo(e,t,n){var r=n.config$;return e.pipe(Object(x["a"])(V["newBlock"].is),Object(P["a"])("payload","blockNumber"),Object(L["a"])(t,r),Object(I["a"])(u.a.mark((function e(t){var n,r,a,o,i,c,s,l,f,p,d;return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=Za(t,3),r=n[0],a=n[1],o=n[2].confirmationBlocks,i=0,c=Object.values(a.channels);case 2:if(!(i<c.length)){e.next=31;break}if(s=c[i],s.state===Se["b"].open){e.next=6;break}return e.abrupt("continue",28);case 6:l=s.own.pendingWithdraws.filter(Object(Vn["c"])(Qa["a"].WITHDRAW_REQUEST)),f=to(l),e.prev=8,f.s();case 10:if((p=f.n()).done){e.next=20;break}if(d=p.value,!d.expiration.add(2*o).gte(r)){e.next=14;break}return e.abrupt("continue",18);case 14:if(!s.own.pendingWithdraws.some(Object(Vn["c"])(Qa["a"].WITHDRAW_EXPIRED,d))){e.next=16;break}return e.abrupt("continue",18);case 16:return e.next=18,ar["withdrawExpire"].request(void 0,{direction:Oe["a"].SENT,tokenNetwork:s.tokenNetwork,partner:s.partner.address,expiration:d.expiration.toNumber(),totalWithdraw:d.total_withdraw});case 18:e.next=10;break;case 20:e.next=25;break;case 22:e.prev=22,e.t0=e["catch"](8),f.e(e.t0);case 25:return e.prev=25,f.f(),e.finish(25);case 28:i++,e.next=2;break;case 31:case"end":return e.stop()}}),e,null,[[8,22,25,28]])}))))}function lo(e,t,n){ao(t);var r=n.config$;return e.pipe(Object(x["a"])(ar["withdrawExpire"].success.is),Object(x["a"])((function(e){return e.meta.direction===Oe["a"].SENT})),Object(I["a"])((function(t){var n=t.payload.message,a=gt["messageSend"].request({message:n},{address:t.meta.partner,msgId:n.message_identifier.toString()}),o=e.pipe(Object(x["a"])(Object(Qa["h"])(Object(Te["h"])(Qa["b"]))),Object(x["a"])((function(e){return e.meta.address===t.meta.partner&&e.payload.message.message_identifier.eq(n.message_identifier)})),Object(se["a"])(Object(ar["withdrawCompleted"])(void 0,t.meta)),Object(N["a"])(1),Object(Xa["a"])());return Object(v["a"])(Object(Vn["d"])(a,e,o,Object(he["b"])(r)),o)})))}var fo=n("178d"),po=n("b993"),bo=n("ae6a"),ho=n("dfba"),yo=n("759f");function mo(e){var t=/^(?:\w*:?\/\/)?([^/#?&]+)/.exec(e);return t&&t[1]}function vo(e,t){var n=Object(yo["encodeUri"])("/presence/$userId/status",{$userId:t});return e._http.authedRequest(void 0,"GET",n)}var Oo=n("5983"),jo=n.n(Oo),go=n("a92c");function wo(e){return[e.discoveryRoom,e.pfsRoom,e.monitoringRoom].filter(Te["n"])}var _o=jo()((function(e,t){return e===t.roomId||e===t.name||e===t.getCanonicalAlias()||t.getAliases().includes(e)}));function ko(e,t){var n=e.getRoom(t);return n||(n=e.getRooms().find(_o(t))),n?Object(g["a"])(n):Object(go["a"])(e,"Room").pipe(Object(x["a"])(_o(t)),Object(N["a"])(1))}function Eo(e,t,n){var r=n.log;if("string"===typeof e)try{var a=Object(ve["c"])(e);if("signature"in a){var o=Object(ve["f"])(a);if(o!==t)throw new _e["c"](_e["b"].TRNS_MESSAGE_SIGNATURE_MISMATCH,{sender:t,signer:o})}return a}catch(i){r.warn("Could not decode message: ".concat(e,": ").concat(i))}}function To(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function So(e,t){return Ro(e)||No(e,t)||Ao(e,t)||xo()}function xo(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ao(e,t){if(e){if("string"===typeof e)return Po(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Po(e,t):void 0}}function Po(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function No(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done);r=!0)if(n.push(i.value),t&&n.length===t)break}catch(s){a=!0,o=s}finally{try{r||null==c["return"]||c["return"]()}finally{if(a)throw o}}return n}}function Ro(e){if(Array.isArray(e))return e}function Do(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function Co(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Do(o,r,a,i,c,"next",e)}function c(e){Do(o,r,a,i,c,"throw",e)}i(void 0)}))}}function Io(e,t){var n=mo(t.getHomeserverUrl());return Object(j["a"])(wo(e)).pipe(Object(k["a"])((function(e){return"#".concat(e,":").concat(n)})),Object(I["a"])((function(e){return t.joinRoom(e).then((function(r){return r.currentState.setStateEvents([new fo["MatrixEvent"]({type:"m.room.aliases",state_key:n,content:{aliases:[e]},event_id:"$local_".concat(Date.now()),room_id:r.roomId,sender:t.getUserId()})]),t.store.storeRoom(r),t.emit("Room",r),r}))})),Object(P["a"])("roomId"),Object(ue["a"])())}function Uo(e,t){return Mo.apply(this,arguments)}function Mo(){return Mo=Co(u.a.mark((function e(t,n){var r,a;return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r={not_rooms:n,ephemeral:{not_types:["m.receipt","m.typing"]},timeline:{limit:0,not_senders:[t.getUserId()]}},a={room:r},e.abrupt("return",t.createFilter(a));case 3:case"end":return e.stop()}}),e)}))),Mo.apply(this,arguments)}function Lo(e,t,n,r){return e.pipe(Object(x["a"])(Ut["matrixSetup"].is),Object(N["a"])(1),Object(T["a"])((function(){n.next(t),n.complete()})),Object(L["a"])(r),Object(B["a"])((function(e){var t=So(e,2),n=t[1].pollingInterval;return Object(w["a"])(Math.ceil(n/5))})),Object(I["a"])((function(e){var n=So(e,2),a=n[1];return Io(a,t).pipe(Object(I["a"])(function(){var e=Co(u.a.mark((function e(n){return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Uo(t,n));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Object(I["a"])(function(){var e=Co(u.a.mark((function e(n){return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.setPushRuleEnabled("global","override",".m.rule.master",!0);case 2:return e.abrupt("return",n);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Object(I["a"])(function(){var e=Co(u.a.mark((function e(n){return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",t.startClient({filter:n}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Object(I["a"])((function(){return Object(w["a"])(Math.round((Math.random()+.5)*a.httpTimeout)).pipe(Object(I["a"])(Co(u.a.mark((function e(){return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",t.setPresence({presence:"online",status_msg:Date.now().toString()}));case 1:case"end":return e.stop()}}),e)})))))})),Object(Ee["j"])(Object(he["b"])(r),{onErrors:_e["h"]}))})),Object(S["a"])())}function Bo(e,t){return e.includes("://")||(e="https://"+e),Object(ee["a"])((function(){var n=Date.now();return Object($t["a"])(e+"/_matrix/client/versions").pipe(Object(Ht["a"])(t),Object(k["a"])((function(e){var t=e.ok;return t?Date.now():NaN})),Object(U["a"])((function(){return Object(g["a"])(NaN)})),Object(k["a"])((function(t){return{server:e,rtt:t-n}})))}))}var Fo=Vt["v"]({active_servers:Vt["d"](Vt["s"]),all_servers:Vt["d"](Vt["s"])});function Wo(e,t){return Object($t["a"])(e).pipe(Object(I["a"])(function(){var t=Co(u.a.mark((function t(n){return u.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return Object(Lr["a"])(n.ok,'Could not fetch server list from "'.concat(e,'" => ').concat(n.status)),t.abrupt("return",n.json());case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),Object(Ht["a"])(t),Object(I["a"])((function(e){return Object(Te["l"])(Fo,e).active_servers})),Object(I["a"])((function(e){return Bo(e,t)})),Object(ue["a"])(),Object(I["a"])((function(e){return J()(e,["rtt"])})),Object(x["a"])((function(e){var t=e.rtt;return!isNaN(t)})),Object(bo["a"])((function(){return new _e["c"](_e["b"].TRNS_NO_MATRIX_SERVERS)})))}function Vo(e,t,n,r){var a=n.address,o=n.signer,i=n.config$,c=mo(e);return Object(Lr["a"])(c,[_e["b"].TRNS_NO_SERVERNAME,{server:e}]),i.pipe(Object(F["a"])(),Object(I["a"])((function(n){var r=n.pollingInterval;if(t){var s=Object(fo["createClient"])({baseUrl:e,userId:t.userId,accessToken:t.accessToken,deviceId:t.deviceId});return Object(g["a"])({matrix:s,server:e,setup:t,pollingInterval:r})}var l=Object(fo["createClient"])({baseUrl:e}),f=a.toLowerCase(),p="@".concat(f,":").concat(c);return Object(j["a"])(o.signMessage(c)).pipe(Object(I["a"])((function(e){return Object(ee["a"])(Co(u.a.mark((function t(){return u.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",l.login("m.login.password",{identifier:{type:"m.id.user",user:f},password:e,device_id:ye["e"]}));case 1:case"end":return t.stop()}}),t)})))).pipe(Object(U["a"])(function(){var t=Co(u.a.mark((function t(n){return u.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",l.registerRequest({username:f,password:e,device_id:ye["e"]}).catch(G()(n)));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),Object(Ee["j"])(Object(he["b"])(i),{onErrors:_e["h"]}))})),Object(I["a"])((function(t){var n=t.access_token,r=t.device_id,a=t.user_id;return Object(Lr["a"])(a===p,["Wrong login/register user_id",{user_id:a,userId:p}]),l.deviceId=r,l._http.opts.accessToken=n,l.credentials={userId:p},Object(j["a"])(o.signMessage(p)).pipe(Object(k["a"])((function(t){return{matrix:l,server:e,setup:{userId:p,accessToken:n,deviceId:r,displayName:t}}})))})))})),Object(I["a"])((function(e){var t=e.matrix,n=e.server,a=e.setup;return Object(ee["a"])((function(){return Promise.all([t.setDisplayName(a.displayName),t.setAvatarUrl(r&&!Z()(r)?Object(Mt["f"])(r):"")])})).pipe(Object(Ee["j"])(Object(he["b"])(i),{onErrors:_e["h"]}),Object(se["a"])({matrix:t,server:n,setup:a}))})))}function $o(e,t,n){To(t);var r=n.address,a=n.signer,o=n.matrix$,i=n.latest$,c=n.config$,s=n.init$;return Object(m["a"])([i,c]).pipe(Object(F["a"])(),Object(I["a"])((function(e){var t=So(e,2),n=t[0].state,i=t[1],u=i.matrixServer,l=i.matrixServerLookup,f=i.httpTimeout,p=i.caps,d=n.transport.server,b=n.transport.setup;s.next(o);var h,y=[];u?(u===d&&y.push(Object(g["a"])({server:d,setup:b})),y.push(Object(g["a"])({server:u}))):(d&&y.push(Object(g["a"])({server:d,setup:b})),y.push(Wo(l,f)));var m=function(e){return h=e,te["a"]};return Object(ee["a"])((function(){return y.shift()||te["a"]})).pipe(Object(U["a"])(m),Object(be["a"])((function(e){var t=e.server,n=e.setup;return Vo(t,n,{address:r,signer:a,config$:c},p).pipe(Object(U["a"])(m))})),Object(F["a"])(),Object(T["a"])((function(e){var t=e.matrix;return t.setMaxListeners(30)})),Object(ho["a"])((function(e){return e.pipe(Object(I["a"])((function(){return y.length?Object(g["a"])(null):Object(re["a"])(h)})))})))})),Object(I["a"])((function(t){var n=t.matrix,r=t.server,a=t.setup;return Object(v["a"])(Lo(e,n,o,c),Object(g["a"])(Object(Ut["matrixSetup"])({server:r,setup:a})),c.pipe(Object(Ee["g"])("logger"),Object(T["a"])((function(e){return po["logger"].setLevel(e||"silent",!1)})),Object(S["a"])()))})),Object(Ee["b"])(e))}function Ho(e,t,n){To(t);var r=n.matrix$;return e.pipe(Object(L["a"])(r),Object(Ee["e"])(function(){var e=Co(u.a.mark((function e(t){var n;return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return n=t[1],n.stopClient(),e.prev=4,e.next=7,n.setPresence({presence:"offline",status_msg:""});case 7:e.next=11;break;case 9:e.prev=9,e.t0=e["catch"](4);case 11:case"end":return e.stop()}}),e,null,[[4,9]])})));return function(t){return e.apply(this,arguments)}}()),Object(S["a"])())}var qo=n("db9c"),Ko=n("03a8"),Go=n("1f17");function Yo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yo(Object(n),!0).forEach((function(t){Zo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Qo(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function Zo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zo(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function Jo(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){zo(o,r,a,i,c,"next",e)}function c(e){zo(o,r,a,i,c,"throw",e)}i(void 0)}))}}function ei(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=ri(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function ti(e,t){return ii(e)||oi(e,t)||ri(e,t)||ni()}function ni(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ri(e,t){if(e){if("string"===typeof e)return ai(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ai(e,t):void 0}}function ai(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function oi(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done);r=!0)if(n.push(i.value),t&&n.length===t)break}catch(s){a=!0,o=s}finally{try{r||null==c["return"]||c["return"]()}finally{if(a)throw o}}return n}}function ii(e){if(Array.isArray(e))return e}function ci(e){return"string"===typeof e?e:Object(ve["d"])(e)}var si="m.text";function ui(e){var t;return null!==(t=e.payload.msgtype)&&void 0!==t?t:si}function li(e){var t,n=ti(e,2),r=n[0],a=n[1].rtc;return ui(r)===si&&"open"===(null===(t=a[r.meta.address])||void 0===t?void 0:t.readyState)}function fi(e,t,n){for(var r=0,a=new Map,o=0;o<e.length&&r<n;o++){var i=e[o],c=t[i.meta.address].payload.userId,s=a.get(c),u=s&&ui(i)!==ui(s[0]);u||(e.splice(o--,1),s?s.push(i):a.set(c,[i]),r++)}return a}function pi(e,t,n){if(!e.length)return te["a"];var r,a=Date.now(),o=fi(e,t,20),i={},c=ei(o);try{for(c.s();!(r=c.n()).done;){var s=ti(r.value,2),l=s[0],f=s[1],p=f.map((function(e){return ci(e.payload.message)})).join("\n"),d={msgtype:ui(f[0]),body:p};i[l]=Zo({},"*",d)}}catch(h){c.e(h)}finally{c.f()}var b=-1;return n.matrix$.pipe(Object(I["a"])(function(){var e=Jo(u.a.mark((function e(t){return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return b++,e.abrupt("return",t.sendToDevice("m.room.message",i));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Object(Ee["j"])(Object(he["b"])(n.config$),{maxRetries:3,onErrors:_e["h"],log:n.log.warn}),Object(I["a"])(u.a.mark((function e(){var t,r,i,c,s,l,f,p,d;return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=Date.now()-a,r=ei(o),e.prev=2,r.s();case 4:if((i=r.n()).done){e.next=24;break}c=ti(i.value,2),s=c[0],l=c[1],f=ei(l),e.prev=7,d=u.a.mark((function e(){var r;return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=p.value,e.next=3,n.latest$.pipe(Object(x["a"])((function(e){var t=e.presences;return t[r.meta.address].payload.available})),Object(N["a"])(1),Object(se["a"])(gt["messageSend"].success({via:s,tookMs:t,retries:b},r.meta)));case 3:case"end":return e.stop()}}),e)})),f.s();case 10:if((p=f.n()).done){e.next=14;break}return e.delegateYield(d(),"t0",12);case 12:e.next=10;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e["catch"](7),f.e(e.t1);case 19:return e.prev=19,f.f(),e.finish(19);case 22:e.next=4;break;case 24:e.next=29;break;case 26:e.prev=26,e.t2=e["catch"](2),r.e(e.t2);case 29:return e.prev=29,r.f(),e.finish(29);case 32:case"end":return e.stop()}}),e,null,[[2,26,29,32],[7,16,19,22]])}))),Object(U["a"])(u.a.mark((function e(t){var n,r,a,i,c,s,l;return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=ei(o),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=24;break}a=ti(r.value,2),i=a[1],c=ei(i),e.prev=6,c.s();case 8:if((s=c.n()).done){e.next=14;break}return l=s.value,e.next=12,Object(g["a"])(gt["messageSend"].failure(t,l.meta));case 12:e.next=8;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e["catch"](6),c.e(e.t0);case 19:return e.prev=19,c.f(),e.finish(19);case 22:e.next=3;break;case 24:e.next=29;break;case 26:e.prev=26,e.t1=e["catch"](1),n.e(e.t1);case 29:return e.prev=29,n.f(),e.finish(29);case 32:case"end":return e.stop()}}),e,null,[[1,26,29,32],[6,16,19,22]])}))))}function di(e,t){var n=[];return e.pipe(Object(T["a"])((function(e){return n.push(e)})),Object(be["a"])((function(){return t.latest$.pipe(Object(F["a"])(),Object(I["a"])((function(r){var a=r.presences;return pi(n,a,t).pipe(Object(Ee["b"])(e,10))})))})),Object(I["a"])((function(t){return t.pipe(Object(Ee["b"])(e,10))})))}function bi(e){return e.pipe(Object(k["a"])((function(e){var t=ti(e,2),n=t[0],r=t[1].rtc,a=Date.now(),o=r[n.meta.address];o.send(ci(n.payload.message));var i={via:o.label,tookMs:Date.now()-a,retries:0};return gt["messageSend"].success(i,n.meta)})))}function hi(e,t,n){Qo(t);var r=e.pipe(Object(x["a"])(gt["messageSend"].request.is),Object(Ee["f"])((function(t){return n.latest$.pipe(Object(x["a"])((function(e){var n=e.rtc,r=e.presences;return li([t,{rtc:n}])||t.meta.address in r})),Object(N["a"])(1),Object(Ee["b"])(e))})),Object(Xa["a"])()),a=Object(qo["a"])(r,li),o=ti(a,2),i=o[0],c=o[1],s=bi(i),u=di(c.pipe(Object(P["a"])(0)),n);return Object(v["a"])(s,u)}function yi(e,t,n,r){var a,o=r.config$,i=(a={},Zo(a,_t["h"].PFS,n.pfsRoom),Zo(a,_t["h"].MS,n.monitoringRoom),a),c=i[e[0].meta.service],s=wo(n);Object(_e["d"])(c&&s.includes(c),["messageServiceSend for unknown global room",{roomName:c,globalRooms:s.join(",")}]);var l=mo(t.getHomeserverUrl()),f="#".concat(c,":").concat(l),p=e.map((function(e){return ci(e.payload.message)})).join("\n"),d=Date.now(),b=-1;return ko(t,f).pipe(Object(I["a"])(function(){var e=Jo(u.a.mark((function e(n){return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return b++,e.next=3,t.sendEvent(n.roomId,"m.room.message",{body:p,msgtype:si},"");case 3:return e.abrupt("return",{via:n.roomId,tookMs:Date.now()-d,retries:b});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Object(Ee["j"])(Object(he["b"])(o),{maxRetries:3,onErrors:_e["h"]}))}function mi(e,t,n){Qo(t);var r=n.matrix$,a=n.config$;return e.pipe(Object(x["a"])(Object(ge["e"])(gt["messageServiceSend"].request)),Object(de["a"])((function(e){return e.meta.service})),Object(I["a"])((function(t){return t.pipe(Object(Ee["c"])((function(t){return r.pipe(Object(L["a"])(a),Object(I["a"])((function(e){var r=ti(e,2),a=r[0],o=r[1];return yi(t,a,o,n)})),Object(I["a"])((function(e){return Object(j["a"])(t.map((function(t){return gt["messageServiceSend"].success(e,t.meta)})))})),Object(U["a"])((function(e){return Object(j["a"])(t.map((function(t){return gt["messageServiceSend"].failure(e,t.meta)})))})),Object(Ee["b"])(e,10))}),20))})))}function vi(e,t,n){Qo(t);var r=n.log,a=n.matrix$,o=n.config$,i=n.latest$;return a.pipe(Object(Ee["f"])((function(e){return Object(go["a"])(e,"toDeviceEvent")})),Object(x["a"])((function(e){var t=ti(e,2),n=t[0],r=t[1];return"m.room.message"===r.getType()&&r.getSender()!==n.getUserId()})),Object(P["a"])(1),Object(L["a"])(o),Object(Ee["f"])((function(e){var t=ti(e,2),n=t[0],r=t[1].httpTimeout;return i.pipe(Object(x["a"])((function(e){var t=e.presences;return!!Object(Mt["b"])(t,n.getSender())})),Object(N["a"])(1),Object(C["a"])(Object(w["a"])(r)))})),Object(Ee["b"])(e),Object(I["a"])((function(e){var t,n=ti(e,2),a=ti(n[0],1),o=a[0],i=n[1].presences,c=Object(Mt["b"])(i,o.getSender()),s=(null!==(t=o.getContent().body)&&void 0!==t?t:"").split("\n");return Object(Ko["a"])(s,Go["b"]).pipe(Object(k["a"])((function(e){var t;return o.getContent().msgtype===si&&(t=Eo(e,c.meta.address,{log:r})),Object(gt["messageReceived"])(Xo(Xo({text:e},t?{message:t}:{}),{},{ts:Date.now(),userId:c.payload.userId},o.getContent().msgtype?{msgtype:o.getContent().msgtype}:{}),c.meta)})))})))}function Oi(e,t,n){Qo(t);var r=n.log,a=n.signer,o=n.latest$,i=new Br["a"](32);return e.pipe(Object(x["a"])(Object(ve["g"])([Object(Te["h"])(wt["e"]),Object(Te["h"])(wt["f"]),Object(Te["h"])(wt["g"])])),Object(L["a"])(o),Object(x["a"])((function(e){var t=ti(e,2),n=t[0],r=t[1].presences;return n.meta.address in r&&!!Object(Mt["a"])(r[n.meta.address].payload.caps,ye["a"].DELIVERY)})),Object(be["a"])((function(e){var t=ti(e,1),n=t[0],o=n.payload.message;return Object(ee["a"])((function(){var e=o.message_identifier,t=e.toString(),c=i.get(t);if(c)return Object(g["a"])(gt["messageSend"].request({message:c},{address:n.meta.address,msgId:t}));var s={type:wt["d"].DELIVERED,delivered_message_identifier:e};return r.info('Signing "'.concat(s.type,'" for "').concat(o.type,'" with id=').concat(e.toString())),Object(j["a"])(Object(ve["h"])(a,s,{log:r})).pipe(Object(T["a"])((function(e){return i.set(t,e)})),Object(k["a"])((function(e){return gt["messageSend"].request({message:e},{address:n.meta.address,msgId:t})})))}))})))}var ji=n("2d67"),gi=n("21b8"),wi=n.n(gi),_i=n("0150"),ki=n.n(_i),Ei=n("8130"),Ti=n.n(Ei),Si=n("ebf5");function xi(e,t){return Ni(e)||Pi(e,t)||Mi(e,t)||Ai()}function Ai(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Pi(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done);r=!0)if(n.push(i.value),t&&n.length===t)break}catch(s){a=!0,o=s}finally{try{r||null==c["return"]||c["return"]()}finally{if(a)throw o}}return n}}function Ni(e){if(Array.isArray(e))return e}function Ri(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function Di(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ci(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Di(Object(n),!0).forEach((function(t){Ii(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Di(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ii(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ui(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=Mi(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function Mi(e,t){if(e){if("string"===typeof e)return Li(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Li(e,t):void 0}}function Li(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Bi(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function Fi(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Bi(o,r,a,i,c,"next",e)}function c(e){Bi(o,r,a,i,c,"throw",e)}i(void 0)}))}}var Wi=["online","unavailable"],Vi=/^@(0x[0-9a-f]{40})[.:]/i;function $i(e,t,n){var r=n.log,a=n.config$;return Object(ee["a"])(Fi(u.a.mark((function n(){return u.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.abrupt("return",e.searchUserDirectory({term:t.toLowerCase()}));case 1:case"end":return n.stop()}}),n)})))).pipe(Object(Ee["j"])(Object(he["b"])(a),{onErrors:_e["h"]}),Object(I["a"])(u.a.mark((function e(n){var r,a,o,i,c,s;return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:r=n.results,a=Ui(r),e.prev=2,a.s();case 4:if((o=a.n()).done){e.next=24;break}if(i=o.value,i.display_name){e.next=8;break}return e.abrupt("continue",22);case 8:if(e.prev=8,c=Vi.exec(i.user_id),c&&Object(ji["a"])(c[1])===t){e.next=12;break}return e.abrupt("continue",22);case 12:if(s=Object(Bt["b"])(i.user_id,i.display_name),s&&s===t){e.next=15;break}return e.abrupt("continue",22);case 15:e.next=20;break;case 17:return e.prev=17,e.t0=e["catch"](8),e.abrupt("continue",22);case 20:return e.next=22,i;case 22:e.next=4;break;case 24:e.next=29;break;case 26:e.prev=26,e.t1=e["catch"](2),a.e(e.t1);case 29:return e.prev=29,a.f(),e.finish(29);case 32:case"end":return e.stop()}}),e,null,[[2,26,29,32],[8,17]])}))),Object(I["a"])((function(t){return Object(ee["a"])(Fi(u.a.mark((function n(){return u.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.abrupt("return",vo(e,t.user_id));case 1:case"end":return n.stop()}}),n)})))).pipe(Object(k["a"])((function(e){return Ci(Ci({},e),t)})),Object(Ee["j"])(Object(he["b"])(a),{onErrors:_e["h"]}),Object(U["a"])((function(e){return r.info("Error fetching user presence, ignoring:",e),te["a"]})))}),3),Object(ue["a"])(),Object(k["a"])((function(e){if(!e.length)throw new _e["c"](_e["b"].TRNS_NO_VALID_USER,{address:t});return ki()(e,wi()(Number.POSITIVE_INFINITY,"last_active_ago"))})),Object(k["a"])((function(e){var n=e.presence,r=e.user_id,a=e.avatar_url;return Ut["matrixPresence"].success({userId:r,available:Wi.includes(n),ts:Date.now(),caps:Object(Mt["e"])(a)},{address:t})})),Object(U["a"])((function(e){return Object(g["a"])(Ut["matrixPresence"].failure(e,{address:t}))})))}function Hi(e,t,n){Ri(t);var r=n.matrix$,a=n.latest$,o=n.config$,i=n.log;return e.pipe(Object(x["a"])(Object(ge["e"])(Ut["matrixPresence"].request)),Object(I["a"])((function(e){return r.pipe(Object(k["a"])((function(t){return{action:e,matrix:t}})))})),Object(de["a"])((function(e){var t=e.action;return t.meta.address})),Object(I["a"])((function(e){return e.pipe(Object(L["a"])(a),Object(ie["a"])((function(e){var t=xi(e,2),n=t[0],r=n.action,a=n.matrix,c=t[1].presences;return r.meta.address in c?Object(g["a"])(c[r.meta.address]):$i(a,r.meta.address,{log:i,config$:o})})))})))}var qi=["userId","available","caps"];function Ki(e){var t=new Set;return e.pipe(Object(x["a"])(Ut["matrixPresence"].request.is),Object(R["a"])((function(e,t){return e.add(t.meta.address)}),t),Object(A["a"])(t))}function Gi(e,t,n,r){var a=r.log,o=r.config$,i=r.latest$,c=r.matrix$;return c.pipe(Object(ce["a"])((function(r){return Object(m["a"])([Object(ee["a"])(Fi(u.a.mark((function t(){return u.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",r.getProfileInfo(e.userId));case 1:case"end":return t.stop()}}),t)})))),Object(ee["a"])(Fi(u.a.mark((function t(){return u.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Wi.includes(n.getContent().presence)?n.getContent():vo(r,e.userId));case 1:case"end":return t.stop()}}),t)})))),i.pipe(Object(Ee["g"])("rtc",t))])})),Object(k["a"])((function(n){var r,o=xi(n,3),i=o[0],c=o[1],s=c.presence,u=c.last_active_ago,l=o[2];Object(Lr["a"])(null===i||void 0===i?void 0:i.displayname,"no displayname");var f=Object(Bt["b"])(e.userId,i.displayname);Object(Lr["a"])(f===t,"invalid displayname signature: ".concat(f," !== ").concat(t)),s!==e.presence&&a.warn("Presence mismatch",{user:e,presence:s,last_active_ago:u});var p=Wi.includes(s)||!!l;return Ut["matrixPresence"].success({userId:e.userId,available:p,ts:u?Date.now()-u:null!==(r=e.lastPresenceTs)&&void 0!==r?r:Date.now(),caps:Object(Mt["e"])(i.avatar_url)},{address:f})})),Object(Ee["j"])(Object(he["b"])(o),{onErrors:_e["h"]}),Object(U["a"])((function(t){return a.warn("Error validating presence event, ignoring",e.userId,n,t),te["a"]})))}function Yi(e,t,n){Ri(t);var r=n.matrix$,a=n.latest$;return r.pipe(Object(ce["a"])((function(t){return Object(go["a"])(t,"event").pipe(Object(Ee["b"])(e),Object(x["a"])((function(e){return"m.presence"===e.getType()})),Object(I["a"])(u.a.mark((function e(n){var r,a,o,i;return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,a=t.getUser(n.getSender()),Object(Lr["a"])(null===a||void 0===a?void 0:a.presence),o=null===(r=Vi.exec(a.userId))||void 0===r?void 0:r[1],Object(Lr["a"])(o),i=Object(ji["a"])(o),e.next=8,{user:a,address:i,event:n};case 8:e.next=12;break;case 10:e.prev=10,e.t0=e["catch"](0);case 12:case"end":return e.stop()}}),e,null,[[0,10]])}))))})),Object(L["a"])(Ki(e)),Object(x["a"])((function(e){var t=xi(e,2),n=t[0].address,r=t[1];return r.has(n)})),Object(de["a"])((function(e){var t=xi(e,1),n=t[0].address;return n})),Object(I["a"])((function(t){return t.pipe(Object(ce["a"])((function(e){var t=xi(e,1),r=t[0],a=r.user,o=r.address,i=r.event;return Gi(a,o,i,n)})),Object(Ee["b"])(e))})),Object(L["a"])(a),Object(x["a"])((function(e){var t=xi(e,2),n=t[0],r=t[1].presences;return n.payload.available||!(n.meta.address in r)||!r[n.meta.address].payload.available||n.payload.userId===r[n.meta.address].payload.userId})),Object(x["a"])((function(e){var t,n=xi(e,2),r=n[0],a=n[1].presences;return!b()(Ti()(r.payload,qi),Ti()(null===(t=a[r.meta.address])||void 0===t?void 0:t.payload,qi))})),Object(P["a"])(0))}function Xi(e){return e.pipe(Object(x["a"])(V["channelMonitored"].is),Object(k["a"])((function(e){return Ut["matrixPresence"].request(void 0,{address:e.meta.partner})})))}function Qi(e,t,n){Ri(t);var r=n.matrix$,a=n.config$;return a.pipe(Object(Ee["b"])(e),Object(P["a"])("caps"),Object(E["a"])(b.a),Object(Si["a"])(1),Object(ce["a"])((function(e){return r.pipe(Object(I["a"])((function(t){return Object(ee["a"])(Fi(u.a.mark((function n(){return u.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.abrupt("return",t.setAvatarUrl(e&&!Z()(e)?Object(Mt["f"])(e):""));case 1:case"end":return n.stop()}}),n)})))).pipe(Object(I["a"])(Fi(u.a.mark((function e(){return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",t.setPresence({presence:"online",status_msg:Date.now().toString()}));case 1:case"end":return e.stop()}}),e)})))))})),Object(Ee["j"])(Object(he["b"])(a)),Object(S["a"])())})))}function Zi(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function zi(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Zi(o,r,a,i,c,"next",e)}function c(e){Zi(o,r,a,i,c,"throw",e)}i(void 0)}))}}function Ji(e,t){return ac(e)||rc(e,t)||tc(e,t)||ec()}function ec(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function tc(e,t){if(e){if("string"===typeof e)return nc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?nc(e,t):void 0}}function nc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function rc(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done);r=!0)if(n.push(i.value),t&&n.length===t)break}catch(s){a=!0,o=s}finally{try{r||null==c["return"]||c["return"]()}finally{if(a)throw o}}return n}}function ac(e){if(Array.isArray(e))return e}function oc(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function ic(e,t,n){oc(e);var r=n.log,a=n.matrix$,o=n.config$;return a.pipe(Object(Ee["f"])((function(e){return Object(go["a"])(e,"Room")})),Object(L["a"])(o),Object(B["a"])((function(e){var t=Ji(e,2),n=t[1].httpTimeout;return Object(w["a"])(Math.round((.5+.5*Math.random())*n))})),Object(Ee["b"])(t),Object(x["a"])((function(e){var t=Ji(e,2),n=Ji(t[0],2),r=n[0],a=n[1],o=t[1],i=a.getMyMembership();if(!i||"leave"===i)return!1;var c=mo(r.getHomeserverUrl());return!wo(o).some((function(e){return _o("#".concat(e,":").concat(c),a)}))})),Object(I["a"])(function(){var e=zi(u.a.mark((function e(t){var n,a,o,i;return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=Ji(t,1),a=Ji(n[0],2),o=a[0],i=a[1],r.warn("Unknown room in matrix, leaving",i.roomId),e.abrupt("return",o.leave(i.roomId).catch((function(e){return r.error("Error leaving unknown room, ignoring",e)})));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Object(S["a"])())}var cc,sc=n("0444"),uc=n("6c2a"),lc=n("ae0c");function fc(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function pc(e){return hc(e)||bc(e)||vc(e)||dc()}function dc(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function bc(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function hc(e){if(Array.isArray(e))return Oc(e)}function yc(e,t){return gc(e)||jc(e,t)||vc(e,t)||mc()}function mc(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function vc(e,t){if(e){if("string"===typeof e)return Oc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Oc(e,t):void 0}}function Oc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function jc(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done);r=!0)if(n.push(i.value),t&&n.length===t)break}catch(s){a=!0,o=s}finally{try{r||null==c["return"]||c["return"]()}finally{if(a)throw o}}return n}}function gc(e){if(Array.isArray(e))return e}function wc(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function _c(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){wc(o,r,a,i,c,"next",e)}function c(e){wc(o,r,a,i,c,"throw",e)}i(void 0)}))}}function kc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ec,Tc="m.notice";(function(e){e["offer"]="offer",e["answer"]="answer",e["candidates"]="candidates",e["hangup"]="hangup"})(Ec||(Ec={}));var Sc=Vt["p"](Vt["j"]([Vt["v"]({type:Vt["l"](Ec.offer),sdp:Vt["s"]}),Vt["o"]({call_id:Vt["s"]})])),xc=Vt["p"](Vt["j"]([Vt["v"]({type:Vt["l"](Ec.answer),sdp:Vt["s"]}),Vt["o"]({call_id:Vt["s"]})])),Ac=Vt["p"](Vt["j"]([Vt["v"]({type:Vt["l"](Ec.candidates),candidates:Vt["q"](Vt["y"])}),Vt["o"]({call_id:Vt["s"]})])),Pc=Vt["p"](Vt["j"]([Vt["v"]({type:Vt["l"](Ec.hangup)}),Vt["o"]({call_id:Vt["s"]})])),Nc=(cc={},kc(cc,Ec.offer,Sc),kc(cc,Ec.answer,xc),kc(cc,Ec.candidates,Ac),kc(cc,Ec.hangup,Pc),cc),Rc=new WeakMap;function Dc(e){return Cc.apply(this,arguments)}function Cc(){return Cc=_c(u.a.mark((function e(t){var n,r,a,o;return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=Rc.get(t),!(n&&Date.now()<n[0])){e.next=3;break}return e.abrupt("return",n[1]);case 3:return e.next=5,t.turnServer().catch((function(){}));case 5:return r=e.sent,a=Date.now()+36e5,o=[],r&&"uris"in r&&(o.push({urls:r.uris,username:r.username,credentialType:"password",credential:r.password}),a=Date.now()+1e3*r.ttl),Rc.set(t,[a,o]),e.abrupt("return",o);case 11:case"end":return e.stop()}}),e)}))),Cc.apply(this,arguments)}function Ic(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=a.log;return e.pipe(Object(x["a"])(gt["messageReceived"].is),Object(x["a"])((function(e){return e.meta.address===n&&e.payload.msgtype===Tc})),Object(I["a"])(u.a.mark((function e(n){var r;return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,r=Object(we["b"])(n.payload.text),r["type"]!==t){e.next=5;break}return e.next=5,Object(Te["l"])(Nc[t],r);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),null===o||void 0===o||o.info("Failed to decode WebRTC signaling message, ignoring",{text:n.payload.text,peerAddr:n.meta.address,peerId:n.payload.userId,error:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),Object(x["a"])((function(e){return!r||e.call_id===r})))}function Uc(e){var t;return Array.isArray(e)&&2===e.length&&(null===(t=e[1])||void 0===t?void 0:t.readyState)}function Mc(e,t,n,r){var a=r.log;return Object(v["a"])(Ic(t,Ec.candidates,n.peerAddress,n.callId,{log:a}).pipe(Object(T["a"])((function(e){return a.debug("RTC: received candidates",n.callId,e.candidates)})),Object(I["a"])((function(e){var t;return Object(j["a"])(null!==(t=e.candidates)&&void 0!==t?t:[])})),Object(I["a"])(function(){var t=_c(u.a.mark((function t(r){return u.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.addIceCandidate(r);case 3:t.next=8;break;case 5:t.prev=5,t.t0=t["catch"](0),a.warn("RTC: error setting candidate, ignoring",n.callId,e.connectionState,r,t.t0);case 8:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(e){return t.apply(this,arguments)}}()),Object(S["a"])()),Object(go["a"])(e,"icecandidate").pipe(Object(P["a"])("candidate"),Object(D["a"])(Te["n"]),Object(sc["a"])(10),Object(x["a"])((function(e){return e.length>0})),Object(T["a"])((function(e){return a.debug("RTC: got candidates",n.callId,e)})),Object(k["a"])((function(e){var t={type:Ec.candidates,candidates:e,call_id:n.callId};return gt["messageSend"].request({message:Object(we["c"])(t),msgtype:Tc},{address:n.peerAddress,msgId:Object(je["e"])().toString()})}))))}function Lc(e,t,n){var r=t.peerAddress;return n.matrix$.pipe(Object(I["a"])((function(e){return Dc(e)})),Object(L["a"])(n.config$),Object(I["a"])((function(a){var o=yc(a,2),i=o[0],c=o[1].fallbackIceServers,s=new RTCPeerConnection({iceServers:[].concat(pc(i),pc(c))}),l=new ne["a"],f=s.createDataChannel(t.callId,{ordered:!1});return Object(v["a"])(Mc(s,e,t,n).pipe(Object(B["a"])(G()(l))),Object(ee["a"])(_c(u.a.mark((function e(){return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",s.createOffer());case 1:case"end":return e.stop()}}),e)})))).pipe(Object(I["a"])(function(){var e=_c(u.a.mark((function e(t){return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s.setLocalDescription(t);case 2:return e.abrupt("return",t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Object(I["a"])((function(a){var o={type:a.type,sdp:a.sdp,call_id:t.callId},i={address:r,msgId:Object(je["e"])().toString()},c=gt["messageSend"].request({message:Object(we["c"])(o),msgtype:Tc},i),p=0;return Object(v["a"])(Ic(e,Ec.answer,r,t.callId,n).pipe(Object(N["a"])(1),Object(I["a"])(function(){var e=_c(u.a.mark((function e(t){return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n.log.info("RTC: got answer",t.call_id),e.next=3,s.setRemoteDescription(t);case 3:return e.abrupt("return",[s,f]);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Object(M["a"])((function(){l.next(!0),l.complete()}))),Object(Vn["a"])(e,c,Object(ge["g"])(gt["messageSend"],i)).pipe(Object(ae["a"])([s,f]))).pipe(Object(x["a"])((function(e){return!Uc(e)||!p++})),Object(M["a"])((function(){return p?null:s.close()})))}))))})))}function Bc(e,t,n){var r=t.peerAddress;return Ic(e,Ec.offer,r,void 0,n).pipe(Object(T["a"])((function(e){return n.log.info("RTC: got invite",e.call_id)})),Object(I["a"])((function(e){return n.matrix$.pipe(Object(I["a"])((function(t){return Dc(t).then((function(t){return[e,t]}))})))})),Object(L["a"])(n.config$),Object(ce["a"])((function(a){var o=yc(a,2),i=yc(o[0],2),c=i[0],s=i[1],l=o[1].fallbackIceServers;c.call_id!==t.callId&&(n.log.info("RTC: setting callId from caller",{info:t,event:c}),c.call_id&&(t.callId=c.call_id));var f=new ne["a"],p=new RTCPeerConnection({iceServers:[].concat(pc(s),pc(l))}),d=!0;return Object(v["a"])(Mc(p,e,t,n).pipe(Object(B["a"])(G()(f))),Object(ee["a"])(_c(u.a.mark((function e(){return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",p.setRemoteDescription(c));case 1:case"end":return e.stop()}}),e)})))).pipe(Object(I["a"])(_c(u.a.mark((function e(){return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",p.createAnswer());case 1:case"end":return e.stop()}}),e)})))),Object(I["a"])(function(){var e=_c(u.a.mark((function e(t){return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,p.setLocalDescription(t);case 2:return e.abrupt("return",t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Object(I["a"])((function(n){var a={type:n.type,sdp:n.sdp,call_id:t.callId},o=gt["messageSend"].request({message:Object(we["c"])(a),msgtype:Tc},{address:r,msgId:Object(je["e"])().toString()});return Object(Vn["a"])(e,o,Object(ge["g"])(gt["messageSend"],o.meta))})),Object(M["a"])((function(){return f.next(!0),f.complete()}))),Object(go["a"])(p,"datachannel").pipe(Object(k["a"])((function(e){var t=e.channel;return[p,t]})),Object(N["a"])(1),Object(T["a"])((function(){return d=!1})),Object(M["a"])((function(){return d?p.close():null}))))})))}var Fc="peer hung up",Wc="channel closed",Vc="ping",$c=["failed","closed","disconnected"];function Hc(e,t,n){var r=t.peerId,a=t.peerAddress,o=n.log;return function(t){var n=new ne["a"],i=t.pipe(Object(C["a"])(n),Object(Xa["a"])()),c=i.pipe(Object(x["a"])(gt["messageSend"].request.is)),s=i.pipe(Object(x["a"])(Uc)).pipe(Object(ce["a"])((function(t){var i=yc(t,2),c=i[0],s=i[1];return Object(v["a"])(Object(go["a"])(c,"connectionstatechange").pipe(Object(A["a"])(null),Object(I["a"])((function(){return $c.includes(c.connectionState)?Object(re["a"])(new Error("RTC: connection failed")):te["a"]}))),Object(go["a"])(s,"close").pipe(Object(pe["a"])(Object(re["a"])(new Error(Wc)))),Object(go["a"])(s,"error").pipe(Object(I["a"])((function(e){return Object(re["a"])(e.error)}))),Object(go["a"])(s,"open").pipe(Object(T["a"])((function(){o.info("RTC: dataChannel open",s.label),s.send(Vc)})),Object(Ee["l"])(e),Object(T["a"])((function(){n.next(!0),n.complete()})),Object(se["a"])(Object(Ut["rtcChannel"])(s,{address:a}))),Object(go["a"])(s,"message").pipe(Object(uc["b"])(Go["b"]),Object(T["a"])((function(e){return o.debug("RTC: dataChannel message",s.label,e)})),Object(P["a"])("data"),Object(x["a"])((function(e){return"string"===typeof e})),Object(x["a"])((function(e){return e!==Vc})),Object(I["a"])((function(e){return Object(j["a"])(e.split("\n"))})),Object(k["a"])((function(e){return Object(gt["messageReceived"])({text:e,message:Eo(e,a,{log:o}),ts:Date.now(),userId:r},{address:a})})))).pipe(Object(M["a"])((function(){return c.close()})))})));return Object(v["a"])(c,s)}}function qc(e,t){var n=Object(Mt["d"])(e,t),r=n[0]===e,a=n.join("|");return r&&(a+="|".concat(Date.now())),a}function Kc(e,t,n,r){var a=n.httpTimeout,o=n.pollingInterval;if(!Object(Mt["a"])(e.payload.caps,ye["a"].WEBRTC))return Object(g["a"])(Object(Ut["rtcChannel"])(void 0,e.meta));var i=r.log,c=r.address,s=Object(Mt["d"])(c,e.meta.address)[0]===c,u=Object(Vn["b"])(a,2*a,1.2);return Object(ee["a"])((function(){var n,a=qc(c,e.meta.address),o={callId:a,peerId:e.payload.userId,peerAddress:e.meta.address},l=new ne["a"];n=s?Lc(t,o,r):Bc(t,o,r);var f=u.next(),p=f.value;return p?Object(v["a"])(Object(v["a"])(n,Ic(t,Ec.hangup,o.peerAddress,o.callId,{log:i}).pipe(Object(pe["a"])(Object(re["a"])(new Error(Fc))))).pipe(Hc(p,o,r),Object(C["a"])(l),Object(U["a"])((function(e){var t;return l.next(!Object(_e["g"])([Fc,Wc],e)),l.complete(),i.info("Couldn't set up WebRTC dataChannel, retrying",o.callId,null!==(t=null===e||void 0===e?void 0:e.message)&&void 0!==t?t:e),te["a"]})),Object(ae["a"])(Object(Ut["rtcChannel"])(void 0,{address:e.meta.address}))),l.pipe(Object(x["a"])((function(e){return e})),Object(k["a"])((function(){var e={type:Ec.hangup,call_id:o.callId};return gt["messageSend"].request({message:Object(we["c"])(e),msgtype:Tc},{address:o.peerAddress,msgId:Object(je["e"])().toString()})})))):te["a"]})).pipe(Object(lc["a"])((function(e){return e.pipe(Object(I["a"])((function(){return s?Object(w["a"])(o):Object(g["a"])(null)})))})))}function Gc(e,t,n){fc(t);var r=n.latest$,a=n.config$,o=n.address;return e.pipe(Object(x["a"])(Object(ge["e"])([ar["transferSigned"],V["channelMonitored"]])),Object(I["a"])(u.a.mark((function e(t){return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!V["channelMonitored"].is(t)){e.next=5;break}return e.next=3,t.meta.partner;case 3:e.next=13;break;case 5:if(t.meta.direction!==Oe["a"].SENT||t.payload.message.initiator!==o){e.next=10;break}return e.next=8,t.payload.message.target;case 8:e.next=13;break;case 10:if(t.meta.direction!==Oe["a"].RECEIVED||t.payload.message.target!==o){e.next=13;break}return e.next=13,t.payload.message.initiator;case 13:case"end":return e.stop()}}),e)}))),Object(le["a"])(),Object(I["a"])((function(t){return r.pipe(Object(P["a"])("presences",t),Object(x["a"])(Te["n"]),Object(E["a"])((function(e,t){return e.payload.userId===t.payload.userId&&!!Object(Mt["a"])(e.payload.caps,ye["a"].WEBRTC)===!!Object(Mt["a"])(t.payload.caps,ye["a"].WEBRTC)})),Object(L["a"])(a),Object(ce["a"])((function(t){var r=yc(t,2),a=r[0],o=r[1];return Kc(a,e,o,n)})),Object(Ee["b"])(e))})),Object(Ee["k"])(a.pipe(Object(P["a"])("caps",ye["a"].WEBRTC),Object(Ee["b"])(e))))}function Yc(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function Xc(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Yc(o,r,a,i,c,"next",e)}function c(e){Yc(o,r,a,i,c,"throw",e)}i(void 0)}))}}function Qc(e,t){return ts(e)||es(e,t)||zc(e,t)||Zc()}function Zc(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function zc(e,t){if(e){if("string"===typeof e)return Jc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Jc(e,t):void 0}}function Jc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function es(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done);r=!0)if(n.push(i.value),t&&n.length===t)break}catch(s){a=!0,o=s}finally{try{r||null==c["return"]||c["return"]()}finally{if(a)throw o}}return n}}function ts(e){if(Array.isArray(e))return e}function ns(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function rs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function as(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rs(Object(n),!0).forEach((function(t){os(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function os(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function is(e){var t,n=e.stale,r=e.udcDeposit,a=e.config.monitoringReward;return t={},os(t,ye["a"].RECEIVE,!n&&null!==a&&void 0!==a&&a.gt(0)&&a.lte(r.balance)?1:0),os(t,ye["a"].WEBRTC,"RTCPeerConnection"in globalThis?1:0),t}function cs(e,t,n){return null===n?n:void 0!==n?as(as(as({},e),t),n):null===t?t:as(as({},e),t)}function ss(e,t,n){ns(e);var r=n.defaultConfig,a=n.latest$;return Object(m["a"])([t.pipe(Object(Ee["g"])("config","caps")),a]).pipe(Object(k["a"])((function(e){var t=Qc(e,2),n=t[0],a=t[1];return cs(is(a),r.caps,n)})),Object(E["a"])(b.a),Object(k["a"])((function(e){return Object(W["c"])({caps:e})})),Object(Ee["b"])(t))}function us(e,t,n){ns(t);var r=n.config$,a=n.log,o=n.provider;return Object(v["a"])(r.pipe(Object(Ee["g"])("logger"),Object(T["a"])((function(e){return a.setLevel(e||"silent",!1)}))),r.pipe(Object(Ee["g"])("pollingInterval"),Object(T["a"])((function(e){return o.pollingInterval=e})))).pipe(Object(S["a"])(),Object(Ee["b"])(e))}var ls={configCapsEpic:ss,configReactEpic:us};function fs(e,t,n){var r=n.defaultConfig,a=n.mediationFeeCalculator,o={balance:l["a"],totalDeposit:l["a"]},i=!1,c=e.pipe(Object(x["a"])(mt["udcDeposit"].success.is),Object(k["a"])((function(e){return{balance:e.payload.balance,totalDeposit:e.meta.totalDeposit}})),Object(A["a"])(o),Object(E["a"])((function(e,t){var n=e.balance,r=t.balance;return n.eq(r)}))),s=e.pipe(Object(x["a"])(V["blockTime"].is),Object(P["a"])("payload","blockTime"),Object(A["a"])(15e3)),u=e.pipe(Object(x["a"])(V["blockStale"].is),Object(P["a"])("payload","stale"),Object(A["a"])(i)),f=Object(v["a"])(t.pipe(Object(N["a"])(1),Object(P["a"])("config"),Object(k["a"])((function(e){var t=e.caps,n=e.monitoringReward;return cs(is({udcDeposit:o,stale:i,config:{monitoringReward:null!==n&&void 0!==n?n:r.monitoringReward}}),r.caps,t)}))),e.pipe(Object(x["a"])(W["c"].is),Object(P["a"])("payload","caps"))),d=Object(m["a"])([t.pipe(Object(Ee["g"])("config")),f]).pipe(Object(k["a"])((function(e){var t=Qc(e,2),n=t[0],o=t[1];return as(as(as({},r),n),{},{caps:o,mediationFees:a.decodeConfig(n.mediationFees,r.mediationFees)})}))),b=Object(Mt["c"])(e),h=e.pipe(Object(x["a"])(Ut["rtcChannel"].is),Object(R["a"])((function(e,t){return t.payload?as(as({},e),{},os({},t.meta.address,t.payload)):p()(t.meta.address,e)}),{}),Object(A["a"])({}));return Object(m["a"])([Object(m["a"])([e,t,d,b,h]),Object(m["a"])([c,s,u])]).pipe(Object(k["a"])((function(e){var t=Qc(e,2),n=Qc(t[0],5),r=n[0],a=n[1],o=n[2],i=n[3],c=n[4],s=Qc(t[1],3),u=s[0],l=s[1],f=s[2];return{action:r,state:a,config:o,presences:i,rtc:c,udcDeposit:u,blockTime:l,stale:f}})))}var ps=as(as(as(as(as(as({},ls),a),r),c),i),o);function ds(e,t,n){var r=e.pipe(Object(x["a"])(W["e"].is),Object(N["a"])(1)),a=e.pipe(Object(D["a"])(y()(W["e"].is),!0)),o=t.pipe(Object(C["a"])(r));return Object(O["a"])((function(){var r=fs(e,t,n).subscribe(n.latest$);return r.add((function(){return n.latest$.complete()})),r}),(function(){var e=new Set,t=Object(j["a"])(Object.values(ps)).pipe(Object(I["a"])((function(t){return e.add(t.name),t(a,o,n).pipe(Object(U["a"])((function(e){return n.log.error("Epic error",t.name,t,e),Object(g["a"])(Object(W["e"])({reason:e}))})),Object(M["a"])((function(){return e.delete(t.name)})))})),Object(C["a"])(r.pipe(Object(L["a"])(n.config$),Object(B["a"])((function(e){var t=Qc(e,2),n=(t[0],t[1].httpTimeout);return Object(w["a"])(n)})),Object(T["a"])((function(){return n.log.warn("Pending Epics :",e)}))))),i=n.db.busy$.pipe(Object(F["a"])((function(e){return!e})),Object(T["a"])((function(){return n.db.busy$.next(!0)})),Object(U["a"])((function(){return Object(g["a"])(null)})),Object(I["a"])(Xc(u.a.mark((function e(){return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",n.db.close());case 1:case"end":return e.stop()}}),e)})))),Object(S["a"])(),Object(M["a"])((function(){n.db.busy$.next(!1),n.db.busy$.complete()})));return Object(_["a"])(t,i)}))}},5778:function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"e",(function(){return f})),n.d(t,"f",(function(){return d})),n.d(t,"g",(function(){return h})),n.d(t,"b",(function(){return _})),n.d(t,"h",(function(){return E})),n.d(t,"a",(function(){return S})),n.d(t,"k",(function(){return P})),n.d(t,"i",(function(){return R})),n.d(t,"j",(function(){return C})),n.d(t,"c",(function(){return $}));var r,a=n("2111"),o=n("9201"),i=n("ca14");(function(e){e["DELIVERED"]="Delivered",e["PROCESSED"]="Processed",e["SECRET_REQUEST"]="SecretRequest",e["SECRET_REVEAL"]="RevealSecret",e["LOCKED_TRANSFER"]="LockedTransfer",e["UNLOCK"]="Unlock",e["LOCK_EXPIRED"]="LockExpired",e["WITHDRAW_REQUEST"]="WithdrawRequest",e["WITHDRAW_CONFIRMATION"]="WithdrawConfirmation",e["WITHDRAW_EXPIRED"]="WithdrawExpired",e["PFS_CAPACITY_UPDATE"]="PFSCapacityUpdate",e["PFS_FEE_UPDATE"]="PFSFeeUpdate",e["MONITOR_REQUEST"]="RequestMonitoring"})(r||(r={}));var c=a["p"](a["v"]({message_identifier:Object(i["j"])(8)})),s=a["p"](a["v"]({type:a["l"](r.DELIVERED),delivered_message_identifier:Object(i["j"])(8)})),u=s,l=a["p"](a["j"]([a["v"]({type:a["l"](r.PROCESSED)}),c])),f=l,p=a["p"](a["j"]([a["v"]({type:a["l"](r.SECRET_REQUEST),payment_identifier:Object(i["j"])(8),secrethash:i["c"],amount:Object(i["j"])(32),expiration:Object(i["j"])(32)}),c])),d=p,b=a["p"](a["j"]([a["v"]({type:a["l"](r.SECRET_REVEAL),secret:i["f"]}),c])),h=b,y=a["p"](a["j"]([a["v"]({chain_id:Object(i["j"])(32),token_network_address:i["a"],channel_identifier:Object(i["j"])(32),nonce:Object(i["j"])(8),transferred_amount:Object(i["j"])(32),locked_amount:Object(i["j"])(32),locksroot:i["c"]}),c])),m=a["p"](a["v"]({route:a["q"](i["a"])})),v=m,O=a["p"](a["v"]({routes:a["q"](v)})),j=O,g=a["p"](a["j"]([a["v"]({payment_identifier:Object(i["j"])(8),token:i["a"],recipient:i["a"],lock:o["d"],target:i["a"],initiator:i["a"],metadata:j}),y])),w=a["p"](a["j"]([a["v"]({type:a["l"](r.LOCKED_TRANSFER)}),g])),_=w,k=a["p"](a["j"]([a["v"]({type:a["l"](r.UNLOCK),payment_identifier:Object(i["j"])(8),secret:i["f"]}),y])),E=k,T=a["p"](a["j"]([a["v"]({type:a["l"](r.LOCK_EXPIRED),recipient:i["a"],secrethash:i["c"]}),y])),S=T,x=a["p"](a["v"]({chain_id:Object(i["j"])(32),token_network_address:i["a"],channel_identifier:Object(i["j"])(32),participant:i["a"],total_withdraw:Object(i["j"])(32),nonce:Object(i["j"])(8),expiration:Object(i["j"])(32)})),A=a["p"](a["j"]([a["v"]({type:a["l"](r.WITHDRAW_REQUEST)}),x,c])),P=A,N=a["p"](a["j"]([a["v"]({type:a["l"](r.WITHDRAW_CONFIRMATION)}),x,c])),R=N,D=a["p"](a["j"]([a["v"]({type:a["l"](r.WITHDRAW_EXPIRED)}),x,c])),C=D,I=a["p"](a["v"]({type:a["l"](r.PFS_CAPACITY_UPDATE),canonical_identifier:a["p"](a["v"]({chain_identifier:Object(i["j"])(32),token_network_address:i["a"],channel_identifier:Object(i["j"])(32)})),updating_participant:i["a"],other_participant:i["a"],updating_nonce:Object(i["j"])(8),other_nonce:Object(i["j"])(8),updating_capacity:Object(i["j"])(32),other_capacity:Object(i["j"])(32),reveal_timeout:Object(i["j"])(32)})),U=I,M=a["p"](a["v"]({type:a["l"](r.PFS_FEE_UPDATE),canonical_identifier:a["p"](a["v"]({chain_identifier:Object(i["j"])(32),token_network_address:i["a"],channel_identifier:Object(i["j"])(32)})),updating_participant:i["a"],timestamp:a["s"],fee_schedule:a["v"]({cap_fees:a["e"],imbalance_penalty:a["x"]([a["m"],a["d"](a["u"]([Object(i["j"])(32),Object(i["d"])(32)]))]),proportional:Object(i["d"])(32),flat:Object(i["d"])(32)})})),L=M,B=a["p"](a["v"]({type:a["l"](r.MONITOR_REQUEST),balance_proof:a["v"]({chain_id:Object(i["j"])(32),token_network_address:i["a"],channel_identifier:Object(i["j"])(32),nonce:Object(i["j"])(8),balance_hash:i["c"],additional_hash:i["c"],signature:i["g"]}),monitoring_service_contract_address:i["a"],non_closing_participant:i["a"],non_closing_signature:i["g"],reward_amount:Object(i["j"])(32)})),F=B,W=[u,f,d,h,_,E,S,P,R,C,U,L,F],V=W,$=a["x"](V)},"59ec":function(e,t,n){"use strict";n.d(t,"b",(function(){return U})),n.d(t,"c",(function(){return M})),n.d(t,"g",(function(){return L})),n.d(t,"f",(function(){return B})),n.d(t,"e",(function(){return F})),n.d(t,"i",(function(){return W})),n.d(t,"j",(function(){return $})),n.d(t,"h",(function(){return G})),n.d(t,"a",(function(){return Y})),n.d(t,"d",(function(){return X}));var r,a=n("36d8"),o=n.n(a),i=n("c00b"),c=n("b97c"),s=n("905c9"),u=n("6da0"),l=n("007a"),f=n("09d5"),p=n("34ba"),d=n("331d"),b=n("ae8f"),h=n("258b"),y=n("cefa"),m=n("7f4a"),v=n("0eb1"),O=n("9201"),j=n("8120"),g=n("0ba5"),w=n("f2df"),_=n("46f7"),k=n("ca14"),E=n("1a78");function T(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function S(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){T(o,r,a,i,c,"next",e)}function c(e){T(o,r,a,i,c,"throw",e)}i(void 0)}))}}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function A(e,t){return R(e)||N(e,t)||C(e,t)||P()}function P(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function N(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done);r=!0)if(n.push(i.value),t&&n.length===t)break}catch(s){a=!0,o=s}finally{try{r||null==c["return"]||c["return"]()}finally{if(a)throw o}}return n}}function R(e){if(Array.isArray(e))return e}function D(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=C(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function C(e,t){if(e){if("string"===typeof e)return I(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?I(e,t):void 0}}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function U(e){var t,n=[],r=D(e);try{for(r.s();!(t=r.n()).done;){var a=t.value;n.push(Object(_["a"])(a.expiration,32),Object(_["a"])(a.amount,32),a.secrethash)}}catch(o){r.e(o)}finally{r.f()}return Object(u["a"])(Object(c["b"])(n))}function M(e){return Object(f["c"])(e)}function L(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32;return Object(c["i"])(Object(l["a"])(e))}function B(){return i["a"].from(Date.now())}function F(){return i["a"].from(Date.now())}function W(e){return"_id"in e?e._id:"".concat(e.direction,":").concat(e.secrethash)}var V=new RegExp("^(".concat(Object.values(E["a"]).join("|"),"):(0x[a-f0-9]{64})$"),"i");function $(e){var t=e.match(V);Object(w["a"])(t,"Invalid transferKey format");var n=A(t,3),r=n[1],a=n[2];return{direction:r,secrethash:a}}var H=(r={},x(r,E["c"].expired,(function(e){var t;return null===(t=e.expiredProcessed)||void 0===t?void 0:t.ts})),x(r,E["c"].unlocked,(function(e){var t;return null===(t=e.unlockProcessed)||void 0===t?void 0:t.ts})),x(r,E["c"].expiring,(function(e){var t;return null===(t=e.expired)||void 0===t?void 0:t.ts})),x(r,E["c"].unlocking,(function(e){var t;return null===(t=e.unlock)||void 0===t?void 0:t.ts})),x(r,E["c"].registered,(function(e){var t;return null===(t=e.secretRegistered)||void 0===t?void 0:t.ts})),x(r,E["c"].revealed,(function(e){var t;return null===(t=e.secretReveal)||void 0===t?void 0:t.ts})),x(r,E["c"].requested,(function(e){var t;return null===(t=e.secretRequest)||void 0===t?void 0:t.ts})),x(r,E["c"].closed,(function(e){var t;return null===(t=e.channelClosed)||void 0===t?void 0:t.ts})),x(r,E["c"].received,(function(e){var t;return null===(t=e.transferProcessed)||void 0===t?void 0:t.ts})),x(r,E["c"].pending,(function(e){return e.transfer.ts})),r);function q(e){for(var t=0,n=Object.entries(H);t<n.length;t++){var r=A(n[t],2),a=r[0],o=r[1],i=o(e);if(void 0!==i)return a}return E["c"].pending}function K(e){return!!(e.unlockProcessed||e.expiredProcessed||e.secretRegistered||e.channelSettled)}function G(e){var t=q(e),n=new Date(e.transfer.ts),r=new Date(H[t](e)),a=e.transfer,o=e.direction,i=a.lock.amount.sub(e.fee),c=e.secretRequest&&e.secretRequest.amount.lt(i),s=!!(e.secretReveal||e.unlock||e.secretRegistered)||!(c||e.expired||e.channelClosed)&&void 0,u=K(e);return{key:W(e),secrethash:a.lock.secrethash,direction:o,status:t,initiator:a.initiator,partner:e.partner,target:a.target,metadata:a.metadata,paymentId:a.payment_identifier,chainId:a.chain_id.toNumber(),token:a.token,tokenNetwork:a.token_network_address,channelId:a.channel_identifier,value:i,fee:e.fee,amount:a.lock.amount,expirationBlock:a.lock.expiration.toNumber(),startedAt:n,changedAt:r,success:s,completed:u,secret:e.secret}}function Y(e,t,n,r){return r===s["a"]?Object(p["a"])(O["b"]):Object(d["a"])((function(){return e.find({selector:{channel:Object(j["e"])(t),direction:n}})})).pipe(Object(h["a"])((function(e){var t=e.docs;return Object(b["a"])(t)})),Object(h["a"])((function(e){var t=Object(k["l"])(E["d"],e);return Object(b["a"])([t.transfer,t.unlock,t.expired])})),Object(y["a"])(k["n"]),Object(m["a"])(g["g"]),Object(v["a"])((function(e){return Object(g["f"])(e)===r})))}function X(e,t,n){return Q.apply(this,arguments)}function Q(){return Q=S(o.a.mark((function e(t,n,r){return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("string"!==typeof r&&(r=W(r)),"address"in t){e.next=5;break}return e.next=4,t.pipe(Object(v["a"])()).toPromise();case 4:t=e.sent;case 5:if(!(r in t.transfers)){e.next=7;break}return e.abrupt("return",t.transfers[r]);case 7:return e.t0=k["l"],e.t1=E["d"],e.next=11,n.get(r);case 11:return e.t2=e.sent,e.abrupt("return",(0,e.t0)(e.t1,e.t2));case 13:case"end":return e.stop()}}),e)}))),Q.apply(this,arguments)}},"5af0":function(e,t,n){"use strict";n("fec1")},"5bbb":function(e,t,n){"use strict";n.d(t,"a",(function(){return O})),n.d(t,"c",(function(){return j})),n.d(t,"b",(function(){return g}));var r,a=n("87b8"),o=n("24c6"),i=n("2111"),c=n("0eb1"),s=n("2b5b"),u=n("d011"),l=n("438d"),f=n("0602"),p=n("1b23"),d=n("ca14");function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=i["v"]({urls:i["x"]([i["s"],i["d"](i["s"])])}),v=i["p"](i["j"]([i["v"]({matrixServerLookup:i["s"],revealTimeout:i["n"],settleTimeout:i["n"],expiryFactor:i["n"],httpTimeout:i["n"],discoveryRoom:i["x"]([i["s"],i["m"]]),additionalServices:i["q"](i["x"]([d["a"],i["s"]])),pfsMode:u["g"],pfsRoom:i["x"]([i["s"],i["m"]]),monitoringRoom:i["x"]([i["s"],i["m"]]),pfsSafetyMargin:i["x"]([i["n"],i["u"]([i["n"],i["n"]])]),pfsMaxPaths:i["n"],pfsMaxFee:Object(d["j"])(32),pfsIouTimeout:i["n"],confirmationBlocks:i["n"],monitoringReward:i["x"]([i["m"],Object(d["j"])(32)]),logger:i["k"]((r={},y(r,"",null),y(r,"trace",null),y(r,"debug",null),y(r,"info",null),y(r,"warn",null),y(r,"error",null),r)),caps:i["x"]([i["m"],f["a"]]),fallbackIceServers:i["d"](m),rateToSvt:i["r"](i["s"],Object(d["j"])(32)),pollingInterval:i["n"],minimumAllowance:Object(d["j"])(32),autoSettle:i["e"],autoUDCWithdraw:i["e"],mediationFees:i["y"]}),i["o"]({matrixServer:i["s"],subkey:i["e"]})])),O=i["p"](i["g"](i["o"](h(h({},v.type.types["0"].props),v.type.types["1"].props))));function j(e,t){var n,r=e.network,i=Object(p["c"])(r),c=1===r.chainId?"https://raw.githubusercontent.com/raiden-network/raiden-service-bundle/master/known_servers/known_servers-production-v1.2.0.json":"https://raw.githubusercontent.com/raiden-network/raiden-service-bundle/master/known_servers/known_servers-development-v1.2.0.json",l=null===(null===t||void 0===t?void 0:t.caps)?null:h((n={},y(n,s["a"].DELIVERY,0),y(n,s["a"].MEDIATE,0),y(n,s["a"].TO_DEVICE,1),n),null===t||void 0===t?void 0:t.caps);return h(h({matrixServerLookup:c,settleTimeout:500,revealTimeout:50,expiryFactor:1.1,httpTimeout:3e4,discoveryRoom:"raiden_".concat(i,"_discovery"),additionalServices:[],pfsMode:u["f"].auto,pfsRoom:"raiden_".concat(i,"_path_finding"),monitoringRoom:"raiden_".concat(i,"_monitoring"),pfsSafetyMargin:1,pfsMaxPaths:3,pfsMaxFee:Object(o["d"])("0.05"),pfsIouTimeout:2e5,confirmationBlocks:s["c"],monitoringReward:Object(o["d"])("5"),logger:"info",fallbackIceServers:[{urls:"stun:stun.l.google.com:19302"}],rateToSvt:{},pollingInterval:5e3,minimumAllowance:a["a"],autoSettle:!1,autoUDCWithdraw:!0,mediationFees:{}},t),{},{caps:l})}function g(e){var t,n=(t={_iter:void 0},y(t,Symbol.iterator,(function(){return this._iter=void 0,this})),y(t,"next",(function(){if(!this._iter){var t=5e3,n=6e4;e.pipe(Object(c["a"])()).subscribe((function(e){var r=e.pollingInterval,a=e.httpTimeout;t=r,n=2*a})),this._iter=Object(l["b"])(t,n)}return this._iter.next()})),t);return n}},"60f8":function(e,t,n){e.exports=n.p+"img/transfer_eth_info.87f6409a.svg"},6485:function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e[e["LOW"]=0]="LOW",e[e["HIGH"]=1]="HIGH"}(r||(r={}))},"65e1":function(e,t,n){"use strict";n.d(t,"a",(function(){return v})),n.d(t,"c",(function(){return O})),n.d(t,"b",(function(){return j}));var r=n("30c0"),a=n("bbdc"),o=n("2111"),i=n("f5be"),c=n("b8ff"),s=n("9201"),u=n("5bbb"),l=n("d011"),f=n("1a78"),p=n("ee57"),d=n("ca14");function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=o["p"](o["v"]({address:d["a"],chainId:o["n"],registry:d["a"],blockNumber:o["n"],config:u["a"],channels:o["p"](o["r"](s["c"],c["a"])),oldChannels:o["p"](o["r"](o["s"],c["a"])),tokens:o["p"](o["r"](o["s"],d["a"])),transport:o["p"](o["o"]({server:o["s"],setup:p["a"]})),transfers:o["p"](o["r"](o["s"],f["d"])),iou:o["p"](o["r"](o["s"],o["r"](o["s"],Object(d["h"])(l["a"])))),pendingTxs:o["q"](i["a"]),services:l["j"]}),"RaidenState"),v=m;function O(e){var t=e.network,n=e.address,r=e.contractsInfo,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return h({address:n,chainId:t.chainId,registry:r.TokenNetworkRegistry.address,blockNumber:r.TokenNetworkRegistry.block_number,channels:{},oldChannels:{},tokens:{},transport:{},transfers:{},iou:{},pendingTxs:[],services:{},config:{}},a)}var j=O({network:Object(a["a"])("unspecified"),address:r["a"],contractsInfo:{TokenNetworkRegistry:{address:r["a"],block_number:0},ServiceRegistry:{address:r["a"],block_number:0},UserDeposit:{address:r["a"],block_number:0},SecretRegistry:{address:r["a"],block_number:0},MonitoringService:{address:r["a"],block_number:0},OneToN:{address:r["a"],block_number:0}}})},"66bc":function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("blurred-overlay",{attrs:{show:e.visible,fullscreen:""}},[n("v-dialog",{attrs:{value:e.visible,width:"350","hide-overlay":"",dark:"",persistent:e.hideClose},on:{"click:outside":function(t){return e.close()}}},[n("v-card",{staticClass:"raiden-dialog",attrs:{"data-cy":"raiden_dialog"}},[e.hideClose?e._e():n("v-btn",{staticClass:"raiden-dialog__close",attrs:{icon:""},on:{click:function(t){return e.close()}}},[n("v-icon",[e._v("mdi-close")])],1),e._t("default")],2)],1)],1)},a=[],o=n("9ab4"),i=n("5cf9"),c=n("0a08");function s(e){return s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),e}function p(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}function d(e,t){return d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},d(e,t)}function b(e){var t=m();return function(){var n,r=v(e);if(t){var a=v(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return h(this,n)}}function h(e,t){return!t||"object"!==s(t)&&"function"!==typeof t?y(e):t}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}var O=function(e){p(n,e);var t=b(n);function n(){return u(this,n),t.apply(this,arguments)}return f(n,[{key:"close",value:function(){return!0}}]),n}(i["f"]);Object(o["a"])([Object(i["d"])({required:!0,default:!1,type:Boolean})],O.prototype,"visible",void 0),Object(o["a"])([Object(i["d"])({required:!1,default:!1,type:Boolean})],O.prototype,"hideClose",void 0),Object(o["a"])([Object(i["b"])()],O.prototype,"close",null),O=Object(o["a"])([Object(i["a"])({components:{BlurredOverlay:c["a"]}})],O);var j=O,g=j,w=(n("e5cb"),n("a6c2")),_=n("411c"),k=n.n(_),E=n("9c46"),T=n("d58c"),S=n("c56b"),x=n("b503"),A=Object(w["a"])(g,r,a,!1,null,"7e637ebc",null);t["a"]=A.exports;k()(A,{VBtn:E["a"],VCard:T["a"],VDialog:S["a"],VIcon:x["a"]})},"68e9":function(e,t,n){e.exports=n.p+"img/withdraw_tokens_info.95878cfb.svg"},"6af0":function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"info-overlay"},[r("div",{staticClass:"info-overlay__header"},[r("header-content",{attrs:{"disable-back-button":"","disable-info-button":""}})],1),r("div",{staticClass:"info-overlay__close-icon"},[r("v-icon",{attrs:{icon:""},on:{click:function(t){return e.closeOverlay()}}},[e._v(" mdi-close ")])],1),r("div",{staticClass:"info-overlay__image"},[r("img",{attrs:{src:n("d009")("./"+e.$route.meta.infoOverlay.headerImage)}})]),r("span",{staticClass:"info-overlay__title"},[e._v(e._s(e.$t(e.$route.meta.infoOverlay.header)))]),r("span",{staticClass:"info-overlay__body"},[e._v(e._s(e.$t(e.$route.meta.infoOverlay.body)))]),r("div",{staticClass:"info-overlay__button"},[r("action-button",{attrs:{enabled:"",text:e.$t("info-overlay.done")},on:{click:function(t){return e.closeOverlay()}}})],1)])},a=[],o=n("9ab4"),i=n("5cf9"),c=n("750b"),s=n("b592");function u(e){return u="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t,n){return t&&f(e.prototype,t),n&&f(e,n),e}function d(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}function b(e,t){return b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},b(e,t)}function h(e){var t=v();return function(){var n,r=O(e);if(t){var a=O(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return y(this,n)}}function y(e,t){return!t||"object"!==u(t)&&"function"!==typeof t?m(e):t}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function O(e){return O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},O(e)}var j=function(e){d(n,e);var t=h(n);function n(){return l(this,n),t.apply(this,arguments)}return p(n,[{key:"closeOverlay",value:function(){}}]),n}(i["f"]);Object(o["a"])([Object(i["b"])()],j.prototype,"closeOverlay",null),j=Object(o["a"])([Object(i["a"])({components:{HeaderContent:s["a"],ActionButton:c["a"]}})],j);var g=j,w=g,_=(n("19ce"),n("a6c2")),k=n("411c"),E=n.n(k),T=n("b503"),S=Object(_["a"])(w,r,a,!1,null,"8cb5c53a",null);t["a"]=S.exports;E()(S,{VIcon:T["a"]})},"6c61":function(e,t,n){"use strict";n.d(t,"a",(function(){return it}));var r=n("2bde"),a=n.n(r),o=n("f5be"),i=n("30c0"),c=n("87b8"),s=n("65e1"),u=n("83ee"),l=n("1a78"),f=n("d276");function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e,t){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t,r=arguments.length>1?arguments[1]:void 0;for(var a in e){var o,i=e[a];if(i){var c=null!==(o=n[a])&&void 0!==o?o:t[a],s=i(c,r);s!==c&&(n=d(d({},n),{},b({},a,s)))}}return n}}var y=n("f799"),m=n("b8ff"),v=n("9201"),O=n("8120");function j(e){return j="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j(e)}function g(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=R(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function w(e,t){if(null==e)return{};var n,r,a=_(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function _(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}function k(e){var t=E(e,"string");return"symbol"===j(t)?t:String(t)}function E(e,t){if("object"!==j(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==j(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function T(e,t){return A(e)||x(e,t)||R(e,t)||S()}function S(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function x(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done);r=!0)if(n.push(i.value),t&&n.length===t)break}catch(s){a=!0,o=s}finally{try{r||null==c["return"]||c["return"]()}finally{if(a)throw o}}return n}}function A(e){if(Array.isArray(e))return e}function P(e){return C(e)||D(e)||R(e)||N()}function N(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function R(e,t){if(e){if("string"===typeof e)return I(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?I(e,t):void 0}}function D(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function C(e){if(Array.isArray(e))return I(e)}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(Object(n),!0).forEach((function(t){L(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function B(e){if(null==e)throw new TypeError("Cannot destructure undefined")}var F=Object(f["d"])(s["b"].blockNumber).handle(y["newBlock"],(function(e,t){B(e);var n=t.payload;return n.blockNumber})),W=Object(f["d"])(s["b"].tokens).handle(y["tokenMonitored"],(function(e,t){var n=t.payload,r=n.token,a=n.tokenNetwork;return e[r]===a?e:M(M({},e),{},L({},r,a))}));function V(e,t){return e.filter((function(e){return e.type!==t.type||t.payload.txHash!==e.payload.txHash}))}var $=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s["b"].pendingTxs,t=arguments.length>1?arguments[1]:void 0;if(o["a"].is(t)){if(void 0===t.payload.confirmed)return[].concat(P(V(e,t)),[t]);var n=V(e,t);return n.length!==e.length?n:e}return e},H={address:i["a"],deposit:c["f"],withdraw:c["f"],locks:[],balanceProof:v["b"],pendingWithdraws:[],nextNonce:c["c"]};function q(e,t){var n,r,a=Object(O["d"])(t.meta),o=e.channels[a];if((null!==(n=null===o||void 0===o?void 0:o.openBlock)&&void 0!==n?n:0)>=t.payload.txBlock||(null!==(r=null===o||void 0===o?void 0:o.id)&&void 0!==r?r:0)>=t.payload.id||!t.payload.confirmed)return e;var i={_id:Object(O["e"])(M(M({},t.meta),{},{id:t.payload.id})),id:t.payload.id,state:m["b"].open,token:t.payload.token,tokenNetwork:t.meta.tokenNetwork,settleTimeout:t.payload.settleTimeout,isFirstParticipant:t.payload.isFirstParticipant,openBlock:t.payload.txBlock,own:M(M({},H),{},{address:e.address}),partner:M(M({},H),{},{address:t.meta.partner})};return M(M({},e),{},{channels:M(M({},e.channels),{},L({},a,i))})}function K(e,t){var n,r;if(!t.payload.confirmed)return e;var a=Object(O["d"])(t.meta),o=e.channels[a];if((null===(n=o)||void 0===n?void 0:n.state)!==m["b"].open||o.id!==t.payload.id)return e;var i=t.payload.participant===o.partner.address?"partner":"own",c=y["channelWithdrawn"].is(t)?["withdraw",t.payload.totalWithdraw,o[i].pendingWithdraws.filter((function(e){return e.total_withdraw.gt(t.payload.totalWithdraw)}))]:["deposit",t.payload.totalDeposit,o[i].pendingWithdraws],s=T(c,3),u=s[0],l=s[1],f=s[2];return l.lte(o[i][u])?e:(o=M(M({},o),{},L({},i,M(M({},o[i]),{},(r={},L(r,u,l),L(r,"pendingWithdraws",f),r)))),M(M({},e),{},{channels:M(M({},e.channels),{},L({},a,o))}))}function G(e,t){var n,r=Object(O["d"])(t.meta),a=e.channels[r];if((null===(n=a)||void 0===n?void 0:n.id)!==t.payload.id)return e;if(void 0===t.payload.confirmed&&a.state===m["b"].open)a=M(M({},a),{},{state:m["b"].closing});else{if("closeBlock"in a||!t.payload.confirmed)return e;a=M(M({},a),{},{state:m["b"].closed,closeBlock:t.payload.txBlock,closeParticipant:t.payload.participant})}return M(M({},e),{},{channels:M(M({},e.channels),{},L({},r,a))})}function Y(e,t){var n=Object(O["d"])(t.meta),r=e.channels[n];if(!r)return e;if(y["channelClose"].request.is(t)&&r.state===m["b"].open)r=M(M({},r),{},{state:m["b"].closing});else if(y["channelSettle"].request.is(t)&&r.state===m["b"].settleable)r=M(M({},r),{},{state:m["b"].settling});else{if(!y["channelSettleable"].is(t)||r.state!==m["b"].closed)return e;r=M(M({},r),{},{state:m["b"].settleable})}return M(M({},e),{},{channels:M(M({},e.channels),{},L({},n,r))})}function X(e,t){var n=Object(O["d"])(t.meta),r=e.channels[n];if((null===r||void 0===r?void 0:r.id)!==t.payload.id||!("closeBlock"in r))return e;if(void 0===t.payload.confirmed&&r.state!==m["b"].settling)return M(M({},e),{},{channels:M(M({},e.channels),{},L({},n,M(M({},r),{},{state:m["b"].settling})))});if(t.payload.confirmed){var a=e.channels,o=(a[n],w(a,[n].map(k)));return M(M({},e),{},{channels:o,oldChannels:M(M({},e.oldChannels),{},L({},Object(O["e"])(r),M(M({},r),{},{state:m["b"].settled,settleBlock:t.payload.txBlock})))})}return e}function Q(e,t,n){var r=!1,a=e.map((function(e){return e.secrethash!==t||e.registered||e.expiration.lte(n)?e:(r=!0,M(M({},e),{},{registered:!0}))}));return r?a:e}function Z(e,t){if(!t.payload.confirmed)return e;var n,r=t.meta.direction===l["a"].SENT?"own":"partner",a=P(Object.keys(e.channels)),o=g(a);try{for(o.s();!(n=o.n()).done;){var i=n.value,c=e.channels[i],s=Q(c[r].locks,t.meta.secrethash,t.payload.txBlock);s!==c[r].locks&&(e=M(M({},e),{},{channels:M(M({},e.channels),{},L({},i,M(M({},c),{},L({},r,M(M({},c[r]),{},{locks:s})))))}))}}catch(u){o.e(u)}finally{o.f()}return e}var z=Object(f["d"])(s["b"]).handle(y["channelOpen"].success,q).handle([y["channelDeposit"].success,y["channelWithdrawn"]],K).handle([y["channelClose"].request,y["channelSettleable"],y["channelSettle"].request],Y).handle(y["channelClose"].success,G).handle(y["channelSettle"].success,X).handle(u["transferSecretRegister"].success,Z),J=h({blockNumber:F,tokens:W,pendingTxs:$},s["b"]),ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s["b"],t=arguments.length>1?arguments[1]:void 0;return[J,z].reduce((function(e,n){return n(e,t)}),e)},te=ee,ne=n("eed9");function re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?re(Object(n),!0).forEach((function(t){oe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function oe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ie,ce,se=Object(f["d"])(s["b"].iou).handle(ne["iouPersist"],(function(e,t){return ae(ae({},e),{},oe({},t.meta.tokenNetwork,ae(ae({},e[t.meta.tokenNetwork]),{},oe({},t.meta.serviceAddress,t.payload.iou))))})).handle(ne["iouClear"],(function(e,t){return a()([t.meta.tokenNetwork,t.meta.serviceAddress],e)})),ue=Object(f["d"])(s["b"].services).handle(ne["servicesValid"],(function(e,t){return t.payload})),le=h({iou:se,services:ue},s["b"]),fe=le,pe=n("ee9f"),de=n.n(pe),be=n("7de2"),he=n("ca14"),ye=n("59ec");function me(e){return me="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},me(e)}function ve(e,t){if(null==e)return{};var n,r,a=Oe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Oe(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}function je(e){var t=ge(e,"string");return"symbol"===me(t)?t:String(t)}function ge(e,t){if("object"!==me(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==me(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function we(e){return Te(e)||Ee(e)||ke(e)||_e()}function _e(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ke(e,t){if(e){if("string"===typeof e)return Se(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Se(e,t):void 0}}function Ee(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function Te(e){if(Array.isArray(e))return Se(e)}function Se(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xe(Object(n),!0).forEach((function(t){Pe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Pe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ne=(ie={},Pe(ie,l["a"].SENT,"own"),Pe(ie,l["a"].RECEIVED,"partner"),ie);function Re(e,t){var n,r=Object(ye["i"])(t.meta);if(!(r in e.transfers))return e;var a=e.transfers[r];return a.secret||(e=Ae(Ae({},e),{},{transfers:Ae(Ae({},e.transfers),{},Pe({},r,Ae(Ae({},a),{},{secret:t.payload.secret})))})),u["transferSecretRegister"].success.is(t)&&t.payload.confirmed&&t.payload.txBlock!==(null===(n=a.secretRegistered)||void 0===n?void 0:n.txBlock)&&t.payload.txBlock<a.expiration&&(e=Ae(Ae({},e),{},{transfers:Ae(Ae({},e.transfers),{},Pe({},r,Ae(Ae({},a),{},{secretRegistered:Object(he["p"])(de()(["txHash","txBlock"],t.payload))})))})),e}function De(e,t){var n,r,a,o=t.payload.message,i=t.meta.secrethash,c=Object(ye["i"])(t.meta),s=o.token_network_address,l=t.payload.partner,f=Object(O["d"])({tokenNetwork:s,partner:l}),p=Ne[t.meta.direction],d=e.channels[f],b=c in e.transfers,h=u["transferUnlock"].success.is(t)?"unlock":"expired";if(u["transferSigned"].is(t)&&b||!u["transferSigned"].is(t)&&(!b||h in e.transfers[c])||(null===(n=d)||void 0===n?void 0:n.state)!==m["b"].open||!o.nonce.eq(d[p].nextNonce))return e;switch(t.type){case u["transferSigned"].type:r=[].concat(we(d[p].locks),[t.payload.message.lock]),a=Ae(Ae({_id:c,channel:Object(O["e"])(d)},t.meta),{},{transfer:Object(he["p"])(t.payload.message),fee:t.payload.fee,expiration:t.payload.message.lock.expiration.toNumber(),partner:l,cleared:0});break;case u["transferUnlock"].success.type:case u["transferExpire"].success.type:r=d[p].locks.filter((function(e){return e.secrethash!==i})),a=Ae(Pe({},h,Object(he["p"])(t.payload.message)),e.transfers[c]);break}return d=Ae(Ae({},d),{},Pe({},p,Ae(Ae({},d[p]),{},{locks:r,balanceProof:Object(be["e"])(o),nextNonce:d[p].nextNonce.add(1)}))),Ae(Ae({},e),{},{channels:Ae(Ae({},e.channels),{},Pe({},f,d)),transfers:Ae(Ae({},e.transfers),{},Pe({},c,a))})}var Ce=(ce={},Pe(ce,u["transferSecretRequest"].type,"secretRequest"),Pe(ce,u["transferSecretReveal"].type,"secretReveal"),Pe(ce,u["transferProcessed"].type,"transferProcessed"),Pe(ce,u["transferUnlockProcessed"].type,"unlockProcessed"),Pe(ce,u["transferExpireProcessed"].type,"expiredProcessed"),ce);function Ie(e,t){var n=Object(ye["i"])(t.meta),r=Ce[t.type];return!(n in e.transfers)||!u["transferSecretRequest"].is(t)&&r in e.transfers[n]||(e=Ae(Ae({},e),{},{transfers:Ae(Ae({},e.transfers),{},Pe({},n,Ae(Ae({},e.transfers[n]),{},Pe({},r,Object(he["p"])(t.payload.message)))))})),e}function Ue(e,t){var n=Object(ye["i"])(t.meta);if(n in e.transfers){var r=e.transfers,a=(r[n],ve(r,[n].map(je)));e=Ae(Ae({},e),{},{transfers:a})}return e}function Me(e,t){var n=Object(ye["i"])(t.meta);return n in e.transfers||(e=Ae(Ae({},e),{},{transfers:Ae(Ae({},e.transfers),{},Pe({},n,Ae(Ae({},t.payload),{},{cleared:0})))})),e}function Le(e,t){if(!t.payload.confirmed)return e;for(var n=y["channelClose"].success.is(t)?"channelClosed":"channelSettled",r=Object(O["e"])(Ae({id:t.payload.id},t.meta)),a=0,o=Object.values(e.transfers);a<o.length;a++){var i=o[a];i.channel===r&&(e=Ae(Ae({},e),{},{transfers:Ae(Ae({},e.transfers),{},Pe({},Object(ye["i"])(i),Ae(Ae({},i),{},Pe({},n,Object(he["p"])(de()(["txHash","txBlock"],t.payload))))))}))}return e}function Be(e,t){var n,r=t.payload.message,a=Object(O["d"])(t.meta),o=e.channels[a],i=t.meta.direction===l["a"].RECEIVED!==u["withdrawMessage"].success.is(t)?"partner":"own";if((null===(n=o)||void 0===n?void 0:n.state)!==m["b"].open||!r.nonce.eq(o[i].nextNonce))return e;o=Ae(Ae({},o),{},Pe({},i,Ae(Ae({},o[i]),{},{nextNonce:o[i].nextNonce.add(1)})));var c=t.meta.direction===l["a"].RECEIVED?"partner":"own",s=[].concat(we(o[c].pendingWithdraws),[t.payload.message]);return o=Ae(Ae({},o),{},Pe({},c,Ae(Ae({},o[c]),{},{pendingWithdraws:s}))),Ae(Ae({},e),{},{channels:Ae(Ae({},e.channels),{},Pe({},a,o))})}function Fe(e,t){var n,r=Object(O["d"])(t.meta),a=e.channels[r];if((null===(n=a)||void 0===n?void 0:n.state)!==m["b"].open)return e;var o=t.meta.direction===l["a"].RECEIVED?"partner":"own",i=a[o].pendingWithdraws.filter((function(e){return!e.expiration.eq(t.meta.expiration)||!e.total_withdraw.eq(t.meta.totalWithdraw)}));return a=Ae(Ae({},a),{},Pe({},o,Ae(Ae({},a[o]),{},{pendingWithdraws:i}))),Ae(Ae({},e),{},{channels:Ae(Ae({},e.channels),{},Pe({},r,a))})}var We=Object(f["d"])(s["b"]).handle([u["transferSecret"],u["transferSecretRegister"].success],Re).handle([u["transferSigned"],u["transferUnlock"].success,u["transferExpire"].success],De).handle([u["transferProcessed"],u["transferUnlockProcessed"],u["transferExpireProcessed"],u["transferSecretRequest"],u["transferSecretReveal"]],Ie).handle(u["transferClear"],Ue).handle(u["transferLoad"],Me).handle([y["channelClose"].success,y["channelSettle"].success],Le).handle([u["withdrawMessage"].request,u["withdrawMessage"].success,u["withdrawExpire"].success],Be).handle(u["withdrawCompleted"],Fe),Ve=We,$e=n("fe07"),He=n.n($e),qe=n("d890"),Ke=Object(f["d"])(s["b"].transport).handle(qe["matrixSetup"],(function(e,t){return He()(e,t.payload)||(e=t.payload),e})),Ge=h({transport:Ke},s["b"]),Ye=Ge;function Xe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xe(Object(n),!0).forEach((function(t){Ze(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ze(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ze(e,t){return rt(e)||nt(e,t)||et(e,t)||Je()}function Je(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function et(e,t){if(e){if("string"===typeof e)return tt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?tt(e,t):void 0}}function tt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function nt(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done);r=!0)if(n.push(i.value),t&&n.length===t)break}catch(s){a=!0,o=s}finally{try{r||null==c["return"]||c["return"]()}finally{if(a)throw o}}return n}}function rt(e){if(Array.isArray(e))return e}var at=Object(f["d"])(s["b"]).handle(o["d"],(function(e,t){for(var n=t.payload,r=e.config,o=0,i=Object.entries(n);o<i.length;o++){var c=ze(i[o],2),s=c[0],u=c[1];void 0!==u?r=Qe(Qe({},r),{},Ze({},s,u)):s in r&&(r=a()(s,r))}return r===e.config?e:Qe(Qe({},e),{},{config:r})})),ot={configReducer:at,channelsReducer:te,transportReducer:Ye,transfersReducer:Ve,servicesReducer:fe},it=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s["b"],t=arguments.length>1?arguments[1]:void 0;return Object.values(ot).reduce((function(e,n){return n(e,t)}),e)}},"6cb9":function(e,t,n){e.exports=n.p+"img/transfer_info.1d9dd924.svg"},7419:function(e,t,n){},"74e4":function(e,t,n){"use strict";n.d(t,"a",(function(){return ue})),n.d(t,"d",(function(){return le})),n.d(t,"f",(function(){return pe})),n.d(t,"c",(function(){return me})),n.d(t,"e",(function(){return Oe})),n.d(t,"g",(function(){return ke})),n.d(t,"b",(function(){return Ne}));var r,a=n("36d8"),o=n.n(a),i=n("1b87"),c=n.n(i),s=n("111d"),u=n.n(s),l=n("590d"),f=n("a914"),p=n("0255"),d=n("331d"),b=n("2023"),h=n("a92c"),y=n("a489"),m=n("ae8f"),v=n("258b"),O=n("4a9c"),j=n("231d"),g=n("2ac2"),w=n("459b"),_=n("8120"),k=n("ee6c"),E=n("ca14");function T(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function S(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){T(o,r,a,i,c,"next",e)}function c(e){T(o,r,a,i,c,"throw",e)}i(void 0)}))}}function x(){return A.apply(this,arguments)}function A(){return A=S(o.a.mark((function e(){var t,a,i,c,s;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!r){e.next=2;break}return e.abrupt("return",r);case 2:if(null===(t=globalThis.location)||void 0===t||!t.href){e.next=11;break}return e.next=5,n.e("chunk-3eadbefa").then(n.bind(null,"65ab"));case 5:a=e.sent,i=a.default,l["a"].plugin(i),r="indexeddb",e.next=17;break;case 11:return e.next=13,n.e("chunk-090d25fa").then(n.bind(null,"8b2c"));case 13:c=e.sent,s=c.default,l["a"].plugin(s),r="leveldb";case 17:return e.abrupt("return",r);case 18:case"end":return e.stop()}}),e)}))),A.apply(this,arguments)}function P(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function N(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){P(o,r,a,i,c,"next",e)}function c(e){P(o,r,a,i,c,"throw",e)}i(void 0)}))}}var R={1:function(){var e=N(o.a.mark((function e(t){return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("state.address"!==t._id){e.next=2;break}return e.abrupt("return",[t,{_id:"state.services",value:{}}]);case 2:return e.abrupt("return",[t]);case 3:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},D=R;function C(e,t){if(null==e)return{};var n,r,a=I(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function I(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}function U(e,t){return B(e)||L(e,t)||W(e,t)||M()}function M(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function L(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done);r=!0)if(n.push(i.value),t&&n.length===t)break}catch(s){a=!0,o=s}finally{try{r||null==c["return"]||c["return"]()}finally{if(a)throw o}}return n}}function B(e){if(Array.isArray(e))return e}function F(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=W(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function W(e,t){if(e){if("string"===typeof e)return V(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?V(e,t):void 0}}function V(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(Object(n),!0).forEach((function(t){q(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function K(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function G(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){K(o,r,a,i,c,"next",e)}function c(e){K(o,r,a,i,c,"throw",e)}i(void 0)}))}}function Y(e){return function(){return new X(e.apply(this,arguments))}}function X(e){var t,n;function r(e,r){return new Promise((function(o,i){var c={key:e,arg:r,resolve:o,reject:i,next:null};n?n=n.next=c:(t=n=c,a(e,r))}))}function a(t,n){try{var r=e[t](n),i=r.value,c=i instanceof Z;Promise.resolve(c?i.wrapped:i).then((function(e){c?a("return"===t?"return":"next",e):o(r.done?"return":"normal",e)}),(function(e){a("throw",e)}))}catch(s){o("throw",s)}}function o(e,r){switch(e){case"return":t.resolve({value:r,done:!0});break;case"throw":t.reject(r);break;default:t.resolve({value:r,done:!1});break}t=t.next,t?a(t.key,t.arg):n=null}this._invoke=r,"function"!==typeof e.return&&(this.return=void 0)}function Q(e){return new Z(e)}function Z(e){this.wrapped=e}function z(e){var t;if("undefined"!==typeof Symbol){if(Symbol.asyncIterator&&(t=e[Symbol.asyncIterator],null!=t))return t.call(e);if(Symbol.iterator&&(t=e[Symbol.iterator],null!=t))return t.call(e)}throw new TypeError("Object is not async iterable")}function J(e,t){var n={},r=!1;function a(n,a){return r=!0,a=new Promise((function(t){t(e[n](a))})),{done:!1,value:t(a)}}return"function"===typeof Symbol&&Symbol.iterator&&(n[Symbol.iterator]=function(){return this}),n.next=function(e){return r?(r=!1,e):a("next",e)},"function"===typeof e.throw&&(n.throw=function(e){if(r)throw r=!1,e;return a("throw",e)}),"function"===typeof e.return&&(n.return=function(e){return r?(r=!1,e):a("return",e)}),n}"function"===typeof Symbol&&Symbol.asyncIterator&&(X.prototype[Symbol.asyncIterator]=function(){return this}),X.prototype.next=function(e){return this._invoke("next",e)},X.prototype.throw=function(e){return this._invoke("throw",e)},X.prototype.return=function(e){return this._invoke("return",e)},l["a"].plugin(f["a"]);var ee="state.",te="channels.";function ne(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e,r=e+"ï¿°";return t?{startkey:r,endkey:n,descending:t}:{startkey:n,endkey:r}}function re(e){return ae.apply(this,arguments)}function ae(){return ae=G(o.a.mark((function e(t){var n,r,a;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=new Set,e.next=3,t.allDocs({startkey:"a",endkey:"zï¿°"});case 3:return r=e.sent,r.rows.forEach((function(e){var t=e.id;return n.add(t)})),a=new p["a"](!1),e.abrupt("return",Object.assign(t,{storageKeys:n,busy$:a}));case 7:case"end":return e.stop()}}),e)}))),ae.apply(this,arguments)}function oe(e){return ie.apply(this,arguments)}function ie(){return ie=G(o.a.mark((function e(t){var n,r;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=new this(t),e.next=3,n.info();case 3:if(r=e.sent,0!==r.doc_count||0!=r.update_seq){e.next=8;break}return e.next=7,n.destroy();case 7:return e.abrupt("return");case 8:return e.abrupt("return",re(n));case 9:case"end":return e.stop()}}),e,this)}))),ie.apply(this,arguments)}function ce(e){return se.apply(this,arguments)}function se(){return se=G(o.a.mark((function e(t){var n;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=new this(t),n.setMaxListeners(30),e.next=4,Promise.all([n.createIndex({index:{name:"byCleared",fields:["cleared","direction"]}}),n.createIndex({index:{name:"byPartner",fields:["direction","partner"]}}),n.createIndex({index:{name:"bySecrethash",fields:["secrethash"]}}),n.createIndex({index:{name:"byChannel",fields:["channel"]}})]);case 4:return e.abrupt("return",re(n));case 5:case"end":return e.stop()}}),e,this)}))),se.apply(this,arguments)}function ue(e,t){return Object(d["a"])((function(){var n=e.changes(t);return Object(b["a"])(Object(h["a"])(n,"change"),Object(h["a"])(n,"error").pipe(Object(v["a"])((function(e){return Object(y["a"])(e)})))).pipe(Object(O["a"])(0),Object(j["a"])(Object(h["a"])(n,"complete")),Object(g["a"])((function(){return n.cancel()})))}))}function le(e){return fe.apply(this,arguments)}function fe(){return fe=G(o.a.mark((function e(t){var n,r,a,i,c,s,u,l,f,p,d,b,h,y,m,v,O,j;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.constructor.__defaults.log,r={channels:{},oldChannels:{},transfers:{}},e.next=4,t.allDocs(H(H({},ne(ee)),{},{include_docs:!0}));case 4:a=e.sent,i=F(a.rows);try{for(i.s();!(c=i.n()).done;)s=c.value,u=s.id,l=s.doc,r[u.substr(ee.length)]=l.value}catch(o){i.e(o)}finally{i.f()}return e.next=9,t.allDocs(H(H({},ne(te)),{},{include_docs:!0}));case 9:f=e.sent,p=F(f.rows);try{for(p.s();!(d=p.n()).done;)b=d.value,h=b.id,y=b.doc,"settleBlock"in y?r.oldChannels[h]=H(H({},y),{},{_id:h.substr(te.length)}):r.channels[Object(_["d"])(y)]=H(H({},y),{},{_id:h.substr(te.length)})}catch(o){p.e(o)}finally{p.f()}return e.next=14,t.find({selector:{cleared:0,direction:{$exists:!0}}});case 14:m=e.sent,m.warning&&(null===n||void 0===n||n.warn(m.warning,"getRaidenState")),v=F(m.docs);try{for(v.s();!(O=v.n()).done;)j=O.value,r.transfers[j._id]=j}catch(o){v.e(o)}finally{v.f()}if(!("address"in r)){e.next=20;break}return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),fe.apply(this,arguments)}function pe(e,t){return de.apply(this,arguments)}function de(){return de=G(o.a.mark((function e(t,n){var r,a,i,c,s,u,l,f,p,d,b,h;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(r=[],a=0,i=Object.entries(n);a<i.length;a++)if(c=U(i[a],2),s=c[0],u=c[1],"channels"===s||"oldChannels"===s)for(l=0,f=Object.values(u);l<f.length;l++)p=f[l],r.push(H(H({},p),{},{_id:te+p._id}));else if("transfers"===s)for(d=0,b=Object.values(u);d<b.length;d++)h=b[d],r.push(h);else r.push({_id:ee+s,value:u});return e.next=4,t.bulkDocs(r);case 4:case"end":return e.stop()}}),e)}))),de.apply(this,arguments)}function be(e){return Object.keys(e).map((function(e){return+e})).sort()}function he(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D;return null!==(e=Object(E["o"])(be(t)))&&void 0!==e?e:0}function ye(e){return+e.name.match(/_(\d+)$/)[1]}function me(){return ve.apply(this,arguments)}function ve(){return ve=G(o.a.mark((function e(){var t,n=arguments;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=n.length>0&&void 0!==n[0]?n[0]:{log:u.a},t.log||(t.log=u.a),t.adapter){e.next=6;break}return e.next=5,x();case 5:t.adapter=e.sent;case 6:return e.abrupt("return",l["a"].defaults(t));case 7:case"end":return e.stop()}}),e)}))),ve.apply(this,arguments)}function Oe(e){return je.apply(this,arguments)}function je(){return je=G(o.a.mark((function e(t){var n,r,a,i,c,s,u,l,f,p,b,h,y,O=this,j=arguments;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=j.length>1&&void 0!==j[1]?j[1]:D,r=j.length>2&&void 0!==j[2]&&j[2],a=this.__defaults.log,i=be(n),c=0,u=i.length-1;case 6:if(!(u>=0)){e.next=18;break}return l=i[u],e.next=10,oe.call(this,"".concat(t,"_").concat(l));case 10:if(f=e.sent,!f){e.next=15;break}return c=l,s=f,e.abrupt("break",18);case 15:--u,e.next=6;break;case 18:if(s){e.next=22;break}return e.next=21,oe.call(this,"".concat(t,"_").concat(c));case 21:s=e.sent;case 22:if(s){e.next=27;break}return c=he(n),e.next=26,ce.call(this,"".concat(t,"_").concat(c));case 26:s=e.sent;case 27:p=F(i),e.prev=28,h=o.a.mark((function e(){var i,u,l;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(i=b.value,!(i<=c)){e.next=3;break}return e.abrupt("return","continue");case 3:return e.next=5,ce.call(O,"".concat(t,"_").concat(i));case 5:return u=e.sent,e.prev=6,l=/^[a-z]/i,e.next=10,ue(s,{since:0,include_docs:!0,filter:function(e){var t=e._id;return l.test(t)}}).pipe(Object(w["a"])((function(e){return Object(d["a"])((function(){return n[i](e.doc,s)})).pipe(Object(v["a"])((function(e){return Object(m["a"])(e)})),Object(w["a"])(function(){var e=G(o.a.mark((function e(t){var n;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t._rev,n=C(t,["_rev"]),e.abrupt("return",u.put(n));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))}))).toPromise();case 10:e.next=17;break;case 12:throw e.prev=12,e.t0=e["catch"](6),null===a||void 0===a||a.error("Error migrating db",{from:c,to:i},e.t0),u.destroy(),e.t0;case 17:if(null===a||void 0===a||a.info("Migrated db",{name:t,from:c,to:i}),!r){e.next=23;break}return e.next=21,s.destroy();case 21:e.next=25;break;case 23:return e.next=25,s.close();case 25:c=i,s=u;case 27:case"end":return e.stop()}}),e,null,[[6,12]])})),p.s();case 31:if((b=p.n()).done){e.next=38;break}return e.delegateYield(h(),"t0",33);case 33:if(y=e.t0,"continue"!==y){e.next=36;break}return e.abrupt("continue",36);case 36:e.next=31;break;case 38:e.next=43;break;case 40:e.prev=40,e.t1=e["catch"](28),p.e(e.t1);case 43:return e.prev=43,p.f(),e.finish(43);case 46:return Object(k["d"])(ye(s)===he(n),"Not latest version"),e.abrupt("return",s);case 48:case"end":return e.stop()}}),e,this,[[28,40,43,46]])}))),je.apply(this,arguments)}function ge(e){return we.apply(this,arguments)}function we(){return we=G(o.a.mark((function e(t){return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.t0=ye(t),e.next=3,t.get(ee+"chainId");case 3:return e.t1=e.sent.value,e.next=6,t.get(ee+"registry");case 6:return e.t2=e.sent.value,e.next=9,t.get(ee+"address");case 9:return e.t3=e.sent.value,e.next=12,t.get(ee+"blockNumber");case 12:return e.t4=e.sent.value,e.abrupt("return",{_id:"_meta",version:e.t0,network:e.t1,registry:e.t2,address:e.t3,blockNumber:e.t4});case 14:case"end":return e.stop()}}),e)}))),we.apply(this,arguments)}function _e(e){return"function"===typeof e[Symbol.asyncIterator]}function ke(e,t){return Ee.apply(this,arguments)}function Ee(){return Ee=G(o.a.mark((function e(t,n){var r,a,i,c,s,u,l,f,p,d,b,h,y,m,v,O,j=arguments;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=j.length>2&&void 0!==j[2]?j[2]:D,a=j.length>3&&void 0!==j[3]&&j[3],i=this.__defaults.log,c=_e(t)?t[Symbol.asyncIterator]():t[Symbol.iterator](),e.next=6,c.next();case 6:s=e.sent,Object(k["d"])(!s.done&&"_meta"===s.value._id,'first yielded value must be "_meta"'),u=s.value,l=he(r);case 10:if(!(l>=u.version)){e.next=28;break}return f="".concat(n,"_").concat(l),e.next=14,oe.call(this,f);case 14:if(p=e.sent,p){e.next=17;break}return e.abrupt("continue",25);case 17:return e.next=19,ge(p);case 19:return d=e.sent,Object(k["d"])(u.version>=l&&u.blockNumber>=d.blockNumber,k["b"].RDN_STATE_MIGRATION),Object(k["d"])(u.address===d.address,[k["b"].RDN_STATE_ADDRESS_MISMATCH,{expected:d.address,received:u.address}],null===i||void 0===i?void 0:i.error),Object(k["d"])(u.registry===d.registry&&u.network===d.network,[k["b"].RDN_STATE_NETWORK_MISMATCH,{expectedRegistry:d.registry,receivedRegistry:u.registry,expectedNetwork:d.network,receivedNetwork:u.network}],null===i||void 0===i?void 0:i.error),e.next=25,p.destroy();case 25:--l,e.next=10;break;case 28:return b="".concat(n,"_").concat(u.version),e.next=31,ce.call(this,b);case 31:return h=e.sent,e.next=34,c.next();case 34:y=e.sent;case 35:if(y.done){e.next=45;break}return m=y.value,"_rev"in m&&delete m["_rev"],e.next=40,Promise.all([c.next(),h.put(m)]);case 40:v=e.sent,O=U(v,1),y=O[0],e.next=35;break;case 45:return null===i||void 0===i||i.warn("Replaced/loaded database",{name:n,meta:u}),e.next=48,h.close();case 48:return e.next=50,Oe.call(this,n,r,a);case 50:return e.abrupt("return",e.sent);case 51:case"end":return e.stop()}}),e,this)}))),Ee.apply(this,arguments)}function Te(e){return e?e.slice(0,-1)+String.fromCharCode(e.slice(-1).charCodeAt(0)+1):""}function Se(e){return xe.apply(this,arguments)}function xe(){return xe=Y(o.a.mark((function e(t){var n,r,a,i,s,u,l,f,p=arguments;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=p.length>1&&void 0!==p[1]?p[1]:{},r=n.batch,a=void 0===r?10:r,s=t.changes({since:"now",live:!0}),s.on("change",(function(e){var t=e.id;return i=t})),e.prev=3,e.next=6,ge(t);case 6:u="a";case 7:return e.next=10,Q(t.allDocs({startkey:u,endkey:"ï¿°",limit:a,include_docs:!0}));case 10:return l=e.sent,e.delegateYield(J(z(l.rows.map((function(e){var t=e.doc;return c()(["_rev"],t)}))),Q),"t0",12);case 12:if(Object(k["d"])(!i,["Database changed while dumping",{key:i}]),f=Object(E["o"])(l.rows),!f){e.next=18;break}u=Te(f.id),e.next=19;break;case 18:return e.abrupt("break",21);case 19:e.next=7;break;case 21:return e.prev=21,s.cancel(),e.finish(21);case 24:case"end":return e.stop()}}),e,null,[[3,,21,24]])}))),xe.apply(this,arguments)}function Ae(e){return Pe.apply(this,arguments)}function Pe(){return Pe=G(o.a.mark((function e(t){return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",ce.call(t.constructor,t.name));case 1:case"end":return e.stop()}}),e)}))),Pe.apply(this,arguments)}function Ne(e,t){return Re.apply(this,arguments)}function Re(){return Re=G(o.a.mark((function e(t,n){var r,a,i,c,s,u,l,f,p,d,b,h;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:r=t.constructor.__defaults.log,a=!1,i=10;case 3:if(!(i>0)){e.next=56;break}e.prev=4,c=[],s=!0,u=!1,e.prev=8,f=z(Se(t,n));case 10:return e.next=12,f.next();case 12:return p=e.sent,s=p.done,e.next=16,p.value;case 16:if(d=e.sent,s){e.next=23;break}b=d,c.push(b);case 20:s=!0,e.next=10;break;case 23:e.next=29;break;case 25:e.prev=25,e.t0=e["catch"](8),u=!0,l=e.t0;case 29:if(e.prev=29,e.prev=30,s||null==f.return){e.next=34;break}return e.next=34,f.return();case 34:if(e.prev=34,!u){e.next=37;break}throw l;case 37:return e.finish(34);case 38:return e.finish(29);case 39:if(!a){e.next=42;break}return e.next=42,t.close();case 42:return e.abrupt("return",c);case 45:if(e.prev=45,e.t1=e["catch"](4),null===e.t1||void 0===e.t1||null===(h=e.t1.message)||void 0===h||!h.includes("database is closed")){e.next=52;break}return a=!0,e.next=51,Ae(t);case 51:t=e.sent;case 52:null===r||void 0===r||r.warn("Restarting dump because",e.t1);case 53:--i,e.next=3;break;case 56:throw new Error("Could not dump database");case 57:case"end":return e.stop()}}),e,null,[[4,45],[8,25,29,39],[30,,34,38]])}))),Re.apply(this,arguments)}},"750b":function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-row",{staticClass:"action-button",class:{sticky:e.sticky},attrs:{"no-gutters":"","align-content":"center",justify:"center"}},[n("v-col",{staticClass:"text-center",attrs:{cols:e.sticky?12:10}},[n("v-btn",{staticClass:"text-capitalize action-button__button",class:{sticky:e.sticky,"action-button__button--ghost":e.ghost,"action-button__button--full-width":e.fullWidth},attrs:{type:"submit",disabled:!e.enabled,loading:e.loading,"data-cy":"action_button",depressed:"",large:""},on:{click:function(t){return e.click()}},scopedSlots:e._u([e.syncing?{key:"loader",fn:function(){return[n("div",{staticClass:"action-button__syncing"},[n("span",[e._v(e._s(e.$t("home.connect-button-syncing")))]),n("v-progress-linear",{staticClass:"action-button__syncing__indicator",attrs:{indeterminate:"",rounded:""}})],1)]},proxy:!0}:null],null,!0)},[e._v(" "+e._s(e.text)+" "),e.arrow?n("v-icon",{attrs:{right:""}},[e._v("keyboard_arrow_right")]):e._e()],1)],1)],1)},a=[],o=n("9ab4"),i=n("5cf9");function c(e){return c="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),e}function f(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}function d(e){var t=y();return function(){var n,r=m(e);if(t){var a=m(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return b(this,n)}}function b(e,t){return!t||"object"!==c(t)&&"function"!==typeof t?h(e):t}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}var v=function(e){f(n,e);var t=d(n);function n(){return s(this,n),t.apply(this,arguments)}return l(n,[{key:"click",value:function(){return!0}}]),n}(i["f"]);Object(o["a"])([Object(i["d"])({required:!0,type:Boolean})],v.prototype,"enabled",void 0),Object(o["a"])([Object(i["d"])({required:!0})],v.prototype,"text",void 0),Object(o["a"])([Object(i["d"])({type:Boolean,default:!1})],v.prototype,"syncing",void 0),Object(o["a"])([Object(i["d"])({type:Boolean,default:!1})],v.prototype,"loading",void 0),Object(o["a"])([Object(i["d"])({type:Boolean,default:!1})],v.prototype,"sticky",void 0),Object(o["a"])([Object(i["d"])({type:Boolean,default:!1})],v.prototype,"arrow",void 0),Object(o["a"])([Object(i["d"])({type:Boolean,default:!1})],v.prototype,"ghost",void 0),Object(o["a"])([Object(i["d"])({type:Boolean,default:!1})],v.prototype,"fullWidth",void 0),Object(o["a"])([Object(i["b"])()],v.prototype,"click",null),v=Object(o["a"])([Object(i["a"])({})],v);var O=v,j=O,g=(n("9433"),n("a6c2")),w=n("411c"),_=n.n(w),k=n("9c46"),E=n("1fb1"),T=n("b503"),S=n("452d"),x=n("e614"),A=Object(g["a"])(j,r,a,!1,null,"60bdd846",null);t["a"]=A.exports;_()(A,{VBtn:k["a"],VCol:E["a"],VIcon:T["a"],VProgressLinear:S["a"],VRow:x["a"]})},"77fd":function(e,t,n){"use strict";var r=n("9ab4"),a=n("5cf9");function o(e){return o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),e}function u(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}function f(e){var t=b();return function(){var n,r=h(e);if(t){var a=h(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return p(this,n)}}function p(e,t){return!t||"object"!==o(t)&&"function"!==typeof t?d(e):t}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}var y=function(e){u(n,e);var t=f(n);function n(){return i(this,n),t.apply(this,arguments)}return s(n,[{key:"$blockie",value:function(e){return e?this.$identicon.getIdenticon(e):this.$identicon.getIdenticon("0x000")}}]),n}(a["f"]);y=Object(r["a"])([a["a"]],y),t["a"]=y},"7cb3":function(e,t,n){"use strict";n("c380")},"7de2":function(e,t,n){"use strict";n.d(t,"a",(function(){return E})),n.d(t,"b",(function(){return x})),n.d(t,"f",(function(){return R})),n.d(t,"e",(function(){return D})),n.d(t,"d",(function(){return C})),n.d(t,"c",(function(){return I})),n.d(t,"h",(function(){return U})),n.d(t,"g",(function(){return L}));var r,a=n("36d8"),o=n.n(a),i=n("b97c"),c=n("905c9"),s=n("6da0"),u=n("f211"),l=n("8379"),f=n("111d"),p=n.n(f),d=n("2b5b"),b=n("f2df"),h=n("46f7"),y=n("ca14"),m=n("8173"),v=n("5778");function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){k(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function w(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){g(o,r,a,i,c,"next",e)}function c(e){g(o,r,a,i,c,"throw",e)}i(void 0)}))}}function _(e){return _="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_(e)}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var E,T=(r={},k(r,v["d"].DELIVERED,12),k(r,v["d"].PROCESSED,0),k(r,v["d"].SECRET_REQUEST,3),k(r,v["d"].SECRET_REVEAL,11),k(r,v["d"].LOCKED_TRANSFER,7),k(r,v["d"].UNLOCK,4),k(r,v["d"].LOCK_EXPIRED,13),k(r,v["d"].WITHDRAW_REQUEST,15),k(r,v["d"].WITHDRAW_CONFIRMATION,16),k(r,v["d"].WITHDRAW_EXPIRED,17),k(r,v["d"].PFS_CAPACITY_UPDATE,-1),k(r,v["d"].PFS_FEE_UPDATE,-1),k(r,v["d"].MONITOR_REQUEST,-1),r);function S(e){var t=e.routes.map((function(e){return Object(s["a"])(Object(u["encode"])(e.route))}));return Object(s["a"])(Object(u["encode"])(t))}function x(e){var t=e.transferredAmount,n=e.lockedAmount,r=e.locksroot;return t.isZero()&&n.isZero()&&(r===c["a"]||r===d["d"])?c["a"]:Object(s["a"])(Object(i["b"])([Object(h["a"])(t,32),Object(h["a"])(n,32),Object(h["a"])(r,32)]))}function A(e){switch(e.type){case v["d"].LOCKED_TRANSFER:var t=Object(i["b"])([Object(h["a"])(T[e.type],1),Object(h["a"])(e.message_identifier,8),Object(h["a"])(e.payment_identifier,8),Object(h["a"])(e.lock.expiration,32),Object(h["a"])(e.token,20),Object(h["a"])(e.recipient,20),Object(h["a"])(e.target,20),Object(h["a"])(e.initiator,20),Object(h["a"])(e.lock.secrethash,32),Object(h["a"])(e.lock.amount,32)]);return e.type===v["d"].LOCKED_TRANSFER&&(t=Object(i["b"])([t,S(e.metadata)])),Object(s["a"])(t);case v["d"].UNLOCK:return Object(s["a"])(Object(i["b"])([Object(h["a"])(T[e.type],1),Object(h["a"])(e.message_identifier,8),Object(h["a"])(e.payment_identifier,8),Object(h["a"])(e.secret,32)]));case v["d"].LOCK_EXPIRED:return Object(s["a"])(Object(i["b"])([Object(h["a"])(T[e.type],1),Object(h["a"])(e.message_identifier,8),Object(h["a"])(e.recipient,20),Object(h["a"])(e.secrethash,32)]))}}function P(e){var t;switch(e.type){case v["d"].DELIVERED:return Object(i["i"])(Object(i["b"])([Object(h["a"])(T[e.type],1),Object(h["a"])(0,3),Object(h["a"])(e.delivered_message_identifier,8)]));case v["d"].PROCESSED:return Object(i["i"])(Object(i["b"])([Object(h["a"])(T[e.type],1),Object(h["a"])(0,3),Object(h["a"])(e.message_identifier,8)]));case v["d"].LOCKED_TRANSFER:case v["d"].UNLOCK:case v["d"].LOCK_EXPIRED:var n=A(e),r=x({transferredAmount:e.transferred_amount,lockedAmount:e.locked_amount,locksroot:e.locksroot});return Object(i["i"])(Object(i["b"])([Object(h["a"])(e.token_network_address,20),Object(h["a"])(e.chain_id,32),Object(h["a"])(E.BALANCE_PROOF,32),Object(h["a"])(e.channel_identifier,32),Object(h["a"])(r,32),Object(h["a"])(e.nonce,32),Object(h["a"])(n,32)]));case v["d"].SECRET_REQUEST:return Object(i["i"])(Object(i["b"])([Object(h["a"])(T[e.type],1),Object(h["a"])(0,3),Object(h["a"])(e.message_identifier,8),Object(h["a"])(e.payment_identifier,8),Object(h["a"])(e.secrethash,32),Object(h["a"])(e.amount,32),Object(h["a"])(e.expiration,32)]));case v["d"].SECRET_REVEAL:return Object(i["i"])(Object(i["b"])([Object(h["a"])(T[e.type],1),Object(h["a"])(0,3),Object(h["a"])(e.message_identifier,8),Object(h["a"])(e.secret,32)]));case v["d"].WITHDRAW_REQUEST:case v["d"].WITHDRAW_CONFIRMATION:return Object(i["i"])(Object(i["b"])([Object(h["a"])(e.token_network_address,20),Object(h["a"])(e.chain_id,32),Object(h["a"])(E.WITHDRAW,32),Object(h["a"])(e.channel_identifier,32),Object(h["a"])(e.participant,20),Object(h["a"])(e.total_withdraw,32),Object(h["a"])(e.expiration,32)]));case v["d"].WITHDRAW_EXPIRED:return Object(i["i"])(Object(i["b"])([Object(h["a"])(T[e.type],1),Object(h["a"])(0,3),Object(h["a"])(e.nonce,32),Object(h["a"])(e.message_identifier,8),Object(h["a"])(e.token_network_address,20),Object(h["a"])(e.chain_id,32),Object(h["a"])(E.WITHDRAW,32),Object(h["a"])(e.channel_identifier,32),Object(h["a"])(e.participant,20),Object(h["a"])(e.total_withdraw,32),Object(h["a"])(e.expiration,32)]));case v["d"].PFS_CAPACITY_UPDATE:return Object(i["i"])(Object(i["b"])([Object(h["a"])(e.canonical_identifier.chain_identifier,32),Object(h["a"])(e.canonical_identifier.token_network_address,20),Object(h["a"])(e.canonical_identifier.channel_identifier,32),Object(h["a"])(e.updating_participant,20),Object(h["a"])(e.other_participant,20),Object(h["a"])(e.updating_nonce,8),Object(h["a"])(e.other_nonce,8),Object(h["a"])(e.updating_capacity,32),Object(h["a"])(e.other_capacity,32),Object(h["a"])(e.reveal_timeout,32)]));case v["d"].PFS_FEE_UPDATE:return Object(i["i"])(Object(i["b"])([Object(h["a"])(e.canonical_identifier.chain_identifier,32),Object(h["a"])(e.canonical_identifier.token_network_address,20),Object(h["a"])(e.canonical_identifier.channel_identifier,32),Object(h["a"])(e.updating_participant,20),Object(h["a"])(e.fee_schedule.cap_fees,1),Object(h["a"])(e.fee_schedule.flat,32),Object(h["a"])(e.fee_schedule.proportional,32),Object(u["encode"])(null!==(t=e.fee_schedule.imbalance_penalty)&&void 0!==t?t:"0x"),Object(h["a"])(e.timestamp,19)]));case v["d"].MONITOR_REQUEST:return Object(i["i"])(Object(i["b"])([Object(h["a"])(e.monitoring_service_contract_address,20),Object(h["a"])(e.balance_proof.chain_id,32),Object(h["a"])(E.MS_REWARD,32),Object(h["a"])(e.balance_proof.token_network_address,20),Object(h["a"])(e.non_closing_participant,20),Object(h["a"])(e.non_closing_signature,65),Object(h["a"])(e.reward_amount,32)]))}}function N(e){return y["g"].is(e.signature)}function R(e){return Object(l["b"])(Object(i["a"])(P(e)),e.signature)}function D(e){return{chainId:e.chain_id,tokenNetworkAddress:e.token_network_address,channelId:e.channel_identifier,nonce:e.nonce,transferredAmount:e.transferred_amount,lockedAmount:e.locked_amount,locksroot:e.locksroot,additionalHash:A(e),signature:e.signature}}function C(e){return"signature"in e?Object(h["c"])(Object(y["h"])(v["c"]).encode(e)):Object(h["c"])(v["c"].encode(e))}function I(e){var t=Object(h["b"])(e);return Object(b["a"])(t&&"object"===_(t)&&"type"in t&&Object.values(v["d"]).some((function(e){return e===t["type"]})),"Invalid message type: ".concat(null===t||void 0===t?void 0:t["type"])),"signature"in t?Object(y["l"])(Object(y["h"])(v["c"]),t):Object(y["l"])(v["c"],t)}function U(e,t){return M.apply(this,arguments)}function M(){return M=w(o.a.mark((function e(t,n){var r,a,c,s=arguments;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:{log:p.a},a=r.log,!N(n)){e.next=3;break}return e.abrupt("return",n);case 3:return a.debug('Signing message "'.concat(n.type,'"'),n),e.next=6,t.signMessage(Object(i["a"])(P(n)));case 6:return c=e.sent,e.abrupt("return",j(j({},n),{},{signature:c}));case 8:case"end":return e.stop()}}),e)}))),M.apply(this,arguments)}function L(e){return function(t){return m["messageReceived"].is(t)&&(Array.isArray(e)?e.some((function(e){return e.is(t.payload.message)})):e.is(t.payload.message))}}(function(e){e[e["BALANCE_PROOF"]=1]="BALANCE_PROOF",e[e["BALANCE_PROOF_UPDATE"]=2]="BALANCE_PROOF_UPDATE",e[e["WITHDRAW"]=3]="WITHDRAW",e[e["COOP_SETTLE"]=4]="COOP_SETTLE",e[e["IOU"]=5]="IOU",e[e["MS_REWARD"]=6]="MS_REWARD"})(E||(E={}))},"7ea7":function(e,t,n){"use strict";n("a89e")},8089:function(e,t,n){"use strict";n.d(t,"e",(function(){return pe})),n.d(t,"f",(function(){return he})),n.d(t,"i",(function(){return ye})),n.d(t,"j",(function(){return me})),n.d(t,"b",(function(){return ve})),n.d(t,"d",(function(){return Oe})),n.d(t,"a",(function(){return je})),n.d(t,"l",(function(){return we})),n.d(t,"c",(function(){return ke})),n.d(t,"h",(function(){return Te})),n.d(t,"g",(function(){return Ae})),n.d(t,"m",(function(){return Ne})),n.d(t,"k",(function(){return Ie}));var r=n("36d8"),a=n.n(r),o=n("4fe5"),i=n("87b8"),c=n("09d5"),s=n("699d"),u=n("8379"),l=n("fe07"),f=n.n(l),p=n("111d"),d=n.n(p),b=n("2023"),h=n("331d"),y=n("4a9c"),m=n("cefa"),v=n("7f4a"),O=n("dd00"),j=n("58be"),g=n("0eb1"),w=n("dd5b"),_=n("daae"),k=n("18df"),E=n("258b"),T=n("f799"),S=n("b8ff"),x=n("8120"),A=n("de7d"),P=n("74e4"),N=n("c998"),R=n("ee79"),D=n("31a7"),C=n("a0df"),I=n("4e0b"),U=n("1f0b"),M=n("0ff6"),L=n("b4cc"),B=n("8173"),F=n("d011"),W=n("65e1"),V=n("1a78"),$=n("59ec"),H=n("f2df"),q=n("d276"),K=n("46f7"),G=n("ee6c"),Y=n("1b23"),X=n("325b"),Q=n("ca14");function Z(e,t){return ee(e)||J(e,t)||re(e,t)||z()}function z(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function J(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done);r=!0)if(n.push(i.value),t&&n.length===t)break}catch(s){a=!0,o=s}finally{try{r||null==c["return"]||c["return"]()}finally{if(a)throw o}}return n}}function ee(e){if(Array.isArray(e))return e}function te(e){return oe(e)||ae(e)||re(e)||ne()}function ne(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function re(e,t){if(e){if("string"===typeof e)return ie(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ie(e,t):void 0}}function ae(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function oe(e){if(Array.isArray(e))return ie(e)}function ie(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ce(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function se(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){ce(o,r,a,i,c,"next",e)}function c(e){ce(o,r,a,i,c,"throw",e)}i(void 0)}))}}function ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ue(Object(n),!0).forEach((function(t){fe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ue(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var pe=function(e){switch(e.name){case"rinkeby":return le(le({},D.contracts),M.contracts);case"ropsten":return le(le({},C.contracts),L.contracts);case"goerli":return le(le({},N.contracts),I.contracts);case"homestead":return le(le({},R.contracts),U.contracts);default:throw new G["c"](G["b"].RDN_UNRECOGNIZED_NETWORK,{network:e.name})}};function de(e,t,n){return be.apply(this,arguments)}function be(){return be=se(a.a.mark((function e(t,n,r){var o,i,l,f,p,d,b;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return l=null!==(o=null!==r&&void 0!==r?r:null===globalThis||void 0===globalThis||null===(i=globalThis.location)||void 0===i?void 0:i.origin)&&void 0!==o?o:"unknown",f="=== RAIDEN SUBKEY GENERATION ===\n\nNetwork: ".concat(Object(Y["c"])(t).toUpperCase(),"\nRaiden dApp URL: ").concat(l,"\n\nWARNING: ensure this signature is being requested from Raiden dApp running at URL above by comparing it to your browser's url bar.\nSigning this message at any other address WILL give it FULL control of this subkey's funds, tokens and Raiden channels!"),e.next=4,n.signMessage(Object(s["f"])(f));case 4:return p=e.sent,d=Object(c["c"])(p),b=new u["a"](d,n.provider),e.abrupt("return",{signer:b,address:b.address});case 8:case"end":return e.stop()}}),e)}))),be.apply(this,arguments)}var he=function(){var e=se(a.a.mark((function e(t,n,r,i){var c,s,l,f,p;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!o["a"].isSigner(t)){e.next=15;break}if(t.provider!==n){e.next=5;break}c=t,e.next=10;break;case 5:if(!(t instanceof u["a"])){e.next=9;break}c=t.connect(n),e.next=10;break;case 9:throw new G["c"](G["b"].RDN_SIGNER_NOT_CONNECTED,{account:t.toString(),provider:n.toString()});case 10:return e.next=12,c.getAddress();case 12:s=e.sent,e.next=38;break;case 15:if("number"!==typeof t){e.next=22;break}return c=n.getSigner(t),e.next=19,c.getAddress();case 19:s=e.sent,e.next=38;break;case 22:if(!Q["a"].is(t)){e.next=32;break}return e.next=25,n.listAccounts();case 25:if(f=e.sent,f.includes(t)){e.next=28;break}throw new G["c"](G["b"].RDN_ACCOUNT_NOT_FOUND,{account:t,accounts:JSON.stringify(f)});case 28:c=n.getSigner(t),s=t,e.next=38;break;case 32:if(!Q["e"].is(t)){e.next=37;break}c=new u["a"](t,n),s=c.address,e.next=38;break;case 37:throw new G["c"](G["b"].RDN_STRING_ACCOUNT_INVALID);case 38:if(!r){e.next=51;break}return l={signer:c,address:s},e.t0=de,e.next=43,n.getNetwork();case 43:return e.t1=e.sent,e.t2=l.signer,e.t3=i,e.next=48,(0,e.t0)(e.t1,e.t2,e.t3);case 48:p=e.sent,c=p.signer,s=p.address;case 51:return e.abrupt("return",{signer:c,address:s,main:l});case 52:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}();function ye(e,t){return Object(b["a"])(Object(P["a"])(t,{since:0,include_docs:!0,selector:{direction:{$in:Object.values(V["a"])}}}).pipe(Object(y["a"])("doc"),Object(m["a"])(Q["n"]),Object(v["a"])((function(e){return Object(Q["l"])(V["d"],e)}))),e.pipe(Object(X["g"])("transfers"),Object(X["d"])(),Object(y["a"])(1))).pipe(Object(v["a"])($["h"]))}var me=function(e){return Object.values(e).reduce((function(e,t){var n=Object(x["c"])(t),r=le({state:t.state,id:t.id,token:t.token,tokenNetwork:t.tokenNetwork,settleTimeout:t.settleTimeout,openBlock:t.openBlock,closeBlock:"closeBlock"in t?t.closeBlock:void 0,partner:t.partner.address,balance:n.ownBalance,capacity:n.ownCapacity},n);return le(le({},e),{},fe({},t.token,le(le({},e[t.token]),{},fe({},t.partner.address,r))))}),{})};function ve(e,t){var n=e.signer,r=e.address,a=e.main;return a&&!t?a:{signer:n,address:r}}function Oe(e,t){return e.signer===t?e:e.connect(t)}function je(e,t,n,r){return ge.apply(this,arguments)}function ge(){return ge=se(a.a.mark((function e(t,n,r,o){var i,c,s,u,l,f=arguments;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=f.length>4&&void 0!==f[4]?f[4]:{log:d.a},c=i.log,e.prev=1,e.next=4,(u=t.functions)[n].apply(u,te(r));case 4:s=e.sent,e.next=11;break;case 7:throw e.prev=7,e.t0=e["catch"](1),c.error("Error sending ".concat(n," tx"),e.t0),new G["c"](o,{error:e.t0.message});case 11:return c.debug("sent ".concat(n,' tx "').concat(s.hash,'" to "').concat(t.address,'"')),e.prev=12,e.next=15,s.wait();case 15:l=e.sent,Object(H["a"])(l.status,"tx status: ".concat(l.status)),e.next=23;break;case 19:throw e.prev=19,e.t1=e["catch"](12),c.error("Error mining ".concat(n," tx"),e.t1),new G["c"](o,{transactionHash:s.hash});case 23:return c.debug("".concat(n,' tx "').concat(s.hash,'" successfuly mined!')),e.abrupt("return",l);case 25:case"end":return e.stop()}}),e,null,[[1,7],[12,19]])}))),ge.apply(this,arguments)}function we(e,t,n){return _e.apply(this,arguments)}function _e(){return _e=se(a.a.mark((function e(t,n,r){var o,i,c,s,u;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o=n.latest$,i=n.config$,c=n.provider,s=t.blockNumber,u=t.transactionHash,e.abrupt("return",o.pipe(Object(X["g"])("state","blockNumber"),Object(O["a"])(i),Object(m["a"])((function(e){var t=Z(e,2),n=t[0],a=t[1].confirmationBlocks;return s+(null!==r&&void 0!==r?r:a)<=n})),Object(j["a"])((function(e){var t=Z(e,2),n=t[0],a=t[1].confirmationBlocks;return Object(h["a"])((function(){return c.getTransactionReceipt(u)})).pipe(Object(v["a"])((function(e){if(null!==e&&void 0!==e&&e.confirmations&&e.confirmations>=(null!==r&&void 0!==r?r:a))return e.blockNumber;if(s+2*(null!==r&&void 0!==r?r:a)<n)throw new G["c"](G["b"].RDN_TRANSACTION_REORG,{transactionHash:u})})))})),Object(g["a"])(Q["n"])).toPromise());case 4:case"end":return e.stop()}}),e)}))),_e.apply(this,arguments)}function ke(e,t){return Ee.apply(this,arguments)}function Ee(){return Ee=se(a.a.mark((function e(t,n){var r,o,i,c,s,u,l,f,p,d,b;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o=A["h"].connect(n,t),e.next=3,o.msc_address();case 3:return i=e.sent,c=A["c"].connect(i,t),e.next=7,c.token_network_registry();case 7:return s=e.sent,u=A["f"].connect(s,t),e.next=11,u.secret_registry_address();case 11:return l=e.sent,e.next=14,c.service_registry();case 14:return f=e.sent,e.next=17,t.getBlockNumber();case 17:return p=e.sent,e.next=20,Object(Y["b"])(t,le(le({},u.filters.TokenNetworkCreated(null,null)),{},{fromBlock:1,toBlock:p})).pipe(Object(y["a"])("blockNumber"),Object(m["a"])(Q["n"]),Object(w["a"])(1)).toPromise();case 20:return d=e.sent,null!==(r=d)&&void 0!==r||(d=0),e.next=24,o.one_to_n_address();case 24:return b=e.sent,e.abrupt("return",{TokenNetworkRegistry:{address:s,block_number:d},ServiceRegistry:{address:f,block_number:d},UserDeposit:{address:n,block_number:d},SecretRegistry:{address:l,block_number:d},MonitoringService:{address:i,block_number:d},OneToN:{address:b,block_number:d}});case 26:case"end":return e.stop()}}),e)}))),Ee.apply(this,arguments)}function Te(e){return Se.apply(this,arguments)}function Se(){return Se=se(a.a.mark((function e(t){return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",t.pipe(Object(y["a"])("udcDeposit","balance"),Object(g["a"])((function(e){return!!e&&e.lt(i["a"])}))).toPromise());case 1:case"end":return e.stop()}}),e)}))),Se.apply(this,arguments)}function xe(e,t){var n,r,a,o=t.address,i=t.network,c=t.contractsInfo,s=e[0];Object(H["a"])("_meta"===(null===s||void 0===s?void 0:s._id),G["b"].RDN_STATE_MIGRATION),Object(H["a"])(s.address===o,G["b"].RDN_STATE_ADDRESS_MISMATCH),Object(H["a"])(s.registry===c.TokenNetworkRegistry.address,G["b"].RDN_STATE_NETWORK_MISMATCH),Object(H["a"])(s.network===i.chainId,G["b"].RDN_STATE_NETWORK_MISMATCH),Object(H["a"])((null===(n=e.find((function(e){return"state.address"===e._id})))||void 0===n?void 0:n.value)===o,G["b"].RDN_STATE_ADDRESS_MISMATCH),Object(H["a"])((null===(r=e.find((function(e){return"state.chainId"===e._id})))||void 0===r?void 0:r.value)===i.chainId,G["b"].RDN_STATE_NETWORK_MISMATCH),Object(H["a"])((null===(a=e.find((function(e){return"state.registry"===e._id})))||void 0===a?void 0:a.value)===c.TokenNetworkRegistry.address,G["b"].RDN_STATE_NETWORK_MISMATCH)}function Ae(e){return Pe.apply(this,arguments)}function Pe(){return Pe=se(a.a.mark((function e(t){var n,r,o,i,c,s,u,l,f,p,d,b,h=arguments;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.address,r=t.network,o=t.contractsInfo,i=t.log,c=h.length>1&&void 0!==h[1]?h[1]:{},s=["raiden",Object(Y["c"])(r),o.TokenNetworkRegistry.address,n].join("_"),l=c.state,f=c.adapter,p=c.prefix,e.next=7,Object(P["c"])({log:i,adapter:f,prefix:p});case 7:if(d=e.sent,!l){e.next=16;break}return"string"===typeof l&&(l=Object(K["b"])(l)),xe(l,{address:n,network:r,contractsInfo:o}),e.next=13,P["g"].call(d,l,s);case 13:u=e.sent,e.next=19;break;case 16:return e.next=18,P["e"].call(d,s);case 18:u=e.sent;case 19:return e.next=21,Object(P["d"])(u);case 21:if(b=e.sent,b){e.next=28;break}return b=Object(W["c"])({network:r,address:n,contractsInfo:o}),e.next=26,Object(P["f"])(u,b);case 26:e.next=29;break;case 28:b=Object(Q["l"])(W["a"],b);case 29:return e.abrupt("return",{db:u,state:b});case 30:case"end":return e.stop()}}),e)}))),Pe.apply(this,arguments)}function Ne(e,t,n){return Re.apply(this,arguments)}function Re(){return Re=se(a.a.mark((function e(t,n,r){var o,i,c,s;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(o=r.meta,i=r.config,i.pfsMode!==F["f"].disabled){e.next=3;break}return e.abrupt("return");case 3:return c={service:F["h"].PFS,msgId:""},s=!1,e.abrupt("return",Object(q["a"])(B["messageServiceSend"],c,t.pipe(Object(O["a"])(n),Object(_["a"])((function(e){var t,n=Z(e,2),r=n[0],a=n[1];if(T["channelDeposit"].success.is(r)&&r.payload.confirmed)s=!0;else if(s&&!c.msgId&&B["messageServiceSend"].request.is(r)){var i=r.payload.message;"PFSCapacityUpdate"===i.type&&i.canonical_identifier.token_network_address===o.tokenNetwork&&i.canonical_identifier.channel_identifier.eq(null===(t=a.channels[Object(x["d"])(o)])||void 0===t?void 0:t.id)&&(c.msgId=r.meta.msgId)}})),Object(y["a"])(0),Object(k["a"])((function(e){return!(T["channelDeposit"].failure.is(e)&&f()(e.meta,o))})))));case 6:case"end":return e.stop()}}),e)}))),Re.apply(this,arguments)}var De=[S["b"].settleable,S["b"].settling],Ce=[S["b"].closed].concat(De);function Ie(e,t){return e.pipe(Object(g["a"])(),Object(E["a"])((function(n){var r=n.channels,a=r[Object(x["d"])(t)];return Object(H["a"])(a&&Ce.includes(a.state),G["b"].CNL_NO_SETTLEABLE_OR_SETTLING_CHANNEL_FOUND),e.pipe(Object(X["g"])("channels",Object(x["d"])(t)))})),Object(g["a"])((function(e){return De.includes(e.state)})))}},"80bf":function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e["DISCLAIMER"]="disclaimer",e["TRANSFER"]="transfer",e["TRANSFER_STEPS"]="transfer-steps",e["SELECT_TOKEN"]="select-token",e["SELECT_HUB"]="select-hub",e["HOME"]="home",e["CHANNELS"]="channels",e["OPEN_CHANNEL"]="open-channel",e["ACCOUNT_ROOT"]="account-root",e["ACCOUNT_BACKUP"]="account-backup",e["ACCOUNT_RAIDEN"]="account-raiden",e["ACCOUNT_SETTINGS"]="account-settings",e["ACCOUNT_WITHDRAWAL"]="account-withdrawal",e["ACCOUNT_UDC"]="account-udc",e["NOTIFICATIONS"]="notifications"}(r||(r={}))},8120:function(e,t,n){"use strict";n.d(t,"d",(function(){return I})),n.d(t,"e",(function(){return U})),n.d(t,"c",(function(){return M})),n.d(t,"b",(function(){return L})),n.d(t,"f",(function(){return B})),n.d(t,"a",(function(){return F}));var r=n("36d8"),a=n.n(r),o=n("87b8"),i=n("111d"),c=n.n(i),s=n("3912"),u=n("34ba"),l=n("331d"),f=n("daae"),p=n("258b"),d=n("7f4a"),b=n("4a9c"),h=n("1c01"),y=n("231d"),m=n("cefa"),v=n("bd71"),O=n("5778"),j=n("ee6c"),g=n("325b"),w=n("ca14");function _(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function k(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){_(o,r,a,i,c,"next",e)}function c(e){_(o,r,a,i,c,"throw",e)}i(void 0)}))}}function E(e,t){return x(e)||S(e,t)||N(e,t)||T()}function T(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function S(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done);r=!0)if(n.push(i.value),t&&n.length===t)break}catch(s){a=!0,o=s}finally{try{r||null==c["return"]||c["return"]()}finally{if(a)throw o}}return n}}function x(e){if(Array.isArray(e))return e}function A(e){return D(e)||R(e)||N(e)||P()}function P(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function N(e,t){if(e){if("string"===typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?C(e,t):void 0}}function R(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function D(e){if(Array.isArray(e))return C(e)}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function I(e){var t=e.tokenNetwork,n=e.partner,r="string"===typeof n?n:n.address;return"".concat(t,"@").concat(r)}function U(e){return"_id"in e&&e._id?e._id:"".concat(I(e),"#").concat(e.id.toString().padStart(9,"0"))}function M(e){var t=e.own.withdraw,n=e.partner.withdraw,r=e.own.balanceProof.transferredAmount,a=e.partner.balanceProof.transferredAmount,i=e.own.locks.filter((function(e){return e.registered})).reduce((function(e,t){return e.add(t.amount)}),o["f"]),c=e.partner.locks.filter((function(e){return e.registered})).reduce((function(e,t){return e.add(t.amount)}),o["f"]),s=r.add(i),u=a.add(c),l=e.own.balanceProof.lockedAmount.sub(i),f=e.partner.balanceProof.lockedAmount.sub(c),p=u.sub(s),d=s.sub(u),b=w["k"].apply(void 0,[t].concat(A(e.own.pendingWithdraws.filter((function(e){return e.type===O["d"].WITHDRAW_REQUEST})).map((function(e){return e.total_withdraw}))))),h=w["k"].apply(void 0,[n].concat(A(e.partner.pendingWithdraws.filter((function(e){return e.type===O["d"].WITHDRAW_REQUEST})).map((function(e){return e.total_withdraw}))))),y=e.own.deposit.sub(b).sub(l).add(p),m=e.partner.deposit.sub(h).sub(f).add(d),v=e.own.deposit.add(p).sub(l),j=v.sub(t),g=e.partner.deposit.add(d).sub(f),_=g.sub(n),k=e.own.deposit.sub(e.own.withdraw).add(e.partner.deposit).sub(e.partner.withdraw);return{ownDeposit:e.own.deposit,ownWithdraw:t,ownTransferred:r,ownLocked:l,ownBalance:p,ownCapacity:y,ownOnchainUnlocked:i,ownUnlocked:s,partnerDeposit:e.partner.deposit,partnerWithdraw:n,partnerTransferred:a,partnerLocked:f,partnerBalance:d,partnerCapacity:m,partnerOnchainUnlocked:c,partnerUnlocked:u,ownTotalWithdrawable:v,ownWithdrawable:j,partnerTotalWithdrawable:g,partnerWithdrawable:_,totalCapacity:k}}function L(e,t,n){var r=n.log,a=n.provider;return function(n){return n.pipe(Object(f["a"])((function(t){return r.debug("sent ".concat(e,' tx "').concat(t.hash,'" to "').concat(t.to,'"'))})),Object(p["a"])((function(e){return Object(g["i"])((function(){return e.wait()}),a.pollingInterval,{onErrors:j["h"]}).pipe(Object(d["a"])((function(t){return[e,t]})))})),Object(d["a"])((function(n){var a,o,i,c=E(n,2),s=c[0],u=c[1];if(!u.status||!u.transactionHash||!u.blockNumber)throw new j["c"](t,{status:null!==(a=u.status)&&void 0!==a?a:null,transactionHash:null!==(o=u.transactionHash)&&void 0!==o?o:null,blockNumber:null!==(i=u.blockNumber)&&void 0!==i?i:null});return r.debug("".concat(e,' tx "').concat(u.transactionHash,'" successfuly mined!')),[s,u]})))}}function B(e){return e.pipe(Object(b["a"])("channels"),Object(g["d"])(),Object(b["a"])(1),Object(h["a"])(U,void 0,void 0,(function(){return new s["a"](1)})),Object(d["a"])((function(t){var n=t.key.split("#"),r=E(n,2),a=r[0],o=r[1],i=+o;return t.pipe(Object(y["a"])(e.pipe(Object(m["a"])((function(e){var t,n=e.channels;return(null===(t=n[a])||void 0===t?void 0:t.id)!==i})))))})))}function F(e,t,n){var r=E(e,3),i=r[0],s=r[1],f=r[2],d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:j["b"].RDN_APPROVE_TRANSACTION_FAILED,h=arguments.length>4?arguments[4]:void 0,y=h.provider,m=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{log:c.a,minimumAllowance:o["f"]},O=m.log,g=m.minimumAllowance;if(Object(j["d"])(i.gte(f),[j["b"].RDN_INSUFFICIENT_BALANCE,{current:i.toString(),required:f.toString()}]),s.gte(f))return Object(u["a"])(!0);var _=Object(u["a"])(!0);return s.isZero()||(_=Object(l["a"])(k(a.a.mark((function e(){return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",t.approve(n,0));case 1:case"end":return e.stop()}}),e)})))).pipe(L("approve",d,{log:O,provider:y}),Object(v["a"])(!0))),_.pipe(Object(p["a"])(k(a.a.mark((function e(){return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",t.approve(n,Object(w["k"])(g,f)));case 1:case"end":return e.stop()}}),e)})))),L("approve",d,{log:O,provider:y}),Object(b["a"])(1))}},8173:function(e,t,n){"use strict";n.r(t),n.d(t,"messageSend",(function(){return s})),n.d(t,"messageServiceSend",(function(){return u})),n.d(t,"messageReceived",(function(){return l}));var r=n("2111"),a=n("d011"),o=n("d276"),i=n("ca14"),c=n("5778"),s=Object(o["c"])(r["v"]({address:i["a"],msgId:r["s"]}),"message/send/request","message/send/success","message/send/failure",r["j"]([r["v"]({message:r["x"]([r["s"],Object(i["h"])(c["c"])])}),r["o"]({msgtype:r["s"]})]),r["x"]([r["w"],r["v"]({via:r["s"],tookMs:r["n"],retries:r["n"]})])),u=Object(o["c"])(r["v"]({service:a["i"],msgId:r["s"]}),"message/service/send/request","message/service/send/success","message/service/send/failure",r["v"]({message:Object(i["h"])(c["c"])}),r["x"]([r["w"],r["v"]({via:r["y"],tookMs:r["n"],retries:r["n"]})])),l=Object(o["b"])("message/received",r["j"]([r["v"]({text:r["s"],ts:r["n"]}),r["o"]({message:r["x"]([c["c"],Object(i["h"])(c["c"])]),userId:r["s"],msgtype:r["s"]})]),r["v"]({address:i["a"]}))},"83ee":function(e,t,n){"use strict";n.r(t),n.d(t,"transfer",(function(){return f})),n.d(t,"transferSigned",(function(){return p})),n.d(t,"transferProcessed",(function(){return d})),n.d(t,"transferSecret",(function(){return b})),n.d(t,"transferSecretRegister",(function(){return h})),n.d(t,"transferSecretRequest",(function(){return y})),n.d(t,"transferSecretReveal",(function(){return m})),n.d(t,"transferUnlock",(function(){return v})),n.d(t,"transferUnlockProcessed",(function(){return O})),n.d(t,"transferExpire",(function(){return j})),n.d(t,"transferExpireProcessed",(function(){return g})),n.d(t,"transferClear",(function(){return w})),n.d(t,"transferLoad",(function(){return _})),n.d(t,"withdraw",(function(){return E})),n.d(t,"withdrawMessage",(function(){return T})),n.d(t,"withdrawExpire",(function(){return S})),n.d(t,"withdrawCompleted",(function(){return x}));var r=n("2111"),a=n("9201"),o=n("5778"),i=n("d011"),c=n("d276"),s=n("ca14"),u=n("1a78"),l=r["v"]({secrethash:s["c"],direction:u["b"]}),f=Object(c["c"])(l,"transfer/request","transfer/success","transfer/failure",r["j"]([r["v"]({tokenNetwork:s["a"],target:s["a"],value:Object(s["j"])(32),paths:i["e"],paymentId:Object(s["j"])(8)}),r["o"]({secret:s["f"],expiration:r["n"],initiator:s["a"]})]),r["o"]({balanceProof:Object(s["h"])(a["a"])})),p=Object(c["b"])("transfer/signed",r["v"]({message:Object(s["h"])(o["b"]),fee:Object(s["d"])(32),partner:s["a"]}),l),d=Object(c["b"])("transfer/processed",r["v"]({message:Object(s["h"])(o["e"])}),l),b=Object(c["b"])("transfer/secret",r["v"]({secret:s["f"]}),l),h=Object(c["c"])(l,"transfer/secret/register/request","transfer/secret/register/success","transfer/secret/register/failure",r["j"]([r["v"]({secret:s["f"]}),r["o"]({subkey:r["e"]})]),r["v"]({secret:s["f"],txHash:s["c"],txBlock:r["n"],confirmed:r["x"]([r["w"],r["e"]])})),y=Object(c["b"])("transfer/secret/request",r["v"]({message:Object(s["h"])(o["f"])}),l),m=Object(c["b"])("transfer/secret/reveal",r["v"]({message:Object(s["h"])(o["g"])}),l),v=Object(c["c"])(l,"transfer/unlock/request","transfer/unlock/success","transfer/unlock/failure",void 0,r["v"]({message:Object(s["h"])(o["h"]),partner:s["a"]})),O=Object(c["b"])("transfer/unlock/processed",r["v"]({message:Object(s["h"])(o["e"])}),l),j=Object(c["c"])(l,"transfer/expire/request","transfer/expire/success","transfer/expire/failure",void 0,r["v"]({message:Object(s["h"])(o["a"]),partner:s["a"]})),g=Object(c["b"])("transfer/expire/processed",r["v"]({message:Object(s["h"])(o["e"])}),l),w=Object(c["b"])("transfer/clear",r["w"],l),_=Object(c["b"])("transfer/load",u["d"],l),k=r["v"]({direction:u["b"],tokenNetwork:s["a"],partner:s["a"],totalWithdraw:Object(s["j"])(32),expiration:r["n"]}),E=Object(c["c"])(k,"withdraw/request","withdraw/success","withdraw/failure",r["w"],r["v"]({txHash:s["c"],txBlock:r["n"],confirmed:r["x"]([r["w"],r["e"]])})),T=Object(c["c"])(k,"withdraw/message/request","withdraw/message/success","withdraw/message/failure",r["v"]({message:Object(s["h"])(o["k"])}),r["v"]({message:Object(s["h"])(o["i"])})),S=Object(c["c"])(k,"withdraw/expire/request","withdraw/expire/success","withdraw/expire/failure",r["w"],r["v"]({message:Object(s["h"])(o["j"])})),x=Object(c["b"])("withdraw/completed",r["w"],k)},"87a2":function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return r}));var r,a=function(){return{label:"",title:"",description:""}},o=function(){return{name:"",symbol:"",address:"",opening:0,open:0,closing:0,closed:0,settling:0,settled:0}},i={name:"",chainId:-1};(function(e){e[e["UNDEFINED"]=0]="UNDEFINED",e[e["NO_ACCOUNT"]=1]="NO_ACCOUNT",e[e["UNSUPPORTED_NETWORK"]=2]="UNSUPPORTED_NETWORK",e[e["INITIALIZATION_FAILED"]=3]="INITIALIZATION_FAILED",e[e["RDN_STATE_MIGRATION"]=4]="RDN_STATE_MIGRATION"})(r||(r={}))},"886f":function(e,t,n){},"8aa9":function(e,t,n){"use strict";n.d(t,"b",(function(){return I})),n.d(t,"a",(function(){return B}));var r=n("36d8"),a=n.n(r),o=n("489c"),i=n("111d"),c=n.n(i);function s(e){return f(e)||l(e)||m(e)||u()}function u(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function f(e){if(Array.isArray(e))return v(e)}function p(e,t){return h(e)||b(e,t)||m(e,t)||d()}function d(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function b(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done);r=!0)if(n.push(i.value),t&&n.length===t)break}catch(s){a=!0,o=s}finally{try{r||null==c["return"]||c["return"]()}finally{if(a)throw o}}return n}}function h(e){if(Array.isArray(e))return e}function y(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=m(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function m(e,t){if(e){if("string"===typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(e,t):void 0}}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function O(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function j(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){O(o,r,a,i,c,"next",e)}function c(e){O(o,r,a,i,c,"throw",e)}i(void 0)}))}}function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var k,E="logs",T=void 0;function S(e){var t=e.toString();return e.stack?e.stack.startsWith(t)?e.stack:"".concat(t,"\n").concat(e.stack):t}function x(e){var t,n,r,a;if("%c prev state"!==e[0]&&(null===(t=e[0])||void 0===t||null===(n=t.startsWith)||void 0===n||!n.call(t,"action %c"))&&"â€”â€” log end â€”â€”"!==e[0]){var o=null===(r=e[2])||void 0===r||null===(a=r.payload)||void 0===a?void 0:a.blockNumber;if(!o)return e=e.map((function(e){return e instanceof Error?S(e):(null===e||void 0===e?void 0:e.payload)instanceof Error?w(w({},e),{},{payload:S(e.payload)}):e})),"string"===typeof e[1]&&e[1].startsWith("color:")&&e.splice(1,1),e;T=o}}function A(e){if("string"===typeof e)return e;try{return JSON.stringify(e)}catch(t){try{return e.toString()}catch(t){return"<unserializable>"}}}function P(e){return N.apply(this,arguments)}function N(){return N=j(a.a.mark((function e(t){var n;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if((null===(n=k)||void 0===n?void 0:n.name)!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Object(o["a"])(t,1,{upgrade:function(e){var t=e.createObjectStore(E);t.createIndex("by-logger","logger"),t.createIndex("by-level","level")}});case 4:k=e.sent;case 5:case"end":return e.stop()}}),e)}))),N.apply(this,arguments)}var R=/^raiden:(0x[0-9a-f]{40})$/i;function D(e){return C.apply(this,arguments)}function C(){return C=j(a.a.mark((function e(t){return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(R.test(t)){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,P(t);case 4:case"end":return e.stop()}}),e)}))),C.apply(this,arguments)}function I(){return U.apply(this,arguments)}function U(){return U=j(a.a.mark((function e(){var t,n,r,o,i=arguments;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=i.length>0&&void 0!==i[0]?i[0]:["matrix"],"undefined"===typeof k){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,P("raiden");case 5:for(n=function(){var e=o[r],t=e.methodFactory;e.methodFactory=function(e,n,r){var a=t(e,n,r),o=r.toString();return D(o),function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];a.apply(void 0,n);var i=x(n);i&&k.put(E,w({logger:o,level:e,message:i},T?{block:T}:{}),Date.now()).catch((function(){return k.put(E,w({logger:o,level:e,message:n.map(A)},T?{block:T}:{}),Date.now())}))}}},r=0,o=[c.a].concat(s(t.map(c.a.getLogger)));r<o.length;r++)n();case 7:case"end":return e.stop()}}),e)}))),U.apply(this,arguments)}var M=[[/(\\?["']?access_?token\\?["']?\s*[=:]\s*\\?["']?)[\w-]+(\\?["']?)/gi,"$1<redacted>$2"],[/(\\?["']?secret\\?["']?\s*[=:]\s*)\[[^\]]+\]/gi,'$1["<redacted>"]'],[/(\\?["']?secret\\?["']?\s*[=:]\s*\\?["']?)\w+(\\?["']?)/gi,"$1<redacted>$2"]];function L(e){var t,n=y(M);try{for(n.s();!(t=n.n()).done;){var r=p(t.value,2),a=r[0],o=r[1];e=e.replace(a,o)}}catch(i){n.e(i)}finally{n.f()}return e}function B(){return F.apply(this,arguments)}function F(){return F=j(a.a.mark((function e(){var t,n,r,o,i,c,s,u,l,f,p,d,b;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t="",e.next=3,k.transaction(E).store.openCursor();case 3:n=e.sent,r=Date.now(),o=!0;case 6:if(!n){e.next=20;break}return i=n.value,c=i.logger,s=i.level,u=i.message,l=i.block,f=u.map((function(e){return"string"===typeof e?e:JSON.stringify(e)})).join(" "),r=+n.key,p=new Date(n.key).toISOString(),d=l?" #".concat(l):"",b=void 0,c!==k.name||o?(b=" @ ".concat(c),o=!1):b="",t+="".concat(p).concat(d).concat(b," [").concat(s,"] \t=> ").concat(f,"\n"),e.next=17,n.continue();case 17:n=e.sent,e.next=6;break;case 20:return t=L(t),e.abrupt("return",[r,t]);case 22:case"end":return e.stop()}}),e)}))),F.apply(this,arguments)}},"8e14":function(e,t,n){"use strict";n("e21f")},"8f83":function(e,t,n){e.exports=n.p+"img/info.1557b307.svg"},"915f":function(e,t,n){},9201:function(e,t,n){"use strict";n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return l})),n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return d}));var r=n("87b8"),a=n("30c0"),o=n("905c9"),i=n("2111"),c=n("2b5b"),s=n("ca14"),u=i["s"],l=(i["s"],i["j"]([i["v"]({amount:Object(s["j"])(32),expiration:Object(s["j"])(32),secrethash:s["c"]}),i["o"]({registered:i["l"](!0)})],"Lock")),f=i["p"](i["v"]({chainId:Object(s["j"])(32),tokenNetworkAddress:s["a"],channelId:Object(s["j"])(32),nonce:Object(s["j"])(8),transferredAmount:Object(s["j"])(32),lockedAmount:Object(s["j"])(32),locksroot:s["c"],additionalHash:s["c"]})),p=f,d={chainId:r["f"],tokenNetworkAddress:a["a"],channelId:r["f"],nonce:r["f"],transferredAmount:r["f"],lockedAmount:r["f"],locksroot:c["d"],additionalHash:o["a"],signature:c["g"]}},9433:function(e,t,n){"use strict";n("ed43")},9662:function(e,t,n){e.exports=n.p+"img/open_channel_info.7e9ea0d5.svg"},"9a49":function(e,t,n){"use strict";function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function c(e,t,n){return c="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=s(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(n):a.value}},c(e,t,n||e)}function s(e,t){while(!Object.prototype.hasOwnProperty.call(e,t))if(e=v(e),null===e)break;return e}function u(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}function l(e){var t=h();return function(){var n,r=v(e);if(t){var a=v(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return f(this,n)}}function f(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){var t="function"===typeof Map?new Map:void 0;return d=function(e){if(null===e||!y(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return b(e,arguments,v(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),m(n,e)},d(e)}function b(e,t,n){return b=h()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var a=Function.bind.apply(e,r),o=new a;return n&&m(o,n.prototype),o},b.apply(null,arguments)}function h(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function y(e){return-1!==Function.toString.call(e).indexOf("[native code]")}function m(e,t){return m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},m(e,t)}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}n.d(t,"a",(function(){return O}));var O=function(e){u(n,e);var t=l(n);function n(e){var r;return a(this,n),r=t.call(this),r.max=e,r}return i(n,[{key:"get",value:function(e){var t;return this.has(e)&&(t=c(v(n.prototype),"get",this).call(this,e),this.delete(e),c(v(n.prototype),"set",this).call(this,e,t)),t}},{key:"set",value:function(e,t){this.get(e),c(v(n.prototype),"set",this).call(this,e,t);while(this.size>this.max){var r=this.keys().next().value;this.delete(r)}return this}}]),n}(d(Map))},"9b19":function(e,t,n){e.exports=n.p+"img/logo.5c4b022d.svg"},a0df:function(e){e.exports=JSON.parse('{"contracts_version":null,"chain_id":3,"contracts":{"SecretRegistry":{"address":"0xC6CD0b14519DACA6c8784c1c35619Bda5F90f490","transaction_hash":"0xa344e1897011a18229421d25bb69968fad7c3e78da39c7d975d502d7efc183db","block_number":7931782,"gas_cost":247286,"constructor_arguments":[]},"TokenNetworkRegistry":{"address":"0xAe40f2c0a6c72498F330a1e4CCF1527D9F028443","transaction_hash":"0x111e0bacec7f113f78463923046d545516bb35bdccb813e9dcc03ca707cdbf1e","block_number":7931794,"gas_cost":4001594,"constructor_arguments":["0xC6CD0b14519DACA6c8784c1c35619Bda5F90f490",3,20,555428,1.157920892373162e+77]}},"token_networks":[{"token_network_address":"0x2FA965fE214570bab9D676B5DE7EAffd5b82fcAe","constructor_arguments":{"_token_address":"0x342d1D825B1c8790522E0B8999DB876ddEE82052","_secret_registry":"0xC6CD0b14519DACA6c8784c1c35619Bda5F90f490","_chain_id":3,"_settlement_timeout_min":20,"_settlement_timeout_max":555428,"_deprecation_executor":"0x062C12c01D0f17fC9eAa33940D994594d91a0182","_channel_participant_deposit_limit":1.157920892373162e+77,"_token_network_deposit_limit":1.157920892373162e+77}}]}')},a32b:function(e){e.exports=JSON.parse('{"PFS_EMPTY_URL":"A registered Pathfinding Service returned an empty service URL.","PFS_INVALID_URL":"A registered Pathfinding Service returned an invalid service URL.","PFS_INVALID_INFO":"Could not find any valid Pathfinding service. Client and PFS versions are possibly out-of-sync.","PFS_TOO_EXPENSIVE":"Pathfinding Service price higher than pfsMaxFee.","PFS_NO_ROUTES_FOUND":"No valid routes found.","PFS_ERROR_RESPONSE":"Pathfinding Service request returned an error","PFS_DISABLED":"Pathfinding Service is disabled and no direct route is available.","PFS_UNKNOWN_TOKEN_NETWORK":"No open channels on this token network.","PFS_TARGET_OFFLINE":"The requested target is offline.","PFS_TARGET_NO_RECEIVE":"The requested target doesn\'t receive transfers.","PFS_LAST_IOU_REQUEST_FAILED":"The request for the last IOU has failed.","PFS_IOU_SIGNATURE_MISMATCH":"The signature of the last IOU did not match.","PFS_NO_ROUTES_BETWEEN_NODES":"No route between nodes found.","CNL_INVALID_STATE":"Invalid channel state.","CNL_NO_OPEN_CHANNEL_FOUND":"No open channel has been found.","CNL_NO_OPEN_OR_CLOSING_CHANNEL_FOUND":"No open or closing channel has been found.","CNL_NO_SETTLEABLE_OR_SETTLING_CHANNEL_FOUND":"No settleable or settling channel has been found.","CNL_APPROVE_TRANSACTION_FAILED":"Token approve transaction reverted.","CNL_OPENCHANNEL_FAILED":"TokenNetwork.openChannel transaction reverted.","CNL_SETTOTALDEPOSIT_FAILED":"TokenNetwork.setTotalDeposit transaction reverted.","CNL_CLOSECHANNEL_FAILED":"TokenNetwork.closeChannel transaction reverted.","CNL_SETTLE_INVALID_BALANCEHASH":"Could not find BalanceProof matching on-chain closing data. This client may have had its state cleared and can\'t settle.","CNL_SETTLE_FAILED":"TokenNetwork.settleChannel transaction reverted.","CNL_SETTLE_AUTO_ENABLED":"Interactive channel settlement disabled when config.autoSettle is enabled; request will be made automatically","CNL_UPDATE_NONCLOSING_BP_FAILED":"updateNonClosingBalanceProof transaction reverted.","CNL_ONCHAIN_UNLOCK_FAILED":"on-chain unlock transaction reverted.","CNL_WITHDRAW_TRANSACTION_FAILED":"Withdraw transaction has failed.","CNL_WITHDRAW_PARTNER_OFFLINE":"Channel partner isn\'t online.","CNL_WITHDRAW_EXPIRES_SOON":"Withdraw request expired or expires too soon.","CNL_WITHDRAW_EXPIRED":"Withdraw request expired.","CNL_WITHDRAW_AMOUNT_TOO_LOW":"Withdraw request contains an amount smaller than already withdrawn.","CNL_WITHDRAW_AMOUNT_TOO_HIGH":"Withdraw request contains an amount bigger than channel\'s liquidity.","XFER_EXPIRED":"Transfer expired.","XFER_CHANNEL_CLOSED_PREMATURELY":"Channel was closed before secret got reveiled or transfer unlocked.","XFER_REFUNDED":"Transfer has been refunded.","XFER_INVALID_SECRETREQUEST":"Invalid SecretRequest received","XFER_ALREADY_COMPLETED":"Not waiting for transfer, it\'s already completed.","XFER_REGISTERSECRET_TX_FAILED":"SecretRegistry.registerSecret transaction reverted","TRNS_NO_MATRIX_SERVERS":"Could not contact any Matrix servers.","TRNS_NO_VALID_USER":"Could not find a user with a valid signature.","TRNS_NO_SERVERNAME":"Could not get server name from Matrix server.","TRNS_MESSAGE_SIGNATURE_MISMATCH":"Unable to decode message due to signature mismatch.","RDN_GENERAL_ERROR":"An unknown error occured.","RDN_ASSERT_ERROR":"An unknown assertion failed.","RDN_MINT_FAILED":"Failed to mint tokens.","RDN_MINT_MAINNET":"Minting is only allowed on test networks.","RDN_APPROVE_TRANSACTION_FAILED":"Approve transaction has failed.","RDN_DEPOSIT_TRANSACTION_FAILED":"Deposit transaction has failed.","RDN_TRANSFER_ONCHAIN_BALANCE_FAILED":"Failed to transfer on-chain balance.","RDN_TRANSFER_ONCHAIN_TOKENS_FAILED":"Failed to transfer on-chain tokens.","RDN_UNRECOGNIZED_NETWORK":"No deploy info provided nor recognized network.","RDN_SIGNER_NOT_CONNECTED":"The signing account is not connected to the provider.","RDN_ACCOUNT_NOT_FOUND":"Account not found in provider.","RDN_STRING_ACCOUNT_INVALID":"String account must be either a 0x-encoded address or private key.","RDN_TRANSACTION_REORG":"Transaction has been mined but got removed by a reorg.","RDN_STATE_MIGRATION":"Could not replace stored state with older, provided state.","RDN_SUBKEY_NOT_SET":"Can\'t send tx from subkey if not set.","RDN_INSUFFICIENT_BALANCE":"Insufficient balance.","RDN_INSUFFICIENT_ALLOWANCE":"Requested allowance smaller than deposit.","RDN_NOT_A_TOKEN":"Not a token contract.","RDN_STATE_ADDRESS_MISMATCH":"Mismatch between provided account and loaded state.","RDN_STATE_NETWORK_MISMATCH":"Mismatch between network or registry address and loaded state","RDN_ALREADY_STARTED":"Already started or stopped!","RDN_UNKNOWN_TOKEN_NETWORK":"Unknown Tokennetwork","RDN_INVALID_SECRET":"Invalid provided secret.","RDN_INVALID_SECRETHASH":"Invalid provided secrethash.","RDN_SECRET_SECRETHASH_MISMATCH":"Provided secrethash must match the sha256 hash of provided secret.","RDN_UNKNOWN_TRANSFER":"Unknown transfer.","RDN_DATABASE_DELETED":"Database deleted!","DTA_NEGATIVE_NUMBER":"Encountered negative number while encoding to HEX string.","DTA_NUMBER_TOO_LARGE":"Encountered a number that is too large to be encoded.","DTA_ARRAY_LENGTH_DIFFERENCE":"Expected length of HEX string differs from integer array input.","DTA_UNENCODABLE_DATA":"Passed data is not a HEX string nor integer array.","DTA_NON_POSITIVE_NUMBER":"Number must be positive.","DTA_INVALID_ADDRESS":"Invalid address parameter.","DTA_INVALID_DEPOSIT":"Invalid deposit parameter.","DTA_INVALID_TIMEOUT":"Invalid timeout parameter.","DTA_INVALID_AMOUNT":"Invalid amount parameter.","DTA_INVALID_PAYMENT_ID":"Invalid payment identifier parameter.","DTA_INVALID_PATH":"Invalid path parameter.","DTA_INVALID_PFS":"Invalid path finding service parameter.","UDC_DEPOSIT_OUTDATED":"The UDC contains a target balance different than requested deposit","UDC_PLAN_WITHDRAW_FAILED":"An error occurred while planning to withdraw from the User Deposit contract.","UDC_PLAN_WITHDRAW_GT_ZERO":"The planned withdraw amount has to be greater than zero.","UDC_PLAN_WITHDRAW_EXCEEDS_AVAILABLE":"The planned withdraw amount exceeds the total amount available for withdrawing.","UDC_WITHDRAW_NO_BALANCE":"There is no balances left to withdraw from UDC.","UDC_WITHDRAW_FAILED":"An error occurred while withdrawing from the UDC.","UDC_WITHDRAW_AUTO_ENABLED":"Interactive UDC withdraw disabled when config.autoUDCWithdraw is enabled; request will be made automatically","UDC_WITHDRAW_NO_PLAN":"No plan currently registered; you must call Raiden.planUDCWithdraw first","UDC_WITHDRAW_TOO_LARGE":"Your current plan is not enough to withdraw the requested amount"}')},a349:function(e,t,n){"use strict";n.d(t,"a",(function(){return T}));var r=n("c00b"),a=n("87b8"),o=n("30c0"),i=n("d9a3"),c=n.n(i),s=n("2111"),u=n("ca14");function l(e,t){return d(e)||p(e,t)||O(e,t)||f()}function f(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function p(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done);r=!0)if(n.push(i.value),t&&n.length===t)break}catch(s){a=!0,o=s}finally{try{r||null==c["return"]||c["return"]()}finally{if(a)throw o}}return n}}function d(e){if(Array.isArray(e))return e}function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e){return g(e)||j(e)||O(e)||v()}function v(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function O(e,t){if(e){if("string"===typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?w(e,t):void 0}}function j(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function g(e){if(Array.isArray(e))return w(e)}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var _={name:"flat",emptySchedule:{flat:a["f"]},decodeConfig:function(e,t){return Object(u["l"])(Object(u["d"])(32),null!==e&&void 0!==e?e:t).div(2)},fee:function(e){return function(){return e.mul(2)}},schedule:function(e){return{flat:e}}},k={name:"proportional",emptySchedule:{proportional:a["f"]},decodeConfig:function(e,t){var n=new c.a(r["a"].from(null!==e&&void 0!==e?e:t).toHexString()).div(1e6),a=n.div(n.plus(2)).times(1e6);return Object(u["l"])(Object(u["d"])(32),a.toFixed(0,c.a.ROUND_HALF_EVEN))},fee:function(e){return function(t){var n=new c.a(e.toHexString()).div(1e6),r=new c.a(1),a=new c.a(t.toHexString()),o=a.times(r.minus(n).div(r.plus(n))),i=a.minus(o);return Object(u["l"])(Object(u["d"])(32),i.toFixed(0,c.a.ROUND_HALF_EVEN))}},schedule:function(e){return{proportional:e}}};function E(e){var t=Object.assign.apply(Object,[{}].concat(m(Object.values(e).map((function(e){return e.emptySchedule}))))),n=s["x"]([s["w"],s["r"](s["s"],s["r"](s["s"],s["y"]))]),r={name:"standard",emptySchedule:t,decodeConfig:function(t,r){for(var a=h(h({},Object(u["l"])(n,t)),Object(u["l"])(n,r)),o=0,i=Object.entries(a);o<i.length;o++){for(var c=l(i[o],2),s=c[0],f=c[1],p=Object(u["l"])(u["a"],s),d={},b=0,y=Object.entries(e);b<y.length;b++){var m=l(y[b],2),v=m[0],O=m[1],j=v;j in f&&(d[j]=O.decodeConfig(f[v]))}a[p]=d}return a},fee:function(t,n,r){var i,c=n.token,s=null!==(i=t[c])&&void 0!==i?i:t[o["a"]];return function(t){return Object.entries(e).reduce((function(e,a){var o=l(a,2),i=o[0],c=o[1],u=i,f=null===s||void 0===s?void 0:s[u];return f?e.add(c.fee(f,n,r)(t)):e}),a["f"])}},schedule:function(t,n){var r,a=n.token,i=null!==(r=t[a])&&void 0!==r?r:t[o["a"]];return Object.assign.apply(Object,[{}].concat(m(Object.entries(e).map((function(e){var t=l(e,2),r=t[0],a=t[1],o=r,c=null===i||void 0===i?void 0:i[o];return c?a.schedule(c,n):{}})))))}};return r}var T=E({flat:_,proportional:k})},a3d5:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("fbcd");function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}var c=function(){function e(){a(this,e)}return i(e,null,[{key:"toEth",value:function(e){return r["b"].formatEther(e)}},{key:"toUnits",value:function(e,t){var n=r["b"].formatUnits(e,t);return 0===t?n.split(".")[0]:n}},{key:"decimalsOverflow",value:function(e,t){var n;return n=e.indexOf(".")>0?e.split(".")[1]:"",n.length>t}},{key:"parse",value:function(e,t){return r["b"].parseUnits(e.endsWith(".")?e.substring(0,e.length-1):e,t)}}]),e}()},a89e:function(e,t,n){},b4cc:function(e){e.exports=JSON.parse('{"contracts_version":null,"chain_id":3,"contracts":{"ServiceRegistry":{"address":"0x3b47ae7d1B6B73341c7C9238669500DC3EE322c8","transaction_hash":"0x4d02a48e464d2b9d1e15f86e20b9bee240bac2919c0e6671ae3027106f2943b2","block_number":7931820,"gas_cost":1999628,"constructor_arguments":["0x78BaE89c310B2bc53981176a0bc95F6caf1C86d1","0x062C12c01D0f17fC9eAa33940D994594d91a0182",2e+21,6,5,17280000,1000,15552000]},"UserDeposit":{"address":"0x70e27B28Ce6BF060889D6606169B88519edf83E2","transaction_hash":"0x4d6606b19fed986698af1784c2aa37654d94dd32f273a9efc985286092ab02eb","block_number":7931832,"gas_cost":1530470,"constructor_arguments":["0x78BaE89c310B2bc53981176a0bc95F6caf1C86d1",1.157920892373162e+77]},"MonitoringService":{"address":"0xBf86C5d8cC05Ff64419d3cDe505509397869ef06","transaction_hash":"0xde25f2d4a4a7f594c139512a246c9ba006a5f0ce9cd801c3f3d8f6e625411584","block_number":7931856,"gas_cost":1949889,"constructor_arguments":["0x78BaE89c310B2bc53981176a0bc95F6caf1C86d1","0x3b47ae7d1B6B73341c7C9238669500DC3EE322c8","0x70e27B28Ce6BF060889D6606169B88519edf83E2","0xAe40f2c0a6c72498F330a1e4CCF1527D9F028443"]},"OneToN":{"address":"0xCC911b7292157A41170C103E6fE2fE10A3B504F5","transaction_hash":"0xafcf5f55b6bb9845f7ed95079c952fbd13e867e30277cc0455901072e38536b9","block_number":7931882,"gas_cost":1097785,"constructor_arguments":["0x70e27B28Ce6BF060889D6606169B88519edf83E2",3,"0x3b47ae7d1B6B73341c7C9238669500DC3EE322c8"]}}}')},b592:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"header-content"},[r("div",{staticClass:"header-content__back-button"},[e.canNavigateBack?r("v-btn",{attrs:{"data-cy":"header-content_back-button",height:"40px",width:"40px",icon:""},on:{click:function(t){return e.navigateBack()}}},[r("v-img",{attrs:{src:n("0dd2")}})],1):e._e()],1),r("div",{staticClass:"header-content__title"},[r("div",{staticClass:"header-content__title__route"},[r("span",{staticClass:"header-content__title__route__name"},[e._v(e._s(e.$route.meta.title))]),e.availableInfoOverlay&&!e.disableInfoButton?r("v-btn",{staticClass:"header-content__title__route__info",attrs:{icon:"",height:"20px",width:"20px"}},[r("v-img",{staticClass:"header-content__title__route__info__icon",attrs:{src:n("8f83")},on:{click:function(t){return e.showInfo()}}})],1):e._e()],1),e.showNetwork?r("span",{staticClass:"header-content__title__network"},[e._v(e._s(e.network))]):e._e()]),r("div",{staticClass:"header-content__items"},[e._t("default")],2)])},a=[],o=n("9ab4"),i=n("5cf9"),c=n("94ea");function s(e){return s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t,n){return t&&d(e.prototype,t),n&&d(e,n),e}function h(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}function y(e,t){return y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},y(e,t)}function m(e){var t=j();return function(){var n,r=g(e);if(t){var a=g(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return v(this,n)}}function v(e,t){return!t||"object"!==s(t)&&"function"!==typeof t?O(e):t}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}var w=function(e){h(n,e);var t=m(n);function n(){return p(this,n),t.apply(this,arguments)}return b(n,[{key:"showInfo",value:function(){}},{key:"navigateBack",value:function(){}},{key:"availableInfoOverlay",get:function(){return!!this.$route.meta.infoOverlay}},{key:"canNavigateBack",get:function(){return!this.disableBackButton&&!this.$route.meta.cannotNavigateBack}}]),n}(i["f"]);Object(o["a"])([Object(i["d"])({type:Boolean,default:!1})],w.prototype,"disableBackButton",void 0),Object(o["a"])([Object(i["d"])({type:Boolean,default:!1})],w.prototype,"showNetwork",void 0),Object(o["a"])([Object(i["d"])({type:Boolean,default:!1})],w.prototype,"disableInfoButton",void 0),Object(o["a"])([Object(i["b"])()],w.prototype,"showInfo",null),Object(o["a"])([Object(i["b"])()],w.prototype,"navigateBack",null),w=Object(o["a"])([Object(i["a"])({computed:l({},Object(c["c"])(["network","isConnected"]))})],w);var _=w,k=_,E=(n("5af0"),n("a6c2")),T=n("411c"),S=n.n(T),x=n("9c46"),A=n("1331"),P=Object(E["a"])(k,r,a,!1,null,"5f2e6654",null);t["a"]=P.exports;S()(P,{VBtn:x["a"],VImg:A["a"]})},b8ff:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return l}));var r,a=n("2111"),o=n("0ba5"),i=n("ca14"),c=n("9201");(function(e){e["open"]="open",e["closing"]="closing",e["closed"]="closed",e["settleable"]="settleable",e["settling"]="settling",e["settled"]="settled"})(r||(r={}));var s=a["p"](a["v"]({address:i["a"],deposit:Object(i["j"])(32),withdraw:Object(i["j"])(32),locks:a["q"](c["d"]),balanceProof:Object(i["h"])(c["a"]),pendingWithdraws:a["q"](a["x"]([Object(i["h"])(o["e"]),Object(i["h"])(o["c"]),Object(i["h"])(o["d"])])),nextNonce:Object(i["j"])(8)}),"ChannelEnd"),u=s,l=a["j"]([a["p"](a["v"]({_id:a["s"],id:a["n"],token:i["a"],tokenNetwork:i["a"],settleTimeout:a["n"],isFirstParticipant:a["e"],openBlock:a["n"],own:u,partner:u}),"Channel"),a["x"]([a["p"](a["v"]({state:a["x"]([a["l"](r.open),a["l"](r.closing)])}),"state[open|closing]"),a["j"]([a["p"](a["v"]({closeBlock:a["n"],closeParticipant:i["a"]}),"ChannelClosed"),a["x"]([a["p"](a["v"]({state:a["x"]([a["l"](r.closed),a["l"](r.settleable),a["l"](r.settling)])}),"state[closed|settleable|settling]"),a["p"](a["v"]({state:a["l"](r.settled),settleBlock:a["n"]}),"state[settled]")])])])])},bcbb:function(e,t,n){"use strict";n("d05d")},bf6c:function(e){e.exports=JSON.parse('{"sdk":"0.16.0","contracts":"0.37.1"}')},c380:function(e,t,n){},c50f:function(e,t,n){"use strict";n("0f05")},c998:function(e){e.exports=JSON.parse('{"contracts_version":null,"chain_id":5,"contracts":{"SecretRegistry":{"address":"0x9fC80eb1939d8147aB90BAC01AD585f3a71BeE7e","transaction_hash":"0x74e45a70fbfe991b9dcee98b248a8165c5cb1cbfe0a8e8b5cca07219e958bce9","block_number":2723613,"gas_cost":247286,"constructor_arguments":[]},"TokenNetworkRegistry":{"address":"0x5a5CF4A63022F61F1506D1A2398490c2e8dfbb98","transaction_hash":"0x229a818e87c41e5ca1818e7f102d02edb22018475706846071b2f0e7dc59eca6","block_number":2723614,"gas_cost":4001594,"constructor_arguments":["0x9fC80eb1939d8147aB90BAC01AD585f3a71BeE7e",5,20,555428,1.157920892373162e+77]}},"token_networks":[{"token_network_address":"0x812650FB6Acdf9dD47E631cBB5518B32FFD4D129","constructor_arguments":{"_token_address":"0xC563388e2e2fdD422166eD5E76971D11eD37A466","_secret_registry":"0x9fC80eb1939d8147aB90BAC01AD585f3a71BeE7e","_chain_id":5,"_settlement_timeout_min":20,"_settlement_timeout_max":555428,"_deprecation_executor":"0x062C12c01D0f17fC9eAa33940D994594d91a0182","_channel_participant_deposit_limit":1.157920892373162e+77,"_token_network_deposit_limit":1.157920892373162e+77}}]}')},ca14:function(e,t,n){"use strict";n.d(t,"l",(function(){return O})),n.d(t,"n",(function(){return j})),n.d(t,"b",(function(){return g})),n.d(t,"d",(function(){return _})),n.d(t,"j",(function(){return k})),n.d(t,"g",(function(){return E})),n.d(t,"c",(function(){return T})),n.d(t,"f",(function(){return S})),n.d(t,"e",(function(){return x})),n.d(t,"a",(function(){return P})),n.d(t,"i",(function(){return N})),n.d(t,"p",(function(){return R})),n.d(t,"q",(function(){return D})),n.d(t,"h",(function(){return C})),n.d(t,"m",(function(){return I})),n.d(t,"o",(function(){return U})),n.d(t,"k",(function(){return M}));var r=n("2d67"),a=n("c00b"),o=n("b97c"),i=n("87b8"),c=n("a91f"),s=n("2111"),u=n("c2c4"),l=n("427e"),f=n.n(l),p=n("ee6c");function d(e,t){if(null==e)return{};var n,r,a=b(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function b(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e){if(Object(c["isLeft"])(e))throw new Error(u["PathReporter"].report(e).join("\n"))}function O(e,t,n,r){try{var a=e.decode(t);return v(a),a.right}catch(o){throw null===r||void 0===r||r("__decode failed:",e,t),n?n instanceof Error?n:new p["c"](n):o}}function j(e){return null!=e}var g=new s["b"]("BigNumber",a["a"].isBigNumber,(function(e,t){try{return s["t"](a["a"].from(e))}catch(n){return s["h"](e,t)}}),(function(e){return e.toString()})),w=f()((function(e){return s["f"](s["s"],(function(t){return"string"===typeof t&&(e?Object(o["d"])(t)===e:Object(o["l"])(t))}),"HexString")})),_=f()((function(e){var t=e?i["f"].sub(i["d"].pow(8*e-1)):void 0,n=e?i["d"].pow(8*e-1):void 0;return s["f"](g,(function(e){return g.is(e)&&(!t||!n||e.gte(t)&&e.lt(n))}),"Int")})),k=f()((function(e){var t=e?i["f"]:void 0,n=e?i["d"].pow(8*e):void 0;return s["f"](g,(function(e){return g.is(e)&&(!t||!n||e.gte(t)&&e.lt(n))}),"UInt")})),E=w(65),T=w(32),S=w(32),x=w(32);function A(e){try{return Object(r["a"])(e)===e}catch(t){return!1}}var P=new s["a"]("Address",A,(function(e,t){try{return s["t"](Object(r["a"])(e))}catch(n){return s["h"](e,t)}}),s["i"],w(20),A),N=f()((function(e){return s["j"]([e,s["p"](s["v"]({ts:s["n"]}))])}));function R(e){return y(y({},e),{},{ts:Date.now()})}function D(e){e.ts;var t=d(e,["ts"]);return t}var C=f()((function(e){return s["j"]([e,s["p"](s["v"]({signature:E}))])})),I=f()((function(e){return new s["b"]("instanceOf(".concat(e,")"),(function(t){var n;return(null===t||void 0===t||null===(n=t.constructor)||void 0===n?void 0:n.name)===e}),(function(t,n){var r;return(null===t||void 0===t||null===(r=t.constructor)||void 0===r?void 0:r.name)===e?s["t"](t):s["h"](t,n)}),s["i"])}));function U(e){return e[e.length-1]}function M(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return e.lt(t)?t:e}))}},cd49:function(e,t,n){"use strict";n.r(t);var r=n("d74d");r["b"].registerHooks(["beforeRouteEnter","beforeRouteLeave","beforeRouteUpdate"]);n("0f75");r["b"].registerHooks(["beforeRouteEnter","beforeRouteLeave","beforeRouteUpdate"]);var a=n("e832"),o=n("b7e6"),i=n.n(o);function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}var l=function(){function e(){c(this,e),this.cache={}}return u(e,[{key:"getIdenticon",value:function(e){var t=this.cache[e];if(t)return t;var n=i()(e);return this.cache[e]=n,n}}]),e}();function f(e,t){e.prototype.$identicon=new l}var p=n("4af9"),d=n("80bf");function b(e,t,r){null===t.name?r({name:d["a"].HOME}):e.matched.length&&(e.matched[0].components.default=t.matched[0].components.default,e.matched[0].components.modal=function(){return n.e("chunk-f550b538").then(n.bind(null,"47f5"))}),r()}var h=n("c217"),y=n.n(h),m=n("e6ee"),v=n.n(m),O=n("79e0"),j=n.n(O),g=n("0cb2"),w=n.n(g),_=n("605b"),k=n.n(_),E=n("fe07"),T=n.n(E),S=n("c38e"),x=n.n(S),A=n("6298"),P=n.n(A),N=n("94ea"),R=n("fbac"),D=n("f455"),C=n("87a2"),I=n("6485");function U(e){return F(e)||B(e)||L(e)||M()}function M(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function L(e,t){if(e){if("string"===typeof e)return W(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?W(e,t):void 0}}function B(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function F(e){if(Array.isArray(e))return W(e)}function W(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var V={notifications:function(e){return Object.values(e.notifications).sort((function(e,t){return t.id-e.id}))},nextNotificationId:function(e){var t=e.notifications,n=Object.values(t).map((function(e){return e.id}));return Math.max.apply(Math,U(n).concat([0]))+1},notificationQueue:function(e){return Object.values(e.notifications).filter((function(e){return e.importance===I["a"].HIGH&&!0===e.display}))}},$=n("d8a5");function H(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H(Object(n),!0).forEach((function(t){K(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function K(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function G(e){return Z(e)||Q(e)||X(e)||Y()}function Y(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function X(e,t){if(e){if("string"===typeof e)return z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?z(e,t):void 0}}function Q(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function Z(e){if(Array.isArray(e))return z(e)}function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function J(e){var t=Object.values(e).map((function(e){return e.id}));return Math.max.apply(Math,G(t).concat([0]))+1}var ee,te={notificationDelete:function(e,t){var n=q({},e.notifications);delete n[t],e.notifications=n},notificationsViewed:function(e){e.newNotifications=!1},notificationAddOrReplace:function(e,t){var n,r,a,o,i,c,s=e.notifications,u=Object.values(s).filter((function(e){var n=e.txHash;return n&&n===t.txHash})),l=null!==(n=null===(r=u[0])||void 0===r?void 0:r.id)&&void 0!==n?n:J(s),f=null===(a=u[0])||void 0===a||!a.id,p=q(q({},t),{},{id:l,received:new Date,display:f,context:null!==(o=t.context)&&void 0!==o?o:$["a"].NONE,importance:null!==(i=t.importance)&&void 0!==i?i:I["a"].LOW,duration:null!==(c=t.duration)&&void 0!==c?c:5e3});e.notifications=q(q({},s),{},K({},p.id,p)),e.newNotifications=!0},setNotificationShown:function(e,t){e.notifications[t].display=!1},clear:function(e){e.notifications=[]}},ne=function(){return{notifications:{},newNotifications:!1}},re=ne(),ae=re,oe={namespaced:!0,mutations:te,state:ae,getters:V},ie={setTokenAddress:function(e,t){e.tokenAddress=t},setToken:function(e,t){e.token=t},setPlannedWithdrawal:function(e,t){e.plannedWithdrawal=t},clearPlannedWithdrawal:function(e){e.plannedWithdrawal=void 0}},ce=function(){return{tokenAddress:"",token:void 0,plannedWithdrawal:void 0}},se=ce(),ue=se,le={namespaced:!0,mutations:ie,state:ue};function fe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fe(Object(n),!0).forEach((function(t){de(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function de(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function be(e,t){return Oe(e)||ve(e,t)||ye(e,t)||he()}function he(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ye(e,t){if(e){if("string"===typeof e)return me(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?me(e,t):void 0}}function me(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ve(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done);r=!0)if(n.push(i.value),t&&n.length===t)break}catch(s){a=!0,o=s}finally{try{r||null==c["return"]||c["return"]()}finally{if(a)throw o}}return n}}function Oe(e){if(Array.isArray(e))return e}a["a"].use(N["b"]);var je={loading:!0,blockNumber:0,defaultAccount:"",accountBalance:"0.0",raidenAccountBalance:"",providerDetected:!0,accessDenied:C["a"].UNDEFINED,channels:{},tokens:{},transfers:{},presences:{},network:C["b"],stateBackup:"",settings:{isFirstTimeConnect:!0,useRaidenAccount:!0},config:{},disclaimerAccepted:!1,stateBackupReminderDateMs:0,persistDisclaimerAcceptance:!1,versionInfo:{activeVersion:null!==(ee="0.16.0")&&void 0!==ee?ee:"0.0.0",availableVersion:void 0,updateIsMandatory:!1}};function ge(){return v()(je)}var we=function(e,t){return e.balance&&t.balance&&(!e.balance.isZero()||!t.balance.isZero())},_e=new R["a"]({reducer:function(e){return{settings:e.settings}},filter:function(e){return"updateSettings"==e.type},key:"raiden_dapp_settings"}),ke=new R["a"]({reducer:function(e){return{disclaimerAccepted:!!e.persistDisclaimerAcceptance&&e.disclaimerAccepted}},filter:function(e){return"acceptDisclaimer"===e.type},key:"disclaimer"}),Ee=new R["a"]({reducer:function(e){return{stateBackupReminderDateMs:e.stateBackupReminderDateMs}},filter:function(e){return"updateStateBackupReminderDate"===e.type},key:"backupReminder"}),Te={state:ge(),mutations:{noProvider:function(e){e.providerDetected=!1},accessDenied:function(e,t){e.accessDenied=t},account:function(e,t){e.defaultAccount=t},loadComplete:function(e){e.loading=!1},updateBlock:function(e,t){e.blockNumber=t},balance:function(e,t){e.accountBalance=t},raidenAccountBalance:function(e,t){e.raidenAccountBalance=t},updateChannels:function(e,t){e.channels=t},updateTokens:function(e,t){for(var n=0,r=Object.entries(t);n<r.length;n++){var a=be(r[n],2),o=a[0],i=a[1];o in e.tokens&&T()(i,e.tokens[o])||(o in e.tokens?e.tokens[o]=pe(pe({},e.tokens[o]),i):e.tokens=pe(pe({},e.tokens),{},de({},o,i)))}},updatePresence:function(e,t){e.presences=pe(pe({},e.presences),t)},network:function(e,t){e.network=t},reset:function(e){var t=e.settings,n=e.disclaimerAccepted,r=e.stateBackup,a=e.stateBackupReminderDateMs;Object.assign(e,pe(pe({},ge()),{},{settings:t,disclaimerAccepted:n,stateBackup:r,stateBackupReminderDateMs:a}))},updateTransfers:function(e,t){e.transfers=pe(pe({},e.transfers),{},de({},t.key,t))},backupState:function(e,t){e.stateBackup=t},updateSettings:function(e,t){e.settings=t},updateConfig:function(e,t){e.config=t},acceptDisclaimer:function(e,t){e.disclaimerAccepted=!0,e.persistDisclaimerAcceptance=t},updateStateBackupReminderDate:function(e,t){e.stateBackupReminderDateMs=t},setAvailableVersion:function(e,t){y.a.validate(t)&&(e.versionInfo=pe(pe({},e.versionInfo),{},{availableVersion:t}))},setUpdateIsMandatory:function(e){e.versionInfo=pe(pe({},e.versionInfo),{},{updateIsMandatory:!0})}},actions:{},getters:{tokensWithChannels:function(e){for(var t={},n=0,r=Object.entries(e.tokens);n<r.length;n++){var a=be(r[n],2),o=a[0],i=a[1];e.channels[o]&&(t[o]=i)}return t},tokens:function(e){var t=function(e,t){return e.address=t.token,e[t.state]+=1,e};return x()(j()(w()(e.channels),(function(e){return!k()(e)})),(function(n){var r=P()(n,t,Object(C["d"])()),a=e.tokens[r.address];return a&&(r.name=a.name||"",r.symbol=a.symbol||""),r}))},allTokens:function(e){return Object.values(e.tokens).sort((function(e,t){return we(e,t)?t.balance.gt(e.balance)?1:-1:e.symbol&&t.symbol?e.symbol.localeCompare(t.symbol):0}))},channels:function(e){return function(t){var n=[],r=e.channels[t];return r&&!k()(r)&&(n=w()(r)),n}},openChannels:function(e){return Object.keys(e.channels).length>0},token:function(e){return function(t){return t in e.tokens?e.tokens[t]:null}},network:function(e){return Object(D["h"])(e.network)},mainnet:function(e){return 1===e.network.chainId},channelWithBiggestCapacity:function(e,t){return function(e){var n=t.channels(e),r=n.filter((function(e){return e.state===D["b"].open})),a=r.sort((function(e,t){var n=e.capacity.sub(t.capacity);return n.lt(0)?1:n.gt(0)?-1:0}));return a[0]}},pendingTransfers:function(e){var t=e.transfers;return Object.keys(t).filter((function(e){var n=t[e].completed;return!n})).reduce((function(e,n){return e[n]=t[n],e}),{})},transfer:function(e){return function(t){return Object.values(e.transfers).find((function(e){return e.paymentId.eq(t)}))}},isConnected:function(e){return!e.loading&&!(!e.defaultAccount||""===e.defaultAccount)},usingRaidenAccount:function(e){return!!e.settings.useRaidenAccount},versionUpdateAvailable:function(e){var t=e.versionInfo,n=t.activeVersion,r=t.availableVersion;return!!n&&!!r&&y.a.compare(r,n,">")}},plugins:[_e.plugin,ke.plugin,Ee.plugin],modules:{notifications:oe,userDepositContract:le}},Se=new N["b"].Store(Te),xe=[d["a"].ACCOUNT_ROOT,d["a"].ACCOUNT_BACKUP,d["a"].ACCOUNT_RAIDEN,d["a"].ACCOUNT_SETTINGS,d["a"].ACCOUNT_WITHDRAWAL,d["a"].ACCOUNT_UDC];function Ae(e){var t,n=Se.getters.isConnected,r=xe.includes(null!==(t=e.name)&&void 0!==t?t:""),a=e.name===d["a"].HOME;if(!r)return n||a?!n&&a?null:n&&a?{name:d["a"].TRANSFER}:void 0:{name:d["a"].HOME,query:{redirectTo:e.fullPath}}}function Pe(e){var t=Se.state.disclaimerAccepted,n=e.name===d["a"].DISCLAIMER;return t||n?!t&&n?null:t&&n?{name:d["a"].HOME}:void 0:{name:d["a"].DISCLAIMER,query:{redirectTo:e.fullPath}}}function Ne(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=Re(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function Re(e,t){if(e){if("string"===typeof e)return De(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?De(e,t):void 0}}function De(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ce(e,t,n){var r,a=Ne(this.children);try{for(a.s();!(r=a.n()).done;){var o=r.value,i=o(e);if(null===i)return void n();if(void 0!==i)return void n(i)}}catch(c){a.e(c)}finally{a.f()}n({})}function Ie(e,t,r){null===t.name?r({name:d["a"].HOME}):e.matched.length&&(e.matched[0].components.default=t.matched[0].components.default,e.matched[0].components.notifications=function(){return n.e("chunk-660e2352").then(n.bind(null,"c284"))}),r()}var Ue=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"disclaimer",attrs:{"data-cy":"disclaimer"}},[n("div",{staticClass:"disclaimer__content"},[n("div",{staticClass:"disclaimer__content__text"},[n("span",{staticClass:"disclaimer__content__text__header"},[e._v(" "+e._s(e.$t("disclaimer.user-info.header"))+" ")]),n("span",{staticClass:"disclaimer__content__text__body"},[e._v(e._s(e.$t("disclaimer.user-info.body")))]),n("div",e._l(e.$t("disclaimer.user-info.bullet-points"),(function(t,r){return n("ul",{key:r,staticClass:"disclaimer__content__text__bullet-points"},[n("li",[e._v(" "+e._s(t.text)+" "),n("a",{attrs:{href:e.disclaimerUrlMappings[r],target:"_blank"}},[e._v(" "+e._s(t.link)+" ")])])])})),0),e.imprint&&e.terms?n("span",{staticClass:"disclaimer__content__text__header, imprint_terms_header"},[e._v(" "+e._s(e.$t("disclaimer.terms.header"))+" ")]):e._e(),e.imprint&&e.terms?n("i18n",{staticClass:"disclaimer__content__text__imprint-terms-body",attrs:{path:"disclaimer.terms.body",tag:"span"}},[n("a",{attrs:{href:e.terms,target:"_blank"}},[e._v(" "+e._s(e.$t("disclaimer.terms.link-name-terms"))+" ")]),n("a",{attrs:{href:e.imprint,target:"_blank"}},[e._v(" "+e._s(e.$t("disclaimer.terms.link-name-policy"))+" ")])]):e._e(),n("span",{staticClass:"disclaimer__content__text__header"},[e._v(" "+e._s(e.$t("disclaimer.disclaimer.header"))+" ")]),n("span",{staticClass:"disclaimer__content__text__body"},[e._v(e._s(e.$t("disclaimer.disclaimer.body")))]),n("span",{staticClass:"disclaimer__content__text__header"},[e._v(" "+e._s(e.$t("disclaimer.privacy.header"))+" ")]),e._l(e.$t("disclaimer.privacy.body"),(function(t,r){return n("div",{key:r,staticClass:"disclaimer__content__text__body"},[n("span",[e._v(e._s(t))])])}))],2),n("v-checkbox",{staticClass:"disclaimer__content__accept-checkbox",attrs:{"data-cy":"disclaimer_accept_checkbox",label:e.$t("disclaimer.accept-checkbox"),dense:"","hide-details":""},model:{value:e.checkedAccept,callback:function(t){e.checkedAccept=t},expression:"checkedAccept"}}),n("v-checkbox",{staticClass:"disclaimer__content__persist-checkbox",attrs:{"data-cy":"disclaimer_persist_checkbox",label:e.$t("disclaimer.persist-checkbox"),dense:"","hide-details":""},model:{value:e.checkedPersist,callback:function(t){e.checkedPersist=t},expression:"checkedPersist"}})],1),n("action-button",{staticClass:"disclaimer__accept-button",attrs:{text:e.$t("disclaimer.accept-button"),"data-cy":"disclaimer_accept_button",enabled:e.checkedAccept,sticky:""},on:{click:e.accept}})],1)},Me=[],Le=n("9ab4"),Be=n("5cf9"),Fe=n("750b");function We(e){return We="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},We(e)}function Ve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function He(e,t,n){return t&&$e(e.prototype,t),n&&$e(e,n),e}function qe(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ke(e,t)}function Ke(e,t){return Ke=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ke(e,t)}function Ge(e){var t=Qe();return function(){var n,r=Ze(e);if(t){var a=Ze(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Ye(this,n)}}function Ye(e,t){return!t||"object"!==We(t)&&"function"!==typeof t?Xe(e):t}function Xe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qe(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Ze(e){return Ze=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ze(e)}var ze=function(e){qe(n,e);var t=Ge(n);function n(){var e;return Ve(this,n),e=t.apply(this,arguments),e.checkedAccept=!1,e.checkedPersist=!1,e.disclaimerUrlMappings={portal:"https://developer.raiden.network",docs:"https://docs.raiden.network",videos:"https://www.youtube.com/channel/UCoUP_hnjUddEvbxmtNCcApg",medium:"https://medium.com/@raiden_network"},e}return He(n,[{key:"imprint",get:function(){return"https://raiden.network/privacy.html"}},{key:"terms",get:function(){return"https://github.com/raiden-network/light-client/blob/master/TERMS.md"}},{key:"navigationTarget",get:function(){var e=this.$route.query.redirectTo;return e?{path:e}:{name:d["a"].HOME}}},{key:"accept",value:function(){this.$store.commit("acceptDisclaimer",this.checkedPersist),this.$router.push(this.navigationTarget)}}]),n}(Be["f"]);ze=Object(Le["a"])([Object(Be["a"])({components:{ActionButton:Fe["a"]}})],ze);var Je=ze,et=Je,tt=(n("8e14"),n("a6c2")),nt=n("411c"),rt=n.n(nt),at=n("0591"),ot=Object(tt["a"])(et,Ue,Me,!1,null,"e78e5f00",null),it=ot.exports;rt()(ot,{VCheckbox:at["a"]});var ct=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{staticClass:"home",attrs:{fluid:"","data-cy":"home"}},[r("v-row",{attrs:{"no-gutters":""}},[r("v-col",{attrs:{cols:"12"}},[r("div",{staticClass:"home__logo-container"},[r("v-img",{staticClass:"home__logo-container__logo",attrs:{src:n("9b19"),"aspect-ratio":"1",contain:""}})],1)])],1),r("v-row",{attrs:{"no-gutters":""}},[r("v-col",{attrs:{cols:"12"}},[r("div",{staticClass:"home__app-welcome text-center"},[e._v(" "+e._s(e.$t("home.welcome"))+" ")])])],1),r("v-row",{attrs:{"no-gutters":""}},[r("v-col",{attrs:{cols:"12"}},[r("div",{staticClass:"home__disclaimer text-center font-weight-light"},[e._v(" "+e._s(e.$t("home.disclaimer"))+" ")]),r("i18n",{staticClass:"home__getting-started text-center font-weight-light",attrs:{path:"home.getting-started.description",tag:"div"}},[r("a",{attrs:{href:"https://github.com/raiden-network/light-client#getting-started",target:"_blank"}},[e._v(" "+e._s(e.$t("home.getting-started.link-name"))+" ")])]),e.accessDenied?r("no-access-message",{staticClass:"home__no-access",attrs:{reason:e.accessDenied}}):e._e()],1)],1),r("action-button",{staticClass:"home__connect-button",attrs:{"data-cy":"home_connect_button",text:e.$t("home.connect-button"),loading:e.connecting,syncing:"",enabled:!e.connecting,sticky:""},on:{click:e.connect}}),r("connect-dialog",{attrs:{connecting:e.connecting,visible:e.connectDialog,"has-provider":e.hasProvider},on:{connect:e.connect,close:function(t){e.connectDialog=!1}}})],1)},st=[],ut=n("36d8"),lt=n.n(ut),ft=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("raiden-dialog",{staticClass:"connect",attrs:{visible:e.visible,"hide-close":e.hideClose},on:{close:e.close}},[n("v-card-title",[e._v(" "+e._s(e.$t("home.connect-dialog.title"))+" ")]),e.hasProvider?n("div",[n("div",{staticClass:"connect__button",attrs:{"data-cy":"connect_button"}},[n("action-button",{attrs:{text:e.$t("home.connect-dialog.raiden-account"),enabled:!e.connecting,loading:e.connecting},on:{click:function(t){return e.connect()}}})],1),n("p",{staticClass:"text-center connect__description"},[e._v(" "+e._s(e.$t("home.connect-dialog.description-raiden-account"))+" ")]),n("p",{staticClass:"text-center connect__description"},[e._v(" "+e._s(e.$t("home.connect-dialog.description-web3-account"))+" ")])]):e._e(),e.accessDenied?n("no-access-message",{attrs:{reason:e.accessDenied}}):e._e(),e.hasProvider?e._e():n("v-card-text",[n("div",{staticClass:"text-center"},[e._v(" "+e._s(e.$t("home.connect-dialog.no-provider"))+" ")])])],1)},pt=[],dt=n("66bc"),bt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-alert",{staticClass:"no-access-message",attrs:{value:!0,color:"error",icon:"warning"}},[n("div",{staticClass:"font-weight-light no-access-message__message"},[e.networkUnsupported?n("span",[e._v(" "+e._s(e.$t("no-access.unsupported-network"))+" ")]):e._e(),e.initializationFailed?n("span",[e._v(" "+e._s(e.$t("no-access.sdk-initialization-failure"))+" ")]):e._e(),e.rdnStateMigration?n("span",[e._v(" "+e._s(e.$t("no-access.rdn-state-migration"))+" ")]):n("span",[e._v(e._s(e.$t("no-access.generic-error")))])])])},ht=[];function yt(e){return yt="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yt(e)}function mt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ot(e,t,n){return t&&vt(e.prototype,t),n&&vt(e,n),e}function jt(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&gt(e,t)}function gt(e,t){return gt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},gt(e,t)}function wt(e){var t=Et();return function(){var n,r=Tt(e);if(t){var a=Tt(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return _t(this,n)}}function _t(e,t){return!t||"object"!==yt(t)&&"function"!==typeof t?kt(e):t}function kt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Et(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Tt(e){return Tt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Tt(e)}var St=function(e){jt(n,e);var t=wt(n);function n(){return mt(this,n),t.apply(this,arguments)}return Ot(n,[{key:"networkUnsupported",get:function(){return this.reason===C["a"].UNSUPPORTED_NETWORK}},{key:"initializationFailed",get:function(){return this.reason===C["a"].INITIALIZATION_FAILED}},{key:"rdnStateMigration",get:function(){return this.reason===C["a"].RDN_STATE_MIGRATION}}]),n}(Be["f"]);Object(Le["a"])([Object(Be["d"])({required:!0})],St.prototype,"reason",void 0),St=Object(Le["a"])([Object(Be["a"])({})],St);var xt=St,At=xt,Pt=(n("7ea7"),n("36c4")),Nt=Object(tt["a"])(At,bt,ht,!1,null,"002a42aa",null),Rt=Nt.exports;function Dt(e){return Dt="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dt(e)}function Ct(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function It(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ct(Object(n),!0).forEach((function(t){Ut(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ct(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ut(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Lt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Bt(e,t,n){return t&&Lt(e.prototype,t),n&&Lt(e,n),e}function Ft(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Wt(e,t)}function Wt(e,t){return Wt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Wt(e,t)}function Vt(e){var t=qt();return function(){var n,r=Kt(e);if(t){var a=Kt(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return $t(this,n)}}function $t(e,t){return!t||"object"!==Dt(t)&&"function"!==typeof t?Ht(e):t}function Ht(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qt(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Kt(e){return Kt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Kt(e)}rt()(Nt,{VAlert:Pt["a"]});var Gt=function(e){Ft(n,e);var t=Vt(n);function n(){var e;return Mt(this,n),e=t.apply(this,arguments),e.hideClose=!1,e}return Bt(n,[{key:"close",value:function(){return!0}},{key:"connect",value:function(){this.$store.commit("updateSettings",It(It({},this.$store.state.settings),{},{isFirstTimeConnect:!1}))}}]),n}(Be["f"]);Object(Le["a"])([Object(Be["d"])({required:!0,type:Boolean,default:!1})],Gt.prototype,"visible",void 0),Object(Le["a"])([Object(Be["d"])({default:!1,required:!0,type:Boolean})],Gt.prototype,"connecting",void 0),Object(Le["a"])([Object(Be["d"])({required:!0})],Gt.prototype,"hasProvider",void 0),Object(Le["a"])([Object(Be["b"])()],Gt.prototype,"close",null),Object(Le["a"])([Object(Be["b"])()],Gt.prototype,"connect",null),Gt=Object(Le["a"])([Object(Be["a"])({components:{RaidenDialog:dt["a"],ActionButton:Fe["a"],NoAccessMessage:Rt},computed:Object(N["e"])(["accessDenied"])})],Gt);var Yt=Gt,Xt=Yt,Qt=(n("db85"),n("e47e")),Zt=Object(tt["a"])(Xt,ft,pt,!1,null,"c65f7cae",null),zt=Zt.exports;function Jt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function en(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jt(Object(n),!0).forEach((function(t){tn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function tn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nn(e,t){return sn(e)||cn(e,t)||an(e,t)||rn()}function rn(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function an(e,t){if(e){if("string"===typeof e)return on(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?on(e,t):void 0}}function on(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function cn(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done);r=!0)if(n.push(i.value),t&&n.length===t)break}catch(s){a=!0,o=s}finally{try{r||null==c["return"]||c["return"]()}finally{if(a)throw o}}return n}}function sn(e){if(Array.isArray(e))return e}function un(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function ln(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){un(o,r,a,i,c,"next",e)}function c(e){un(o,r,a,i,c,"throw",e)}i(void 0)}))}}function fn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function dn(e,t,n){return t&&pn(e.prototype,t),n&&pn(e,n),e}rt()(Zt,{VCardText:Qt["b"],VCardTitle:Qt["c"]});var bn=function(){function e(){fn(this,e)}return dn(e,null,[{key:"contracts",value:function(){var e=ln(lt.a.mark((function e(){var t,n,r,a,o,i,c,s,u,l,f;return lt.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=Object({VUE_APP_PFS:"https://pfs.demo001.env.raiden.network",VUE_APP_MATRIX_SERVER:"https://transport.demo001.env.raiden.network",VUE_APP_HUB:"hub.raiden.eth",VUE_APP_ALLOW_MAINNET:"false",VUE_APP_IMPRINT:"https://raiden.network/privacy.html",VUE_APP_TERMS:"https://github.com/raiden-network/light-client/blob/master/TERMS.md",NODE_ENV:"production",VUE_APP_I18N_LOCALE:"en",VUE_APP_I18N_FALLBACK_LOCALE:"en",BASE_URL:"/"}),n=t.VUE_APP_DEPLOYMENT_INFO,r=t.VUE_APP_DEPLOYMENT_SERVICES_INFO,!n||!r){e.next=15;break}return e.next=4,Promise.all([fetch(n),fetch(r)]);case 4:return a=e.sent,o=nn(a,2),i=o[0],c=o[1],e.next=10,Promise.all([i.json(),c.json()]);case 10:return s=e.sent,u=nn(s,2),l=u[0],f=u[1],e.abrupt("return",en(en({},l.contracts),f.contracts));case 15:return e.abrupt("return",void 0);case 16:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"configuration",value:function(){var e=ln(lt.a.mark((function e(){var t,n;return lt.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=Object({VUE_APP_PFS:"https://pfs.demo001.env.raiden.network",VUE_APP_MATRIX_SERVER:"https://transport.demo001.env.raiden.network",VUE_APP_HUB:"hub.raiden.eth",VUE_APP_ALLOW_MAINNET:"false",VUE_APP_IMPRINT:"https://raiden.network/privacy.html",VUE_APP_TERMS:"https://github.com/raiden-network/light-client/blob/master/TERMS.md",NODE_ENV:"production",VUE_APP_I18N_LOCALE:"en",VUE_APP_I18N_FALLBACK_LOCALE:"en",BASE_URL:"/"}).VUE_APP_CONFIGURATION_URL||"./config.json",e.next=3,fetch(t);case 3:return n=e.sent,e.next=6,n.json();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()}]),e}();function hn(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function yn(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){hn(o,r,a,i,c,"next",e)}function c(e){hn(o,r,a,i,c,"throw",e)}i(void 0)}))}}function mn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function On(e,t,n){return t&&vn(e.prototype,t),n&&vn(e,n),e}var jn=function(){function e(){mn(this,e)}return On(e,null,[{key:"provider",value:function(){var e=yn(lt.a.mark((function e(t){var n;return lt.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=null,!t){e.next=5;break}n=t.startsWith("http")?t:"https://".concat(t),e.next=13;break;case 5:if("undefined"===typeof window.ethereum){e.next=12;break}return window.ethereum.autoRefreshOnNetworkChange=!1,e.next=9,window.ethereum.request({method:"eth_requestAccounts"});case 9:n=window.ethereum,e.next=13;break;case 12:window.web3&&(n=window.web3.currentProvider);case 13:return n&&n.isMetaMask&&n.on("chainChanged",(function(){return window.location.replace(window.location.origin)})),e.abrupt("return",n);case 15:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()}]),e}();function gn(e){return gn="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gn(e)}function wn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _n(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wn(Object(n),!0).forEach((function(t){kn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function kn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function En(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function Tn(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){En(o,r,a,i,c,"next",e)}function c(e){En(o,r,a,i,c,"throw",e)}i(void 0)}))}}function Sn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function An(e,t,n){return t&&xn(e.prototype,t),n&&xn(e,n),e}function Pn(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Nn(e,t)}function Nn(e,t){return Nn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Nn(e,t)}function Rn(e){var t=In();return function(){var n,r=Un(e);if(t){var a=Un(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Dn(this,n)}}function Dn(e,t){return!t||"object"!==gn(t)&&"function"!==typeof t?Cn(e):t}function Cn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function In(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Un(e){return Un=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Un(e)}jn.injectedWeb3Available=function(){return window.ethereum||window.web3};var Mn=function(e){Pn(n,e);var t=Rn(n);function n(){var e;return Sn(this,n),e=t.apply(this,arguments),e.connectDialog=!1,e.connecting=!1,e.hasProvider=!1,e}return An(n,[{key:"created",value:function(){var e=Tn(lt.a.mark((function e(){var t;return lt.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!jn.injectedWeb3Available()){e.next=3;break}return this.hasProvider=!0,e.abrupt("return");case 3:return e.next=5,bn.configuration();case 5:t=e.sent,this.hasProvider=!!t.rpc_endpoint;case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"navigationTarget",get:function(){var e=this.$route.query.redirectTo;return e?{path:e}:{name:d["a"].TRANSFER}}},{key:"connect",value:function(){var e=Tn(lt.a.mark((function e(){var t,n,r,a;return lt.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=this.settings,n=t.useRaidenAccount,r=t.isFirstTimeConnect,!r||!n){e.next=4;break}return this.connectDialog=!0,e.abrupt("return");case 4:return this.connectDialog=!1,this.connecting=!0,a=this.stateBackup,this.$store.commit("reset"),this.$store.commit("accessDenied",C["a"].UNDEFINED),e.next=11,this.$raiden.connect(a,!!n||void 0);case 11:this.connecting=!1,this.accessDenied||(this.connectDialog=!1,this.$router.push(this.navigationTarget));case 13:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),n}(Be["f"]);Mn=Object(Le["a"])([Object(Be["a"])({computed:_n(_n({},Object(N["e"])(["loading","accessDenied","stateBackup","settings"])),Object(N["c"])(["isConnected","tokens"])),components:{ActionButton:Fe["a"],ConnectDialog:zt,NoAccessMessage:Rt}})],Mn);var Ln=Mn,Bn=Ln,Fn=(n("4bcb"),n("1fb1")),Wn=n("f56c"),Vn=n("1331"),$n=n("e614"),Hn=Object(tt["a"])(Bn,ct,st,!1,null,"2956e6ba",null),qn=Hn.exports;rt()(Hn,{VCol:Fn["a"],VContainer:Wn["a"],VImg:Vn["a"],VRow:$n["a"]});var Kn=[{path:"/",name:d["a"].DISCLAIMER,meta:{title:"Disclaimer",cannotNavigateBack:!0},component:it},{path:"*",redirect:"/"},{path:"/home",name:d["a"].HOME,meta:{title:"Raiden dApp",cannotNavigateBack:!0},component:qn},{path:"/transfer/:token?",name:d["a"].TRANSFER,meta:{title:"Transfer",cannotNavigateBack:!0,infoOverlay:{headerImage:"transfer_info.svg",header:"info-overlay.transfer.header",body:"info-overlay.transfer.body"}},component:function(){return Promise.all([n.e("chunk-17a6e8db"),n.e("chunk-3f5a3c0a"),n.e("chunk-f1143468"),n.e("chunk-01d75df8"),n.e("chunk-30d9ea07")]).then(n.bind(null,"ded4"))}},{path:"/transfer/:token/:target",name:d["a"].TRANSFER_STEPS,meta:{title:"Transfer",infoOverlay:{headerImage:"transfer_steps_info.svg",header:"info-overlay.transfer-steps.header",body:"info-overlay.transfer-steps.body"}},component:function(){return Promise.all([n.e("chunk-17a6e8db"),n.e("chunk-3f5a3c0a"),n.e("chunk-f1143468"),n.e("chunk-8eb4b120")]).then(n.bind(null,"146c"))}},{path:"/connect",name:d["a"].SELECT_TOKEN,meta:{title:"Select Token"},component:function(){return Promise.all([n.e("chunk-17a6e8db"),n.e("chunk-9dcdf37e")]).then(n.bind(null,"eb67"))}},{path:"/connect/:token",name:d["a"].SELECT_HUB,meta:{title:"Select Hub",infoOverlay:{headerImage:"select_hub_info.svg",header:"info-overlay.select-hub.header",body:"info-overlay.select-hub.body"}},component:function(){return Promise.all([n.e("chunk-3f5a3c0a"),n.e("chunk-01d75df8"),n.e("chunk-5305576c")]).then(n.bind(null,"5876"))}},{path:"/connect/:token/:partner",name:d["a"].OPEN_CHANNEL,meta:{title:"Open Channel",infoOverlay:{headerImage:"open_channel_info.svg",header:"info-overlay.open-channel.header",body:"info-overlay.open-channel.body"}},component:function(){return Promise.all([n.e("chunk-3f5a3c0a"),n.e("chunk-f1143468"),n.e("chunk-1b7c28fc")]).then(n.bind(null,"9db2"))}},{path:"/channels/:token",name:d["a"].CHANNELS,meta:{title:"Channels",infoOverlay:{headerImage:"channels_info.svg",header:"info-overlay.channels.header",body:"info-overlay.channels.body"}},component:function(){return Promise.all([n.e("chunk-17a6e8db"),n.e("chunk-3f5a3c0a"),n.e("chunk-f1143468"),n.e("chunk-38ea932f")]).then(n.bind(null,"3a90"))}},{path:"/notifications",name:d["a"].NOTIFICATIONS,beforeEnter:Ie},{path:"/account",beforeEnter:b,children:[{path:"/",name:d["a"].ACCOUNT_ROOT,meta:{title:"Account"},component:function(){return Promise.all([n.e("chunk-17a6e8db"),n.e("chunk-08659113")]).then(n.bind(null,"f18d"))}},{path:"backup",name:d["a"].ACCOUNT_BACKUP,meta:{title:"Backup State",infoOverlay:{headerImage:"backup_state_info.svg",header:"info-overlay.account-backup.header",body:"info-overlay.account-backup.body"}},component:function(){return Promise.all([n.e("chunk-17a6e8db"),n.e("chunk-4a1a3507")]).then(n.bind(null,"248bd"))}},{path:"raiden",name:d["a"].ACCOUNT_RAIDEN,meta:{title:"Raiden Account",infoOverlay:{headerImage:"transfer_eth_info.svg",header:"info-overlay.account-raiden.header",body:"info-overlay.account-raiden.body"}},component:function(){return Promise.all([n.e("chunk-3f5a3c0a"),n.e("chunk-7c35cafc")]).then(n.bind(null,"9114"))}},{path:"settings",name:d["a"].ACCOUNT_SETTINGS,meta:{title:"Settings"},component:function(){return Promise.all([n.e("chunk-17a6e8db"),n.e("chunk-2646bd9b")]).then(n.bind(null,"5d16"))}},{path:"withdrawal",name:d["a"].ACCOUNT_WITHDRAWAL,meta:{title:"Withdrawal",infoOverlay:{headerImage:"withdraw_tokens_info.svg",header:"info-overlay.account-withdrawal.header",body:"info-overlay.account-withdrawal.body"}},component:function(){return Promise.all([n.e("chunk-17a6e8db"),n.e("chunk-ece0ec30")]).then(n.bind(null,"c917"))}},{path:"udc",name:d["a"].ACCOUNT_UDC,meta:{title:"UDC",infoOverlay:{headerImage:"udc_info.svg",header:"info-overlay.account-udc.header",body:"info-overlay.account-udc.body"}},component:function(){return Promise.all([n.e("chunk-3f5a3c0a"),n.e("chunk-7cb46696")]).then(n.bind(null,"4c07"))}}]}];a["a"].use(p["a"]);var Gn=new p["a"]({base:"/",mode:"hash",routes:Kn});Gn.beforeEach(Ce.bind({children:[Pe,Ae]}));var Yn=Gn,Xn=n("fbcd"),Qn=n("cefa"),Zn=n("58be"),zn=n("573d"),Jn=n.n(zn),er=n("2726");function tr(){var e=n("49f8"),t={};return e.keys().forEach((function(n){var r=n.match(/([A-Za-z0-9-_]+)\./i);if(r&&r.length>1){var a=r[1];t[a]=e(n)}})),t}a["a"].use(er["a"]);var nr=new er["a"]({locale:"en",fallbackLocale:"en",messages:tr()}),rr=n("a3d5");function ar(e){return ar="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ar(e)}function or(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&dr(e,t)}function ir(e){var t=fr();return function(){var n,r=br(e);if(t){var a=br(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return cr(this,n)}}function cr(e,t){return!t||"object"!==ar(t)&&"function"!==typeof t?sr(e):t}function sr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ur(e){var t="function"===typeof Map?new Map:void 0;return ur=function(e){if(null===e||!pr(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return lr(e,arguments,br(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),dr(n,e)},ur(e)}function lr(e,t,n){return lr=fr()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var a=Function.bind.apply(e,r),o=new a;return n&&dr(o,n.prototype),o},lr.apply(null,arguments)}function fr(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function pr(e){return-1!==Function.toString.call(e).indexOf("[native code]")}function dr(e,t){return dr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},dr(e,t)}function br(e){return br=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},br(e)}function hr(e,t){return vr(e)||mr(e,t)||_r(e,t)||yr()}function yr(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function mr(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done);r=!0)if(n.push(i.value),t&&n.length===t)break}catch(s){a=!0,o=s}finally{try{r||null==c["return"]||c["return"]()}finally{if(a)throw o}}return n}}function vr(e){if(Array.isArray(e))return e}function Or(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function jr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Or(Object(n),!0).forEach((function(t){gr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Or(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function gr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wr(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=_r(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function _r(e,t){if(e){if("string"===typeof e)return kr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?kr(e,t):void 0}}function kr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Er(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function Tr(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Er(o,r,a,i,c,"next",e)}function c(e){Er(o,r,a,i,c,"throw",e)}i(void 0)}))}}function Sr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ar(e,t,n){return t&&xr(e.prototype,t),n&&xr(e,n),e}function Pr(e){return void 0===e?nr.t("notifications.tx-state-pending"):e?nr.t("notifications.tx-state-confirmed"):""}var Nr=function(){function e(t,n){var r=this;Sr(this,e),this._userDepositTokenAddress="",this.disconnect=Tr(lt.a.mark((function e(){return lt.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,r.raiden.stop();case 2:case"end":return e.stop()}}),e)}))),this.getAccount=function(){return r.raiden.address},this.getMainAccount=function(){return r.raiden.mainAddress},this._raiden=void 0,this.store=t,this.router=n}return Ar(e,[{key:"raiden",get:function(){if(void 0===this._raiden)throw new Error("Raiden instance was not initialized");return this._raiden}},{key:"updateBalances",value:function(){var e=Tr(lt.a.mark((function e(){return lt.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.t0=this.store,e.next=3,this.getBalance();case 3:return e.t1=e.sent,e.t0.commit.call(e.t0,"balance",e.t1),e.t2=this.store,e.next=8,this.getBalance(this.raiden.address);case 8:e.t3=e.sent,e.t2.commit.call(e.t2,"raidenAccountBalance",e.t3);case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"fetchTokenList",value:function(){var e=Tr(lt.a.mark((function e(){var t,n,r,a,o,i;return lt.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.raiden.getTokenList();case 2:t=e.sent,n=[],r={},a=wr(t);try{for(a.s();!(o=a.n()).done;)i=o.value,n.push(i),r[i]={address:i}}catch(c){a.e(c)}finally{a.f()}return this.store.commit("updateTokens",r),e.next=10,this.fetchAndUpdateTokenData(n);case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"monitoringReward",get:function(){return this.raiden.config.monitoringReward}},{key:"ensResolve",value:function(){var e=Tr(lt.a.mark((function e(t){return lt.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.raiden.resolveName(t);case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e["catch"](0),new Rr(e.t0);case 9:case"end":return e.stop()}}),e,this,[[0,6]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"connect",value:function(){var t=Tr(lt.a.mark((function t(n,r){var a,o,i,c,s,u=this;return lt.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,bn.configuration();case 3:return o=t.sent,t.next=6,jn.provider(o.rpc_endpoint);case 6:if(i=t.sent,i){t.next=11;break}this.store.commit("noProvider"),t.next=50;break;case 11:if("string"===typeof i||!("networkVersion"in i)||"1"!==i.networkVersion){t.next=13;break}throw new D["g"](D["c"].RDN_UNRECOGNIZED_NETWORK);case 13:return t.next=15,e.createRaiden(i,null===o||void 0===o?void 0:o.private_key,n,r);case 15:return a=t.sent,this._raiden=a,this._configuration=o,this.usingSubkey=null!==r&&void 0!==r&&r,c=this.getAccount(),this.store.commit("account",c),t.next=23,a.userDepositTokenAddress();case 23:return this._userDepositTokenAddress=t.sent,this.store.commit("userDepositContract/setTokenAddress",this._userDepositTokenAddress),t.next=27,this.monitorPreSetTokens();case 27:return a.events$.pipe(Object(Qn["a"])((function(e){return"block/new"===e.type}))).subscribe((function(e){return u.store.commit("updateBlock",e.payload.blockNumber)})),a.events$.pipe(Object(Qn["a"])((function(e){return"block/new"===e.type})),Object(Zn["a"])((function(){return u.updateUserDepositContractToken()}))).subscribe(),a.events$.pipe(Object(Qn["a"])((function(e){return"raiden/shutdown"===e.type}))).subscribe((function(){u.store.commit("reset"),u.router.push({name:d["a"].HOME})})),a.config$.subscribe(function(){var e=Tr(lt.a.mark((function e(t){var n;return lt.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(u.store.commit("updateConfig",t),null!==(n=t.caps)&&void 0!==n&&n[D["a"].RECEIVE]){e.next=4;break}return e.next=4,u.notifyNoReceive();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),a.events$.subscribe(function(){var e=Tr(lt.a.mark((function e(t){var n;return lt.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("token/monitored"!==t.type){e.next=5;break}u.store.commit("updateTokens",gr({},t.payload.token,{address:t.payload.token})),u.fetchAndUpdateTokenData([t.payload.token]),e.next=47;break;case 5:if("matrix/presence/success"!==t.type){e.next=9;break}u.store.commit("updatePresence",gr({},t.meta.address,t.payload.available)),e.next=47;break;case 9:if("ms/balanceProof/sent"!==t.type){e.next=16;break}if(t.payload.confirmed){e.next=12;break}return e.abrupt("return");case 12:return e.next=14,u.notifyBalanceProofSend(t.payload.monitoringService,t.payload.partner,t.payload.reward,t.payload.txHash);case 14:e.next=47;break;case 16:if("udc/withdraw/success"!==t.type){e.next=23;break}if(t.payload.confirmed){e.next=19;break}return e.abrupt("return");case 19:return e.next=21,u.notifyWithdrawal(t.meta.amount,t.payload.withdrawal);case 21:e.next=47;break;case 23:if("udc/withdraw/plan/failure"!==t.type){e.next=28;break}return e.next=26,u.notifyWithdrawalFailure(null===(n=t.payload)||void 0===n?void 0:n.code,t.meta.amount,t.payload.message);case 26:e.next=47;break;case 28:if("channel/settle/success"!==t.type){e.next=34;break}if(!t.payload.confirmed){e.next=32;break}return e.next=32,u.notifyChannelSettleSuccess(t.meta.partner);case 32:e.next=47;break;case 34:if("channel/settle/failure"!==t.type){e.next=39;break}return e.next=37,u.notifyChannelSettleFailure(t.meta.partner);case 37:e.next=47;break;case 39:if("channel/open/success"!==t.type){e.next=44;break}return e.next=42,u.notifyChannelOpenSuccess(t.payload.txBlock,t.payload.txHash,t.payload.confirmed,t.meta.partner);case 42:e.next=47;break;case 44:if("channel/open/failed"!==t.type){e.next=47;break}return e.next=47,u.notifyChannelOpenFailed(t.payload.message);case 47:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),a.events$.subscribe((function(e){u.updatePlannedUserDepositWithdrawals(e)})),a.channels$.subscribe((function(e){u.store.commit("updateChannels",e)})),a.transfers$.subscribe((function(e){u.store.commit("updateTransfers",e)})),this.store.commit("network",a.network),window.addEventListener("beforeunload",(function(e){return e.preventDefault(),""})),t.next=39,a.start();case 39:return t.t0=this.store,t.next=42,this.getBalance();case 42:if(t.t1=t.sent,t.t0.commit.call(t.t0,"balance",t.t1),!r){t.next=50;break}return t.t2=this.store,t.next=48,this.getBalance(a.address);case 48:t.t3=t.sent,t.t2.commit.call(t.t2,"raidenAccountBalance",t.t3);case 50:t.next=56;break;case 52:t.prev=52,t.t4=t["catch"](0),s=t.t4.message&&t.t4.message.indexOf("No deploy info provided")>-1?C["a"].UNSUPPORTED_NETWORK:t.t4.message&&t.t4.message.indexOf("Could not replace stored state")>-1?C["a"].RDN_STATE_MIGRATION:t.t4 instanceof Dr?C["a"].INITIALIZATION_FAILED:C["a"].NO_ACCOUNT,this.store.commit("accessDenied",s);case 56:this.store.commit("loadComplete");case 57:case"end":return t.stop()}}),t,this,[[0,52]])})));function n(e,n){return t.apply(this,arguments)}return n}()},{key:"notifyNoReceive",value:function(){var e=Tr(lt.a.mark((function e(){return lt.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.store.commit("notifications/notificationAddOrReplace",{icon:nr.t("notifications.no-receive.icon"),title:nr.t("notifications.no-receive.title"),description:nr.t("notifications.no-receive.description"),importance:I["a"].HIGH,context:$["a"].WARNING});case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"monitorPreSetTokens",value:function(){var e=Tr(lt.a.mark((function e(){var t,n,r,a,o,i,c;return lt.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=this.raiden.network.chainId,null!==(t=this._configuration)&&void 0!==t&&null!==(n=t.per_network)&&void 0!==n&&n[r]){e.next=3;break}return e.abrupt("return");case 3:a=this._configuration.per_network[r],o=wr(a.monitored),e.prev=5,o.s();case 7:if((i=o.n()).done){e.next=13;break}return c=i.value,e.next=11,this.raiden.monitorToken(c);case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e["catch"](5),o.e(e.t0);case 18:return e.prev=18,o.f(),e.finish(18);case 21:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"notifyWithdrawalFailure",value:function(){var e=Tr(lt.a.mark((function e(t,n,r){var a,o,i,c,s,u;return lt.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(["UDC_PLAN_WITHDRAW_GT_ZERO","UDC_PLAN_WITHDRAW_EXCEEDS_AVAILABLE","UDC_PLAN_WITHDRAW_FAILED"].indexOf(t)>=0)){e.next=2;break}return e.abrupt("return");case 2:o=this.store.state.userDepositContract.token,i=null!==(a=o.decimals)&&void 0!==a?a:18,c=rr["a"].toUnits(n,i),s="string"===typeof t?nr.t("notifications.withdrawal.failure.descriptions.".concat(t),{amount:c,symbol:o.symbol}):void 0,u=s||nr.t("notifications.withdrawal.failure.description",{amount:c,symbol:o.symbol,message:r}),this.store.commit("notifications/notificationAddOrReplace",{title:nr.t("notifications.withdrawal.failure.title"),description:u,context:$["a"].ERROR,importance:I["a"].HIGH});case 8:case"end":return e.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"notifyWithdrawal",value:function(){var e=Tr(lt.a.mark((function e(t,n){var r,a,o,i,c,s;return lt.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=this.store.state.userDepositContract.token,o=null!==(r=a.decimals)&&void 0!==r?r:18,i=rr["a"].toUnits(t,o),c=rr["a"].toUnits(n,o),s={icon:nr.t("notifications.withdrawn.icon"),title:nr.t("notifications.withdrawn.title"),description:nr.t("notifications.withdrawn.description",{plannedAmount:i,withdrawnAmount:c,symbol:a.symbol}),context:$["a"].INFO,importance:I["a"].HIGH},this.usingSubkey&&(s=jr(jr({},s),{},{link:nr.t("notifications.withdrawn.link"),dappRoute:d["a"].ACCOUNT_WITHDRAWAL})),this.store.commit("notifications/notificationAddOrReplace",s);case 7:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"notifyBalanceProofSend",value:function(){var e=Tr(lt.a.mark((function e(t,n,r,a){var o,i,c,s;return lt.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:i=this.store.state.userDepositContract.token,c=null!==(o=i.decimals)&&void 0!==o?o:18,s=rr["a"].toUnits(r,c),this.store.commit("notifications/notificationAddOrReplace",{title:nr.t("notifications.ms-balance-proof.title"),description:nr.t("notifications.ms-balance-proof.description",{monitoringService:t,partner:n,reward:s,symbol:i.symbol,txHash:a}),context:$["a"].INFO,importance:I["a"].HIGH});case 4:case"end":return e.stop()}}),e,this)})));function t(t,n,r,a){return e.apply(this,arguments)}return t}()},{key:"notifyChannelSettleSuccess",value:function(){var e=Tr(lt.a.mark((function e(t){var n;return lt.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=nr.t("notifications.settlement.success.description",{partner:t}),this.store.commit("notifications/notificationAddOrReplace",{title:nr.t("notifications.settlement.success.title"),description:n,icon:nr.t("notifications.settlement.icon"),context:$["a"].NONE,importance:I["a"].HIGH});case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"notifyChannelSettleFailure",value:function(){var e=Tr(lt.a.mark((function e(t){return lt.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.store.commit("notifications/notificationAddOrReplace",{title:nr.t("notifications.settlement.failure.title"),description:nr.t("notifications.settlement.failure.description",{partner:t}),icon:nr.t("notifications.settlement.icon"),context:$["a"].NONE,importance:I["a"].HIGH});case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"notifyChannelOpenSuccess",value:function(){var e=Tr(lt.a.mark((function e(t,n,r,a){var o,i,c,s,u,l,f,p,d,b;return lt.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:c=null!==(o=null===(i=this.store.state.config)||void 0===i?void 0:i.confirmationBlocks)&&void 0!==o?o:0,s=t+c,u=nr.t("notifications.channel-open.icon"),l="",f="",void 0===r||!0===r?(l=nr.t("notifications.channel-open.success.title"),p=Pr(r),f=nr.t("notifications.channel-open.success.description",{partner:a,state:p})):(d=nr.t("notifications.tx-reorged-failure-reason"),l=nr.t("notifications.channel-open.failure.title"),f=nr.t("notifications.channel-open.failure.description",{reason:d})),b={title:l,description:f,icon:u,txHash:n,txConfirmationBlock:s,importance:I["a"].HIGH},this.store.commit("notifications/notificationAddOrReplace",b);case 8:case"end":return e.stop()}}),e,this)})));function t(t,n,r,a){return e.apply(this,arguments)}return t}()},{key:"notifyChannelOpenFailed",value:function(){var e=Tr(lt.a.mark((function e(t){return lt.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.store.commit("notifications/notificationAddOrReplace",{title:nr.t("notifications.channel-open.failure.title"),description:nr.t("notifications.channel-open.failure.description",{reason:t}),icon:nr.t("notifications.channel-open.icon"),importance:I["a"].HIGH});case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"updatePlannedUserDepositWithdrawals",value:function(){var e=Tr(lt.a.mark((function e(t){return lt.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:"udc/withdraw/plan/success"===t.type?!1===t.payload.confirmed?this.store.commit("userDepositContract/clearPlannedWithdrawal"):this.store.commit("userDepositContract/setPlannedWithdrawal",{txHash:t.payload.txHash,txBlock:t.payload.txBlock,amount:t.meta.amount,withdrawBlock:t.payload.block,confirmed:t.payload.confirmed}):"udc/withdraw/success"===t.type&&t.payload.confirmed&&this.store.commit("userDepositContract/clearPlannedWithdrawal");case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getBalance",value:function(){var e=Tr(lt.a.mark((function e(t){var n;return lt.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.raiden.getBalance(t);case 2:return n=e.sent,e.abrupt("return",rr["a"].toEth(n));case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getToken",value:function(){var e=Tr(lt.a.mark((function e(t){var n,r,a,o,i,c,s,u;return lt.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=this.raiden,e.prev=1,e.next=4,Promise.all([n.getTokenBalance(t),n.getTokenInfo(t)]);case 4:return r=e.sent,a=hr(r,2),o=a[0],i=a[1],c=i.decimals,s=i.symbol,u=i.name,e.abrupt("return",{name:u,symbol:s,balance:o,decimals:c,address:t});case 14:return e.prev=14,e.t0=e["catch"](1),e.abrupt("return",null);case 17:case"end":return e.stop()}}),e,this,[[1,14]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"openChannel",value:function(){var e=Tr(lt.a.mark((function e(t,n,r,a){var o,i;return lt.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o=function(e,t){a&&a({current:e,total:t})},i=this.raiden,o(1,3),e.next=5,i.openChannel(t,n,{deposit:r},(function(e){return e.type===D["d"].OPENED?o(2,3):""}));case 5:case"end":return e.stop()}}),e,this)})));function t(t,n,r,a){return e.apply(this,arguments)}return t}()},{key:"closeChannel",value:function(){var e=Tr(lt.a.mark((function e(t,n){return lt.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.raiden.closeChannel(t,n);case 2:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"deposit",value:function(){var e=Tr(lt.a.mark((function e(t,n,r){return lt.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.raiden.depositChannel(t,n,r);case 2:case"end":return e.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"withdraw",value:function(){var e=Tr(lt.a.mark((function e(t,n,r){return lt.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.raiden.withdrawChannel(t,n,r);case 2:case"end":return e.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"settleChannel",value:function(){var e=Tr(lt.a.mark((function e(t,n){return lt.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.raiden.settleChannel(t,n);case 2:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"updateUserDepositContractToken",value:function(){var e=Tr(lt.a.mark((function e(){var t;return lt.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getToken(this._userDepositTokenAddress);case 2:t=e.sent,this.store.commit("userDepositContract/setToken",t);case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"fetchAndUpdateTokenData",value:function(){var e=Tr(lt.a.mark((function e(){var t,n,r=this,a=arguments;return lt.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=a.length>0&&void 0!==a[0]?a[0]:Object.values(this.store.state.tokens).map((function(e){return e.address})),t.length){e.next=3;break}return e.abrupt("return");case 3:return n=function(){var e=Tr(lt.a.mark((function e(t){return lt.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",r.getToken(t).then((function(e){e&&r.store.commit("updateTokens",gr({},e.address,e))})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.next=6,Jn()(6,t,n);case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"transfer",value:function(){var e=Tr(lt.a.mark((function e(t,n,r,a,o){var i;return lt.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.raiden.transfer(t,n,r,{paymentId:o,paths:a});case 2:return i=e.sent,e.next=5,this.raiden.waitTransfer(i);case 5:case"end":return e.stop()}}),e,this)})));function t(t,n,r,a,o){return e.apply(this,arguments)}return t}()},{key:"findRoutes",value:function(){var e=Tr(lt.a.mark((function e(t,n,r,a){return lt.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.raiden.findRoutes(t,n,r,{pfs:a});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(t,n,r,a){return e.apply(this,arguments)}return t}()},{key:"fetchServices",value:function(){var e=Tr(lt.a.mark((function e(){return lt.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.raiden.findPFS();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"directRoute",value:function(){var e=Tr(lt.a.mark((function e(t,n,r){return lt.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.raiden.directRoute(t,n,r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"mint",value:function(){var e=Tr(lt.a.mark((function e(t,n){return lt.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.raiden.mint(t,n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"depositToUDC",value:function(){var e=Tr(lt.a.mark((function e(t,n){return lt.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.raiden.depositToUDC(t,(function(e){return e.type===D["d"].APPROVED?n():null}));case 2:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"planUDCWithdraw",value:function(){var e=Tr(lt.a.mark((function e(t){return lt.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this.raiden.planUDCWithdraw(t));case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getUDCCapacity",value:function(){var e=Tr(lt.a.mark((function e(){return lt.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this.raiden.getUDCCapacity());case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getAvailability",value:function(){var e=Tr(lt.a.mark((function e(t){var n,r;return lt.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.raiden.getAvailability(t);case 3:return n=e.sent,r=n.available,e.abrupt("return",r);case 8:e.prev=8,e.t0=e["catch"](0),this.store.commit("updatePresence",gr({},t,!1));case 11:return e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e,this,[[0,8]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getState",value:function(){var e=Tr(lt.a.mark((function e(){return lt.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this._raiden.stop(),e.abrupt("return",this._raiden.dumpDatabase());case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"transferToRaidenAccount",value:function(){var e=Tr(lt.a.mark((function e(t){return lt.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.raiden.transferOnchainBalance(this.raiden.address,Xn["b"].parseEther(t));case 2:return e.next=4,this.updateBalances();case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"transferToMainAccount",value:function(){var e=Tr(lt.a.mark((function e(t){var n;return lt.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=this.raiden.mainAddress,!n){e.next=6;break}return e.next=4,this.raiden.transferOnchainBalance(n,Xn["b"].parseEther(t),{subkey:!0});case 4:return e.next=6,this.updateBalances();case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"transferOnChainTokens",value:function(){var e=Tr(lt.a.mark((function e(t,n){var r;return lt.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=this.raiden.mainAddress,r){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,this.raiden.transferOnchainTokens(t,r,n,{subkey:!0});case 5:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"getRaidenAccountBalances",value:function(){var e=Tr(lt.a.mark((function e(){var t,n,r,a,o,i,c,s=this;return lt.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=this.raiden,t.mainAddress){e.next=3;break}return e.abrupt("return",[]);case 3:return e.next=5,t.getTokenList();case 5:return n=e.sent,r={},a=function(){var e=Tr(lt.a.mark((function e(n){return lt.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",t.getTokenBalance(n,t.address).then((function(e){e.gt(Xn["a"].Zero)&&(r[n]={address:n,balance:e})})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.next=10,Jn()(6,n,a);case 10:if(o={},Object.keys(r).forEach((function(e){var t=s.store.state.tokens[e];t&&(o[e]=jr(jr({},t),r[e]),delete r[e])})),i=function(){var e=Tr(lt.a.mark((function e(n){return lt.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",t.getTokenInfo(n).then((function(e){o[n]=jr(jr({},e),r[n])})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c=Object.keys(r),!(c.length>0)){e.next=17;break}return e.next=17,Jn()(6,c,i);case 17:return e.abrupt("return",Object.values(o));case 18:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"monitorToken",value:function(){var e=Tr(lt.a.mark((function e(t){return lt.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.raiden.monitorToken(t);case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getTokenBalance",value:function(){var e=Tr(lt.a.mark((function e(t,n){var r;return lt.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.raiden.getTokenBalance(t,n);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"getSuggestedPartners",value:function(){var e=Tr(lt.a.mark((function e(t){return lt.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.raiden.suggestPartners(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}],[{key:"createRaiden",value:function(){var e=Tr(lt.a.mark((function e(t){var n,r,a,o,i=arguments;return lt.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:0,r=i.length>2?i[2]:void 0,a=i.length>3?i[3]:void 0,e.prev=3,e.next=6,bn.contracts();case 6:return o=e.sent,e.next=9,D["f"].create(t,n,{state:r},o,jr(jr(jr(jr(jr({pfsSafetyMargin:1.1},{pfsMode:D["e"].onlyAdditional,additionalServices:["https://pfs.demo001.env.raiden.network"]}),{},{matrixServer:"https://transport.demo001.env.raiden.network",matrixServerLookup:Object({VUE_APP_PFS:"https://pfs.demo001.env.raiden.network",VUE_APP_MATRIX_SERVER:"https://transport.demo001.env.raiden.network",VUE_APP_HUB:"hub.raiden.eth",VUE_APP_ALLOW_MAINNET:"false",VUE_APP_IMPRINT:"https://raiden.network/privacy.html",VUE_APP_TERMS:"https://github.com/raiden-network/light-client/blob/master/TERMS.md",NODE_ENV:"production",VUE_APP_I18N_LOCALE:"en",VUE_APP_I18N_FALLBACK_LOCALE:"en",BASE_URL:"/"}).VUE_APP_MATRIX_LIST_URL},Object({VUE_APP_PFS:"https://pfs.demo001.env.raiden.network",VUE_APP_MATRIX_SERVER:"https://transport.demo001.env.raiden.network",VUE_APP_HUB:"hub.raiden.eth",VUE_APP_ALLOW_MAINNET:"false",VUE_APP_IMPRINT:"https://raiden.network/privacy.html",VUE_APP_TERMS:"https://github.com/raiden-network/light-client/blob/master/TERMS.md",NODE_ENV:"production",VUE_APP_I18N_LOCALE:"en",VUE_APP_I18N_FALLBACK_LOCALE:"en",BASE_URL:"/"}).VUE_APP_REVEAL_TIMEOUT&&+Object({VUE_APP_PFS:"https://pfs.demo001.env.raiden.network",VUE_APP_MATRIX_SERVER:"https://transport.demo001.env.raiden.network",VUE_APP_HUB:"hub.raiden.eth",VUE_APP_ALLOW_MAINNET:"false",VUE_APP_IMPRINT:"https://raiden.network/privacy.html",VUE_APP_TERMS:"https://github.com/raiden-network/light-client/blob/master/TERMS.md",NODE_ENV:"production",VUE_APP_I18N_LOCALE:"en",VUE_APP_I18N_FALLBACK_LOCALE:"en",BASE_URL:"/"}).VUE_APP_REVEAL_TIMEOUT?{revealTimeout:+Object({VUE_APP_PFS:"https://pfs.demo001.env.raiden.network",VUE_APP_MATRIX_SERVER:"https://transport.demo001.env.raiden.network",VUE_APP_HUB:"hub.raiden.eth",VUE_APP_ALLOW_MAINNET:"false",VUE_APP_IMPRINT:"https://raiden.network/privacy.html",VUE_APP_TERMS:"https://github.com/raiden-network/light-client/blob/master/TERMS.md",NODE_ENV:"production",VUE_APP_I18N_LOCALE:"en",VUE_APP_I18N_FALLBACK_LOCALE:"en",BASE_URL:"/"}).VUE_APP_REVEAL_TIMEOUT}:void 0),Object({VUE_APP_PFS:"https://pfs.demo001.env.raiden.network",VUE_APP_MATRIX_SERVER:"https://transport.demo001.env.raiden.network",VUE_APP_HUB:"hub.raiden.eth",VUE_APP_ALLOW_MAINNET:"false",VUE_APP_IMPRINT:"https://raiden.network/privacy.html",VUE_APP_TERMS:"https://github.com/raiden-network/light-client/blob/master/TERMS.md",NODE_ENV:"production",VUE_APP_I18N_LOCALE:"en",VUE_APP_I18N_FALLBACK_LOCALE:"en",BASE_URL:"/"}).VUE_APP_SETTLE_TIMEOUT&&+Object({VUE_APP_PFS:"https://pfs.demo001.env.raiden.network",VUE_APP_MATRIX_SERVER:"https://transport.demo001.env.raiden.network",VUE_APP_HUB:"hub.raiden.eth",VUE_APP_ALLOW_MAINNET:"false",VUE_APP_IMPRINT:"https://raiden.network/privacy.html",VUE_APP_TERMS:"https://github.com/raiden-network/light-client/blob/master/TERMS.md",NODE_ENV:"production",VUE_APP_I18N_LOCALE:"en",VUE_APP_I18N_FALLBACK_LOCALE:"en",BASE_URL:"/"}).VUE_APP_SETTLE_TIMEOUT?{settleTimeout:+Object({VUE_APP_PFS:"https://pfs.demo001.env.raiden.network",VUE_APP_MATRIX_SERVER:"https://transport.demo001.env.raiden.network",VUE_APP_HUB:"hub.raiden.eth",VUE_APP_ALLOW_MAINNET:"false",VUE_APP_IMPRINT:"https://raiden.network/privacy.html",VUE_APP_TERMS:"https://github.com/raiden-network/light-client/blob/master/TERMS.md",NODE_ENV:"production",VUE_APP_I18N_LOCALE:"en",VUE_APP_I18N_FALLBACK_LOCALE:"en",BASE_URL:"/"}).VUE_APP_SETTLE_TIMEOUT}:void 0),Object({VUE_APP_PFS:"https://pfs.demo001.env.raiden.network",VUE_APP_MATRIX_SERVER:"https://transport.demo001.env.raiden.network",VUE_APP_HUB:"hub.raiden.eth",VUE_APP_ALLOW_MAINNET:"false",VUE_APP_IMPRINT:"https://raiden.network/privacy.html",VUE_APP_TERMS:"https://github.com/raiden-network/light-client/blob/master/TERMS.md",NODE_ENV:"production",VUE_APP_I18N_LOCALE:"en",VUE_APP_I18N_FALLBACK_LOCALE:"en",BASE_URL:"/"}).VUE_APP_CONFIRMATION_BLOCKS&&+Object({VUE_APP_PFS:"https://pfs.demo001.env.raiden.network",VUE_APP_MATRIX_SERVER:"https://transport.demo001.env.raiden.network",VUE_APP_HUB:"hub.raiden.eth",VUE_APP_ALLOW_MAINNET:"false",VUE_APP_IMPRINT:"https://raiden.network/privacy.html",VUE_APP_TERMS:"https://github.com/raiden-network/light-client/blob/master/TERMS.md",NODE_ENV:"production",VUE_APP_I18N_LOCALE:"en",VUE_APP_I18N_FALLBACK_LOCALE:"en",BASE_URL:"/"}).VUE_APP_CONFIRMATION_BLOCKS?{confirmationBlocks:+Object({VUE_APP_PFS:"https://pfs.demo001.env.raiden.network",VUE_APP_MATRIX_SERVER:"https://transport.demo001.env.raiden.network",VUE_APP_HUB:"hub.raiden.eth",VUE_APP_ALLOW_MAINNET:"false",VUE_APP_IMPRINT:"https://raiden.network/privacy.html",VUE_APP_TERMS:"https://github.com/raiden-network/light-client/blob/master/TERMS.md",NODE_ENV:"production",VUE_APP_I18N_LOCALE:"en",VUE_APP_I18N_FALLBACK_LOCALE:"en",BASE_URL:"/"}).VUE_APP_CONFIRMATION_BLOCKS}:void 0),Object({VUE_APP_PFS:"https://pfs.demo001.env.raiden.network",VUE_APP_MATRIX_SERVER:"https://transport.demo001.env.raiden.network",VUE_APP_HUB:"hub.raiden.eth",VUE_APP_ALLOW_MAINNET:"false",VUE_APP_IMPRINT:"https://raiden.network/privacy.html",VUE_APP_TERMS:"https://github.com/raiden-network/light-client/blob/master/TERMS.md",NODE_ENV:"production",VUE_APP_I18N_LOCALE:"en",VUE_APP_I18N_FALLBACK_LOCALE:"en",BASE_URL:"/"}).VUE_APP_EXPIRY_FACTOR&&+Object({VUE_APP_PFS:"https://pfs.demo001.env.raiden.network",VUE_APP_MATRIX_SERVER:"https://transport.demo001.env.raiden.network",VUE_APP_HUB:"hub.raiden.eth",VUE_APP_ALLOW_MAINNET:"false",VUE_APP_IMPRINT:"https://raiden.network/privacy.html",VUE_APP_TERMS:"https://github.com/raiden-network/light-client/blob/master/TERMS.md",NODE_ENV:"production",VUE_APP_I18N_LOCALE:"en",VUE_APP_I18N_FALLBACK_LOCALE:"en",BASE_URL:"/"}).VUE_APP_EXPIRY_FACTOR?{expiryFactor:+Object({VUE_APP_PFS:"https://pfs.demo001.env.raiden.network",VUE_APP_MATRIX_SERVER:"https://transport.demo001.env.raiden.network",VUE_APP_HUB:"hub.raiden.eth",VUE_APP_ALLOW_MAINNET:"false",VUE_APP_IMPRINT:"https://raiden.network/privacy.html",VUE_APP_TERMS:"https://github.com/raiden-network/light-client/blob/master/TERMS.md",NODE_ENV:"production",VUE_APP_I18N_LOCALE:"en",VUE_APP_I18N_FALLBACK_LOCALE:"en",BASE_URL:"/"}).VUE_APP_EXPIRY_FACTOR}:void 0),a,Object({VUE_APP_PFS:"https://pfs.demo001.env.raiden.network",VUE_APP_MATRIX_SERVER:"https://transport.demo001.env.raiden.network",VUE_APP_HUB:"hub.raiden.eth",VUE_APP_ALLOW_MAINNET:"false",VUE_APP_IMPRINT:"https://raiden.network/privacy.html",VUE_APP_TERMS:"https://github.com/raiden-network/light-client/blob/master/TERMS.md",NODE_ENV:"production",VUE_APP_I18N_LOCALE:"en",VUE_APP_I18N_FALLBACK_LOCALE:"en",BASE_URL:"/"}).VUE_APP_SUBKEY_ORIGIN_URL);case 9:return e.abrupt("return",e.sent);case 12:throw e.prev=12,e.t0=e["catch"](3),new Dr(e.t0);case 15:case"end":return e.stop()}}),e,null,[[3,12]])})));function t(t){return e.apply(this,arguments)}return t}()}]),e}(),Rr=function(e){or(n,e);var t=ir(n);function n(){return Sr(this,n),t.apply(this,arguments)}return n}(ur(Error)),Dr=function(e){or(n,e);var t=ir(n);function n(){return Sr(this,n),t.apply(this,arguments)}return n}(ur(Error));function Cr(e,t){e.prototype.$raiden=new Nr(Se,Yn)}var Ir,Ur,Mr,Lr=n("47c8"),Br=n.n(Lr);function Fr(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function Wr(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Fr(o,r,a,i,c,"next",e)}function c(e){Fr(o,r,a,i,c,"throw",e)}i(void 0)}))}}function Vr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(function(e){e["INSTALLATION_ERROR"]="installation_error",e["RELOAD_WINDOW"]="reload_window",e["CACHE_IS_INVALID"]="cache_is_invalid"})(Ir||(Ir={})),function(e){e["UPDATE"]="update",e["VERIFY_CACHE"]="verify_cache"}(Ur||(Ur={}));var $r,Hr=(null!==(Mr="/")&&void 0!==Mr?Mr:"/")+"version.json",qr=function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:36e5,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e4;Vr(this,e),this.store=t,this.update=function(){var e;navigator.serviceWorker&&(null===(e=navigator.serviceWorker.controller)||void 0===e||e.postMessage(Ur.UPDATE))},this.onMessage=function(e){if(e.data)switch(e.data){case Ir.INSTALLATION_ERROR:case Ir.CACHE_IS_INVALID:n.setUpdateIsMandatory();break;case Ir.RELOAD_WINDOW:n.reloadWindow();break;default:break}},this.updateAvailableVersion=Wr(lt.a.mark((function e(){var t,r,a;return lt.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(Hr);case 3:return t=e.sent,e.next=6,t.json();case 6:if(r=e.sent,a=r.version.version,!y.a.validate(a)){e.next=12;break}n.store.commit("setAvailableVersion",a),e.next=13;break;case 12:throw new Error("Maleformed version string: ".concat(a));case 13:e.next=18;break;case 15:e.prev=15,e.t0=e["catch"](0),console.warn("Failed to get (a valid) version: ".concat(e.t0.message));case 18:case"end":return e.stop()}}),e,null,[[0,15]])}))),this.verifyCacheValidity=function(){var e;null===(e=navigator.serviceWorker.controller)||void 0===e||e.postMessage(Ur.VERIFY_CACHE)},this.reloadWindow=function(){window.location.reload()},this.setUpdateIsMandatory=function(){n.store.commit("setUpdateIsMandatory")},navigator.serviceWorker&&(navigator.serviceWorker.addEventListener("message",this.onMessage),this.updateAvailableVersion(),setInterval(this.updateAvailableVersion,r),setInterval(this.verifyCacheValidity,a))};function Kr(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function Gr(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Kr(o,r,a,i,c,"next",e)}function c(e){Kr(o,r,a,i,c,"throw",e)}i(void 0)}))}}var Yr=Br.a.join(null!==($r="/")&&void 0!==$r?$r:"/","service-worker.js");function Xr(){var e=!!navigator.serviceWorker.controller;e||navigator.serviceWorker.register(Yr)}function Qr(e,t){return Zr.apply(this,arguments)}function Zr(){return Zr=Gr(lt.a.mark((function e(t,n){var r,a;return lt.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.prototype.$serviceWorkerAssistant=new qr(Se),r="serviceWorker"in navigator,a=!0,r&&a&&(window.onload=Xr);case 4:case"end":return e.stop()}}),e)}))),Zr.apply(this,arguments)}n("8935"),n("8b61"),n("4fa6");var zr=n("8d28");a["a"].use(zr["a"]);var Jr=new zr["a"]({icons:{iconfont:"mdi"},theme:{options:{customProperties:!0},dark:!0,themes:{dark:{notification:"#ea6464",primary:"#28A5C8",secondary:"#0A6E87",pending:"#fdd327",success:"#1dc512",failed:"#ea6464"}}}}),ea=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",{attrs:{dark:""}},[n("install-banner"),n("div",{attrs:{id:"application-wrapper"}},[n("router-view",{attrs:{name:"modal"}}),n("transition",{attrs:{name:"slide"}},[n("router-view",{attrs:{name:"notifications"}})],1),n("div",{attrs:{id:"application-content"}},[n("app-header"),n("v-main",[n("v-container",{staticClass:"application__container fill-height",attrs:{fluid:""}},[n("router-view")],1)],1)],1)],1),e.imprint&&e.terms?n("div",{staticClass:"imprint"},[n("a",{staticClass:"imprint__policy",attrs:{href:e.imprint,target:"_blank"}},[e._v(" "+e._s(e.$t("application.privacy-policy"))+" ")]),n("a",{staticClass:"imprint__terms",attrs:{href:e.terms,target:"_blank"}},[e._v(" "+e._s(e.$t("application.terms"))+" ")])]):e._e(),n("offline-snackbar"),n("update-snackbar"),n("receiving-ongoing-snackbar"),n("notification-snackbar")],1)},ta=[],na=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"app-header"},[e.showInfoOverlay?r("info-overlay",{on:{"close-overlay":function(t){e.showInfoOverlay=!1}}}):e._e(),r("header-content",{staticClass:"app-header__content",attrs:{"show-network":!e.showTitleOnly},on:{"show-info":function(t){e.showInfoOverlay=!0},"navigate-back":function(t){return e.navigateBack()}}},[r("div",{staticClass:"app-header__content__icons"},[e.showTitleOnly?e._e():r("v-btn",{staticClass:"app-header__content__icons__notifications-button",attrs:{"data-cy":"app-header_content_icons_notifications-button",icon:"",height:"30px",width:"25px"},nativeOn:{click:function(t){return e.notificationPanel()}}},[e.newNotifications?r("v-badge",{attrs:{color:"notification",overlap:"",bordered:"",dot:""}},[r("v-img",{attrs:{height:"30px",width:"25px",src:n("db7b")}})],1):r("v-img",{attrs:{height:"30px",width:"25px",src:n("db7b")}})],1),e.isDisclaimerRoute?e._e():r("header-identicon",{staticClass:"app-header__content__icons__identicon",attrs:{"data-cy":"app-header_content_icons_identicon"},nativeOn:{click:function(t){return e.accountMenu()}}})],1)])],1)},ra=[],aa=n("b592"),oa=n("233e"),ia=n("6af0"),ca=n("152b");function sa(e){return sa="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sa(e)}function ua(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function la(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ua(Object(n),!0).forEach((function(t){fa(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ua(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pa(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function da(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ba(e,t,n){return t&&da(e.prototype,t),n&&da(e,n),e}function ha(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ya(e,t)}function ya(e,t){return ya=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ya(e,t)}function ma(e){var t=ja();return function(){var n,r=ga(e);if(t){var a=ga(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return va(this,n)}}function va(e,t){return!t||"object"!==sa(t)&&"function"!==typeof t?Oa(e):t}function Oa(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ja(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function ga(e){return ga=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ga(e)}var wa=Object(N["a"])("notifications"),_a=wa.mapState,ka=wa.mapMutations,Ea=function(e){ha(n,e);var t=ma(n);function n(){var e;return pa(this,n),e=t.apply(this,arguments),e.showInfoOverlay=!1,e}return ba(n,[{key:"isDisclaimerRoute",get:function(){return this.$route.name===d["a"].DISCLAIMER}},{key:"showTitleOnly",get:function(){return this.isDisclaimerRoute||!this.isConnected}},{key:"navigateBack",value:function(){this.onBackClicked()}},{key:"notificationPanel",value:function(){this.notificationsViewed(),this.navigateToNotifications(),this.showInfoOverlay=!1}},{key:"accountMenu",value:function(){this.navigateToAccount(),this.showInfoOverlay=!1}}]),n}(Object(Be["c"])(ca["a"]));Ea=Object(Le["a"])([Object(Be["a"])({components:{InfoOverlay:ia["a"],HeaderContent:aa["a"],HeaderIdenticon:oa["a"]},computed:la(la({},Object(N["c"])(["isConnected"])),_a(["newNotifications"])),methods:la({},ka(["notificationsViewed"]))})],Ea);var Ta=Ea,Sa=Ta,xa=(n("bcbb"),n("4675")),Aa=n("9c46"),Pa=Object(tt["a"])(Sa,na,ra,!1,null,"b8da2d06",null),Na=Pa.exports;rt()(Pa,{VBadge:xa["a"],VBtn:Aa["a"],VImg:Vn["a"]});var Ra=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.visible?n("v-banner",{staticClass:"install-banner",attrs:{color:"#1e1e1e","two-line":""},scopedSlots:e._u([{key:"actions",fn:function(t){var r=t.dismiss;return[n("v-btn",{staticClass:"install-banner__install-button",attrs:{dark:"",text:"",outlined:""},on:{click:e.install}},[e._v(" "+e._s(e.$t("install-banner.install"))+" ")]),n("v-btn",{staticClass:"install-banner__dismiss-button",attrs:{dark:"",text:"",outlined:""},on:{click:r}},[e._v(" "+e._s(e.$t("install-banner.dismiss"))+" ")])]}}],null,!1,3359785919)},[e.$vuetify.breakpoint.mobile?[e._v(" "+e._s(e.$t("install-banner.message-mobile"))+" ")]:[e._v(" "+e._s(e.$t("install-banner.message-desktop"))+" ")]],2):e._e()},Da=[];function Ca(e){return Ca="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ca(e)}function Ia(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function Ua(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Ia(o,r,a,i,c,"next",e)}function c(e){Ia(o,r,a,i,c,"throw",e)}i(void 0)}))}}function Ma(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function La(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ba(e,t,n){return t&&La(e.prototype,t),n&&La(e,n),e}function Fa(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Wa(e,t)}function Wa(e,t){return Wa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Wa(e,t)}function Va(e){var t=qa();return function(){var n,r=Ka(e);if(t){var a=Ka(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return $a(this,n)}}function $a(e,t){return!t||"object"!==Ca(t)&&"function"!==typeof t?Ha(e):t}function Ha(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qa(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Ka(e){return Ka=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ka(e)}var Ga=function(e){Fa(n,e);var t=Va(n);function n(){var e;return Ma(this,n),e=t.apply(this,arguments),e.visible=!1,e.installEvent=void 0,e}return Ba(n,[{key:"created",value:function(){window.addEventListener("beforeinstallprompt",this.onBeforeInstallPrompt)}},{key:"onBeforeInstallPrompt",value:function(e){e.preventDefault(),this.installEvent=e,this.visible=!0}},{key:"install",value:function(){var e=Ua(lt.a.mark((function e(){return lt.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.installEvent){e.next=2;break}return e.abrupt("return");case 2:return this.visible=!1,e.next=5,this.installEvent.prompt();case 5:this.installEvent=void 0;case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),n}(Be["f"]);Ga=Object(Le["a"])([Be["a"]],Ga);var Ya=Ga,Xa=Ya,Qa=n("1a6b"),Za=Object(tt["a"])(Xa,Ra,Da,!1,null,null,null),za=Za.exports;rt()(Za,{VBanner:Qa["a"],VBtn:Aa["a"]});var Ja=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.notification.display?r("v-snackbar",{staticClass:"notification-snackbar",attrs:{timeout:e.notification.duration,app:"",rounded:"","max-width":"550px",color:"primary"},on:{input:function(t){return e.setNotificationShown(e.notification.id)}},scopedSlots:e._u([{key:"action",fn:function(t){var n=t.attrs;return[r("v-btn",e._b({attrs:{icon:"",left:""},on:{click:function(t){return e.dismiss()}}},"v-btn",n,!1),[r("v-icon",[e._v("mdi-close")])],1)]}}],null,!1,1830794017),model:{value:e.notification.display,callback:function(t){e.$set(e.notification,"display",t)},expression:"notification.display"}},[r("v-row",{staticClass:"notification-snackbar__area",attrs:{"no-gutters":""},on:{click:e.open}},[r("v-col",{attrs:{cols:"2"}},[r("img",{attrs:{src:n("4cd4")}})]),r("v-col",{staticClass:"notification-snackbar__area__title"},[r("span",[e._v(" "+e._s(e.notification.title)+" ")])])],1)],1):e._e()},eo=[];function to(e){return to="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},to(e)}function no(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ro(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?no(Object(n),!0).forEach((function(t){ao(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):no(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ao(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function io(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function co(e,t,n){return t&&io(e.prototype,t),n&&io(e,n),e}function so(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&uo(e,t)}function uo(e,t){return uo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},uo(e,t)}function lo(e){var t=bo();return function(){var n,r=ho(e);if(t){var a=ho(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return fo(this,n)}}function fo(e,t){return!t||"object"!==to(t)&&"function"!==typeof t?po(e):t}function po(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bo(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function ho(e){return ho=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ho(e)}var yo={id:-1,title:"",description:"",icon:"",display:!1,duration:5e3,importance:I["a"].LOW,context:$["a"].NONE,received:new Date},mo=function(e){so(n,e);var t=lo(n);function n(){var e;return oo(this,n),e=t.apply(this,arguments),e.notification=yo,e}return co(n,[{key:"onQueueChange",value:function(){var e=this;if(!this.notification.display&&this.notificationQueue.length>0){var t=this.notificationQueue.shift();if(!t)return;this.$nextTick((function(){return e.notification=t}))}}},{key:"created",value:function(){this.notification=yo}},{key:"dismiss",value:function(){this.setNotificationShown(this.notification.id),this.notification=ro(ro({},this.notification),{},{display:!1})}},{key:"open",value:function(){this.navigateToNotifications(),this.dismiss()}}]),n}(Object(Be["c"])(ca["a"]));Object(Le["a"])([Object(Be["g"])("notificationQueue",{immediate:!0,deep:!0})],mo.prototype,"onQueueChange",null),mo=Object(Le["a"])([Object(Be["a"])({computed:ro({},Object(N["c"])("notifications",["notificationQueue"])),methods:ro({},Object(N["d"])("notifications",["setNotificationShown"]))})],mo);var vo=mo,Oo=vo,jo=(n("f8be"),n("b503")),go=n("5dee"),wo=Object(tt["a"])(Oo,Ja,eo,!1,null,"1b587797",null),_o=wo.exports;rt()(wo,{VBtn:Aa["a"],VCol:Fn["a"],VIcon:jo["a"],VRow:$n["a"],VSnackbar:go["a"]});var ko=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.offline?n("span",[n("blurred-overlay",{attrs:{show:e.offline,fullscreen:!0}}),n("v-snackbar",{attrs:{timeout:-1,color:"error"},model:{value:e.offline,callback:function(t){e.offline=t},expression:"offline"}},[e._v(" "+e._s(e.$t("general.offline"))+" "),n("v-icon",[e._v("mdi-alert")])],1)],1):e._e()},Eo=[],To=n("0a08");function So(e){return So="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},So(e)}function xo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ao(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Po(e,t,n){return t&&Ao(e.prototype,t),n&&Ao(e,n),e}function No(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ro(e,t)}function Ro(e,t){return Ro=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ro(e,t)}function Do(e){var t=Uo();return function(){var n,r=Mo(e);if(t){var a=Mo(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Co(this,n)}}function Co(e,t){return!t||"object"!==So(t)&&"function"!==typeof t?Io(e):t}function Io(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Uo(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Mo(e){return Mo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Mo(e)}var Lo=function(e){No(n,e);var t=Do(n);function n(){var e;return xo(this,n),e=t.apply(this,arguments),e.offline=!1,e}return Po(n,[{key:"handleOnline",value:function(){this.offline=!1}},{key:"handleOffline",value:function(){this.offline=!0}},{key:"mounted",value:function(){this.offline=!navigator.onLine,window.addEventListener("offline",this.handleOffline),window.addEventListener("online",this.handleOnline)}},{key:"beforeDestroy",value:function(){window.removeEventListener("offline",this.handleOffline),window.removeEventListener("online",this.handleOnline)}}]),n}(Be["f"]);Lo=Object(Le["a"])([Object(Be["a"])({components:{BlurredOverlay:To["a"]}})],Lo);var Bo=Lo,Fo=Bo,Wo=Object(tt["a"])(Fo,ko,Eo,!1,null,null,null),Vo=Wo.exports;rt()(Wo,{VIcon:jo["a"],VSnackbar:go["a"]});var $o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.show?n("transition",{attrs:{name:"delay"}},[n("v-snackbar",{staticClass:"receiving-ongoing-snackbar",attrs:{timeout:"-1",color:"primary"},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[n("span",{staticClass:"receiving-ongoing-snackbar__warning"},[e._v(" "+e._s(e.$t("transfer.receiving-transfer-snackbar"))+" ")])])],1):e._e()},Ho=[];function qo(e){return qo="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qo(e)}function Ko(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Go(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ko(Object(n),!0).forEach((function(t){Yo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ko(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Yo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Zo(e,t,n){return t&&Qo(e.prototype,t),n&&Qo(e,n),e}function zo(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Jo(e,t)}function Jo(e,t){return Jo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Jo(e,t)}function ei(e){var t=ri();return function(){var n,r=ai(e);if(t){var a=ai(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ti(this,n)}}function ti(e,t){return!t||"object"!==qo(t)&&"function"!==typeof t?ni(e):t}function ni(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ri(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function ai(e){return ai=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ai(e)}var oi=function(e){zo(n,e);var t=ei(n);function n(){return Xo(this,n),t.apply(this,arguments)}return Zo(n,[{key:"pendingReceivedTransfers",get:function(){return Object.values(this.pendingTransfers).filter((function(e){return"received"===e.direction}))}},{key:"show",get:function(){return Object.keys(this.pendingReceivedTransfers).length>0}}]),n}(Be["f"]);oi=Object(Le["a"])([Object(Be["a"])({computed:Go({},Object(N["c"])(["pendingTransfers"]))})],oi);var ii=oi,ci=ii,si=(n("c50f"),Object(tt["a"])(ci,$o,Ho,!1,null,"4795eb56",null)),ui=si.exports;rt()(si,{VSnackbar:go["a"]});var li=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.visible?n("span",[n("blurred-overlay",{attrs:{show:e.blocking,fullscreen:!0}}),n("v-snackbar",{staticClass:"update-snackbar",attrs:{timeout:-1,color:"primary"},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[n("v-container",{staticClass:"d-flex align-center py-0"},[n("div",{staticClass:"update-snackbar__message"},[e._v(e._s(e.message))]),n("v-btn",{staticClass:"ml-5",attrs:{dark:"",text:"",loading:e.isUpdating},on:{click:e.update}},[e._v(" "+e._s(e.$t("update.update"))+" ")])],1)],1)],1):e._e()},fi=[];function pi(e){return pi="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pi(e)}function di(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?di(Object(n),!0).forEach((function(t){hi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):di(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function hi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yi(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function mi(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){yi(o,r,a,i,c,"next",e)}function c(e){yi(o,r,a,i,c,"throw",e)}i(void 0)}))}}function vi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Oi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ji(e,t,n){return t&&Oi(e.prototype,t),n&&Oi(e,n),e}function gi(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wi(e,t)}function wi(e,t){return wi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},wi(e,t)}function _i(e){var t=Ti();return function(){var n,r=Si(e);if(t){var a=Si(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ki(this,n)}}function ki(e,t){return!t||"object"!==pi(t)&&"function"!==typeof t?Ei(e):t}function Ei(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ti(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Si(e){return Si=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Si(e)}var xi=function(e){gi(n,e);var t=_i(n);function n(){var e;return vi(this,n),e=t.apply(this,arguments),e.isUpdating=!1,e}return ji(n,[{key:"visible",get:function(){return this.versionUpdateAvailable||this.versionInfo.updateIsMandatory}},{key:"blocking",get:function(){return this.versionInfo.updateIsMandatory}},{key:"message",get:function(){if(this.visible){var e=this.versionInfo.updateIsMandatory?"mandatory":"optional";return this.$t("update.".concat(e))}return""}},{key:"update",value:function(){var e=mi(lt.a.mark((function e(){return lt.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.isUpdating=!0,!this.isConnected){e.next=4;break}return e.next=4,this.$raiden.disconnect();case 4:this.$serviceWorkerAssistant.update();case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),n}(Be["f"]);xi=Object(Le["a"])([Object(Be["a"])({components:{BlurredOverlay:To["a"]},computed:bi(bi({},Object(N["e"])(["versionInfo"])),Object(N["c"])(["isConnected","versionUpdateAvailable"]))})],xi);var Ai=xi,Pi=Ai,Ni=(n("7cb3"),Object(tt["a"])(Pi,li,fi,!1,null,"4ddf8da2",null)),Ri=Ni.exports;function Di(e){return Di="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Di(e)}function Ci(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ii(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ui(e,t,n){return t&&Ii(e.prototype,t),n&&Ii(e,n),e}function Mi(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Li(e,t)}function Li(e,t){return Li=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Li(e,t)}function Bi(e){var t=Vi();return function(){var n,r=$i(e);if(t){var a=$i(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Fi(this,n)}}function Fi(e,t){return!t||"object"!==Di(t)&&"function"!==typeof t?Wi(e):t}function Wi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Vi(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function $i(e){return $i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},$i(e)}rt()(Ni,{VBtn:Aa["a"],VContainer:Wn["a"],VSnackbar:go["a"]});var Hi=function(e){Mi(n,e);var t=Bi(n);function n(){return Ci(this,n),t.apply(this,arguments)}return Ui(n,[{key:"imprint",get:function(){return"https://raiden.network/privacy.html"}},{key:"terms",get:function(){return"https://github.com/raiden-network/light-client/blob/master/TERMS.md"}},{key:"destroyed",value:function(){this.$raiden.disconnect()}}]),n}(Object(Be["c"])(ca["a"]));Hi=Object(Le["a"])([Object(Be["a"])({components:{AppHeader:Na,OfflineSnackbar:Vo,UpdateSnackbar:Ri,NotificationSnackbar:_o,ReceivingOngoingSnackbar:ui,InstallBanner:za}})],Hi);var qi=Hi,Ki=qi,Gi=(n("14b9"),n("072b")),Yi=n("e8f8"),Xi=Object(tt["a"])(Ki,ea,ta,!1,null,"e3e0994c",null),Qi=Xi.exports;rt()(Xi,{VApp:Gi["a"],VContainer:Wn["a"],VMain:Yi["a"]});var Zi=n("8aa9");a["a"].config.productionTip=!1,Object(Zi["b"])(),a["a"].use(Cr),a["a"].use(f),a["a"].use(Qr),new a["a"]({vuetify:Jr,router:Yn,store:Se,i18n:nr,render:function(e){return e(Qi)}}).$mount("#app")},d009:function(e,t,n){var r={"./backup_state_info.svg":"1924","./channels_info.svg":"18cb","./open_channel_info.svg":"9662","./select_hub_info.svg":"f496","./transfer_eth_info.svg":"60f8","./transfer_info.svg":"6cb9","./transfer_steps_info.svg":"fb60","./udc_info.svg":"d43a","./withdraw_tokens_info.svg":"68e9"};function a(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=o,e.exports=a,a.id="d009"},d011:function(e,t,n){"use strict";n.d(t,"h",(function(){return u})),n.d(t,"i",(function(){return l})),n.d(t,"f",(function(){return f})),n.d(t,"g",(function(){return p})),n.d(t,"d",(function(){return d})),n.d(t,"e",(function(){return b})),n.d(t,"c",(function(){return h})),n.d(t,"a",(function(){return y})),n.d(t,"b",(function(){return m})),n.d(t,"k",(function(){return O})),n.d(t,"j",(function(){return j}));var r,a=n("2111"),o=n("48a3"),i=n.n(o),c=n("ca14");function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u={PFS:"path_finding",MS:"monitoring"},l=a["k"](i()(u)),f=(r={},s(r,u.PFS,"PATH_FINDING"),s(r,u.MS,"MONITORING"),{disabled:"disabled",auto:"auto",onlyAdditional:"onlyAdditional"}),p=a["k"](i()(f)),d=a["p"](a["j"]([a["v"]({result:a["d"](a["p"](a["v"]({path:a["q"](c["a"]),estimated_fee:Object(c["d"])(32)})))}),a["o"]({feedback_token:a["s"]})])),b=a["d"](a["p"](a["v"]({path:a["q"](c["a"]),fee:Object(c["d"])(32)}))),h=a["p"](a["v"]({address:c["a"],url:a["s"],rtt:a["n"],price:Object(c["j"])(32),token:c["a"]})),y=a["p"](a["v"]({sender:c["a"],receiver:c["a"],amount:Object(c["j"])(32),expiration_block:Object(c["j"])(32),one_to_n_address:c["a"],chain_id:Object(c["j"])(32)})),m=a["p"](a["v"]({last_iou:Object(c["h"])(y)})),v=a["p"](a["v"]({address:c["a"],capacity:Object(c["j"])(32),centrality:a["x"]([a["n"],a["s"]]),score:a["x"]([a["n"],a["s"]]),uptime:a["x"]([a["n"],a["s"]])}),"SuggestedPartner"),O=a["d"](v,"SuggestedPartners"),j=a["p"](a["r"](a["s"],a["n"]),"ServicesValidityMap")},d05d:function(e,t,n){},d0dd:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return Ue}));var r=n("36d8"),a=n.n(r),o=(n("40b2"),n("c00b")),i=n("30c0"),c=n("87b8"),s=n("2b89"),u=n("f45b"),l=n("7ff5"),f=n.n(l),p=n("8730"),d=n.n(p),b=n("427e"),h=n.n(b),y=n("ea1b"),m=n.n(y),v=n("111d"),O=n.n(v),j=n("7276"),g=n("384a"),w=n("1ed4"),_=n("06f1"),k=n("3912"),E=n("516a"),T=n("34ba"),S=n("2023"),x=n("331d"),A=n("dae3"),P=n("ae8f"),N=n("a489"),R=n("8509"),D=n("ebf5"),C=n("7f4a"),I=n("cefa"),U=n("0eb1"),M=n("94e7"),L=n("258b"),B=n("4a9c"),F=n("459b"),W=n("72251"),V=n("423d"),$=n("f5be"),H=n("f799"),q=n("b8ff"),K=n("8120"),G=n("5bbb"),Y=n("2b5b"),X=n("de7d"),Q=n("74e4"),Z=n("50e7"),z=n("8089"),J=n("db2c5"),ee=n("6c61"),te=n("eed9"),ne=n("d011"),re=n("358d"),ae=n("83ee"),oe=n("a349"),ie=n("1a78"),ce=n("59ec"),se=n("d890"),ue=n("05eb"),le=n("f2df"),fe=n("d276"),pe=n("46f7"),de=n("ee6c"),be=n("1b23"),he=n("325b"),ye=n("ca14"),me=n("bf6c");function ve(e){return ge(e)||je(e)||Se(e)||Oe()}function Oe(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function je(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function ge(e){if(Array.isArray(e))return xe(e)}function we(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?we(Object(n),!0).forEach((function(t){ke(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):we(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ke(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ee(e,t){return Pe(e)||Ae(e,t)||Se(e,t)||Te()}function Te(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Se(e,t){if(e){if("string"===typeof e)return xe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xe(e,t):void 0}}function xe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ae(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done);r=!0)if(n.push(i.value),t&&n.length===t)break}catch(s){a=!0,o=s}finally{try{r||null==c["return"]||c["return"]()}finally{if(a)throw o}}return n}}function Pe(e){if(Array.isArray(e))return e}function Ne(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function Re(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Ne(o,r,a,i,c,"next",e)}function c(e){Ne(o,r,a,i,c,"throw",e)}i(void 0)}))}}function De(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ce(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ie(e,t,n){return t&&Ce(e.prototype,t),n&&Ce(e,n),e}var Ue=function(){function t(e,n,r,o,i,c){var s,u,l,p,d,b=this,y=i.db,m=i.state,v=i.config;De(this,t);var S=m.address;this.resolveName=e.resolveName.bind(e),this.log=O.a.getLogger("raiden:".concat(S));var x=Object(G["c"])({network:n},v);e.resetEventsBlock(m.blockNumber+1);var A=new k["a"](1);this.state$=A.pipe(Object(he["g"])("state")),this.action$=A.pipe(Object(he["g"])("action"),Object(D["a"])(1)),this.blockTime$=A.pipe(Object(he["g"])("blockTime")),this.channels$=this.state$.pipe(Object(he["g"])("channels"),Object(C["a"])(z["j"])),this.transfers$=Object(z["i"])(this.state$,y),this.events$=this.action$.pipe(Object(I["a"])(Object(fe["e"])($["b"]))),this.getTokenInfo=h()(function(){var e=Re(a.a.mark((function e(t){var n,r,o,i,c,s,u;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return Object(le["a"])(ye["a"].is(t),[de["b"].DTA_INVALID_ADDRESS,{token:t}],this.log.info),n=this.deps.getTokenContract(t),e.next=4,Promise.all([n.callStatic.totalSupply(),n.callStatic.decimals(),n.callStatic.name().catch(f()(void 0)),n.callStatic.symbol().catch(f()(void 0))]);case 4:return r=e.sent,o=Ee(r,4),i=o[0],c=o[1],s=o[2],u=o[3],Object(le["a"])(i&&null!=c,de["b"].RDN_NOT_A_TOKEN,this.log.info),e.abrupt("return",{totalSupply:i,decimals:c,name:s,symbol:u});case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()),this.deps={latest$:A,config$:A.pipe(Object(he["g"])("config")),matrix$:new E["a"],provider:e,network:n,signer:r,address:S,log:this.log,defaultConfig:x,contractsInfo:o,registryContract:X["f"].connect(o.TokenNetworkRegistry.address,null!==(s=null===c||void 0===c?void 0:c.signer)&&void 0!==s?s:r),getTokenNetworkContract:h()((function(e){var t;return X["g"].connect(e,null!==(t=null===c||void 0===c?void 0:c.signer)&&void 0!==t?t:r)})),getTokenContract:h()((function(e){var t;return X["b"].connect(e,null!==(t=null===c||void 0===c?void 0:c.signer)&&void 0!==t?t:r)})),serviceRegistryContract:X["e"].connect(o.ServiceRegistry.address,null!==(u=null===c||void 0===c?void 0:c.signer)&&void 0!==u?u:r),userDepositContract:X["h"].connect(o.UserDeposit.address,null!==(l=null===c||void 0===c?void 0:c.signer)&&void 0!==l?l:r),secretRegistryContract:X["d"].connect(o.SecretRegistry.address,null!==(p=null===c||void 0===c?void 0:c.signer)&&void 0!==p?p:r),monitoringServiceContract:X["c"].connect(o.MonitoringService.address,null!==(d=null===c||void 0===c?void 0:c.signer)&&void 0!==d?d:r),main:c,db:y,init$:new k["a"],mediationFeeCalculator:oe["a"]},this.userDepositTokenAddress=h()(Re(a.a.mark((function e(){return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,b.deps.userDepositContract.callStatic.token();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))));var P=!(null===globalThis||void 0===globalThis||!globalThis.location),N=Object(w["createLogger"])(_e({predicate:function(){return b.log.getLevel()<=O.a.levels.INFO},logger:this.log,level:{prevState:!1,action:"info",error:"error",nextState:"debug"}},P?{}:{colors:!1}));this.config$=this.deps.config$,this.config$.subscribe((function(e){return b.config=e})),this.epicMiddleware=Object(_["a"])({dependencies:this.deps});var R=Object(J["a"])(y);this.store=Object(j["createStore"])(ee["a"],m,Object(g["composeWithDevTools"])(Object(j["applyMiddleware"])(N,R,this.epicMiddleware))),this.synced=this.action$.pipe(Object(U["a"])(Object(fe["e"])([$["g"],$["e"]])),Object(C["a"])((function(e){if($["e"].is(e)){if(Object.values(Y["f"]).some((function(t){return t===e.payload.reason})))return;throw e.payload}return e.payload}))).toPromise(),Object(Z["a"])(Object(T["a"])(Object($["d"])({})),Object(T["a"])(this.store.getState()),this.deps).subscribe((function(e){return b.deps.latest$.next(e)}))}return Ie(t,[{key:"start",value:function(){var n=Re(a.a.mark((function n(){var r,o=this;return a.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return Object(le["a"])(this.epicMiddleware,de["b"].RDN_ALREADY_STARTED,this.log.info),this.log.info("Starting Raiden Light-Client",{prevBlockNumber:this.state.blockNumber,address:this.address,TokenNetworkRegistry:this.deps.contractsInfo.TokenNetworkRegistry.address,network:{name:this.deps.network.name,chainId:this.deps.network.chainId},"raiden-ts":t.version,"raiden-contracts":t.contractVersion,config:this.config,versions:null===(r=e)||void 0===r?void 0:r.versions}),this.deps.latest$.subscribe({complete:function(){return o.epicMiddleware=null}}),this.epicMiddleware.run(Z["b"]),this.epicMiddleware=void 0,this.store.dispatch(Object($["f"])()),n.next=8,this.synced;case 8:case"end":return n.stop()}}),n,this)})));function r(){return n.apply(this,arguments)}return r}()},{key:"started",get:function(){if(!this.epicMiddleware)return void 0===this.epicMiddleware}},{key:"stop",value:function(){var e=Re(a.a.mark((function e(){return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.started&&this.store.dispatch(Object($["e"])({reason:Y["f"].STOP})),void 0===this.started){e.next=4;break}return e.next=4,this.deps.db.busy$.toPromise();case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"state",get:function(){return this.store.getState()}},{key:"address",get:function(){return this.deps.address}},{key:"mainAddress",get:function(){var e;return null===(e=this.deps.main)||void 0===e?void 0:e.address}},{key:"network",get:function(){return this.deps.network}},{key:"getBlockNumber",value:function(){var e=Re(a.a.mark((function e(){var t;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=this.deps.provider.blockNumber,!(t&&t>=this.deps.contractsInfo.TokenNetworkRegistry.block_number)){e.next=5;break}return e.abrupt("return",t);case 5:return e.next=7,this.deps.provider.getBlockNumber();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"contractsInfo",get:function(){return this.deps.contractsInfo}},{key:"updateConfig",value:function(e){"mediationFees"in e&&this.deps.mediationFeeCalculator.decodeConfig(e.mediationFees,this.deps.defaultConfig.mediationFees),this.store.dispatch(Object($["d"])(Object(ye["l"])(G["a"],e)))}},{key:"dumpDatabase",value:function(){var e=Re(a.a.mark((function e(){return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(void 0===this.started){e.next=3;break}return e.next=3,this.deps.db.busy$.toPromise();case 3:return e.abrupt("return",Object(Q["b"])(this.deps.db));case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getBalance",value:function(e){var t;return e=null!==(t=e)&&void 0!==t?t:Object(z["b"])(this.deps,this.config.subkey).address,Object(le["a"])(ye["a"].is(e),[de["b"].DTA_INVALID_ADDRESS,{address:e}],this.log.info),this.deps.provider.getBalance(e)}},{key:"getTokenBalance",value:function(){var e=Re(a.a.mark((function e(t,n){var r,o;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=null!==(r=n)&&void 0!==r?r:Object(z["b"])(this.deps,this.config.subkey).address,Object(le["a"])(ye["a"].is(n),[de["b"].DTA_INVALID_ADDRESS,{address:n}],this.log.info),Object(le["a"])(ye["a"].is(t),[de["b"].DTA_INVALID_ADDRESS,{token:t}],this.log.info),o=this.deps.getTokenContract(t),e.abrupt("return",o.callStatic.balanceOf(n));case 5:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"getTokenList",value:function(){var e=Re(a.a.mark((function e(){var t=this;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.t0=be["b"],e.t1=this.deps.provider,e.t2=_e,e.t3=_e({},this.deps.registryContract.filters.TokenNetworkCreated(null,null)),e.t4={},e.t5=this.deps.contractsInfo.TokenNetworkRegistry.block_number,e.next=8,this.getBlockNumber();case 8:return e.t6=e.sent,e.t7={fromBlock:e.t5,toBlock:e.t6},e.t8=(0,e.t2)(e.t3,e.t4,e.t7),e.next=13,(0,e.t0)(e.t1,e.t8).pipe(Object(C["a"])((function(e){return t.deps.registryContract.interface.parseLog(e)})),Object(I["a"])((function(e){return!!e.args.token_address})),Object(C["a"])((function(e){return e.args.token_address})),Object(M["a"])()).toPromise();case 13:return e.abrupt("return",e.sent);case 14:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"monitorToken",value:function(){var e=Re(a.a.mark((function e(t){var n;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(Object(le["a"])(ye["a"].is(t),[de["b"].DTA_INVALID_ADDRESS,{token:t}],this.log.info),n=this.state.tokens[t],!n){e.next=4;break}return e.abrupt("return",n);case 4:return e.next=6,this.deps.registryContract.token_to_token_networks(t);case 6:return n=e.sent,Object(le["a"])(n&&n!==i["a"],de["b"].RDN_UNKNOWN_TOKEN_NETWORK,this.log.info),this.store.dispatch(Object(H["tokenMonitored"])({token:t,tokenNetwork:n,fromBlock:this.deps.contractsInfo.TokenNetworkRegistry.block_number})),e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"openChannel",value:function(){var e=Re(a.a.mark((function e(t,n){var r,o,i,c,s,u,l,f,p,d,b,h=arguments;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=h.length>2&&void 0!==h[2]?h[2]:{},o=h.length>3?h[3]:void 0,Object(le["a"])(ye["a"].is(t),[de["b"].DTA_INVALID_ADDRESS,{token:t}],this.log.info),Object(le["a"])(ye["a"].is(n),[de["b"].DTA_INVALID_ADDRESS,{partner:n}],this.log.info),e.next=6,this.monitorToken(t);case 6:return i=e.sent,Object(le["a"])(!r.subkey||this.deps.main,de["b"].RDN_SUBKEY_NOT_SET,this.log.info),c=r.settleTimeout?Object(ye["l"])(Object(ye["j"])(4),r.settleTimeout,de["b"].DTA_INVALID_TIMEOUT,this.log.info).toNumber():void 0,s=r.deposit?Object(ye["l"])(Object(ye["j"])(32),r.deposit,de["b"].DTA_INVALID_DEPOSIT,this.log.info):void 0,u={tokenNetwork:i,partner:n},l=Object(fe["a"])(H["channelOpen"],u,this.action$,!0).then((function(e){var t=e.txHash;return t})),null!==s&&void 0!==s&&s.gt(0)&&(f=Object(fe["a"])(H["channelDeposit"],u,this.action$,!0).then((function(e){var t=e.txHash;return t})),p=Object(z["m"])(this.action$,this.state$,{meta:u,config:this.config})),this.store.dispatch(H["channelOpen"].request(_e(_e({},r),{},{settleTimeout:c,deposit:s}),u)),e.next=16,l;case 16:return d=e.sent,null===o||void 0===o||o({type:ue["a"].OPENED,payload:{txHash:d}}),e.next=20,this.state$.pipe(Object(he["g"])("channels",Object(K["d"])(u),"state"),Object(U["a"])((function(e){return e===q["b"].open}))).toPromise();case 20:if(null===o||void 0===o||o({type:ue["a"].CONFIRMED,payload:{txHash:d}}),!f){e.next=28;break}return e.next=24,f;case 24:return b=e.sent,null===o||void 0===o||o({type:ue["a"].DEPOSITED,payload:{txHash:b}}),e.next=28,p;case 28:return e.abrupt("return",d);case 29:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"depositChannel",value:function(){var e=Re(a.a.mark((function e(t,n,r){var o,i,c,s,u,l,f,p,d=arguments;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o=d.length>3&&void 0!==d[3]?d[3]:{},i=o.subkey,Object(le["a"])(ye["a"].is(t),[de["b"].DTA_INVALID_ADDRESS,{token:t}],this.log.info),Object(le["a"])(ye["a"].is(n),[de["b"].DTA_INVALID_ADDRESS,{partner:n}],this.log.info),c=this.state,s=c.tokens[t],Object(le["a"])(s,de["b"].RDN_UNKNOWN_TOKEN_NETWORK,this.log.info),Object(le["a"])(!i||this.deps.main,de["b"].RDN_SUBKEY_NOT_SET,this.log.info),u=Object(ye["l"])(Object(ye["j"])(32),r,de["b"].DTA_INVALID_DEPOSIT,this.log.info),l={tokenNetwork:s,partner:n},f=Object(z["m"])(this.action$,this.state$,{meta:l,config:this.config}),p=Object(fe["a"])(H["channelDeposit"],l,this.action$,!0).then((function(e){var t=e.txHash;return t})),this.store.dispatch(H["channelDeposit"].request({deposit:u,subkey:i},l)),e.next=14,p;case 14:return e.next=16,f;case 16:return e.abrupt("return",p);case 17:case"end":return e.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"closeChannel",value:function(){var e=Re(a.a.mark((function e(t,n){var r,o,i,c,s,u,l=arguments;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=l.length>2&&void 0!==l[2]?l[2]:{},o=r.subkey,Object(le["a"])(ye["a"].is(t),[de["b"].DTA_INVALID_ADDRESS,{token:t}],this.log.info),Object(le["a"])(ye["a"].is(n),[de["b"].DTA_INVALID_ADDRESS,{partner:n}],this.log.info),i=this.state,c=i.tokens[t],Object(le["a"])(c,de["b"].RDN_UNKNOWN_TOKEN_NETWORK,this.log.info),Object(le["a"])(!o||this.deps.main,de["b"].RDN_SUBKEY_NOT_SET,this.log.info),s={tokenNetwork:c,partner:n},u=Object(fe["a"])(H["channelClose"],s,this.action$,!0).then((function(e){var t=e.txHash;return t})),this.store.dispatch(H["channelClose"].request(o?{subkey:o}:void 0,s)),e.abrupt("return",u);case 11:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"settleChannel",value:function(){var e=Re(a.a.mark((function e(t,n){var r,o,i,c,s,u,l=arguments;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=l.length>2&&void 0!==l[2]?l[2]:{},o=r.subkey,Object(le["a"])(ye["a"].is(t),[de["b"].DTA_INVALID_ADDRESS,{token:t}],this.log.info),Object(le["a"])(ye["a"].is(n),[de["b"].DTA_INVALID_ADDRESS,{partner:n}],this.log.info),i=this.state,c=i.tokens[t],Object(le["a"])(c,de["b"].RDN_UNKNOWN_TOKEN_NETWORK,this.log.info),Object(le["a"])(!o||this.deps.main,de["b"].RDN_SUBKEY_NOT_SET,this.log.info),Object(le["a"])(!this.config.autoSettle,de["b"].CNL_SETTLE_AUTO_ENABLED,this.log.info),s={tokenNetwork:c,partner:n},e.next=11,Object(z["k"])(this.state$,s).toPromise();case 11:return u=Object(fe["a"])(H["channelSettle"],s,this.action$,!0).then((function(e){var t=e.txHash;return t})),this.store.dispatch(H["channelSettle"].request(o?{subkey:o}:void 0,s)),e.abrupt("return",u);case 14:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"getAvailability",value:function(){var e=Re(a.a.mark((function e(t){var n,r;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return Object(le["a"])(ye["a"].is(t),[de["b"].DTA_INVALID_ADDRESS,{address:t}],this.log.info),n={address:t},r=Object(fe["a"])(se["matrixPresence"],n,this.action$),this.store.dispatch(se["matrixPresence"].request(void 0,n)),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"transfer",value:function(){var e=Re(a.a.mark((function e(t,n,r){var o,i,c,s,u,l,f,p,d,b,h=this,y=arguments;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o=y.length>3&&void 0!==y[3]?y[3]:{},Object(le["a"])(ye["a"].is(t),[de["b"].DTA_INVALID_ADDRESS,{token:t}],this.log.info),Object(le["a"])(ye["a"].is(n),[de["b"].DTA_INVALID_ADDRESS,{target:n}],this.log.info),i=this.state.tokens[t],Object(le["a"])(i,de["b"].RDN_UNKNOWN_TOKEN_NETWORK,this.log.info),c=Object(ye["l"])(Object(ye["j"])(32),r,de["b"].DTA_INVALID_AMOUNT,this.log.info),s=void 0!==o.paymentId?Object(ye["l"])(Object(ye["j"])(8),o.paymentId,de["b"].DTA_INVALID_PAYMENT_ID,this.log.info):Object(ce["f"])(),u=o.paths?Object(ye["l"])(ne["e"],o.paths,de["b"].DTA_INVALID_PATH,this.log.info):void 0,l=o.pfs?Object(ye["l"])(ne["c"],o.pfs,de["b"].DTA_INVALID_PFS,this.log.info):void 0,f=o.lockTimeout?this.state.blockNumber+o.lockTimeout:void 0,Object(le["a"])(void 0===o.secret||ye["f"].is(o.secret),de["b"].RDN_INVALID_SECRET,this.log.info),Object(le["a"])(void 0===o.secrethash||ye["c"].is(o.secrethash),de["b"].RDN_INVALID_SECRETHASH,this.log.info),p=o.secret?o.secret:o.secrethash?void 0:Object(ce["g"])(),d=o.secrethash||Object(ce["c"])(p),Object(le["a"])(!p||Object(ce["c"])(p)===d,de["b"].RDN_SECRET_SECRETHASH_MISMATCH,this.log.info),b={tokenNetwork:i,target:n,value:c},e.abrupt("return",Object(S["a"])(this.action$.pipe(Object(U["a"])(Object(fe["g"])(te["pathFind"],b)),Object(C["a"])((function(e){if(te["pathFind"].failure.is(e))throw e.payload;return e.payload.paths}))),Object(x["a"])((function(){return h.store.dispatch(te["pathFind"].request({paths:u,pfs:l},b)),A["a"]}))).pipe(Object(L["a"])((function(e){return Object(S["a"])(h.action$.pipe(Object(I["a"])(Object(fe["e"])([ae["transferSigned"],ae["transfer"].failure])),Object(U["a"])((function(e){return e.meta.direction===ie["a"].SENT&&e.meta.secrethash===d})),Object(C["a"])((function(e){if(ae["transfer"].failure.is(e))throw e.payload;return Object(ce["i"])(e.meta)}))),Object(x["a"])((function(){return h.store.dispatch(ae["transfer"].request({tokenNetwork:i,target:n,value:c,paths:e,paymentId:s,secret:p,expiration:f},{secrethash:d,direction:ie["a"].SENT})),A["a"]})))}))).toPromise());case 17:case"end":return e.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"waitTransfer",value:function(){var e=Re(a.a.mark((function e(t){var n,r,o,i,c,s,u;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=Object(ce["j"])(t),o=r.direction,i=r.secrethash,c=this.state.transfers[t],c){e.next=14;break}return e.prev=3,e.t0=ye["l"],e.t1=ie["d"],e.next=8,this.deps.db.get(t);case 8:e.t2=e.sent,c=(0,e.t0)(e.t1,e.t2),e.next=14;break;case 12:e.prev=12,e.t3=e["catch"](3);case 14:if(Object(le["a"])(c,de["b"].RDN_UNKNOWN_TRANSFER,this.log.info),s=Object(ce["h"])(c),!s.completed){e.next=22;break}if(!s.success){e.next=21;break}return e.abrupt("return",s);case 21:throw new de["c"](de["b"].XFER_ALREADY_COMPLETED,{status:s.status});case 22:return e.next=24,Object(fe["a"])(ae["transfer"],{secrethash:i,direction:o},this.action$);case 24:return e.next=26,this.state$.pipe(Object(B["a"])("transfers",t),Object(U["a"])((function(e){return!!e.unlockProcessed}))).toPromise();case 26:return u=e.sent,this.log.info("Transfer successful",{key:t,partner:u.partner,initiator:u.transfer.initiator,target:u.transfer.target,fee:u.fee.toString(),lockAmount:u.transfer.lock.amount.toString(),targetReceived:null===(n=u.secretRequest)||void 0===n?void 0:n.amount.toString(),transferTime:u.unlockProcessed.ts-u.transfer.ts}),e.abrupt("return",Object(ce["h"])(u));case 29:case"end":return e.stop()}}),e,this,[[3,12]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"findRoutes",value:function(){var e=Re(a.a.mark((function e(t,n,r){var o,i,c,s,u,l,f=arguments;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o=f.length>3&&void 0!==f[3]?f[3]:{},Object(le["a"])(ye["a"].is(t),[de["b"].DTA_INVALID_ADDRESS,{token:t}],this.log.info),Object(le["a"])(ye["a"].is(n),[de["b"].DTA_INVALID_ADDRESS,{target:n}],this.log.info),i=this.state.tokens[t],Object(le["a"])(i,de["b"].RDN_UNKNOWN_TOKEN_NETWORK,this.log.info),c=Object(ye["l"])(Object(ye["j"])(32),r),s=o.pfs?Object(ye["l"])(ne["c"],o.pfs):void 0,u={tokenNetwork:i,target:n,value:c},l=Object(fe["a"])(te["pathFind"],u,this.action$).then((function(e){var t=e.paths;return t})),this.store.dispatch(te["pathFind"].request({pfs:s},u)),e.abrupt("return",l);case 11:case"end":return e.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"directRoute",value:function(){var e=Re(a.a.mark((function e(t,n,r){var o,i,c,s;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return Object(le["a"])(ye["a"].is(t),[de["b"].DTA_INVALID_ADDRESS,{token:t}],this.log.info),Object(le["a"])(ye["a"].is(n),[de["b"].DTA_INVALID_ADDRESS,{target:n}],this.log.info),o=this.state.tokens[t],Object(le["a"])(o,de["b"].RDN_UNKNOWN_TOKEN_NETWORK,this.log.info),i=Object(ye["l"])(Object(ye["j"])(32),r),c={tokenNetwork:o,target:n,value:i},s=Object(fe["a"])(te["pathFind"],c,this.action$).then((function(e){var t=e.paths;return t}),(function(){})),this.store.dispatch(te["pathFind"].request({pfs:null},c)),e.abrupt("return",s);case 9:case"end":return e.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"findPFS",value:function(){var e=Re(a.a.mark((function e(){var t;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return Object(le["a"])(this.config.pfsMode!==ne["f"].disabled,de["b"].PFS_DISABLED,this.log.info),e.next=3,this.synced;case 3:return t=ve(this.config.additionalServices),this.config.pfsMode===ne["f"].auto&&t.push.apply(t,ve(Object.keys(this.state.services))),e.abrupt("return",Object(re["d"])(t,this.deps).toPromise());case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"mint",value:function(){var e=Re(a.a.mark((function e(t,n){var r,o,i,c,s,u,l,f,p,d,b=arguments;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=b.length>2&&void 0!==b[2]?b[2]:{},o=r.subkey,i=r.to,Object(le["a"])(ye["a"].is(t),[de["b"].DTA_INVALID_ADDRESS,{token:t}],this.log.info),Object(le["a"])(!o||this.deps.main,de["b"].RDN_SUBKEY_NOT_SET,this.log.info),Object(le["a"])(1!==this.deps.network.chainId,de["b"].RDN_MINT_MAINNET,this.log.info),c=Object(z["b"])(this.deps,null!==o&&void 0!==o?o:this.config.subkey),s=c.signer,u=c.address,l=X["a"].connect(t,s),f=null!==i&&void 0!==i?i:u,Object(le["a"])(ye["a"].is(f),[de["b"].DTA_INVALID_ADDRESS,{beneficiary:f}],this.log.info),p=Object(ye["l"])(Object(ye["j"])(32),n,de["b"].DTA_INVALID_AMOUNT),e.next=11,Object(z["a"])(l,"mintFor",[p,f],de["b"].RDN_MINT_FAILED,{log:this.log});case 11:return d=e.sent,e.next=14,Object(z["l"])(d,this.deps,1);case 14:return e.abrupt("return",d.transactionHash);case 15:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"getUDCCapacity",value:function(){var e=Re(a.a.mark((function e(){var t,n,r;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(z["h"])(this.deps.latest$);case 2:return t=e.sent,n=this.state.blockNumber,r=Object.values(this.state.iou).reduce((function(e,t){return[].concat(ve(e),ve(Object.values(t).filter((function(e){return e.expiration_block.gte(n)}))))}),[]).reduce((function(e,t){return e.add(t.amount)}),c["f"]),e.abrupt("return",t.sub(r));case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getUDCTotalDeposit",value:function(){var e=Re(a.a.mark((function e(){return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this.deps.latest$.pipe(Object(B["a"])("udcDeposit","totalDeposit"),Object(U["a"])((function(e){return!!e&&e.lt(c["a"])}))).toPromise());case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"depositToUDC",value:function(){var e=Re(a.a.mark((function e(t,n){var r,o,i,s,u,l,f,p,d=arguments;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=d.length>2&&void 0!==d[2]?d[2]:{},o=r.subkey,Object(le["a"])(!o||this.deps.main,de["b"].RDN_SUBKEY_NOT_SET,this.log.info),i=Object(ye["l"])(Object(ye["j"])(32),t,de["b"].DTA_INVALID_DEPOSIT,this.log.info),Object(le["a"])(i.gt(c["f"]),de["b"].DTA_NON_POSITIVE_NUMBER,this.log.info),e.next=6,this.deps.userDepositContract.callStatic.total_deposit(this.address);case 6:return s=e.sent,u={totalDeposit:s.add(i)},l=Object(fe["a"])(te["udcDeposit"],u,this.action$,!1).then((function(e){return e.txHash})),this.store.dispatch(te["udcDeposit"].request({deposit:i,subkey:o},u)),e.next=12,l;case 12:return f=e.sent,null===n||void 0===n||n({type:ue["a"].DEPOSITED,payload:{txHash:f}}),p=Object(fe["a"])(te["udcDeposit"],u,this.action$,!0).then((function(e){return e.txHash})),e.next=17,p;case 17:return f=e.sent,null===n||void 0===n||n({type:ue["a"].CONFIRMED,payload:{txHash:f}}),e.abrupt("return",f);case 20:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"transferOnchainBalance",value:function(){var e=Re(a.a.mark((function e(t){var n,r,i,s,u,l,f,p,d,b,h,y,m,v,O=arguments;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=O.length>1&&void 0!==O[1]?O[1]:c["a"],r=O.length>2&&void 0!==O[2]?O[2]:{},i=r.subkey,s=r.gasPrice,Object(le["a"])(ye["a"].is(t),[de["b"].DTA_INVALID_ADDRESS,{to:t}],this.log.info),Object(le["a"])(!i||this.deps.main,de["b"].RDN_SUBKEY_NOT_SET,this.log.info),u=Object(z["b"])(this.deps,null!==i&&void 0!==i?i:this.config.subkey),l=u.signer,f=u.address,!s){e.next=9;break}e.t0=o["a"].from(s),e.next=12;break;case 9:return e.next=11,this.deps.provider.getGasPrice();case 11:e.t0=e.sent;case 12:return p=e.t0,d=o["a"].from(21e3),e.next=16,this.getBalance(f);case 16:return b=e.sent,h=b.sub(p.mul(d)),Object(le["a"])(h.gt(c["f"]),[de["b"].RDN_INSUFFICIENT_BALANCE,{transferable:h.toString()}],this.log.info),y=h.lte(n)?h:o["a"].from(n),e.next=22,l.sendTransaction({to:t,value:y,gasPrice:p,gasLimit:d});case 22:return m=e.sent,e.next=25,m.wait();case 25:return v=e.sent,Object(le["a"])(v.status,de["b"].RDN_TRANSFER_ONCHAIN_BALANCE_FAILED,this.log.info),e.abrupt("return",m.hash);case 28:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"transferOnchainTokens",value:function(){var e=Re(a.a.mark((function e(t,n){var r,i,s,u,l,f,p,d,b,h,y=arguments;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=y.length>2&&void 0!==y[2]?y[2]:c["a"],i=y.length>3&&void 0!==y[3]?y[3]:{},s=i.subkey,Object(le["a"])(ye["a"].is(t),[de["b"].DTA_INVALID_ADDRESS,{token:t}],this.log.info),Object(le["a"])(ye["a"].is(n),[de["b"].DTA_INVALID_ADDRESS,{to:n}],this.log.info),Object(le["a"])(!s||this.deps.main,de["b"].RDN_SUBKEY_NOT_SET,this.log.info),u=Object(z["b"])(this.deps,null!==s&&void 0!==s?s:this.config.subkey),l=u.signer,f=u.address,p=Object(z["d"])(this.deps.getTokenContract(t),l),e.next=9,this.getTokenBalance(t,f);case 9:return d=e.sent,b=d.lte(r)?d:o["a"].from(r),e.next=13,Object(z["a"])(p,"transfer",[n,b],de["b"].RDN_TRANSFER_ONCHAIN_TOKENS_FAILED,{log:this.log});case 13:return h=e.sent,e.abrupt("return",h.transactionHash);case 15:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"getUDCWithdrawPlan",value:function(){var e=Re(a.a.mark((function e(){var t;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.deps.userDepositContract.withdraw_plans(this.address);case 2:if(t=e.sent,!t.withdraw_block.isZero()){e.next=5;break}return e.abrupt("return");case 5:return e.abrupt("return",{amount:t.amount,block:t.withdraw_block.toNumber(),ready:t.withdraw_block.lte(this.state.blockNumber)});case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"planUDCWithdraw",value:function(){var e=Re(a.a.mark((function e(t){var n,r;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={amount:Object(ye["l"])(Object(ye["j"])(32),t,de["b"].DTA_INVALID_AMOUNT,this.log.error)},r=Object(fe["a"])(te["udcWithdrawPlan"],n,this.action$,!0).then((function(e){var t=e.txHash;return t})),this.store.dispatch(te["udcWithdrawPlan"].request(void 0,n)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"withdrawFromUDC",value:function(){var e=Re(a.a.mark((function e(t){var n,r,o;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return Object(le["a"])(!this.config.autoUDCWithdraw,de["b"].UDC_WITHDRAW_AUTO_ENABLED,this.log.warn),e.next=3,this.getUDCWithdrawPlan();case 3:if(n=e.sent,Object(le["a"])(n,de["b"].UDC_WITHDRAW_NO_PLAN,this.log.warn),t?Object(le["a"])(n.amount.gte(t),de["b"].UDC_WITHDRAW_TOO_LARGE,this.log.warn):t=n.amount,r={amount:Object(ye["l"])(Object(ye["j"])(32),t,de["b"].DTA_INVALID_AMOUNT,this.log.error)},n.ready){e.next=10;break}return e.next=10,this.state$.pipe(Object(he["g"])("blockNumber"),Object(U["a"])((function(e){return e>=n.block}))).toPromise();case 10:return o=Object(fe["a"])(te["udcWithdraw"],r,this.action$,!0).then((function(e){var t=e.txHash;return t})),this.store.dispatch(te["udcWithdraw"].request(void 0,r)),e.abrupt("return",o);case 13:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"withdrawChannel",value:function(){var e=Re(a.a.mark((function e(t,n,r){var o,i,c,s,u,l,f,p,d,b;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return Object(le["a"])(ye["a"].is(t),[de["b"].DTA_INVALID_ADDRESS,{token:t}],this.log.info),Object(le["a"])(ye["a"].is(n),[de["b"].DTA_INVALID_ADDRESS,{partner:n}],this.log.info),o=this.state.tokens[t],Object(le["a"])(o,de["b"].RDN_UNKNOWN_TOKEN_NETWORK,this.log.info),i=this.state.channels[Object(K["d"])({tokenNetwork:o,partner:n})],Object(le["a"])((null===i||void 0===i?void 0:i.state)===q["b"].open,de["b"].CNL_NO_OPEN_CHANNEL_FOUND,this.log.error),c=Object(K["c"])(i),s=c.ownWithdrawable,u=c.ownWithdraw,l=Object(ye["l"])(Object(ye["j"])(32),null!==r&&void 0!==r?r:s,de["b"].DTA_INVALID_AMOUNT,this.log.info),f=u.add(l),p=this.state.blockNumber+2*this.config.revealTimeout,d={direction:ie["a"].SENT,tokenNetwork:o,partner:n,totalWithdraw:f,expiration:p},b=Object(fe["a"])(ae["withdraw"],d,this.action$,!0).then((function(e){var t=e.txHash;return t})),this.store.dispatch(ae["withdraw"].request(void 0,d)),e.abrupt("return",b);case 14:case"end":return e.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"suggestPartners",value:function(){var e=Re(a.a.mark((function e(t){var n,r,o,i,c=this,s=arguments;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=s.length>1&&void 0!==s[1]?s[1]:{},Object(le["a"])(ye["a"].is(t),[de["b"].DTA_INVALID_ADDRESS,{token:t}],this.log.info),r=this.state.tokens[t],Object(le["a"])(r,de["b"].RDN_UNKNOWN_TOKEN_NETWORK,this.log.info),!n.pfs){e.next=8;break}e.t0=[Object(ye["l"])(ne["c"],n.pfs)],e.next=11;break;case 8:return e.next=10,this.findPFS();case 10:e.t0=e.sent;case 11:return o=e.t0,e.abrupt("return",Object(P["a"])(o).pipe(Object(F["a"])((function(e){return Object(R["a"])("".concat(e.url,"/api/v1/").concat(r,"/suggest_partner"),{method:"GET",headers:{"Content-Type":"application/json"}}).pipe(Object(W["a"])(c.config.httpTimeout),Object(L["a"])(function(){var e=Re(a.a.mark((function e(t){return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",t.text());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Object(C["a"])((function(e){var t=Object(ye["l"])(ne["k"],Object(pe["b"])(e));if(!t.length)throw i=[],new Error("PFS returned no suggested partners");return t})),Object(V["a"])((function(t){return c.log.info("Could not fetch PFS suggested partners",e,t),i||(i=t),A["a"]})))})),Object(U["a"])(),Object(V["a"])((function(e){return Array.isArray(i)?Object(T["a"])(i):Object(N["a"])(null!==(t=i)&&void 0!==t?t:e);var t}))).toPromise());case 13:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}],[{key:"create",value:function(){var e=Re(a.a.mark((function e(t,n,r,o,i,c,l){var f,p,b,h,y,v,j,g,w,_,k;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return f="string"===typeof t?new s["a"](t):t instanceof s["a"]?t:new u["a"](t),e.next=3,f.getNetwork();case 3:if(p=e.sent,o){e.next=8;break}b=Object(z["e"])(p),e.next=16;break;case 8:if("string"!==typeof o){e.next=15;break}return Object(le["a"])(ye["a"].is(o),[de["b"].DTA_INVALID_ADDRESS,{contractsOrUserDepositAddress:o}]),e.next=12,Object(z["c"])(f,o);case 12:b=e.sent,e.next=16;break;case 15:b=o;case 16:return e.next=18,Object(z["f"])(n,f,c,l);case 18:return h=e.sent,y=h.signer,v=h.address,j=h.main,e.next=24,Object(z["g"])({network:p,contractsInfo:b,address:v,log:O.a.getLogger("raiden:".concat(v))},r);case 24:return g=e.sent,w=g.state,_=g.db,Object(le["a"])(v===w.address,[de["b"].RDN_STATE_ADDRESS_MISMATCH,{account:v,state:w.address}]),Object(le["a"])(p.chainId===w.chainId&&b.TokenNetworkRegistry.address===w.registry,[de["b"].RDN_STATE_NETWORK_MISMATCH,{network:p.chainId,contracts:b.TokenNetworkRegistry.address,stateNetwork:w.chainId,stateRegistry:w.registry}]),k=i&&Object(ye["l"])(G["a"],m()(i,d.a)),e.abrupt("return",new this(f,p,y,b,{db:_,state:w,config:k},j));case 31:case"end":return e.stop()}}),e,this)})));function t(t,n,r,a,o,i,c){return e.apply(this,arguments)}return t}()},{key:"version",get:function(){return me.sdk}},{key:"contractVersion",get:function(){return me.contracts}}]),t}()}).call(this,n("6fc9"))},d276:function(e,t,n){"use strict";n.d(t,"e",(function(){return E})),n.d(t,"b",(function(){return T})),n.d(t,"c",(function(){return S})),n.d(t,"g",(function(){return A})),n.d(t,"f",(function(){return P})),n.d(t,"a",(function(){return N})),n.d(t,"d",(function(){return D}));var r=n("36d8"),a=n.n(r),o=n("2111"),i=n("53b1"),c=n.n(i),s=n("cefa"),u=n("dd5b"),l=n("7f4a"),f=n("f2df"),p=n("ee6c"),d=n("ca14");function b(e){return v(e)||m(e)||y(e)||h()}function h(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function y(e,t){if(e){if("string"===typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?O(e,t):void 0}}function m(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function v(e){if(Array.isArray(e))return O(e)}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function j(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function g(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){j(o,r,a,i,c,"next",e)}function c(e){j(o,r,a,i,c,"throw",e)}i(void 0)}))}}function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){k(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E(e){var t=Array.isArray(e)?e:[e];function n(e){return null!=e&&t.some((function(t){return t.is(e)}))}return(arguments.length<=1?0:arguments.length-1)>0?n(arguments.length<=1?void 0:arguments[1]):n}function T(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],a=t[1],i=t[2],c=t[3],s=o["v"](_(_(_({type:o["l"](r)},a?{payload:a}:null),i?{meta:i}:null),c?{error:o["l"](c)}:null)),u=function(e){return(null===e||void 0===e?void 0:e["type"])===r},l=_({codec:s,type:r,is:u},void 0!==c?{error:c}:null),f=function(e,t){return _(_(_({type:r},a?{payload:e}:null),i?{meta:t}:null),void 0!==c?{error:c}:null)};return Object.assign(f,l)}function S(e,t,n,r,a,i){var c=!(arguments.length<=6)&&arguments.length-6?arguments.length<=6?void 0:arguments[6]:o["c"],s=T(t,a,e),u=T(n,i,e),l=T(r,c,e,!0);return{request:s,success:u,failure:l}}function x(e){var t=function(t){return c()(t.meta,e,(function(e,t){return d["b"].is(e)&&d["b"].is(t)?e.eq(t):void 0}))};return!(arguments.length<=1)&&arguments.length-1?t(arguments.length<=1?void 0:arguments[1]):t}function A(e,t){var n=function(n){return E([e.success,e.failure],n)&&x(t,n)};return!(arguments.length<=2)&&arguments.length-2?n(arguments.length<=2?void 0:arguments[2]):n}function P(e,t){function n(e){var t;return"boolean"===typeof(null===e||void 0===e||null===(t=e["payload"])||void 0===t?void 0:t["confirmed"])}var r=function(r){return A(e,t,r)&&(e.failure.is(r)||n(r))};return!(arguments.length<=2)&&arguments.length-2?r(arguments.length<=2?void 0:arguments[2]):r}function N(e,t,n,r){return R.apply(this,arguments)}function R(){return R=g(a.a.mark((function e(t,n,r,o){return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",r.pipe(Object(s["a"])(o?P(t,n):A(t,n)),Object(s["a"])((function(e){return void 0===o||!t.success.is(e)||"confirmed"in e.payload})),Object(u["a"])(1),Object(l["a"])((function(e){var n;if(t.failure.is(e))throw e.payload;if(!1===(null===(n=e.payload)||void 0===n?void 0:n.confirmed))throw new p["c"](p["b"].RDN_TRANSACTION_REORG,{transactionHash:e.payload.txHash});return e.payload}))).toPromise());case 1:case"end":return e.stop()}}),e)}))),R.apply(this,arguments)}function D(e){function t(n){var r=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e,r=arguments.length>1?arguments[1]:void 0;return r.type in n&&n[r.type][0].is(r)?n[r.type][1](t,r):t};function a(e,r){var a=Array.isArray(e)?e:[e];return Object(f["a"])(!a.some((function(e){return e.type in n})),"Already handled"),t(Object.assign.apply(Object,[{},n].concat(b(a.map((function(e){return k({},e.type,[e,r])}))))))}return Object.assign(r,{handle:a})}return t({})}},d43a:function(e,t,n){e.exports=n.p+"img/udc_info.92f96cdc.svg"},d890:function(e,t,n){"use strict";n.r(t),n.d(t,"matrixSetup",(function(){return s})),n.d(t,"matrixPresence",(function(){return u})),n.d(t,"rtcChannel",(function(){return l}));var r=n("2111"),a=n("d276"),o=n("ca14"),i=n("ee57"),c=r["v"]({address:o["a"]}),s=Object(a["b"])("matrix/setup",r["v"]({server:r["s"],setup:i["a"]})),u=Object(a["c"])(c,"matrix/presence/request","matrix/presence/success","matrix/presence/failure",void 0,r["j"]([r["v"]({userId:r["s"],available:r["e"],ts:r["n"]}),r["o"]({caps:r["r"](r["s"],r["c"])})])),l=Object(a["b"])("rtc/channel",r["x"]([r["w"],Object(o["m"])("RTCDataChannel")]),c)},d8a5:function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e["NONE"]="none",e["INFO"]="info",e["WARNING"]="warning",e["ERROR"]="error"}(r||(r={}))},d9a1:function(e,t,n){},db2c5:function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var r=n("36d8"),a=n.n(r),o=n("605b"),i=n.n(o),c=n("ee6c");function s(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=b(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t){return m(e)||y(e,t)||b(e,t)||d()}function d(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function b(e,t){if(e){if("string"===typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done);r=!0)if(n.push(i.value),t&&n.length===t)break}catch(s){a=!0,o=s}finally{try{r||null==c["return"]||c["return"]()}finally{if(a)throw o}}return n}}function m(e){if(Array.isArray(e))return e}function v(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function O(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){v(o,r,a,i,c,"next",e)}function c(e){v(o,r,a,i,c,"throw",e)}i(void 0)}))}}function j(e){var t={},n=function(){var n=O(a.a.mark((function n(){var r;return a.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,e.info();case 2:Object(c["d"])(!e.__opts.versionchanged,c["b"].RDN_DATABASE_DELETED),r=a.a.mark((function n(){var r,o,i,c,u,f,d,b;return a.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=t,t={},o=Object.keys(r),n.next=5,e.allDocs({keys:o});case 5:return i=n.sent,c=function(e){var t=i.rows.find((function(t){return t.id===e}));return null!==t&&void 0!==t&&t.value.deleted?{_rev:t.value.rev,deleted:!1}:t&&!("error"in t)?{_rev:t.value.rev}:void 0},n.next=9,e.bulkDocs(Object.entries(r).map((function(e){var t=p(e,2),n=t[0],r=t[1];return l(l({},r),{},{_id:n},c(n))})));case 9:u=n.sent,f=s(u);try{for(f.s();!(d=f.n()).done;)b=d.value,"error"in b&&b.error&&b.id&&!(b.id in t)&&(t[b.id]=r[b.id])}catch(a){f.e(a)}finally{f.f()}case 12:case"end":return n.stop()}}),n)}));case 4:if(i()(t)){n.next=8;break}return n.delegateYield(r(),"t0",6);case 6:n.next=4;break;case 8:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return function(r){return function(a){return function(o){var i=r.getState(),c=a(o),s=r.getState();if(s===i)return c;for(var u in s){var f=u;if(s[f]!==i[f])if("channels"===f||"oldChannels"===f){for(var p in s[f])if(s[f][p]!==i[f][p]){var d="channels.".concat(s[f][p]._id);e.storageKeys.add(d),t[d]=s[f][p]}}else if("transfers"===f){for(var b in s.transfers)s.transfers[b]!==i.transfers[b]&&(e.storageKeys.add(b),t[b]=s.transfers[b]);for(var h in i.transfers)h in s.transfers||(t[h]=l(l({},i.transfers[h]),{},{cleared:Date.now()}))}else{var y="state.".concat(f);e.storageKeys.add(y),t[y]={value:s[f]}}}return e.busy$.value||(e.busy$.next(!0),n().then((function(){return e.busy$.next(!1)}),(function(t){return e.busy$.error(t)}))),c}}}}},db7b:function(e,t,n){e.exports=n.p+"img/notifications.9b9982fe.svg"},db85:function(e,t,n){"use strict";n("915f")},de7d:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return m})),n.d(t,"d",(function(){return w})),n.d(t,"e",(function(){return S})),n.d(t,"g",(function(){return R})),n.d(t,"f",(function(){return M})),n.d(t,"h",(function(){return V}));var r=n("bf95");function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}var c=function(){function e(){a(this,e)}return i(e,null,[{key:"connect",value:function(e,t){return new r["a"](e,s,t)}}]),e}(),s=[{inputs:[{internalType:"uint256",name:"initial_supply",type:"uint256"},{internalType:"uint8",name:"decimal_units",type:"uint8"},{internalType:"string",name:"token_name",type:"string"},{internalType:"string",name:"token_symbol",type:"string"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_owner",type:"address"},{indexed:!0,internalType:"address",name:"_spender",type:"address"},{indexed:!1,internalType:"uint256",name:"_value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_to",type:"address"},{indexed:!0,internalType:"uint256",name:"_num",type:"uint256"}],name:"Minted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_from",type:"address"},{indexed:!0,internalType:"address",name:"_to",type:"address"},{indexed:!1,internalType:"uint256",name:"_value",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[],name:"_decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_owner",type:"address"},{internalType:"address",name:"_spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"remaining",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_spender",type:"address"},{internalType:"uint256",name:"_value",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"success",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"balance",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"balances",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"decimals",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"num",type:"uint256"}],name:"mint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"num",type:"uint256"},{internalType:"address",name:"target",type:"address"}],name:"mintFor",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"multiplier",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner_address",outputs:[{internalType:"address payable",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"supply",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_to",type:"address"},{internalType:"uint256",name:"_value",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"success",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_from",type:"address"},{internalType:"address",name:"_to",type:"address"},{internalType:"uint256",name:"_value",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"success",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"transferFunds",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"version",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"}];function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),e}var p=function(){function e(){u(this,e)}return f(e,null,[{key:"connect",value:function(e,t){return new r["a"](e,d,t)}}]),e}(),d=[{inputs:[{internalType:"uint256",name:"_initialAmount",type:"uint256"},{internalType:"uint8",name:"_decimalUnits",type:"uint8"},{internalType:"string",name:"_tokenName",type:"string"},{internalType:"string",name:"_tokenSymbol",type:"string"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_owner",type:"address"},{indexed:!0,internalType:"address",name:"_spender",type:"address"},{indexed:!1,internalType:"uint256",name:"_value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_from",type:"address"},{indexed:!0,internalType:"address",name:"_to",type:"address"},{indexed:!1,internalType:"uint256",name:"_value",type:"uint256"}],name:"Transfer",type:"event"},{stateMutability:"nonpayable",type:"fallback"},{inputs:[],name:"_decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_owner",type:"address"},{internalType:"address",name:"_spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"remaining",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_spender",type:"address"},{internalType:"uint256",name:"_value",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"success",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_spender",type:"address"},{internalType:"uint256",name:"_value",type:"uint256"},{internalType:"bytes",name:"_extraData",type:"bytes"}],name:"approveAndCall",outputs:[{internalType:"bool",name:"success",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"balance",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"balances",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"decimals",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"supply",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_to",type:"address"},{internalType:"uint256",name:"_value",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"success",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_from",type:"address"},{internalType:"address",name:"_to",type:"address"},{internalType:"uint256",name:"_value",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"success",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"version",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"}];function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t,n){return t&&h(e.prototype,t),n&&h(e,n),e}var m=function(){function e(){b(this,e)}return y(e,null,[{key:"connect",value:function(e,t){return new r["a"](e,v,t)}}]),e}(),v=[{inputs:[{internalType:"address",name:"_token_address",type:"address"},{internalType:"address",name:"_service_registry_address",type:"address"},{internalType:"address",name:"_udc_address",type:"address"},{internalType:"address",name:"_token_network_registry_address",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"token_network_address",type:"address"},{indexed:!1,internalType:"uint256",name:"channel_identifier",type:"uint256"},{indexed:!1,internalType:"uint256",name:"reward_amount",type:"uint256"},{indexed:!0,internalType:"uint256",name:"nonce",type:"uint256"},{indexed:!0,internalType:"address",name:"ms_address",type:"address"},{indexed:!0,internalType:"address",name:"raiden_node_address",type:"address"}],name:"NewBalanceProofReceived",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"ms_address",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!0,internalType:"bytes32",name:"reward_identifier",type:"bytes32"}],name:"RewardClaimed",type:"event"},{inputs:[{internalType:"uint256",name:"channel_identifier",type:"uint256"},{internalType:"address",name:"token_network_address",type:"address"},{internalType:"address",name:"closing_participant",type:"address"},{internalType:"address",name:"non_closing_participant",type:"address"}],name:"claimReward",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"contract_address",type:"address"}],name:"contractExists",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"closed_at_block",type:"uint256"},{internalType:"uint256",name:"settle_timeout",type:"uint256"},{internalType:"address",name:"participant1",type:"address"},{internalType:"address",name:"participant2",type:"address"},{internalType:"address",name:"monitoring_service_address",type:"address"}],name:"firstBlockAllowedToMonitor",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"closing_participant",type:"address"},{internalType:"address",name:"non_closing_participant",type:"address"},{internalType:"bytes32",name:"balance_hash",type:"bytes32"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"bytes32",name:"additional_hash",type:"bytes32"},{internalType:"bytes",name:"closing_signature",type:"bytes"},{internalType:"bytes",name:"non_closing_signature",type:"bytes"},{internalType:"uint256",name:"reward_amount",type:"uint256"},{internalType:"address",name:"token_network_address",type:"address"},{internalType:"bytes",name:"reward_proof_signature",type:"bytes"}],name:"monitor",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"service_registry",outputs:[{internalType:"contract ServiceRegistry",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"token",outputs:[{internalType:"contract Token",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"token_network_registry",outputs:[{internalType:"contract TokenNetworkRegistry",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"user_deposit",outputs:[{internalType:"contract UserDeposit",name:"",type:"address"}],stateMutability:"view",type:"function"}];function O(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t,n){return t&&j(e.prototype,t),n&&j(e,n),e}var w=function(){function e(){O(this,e)}return g(e,null,[{key:"connect",value:function(e,t){return new r["a"](e,_,t)}}]),e}(),_=[{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"secrethash",type:"bytes32"},{indexed:!1,internalType:"bytes32",name:"secret",type:"bytes32"}],name:"SecretRevealed",type:"event"},{inputs:[{internalType:"bytes32",name:"secrethash",type:"bytes32"}],name:"getSecretRevealBlockHeight",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"secret",type:"bytes32"}],name:"registerSecret",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32[]",name:"secrets",type:"bytes32[]"}],name:"registerSecretBatch",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"}];function k(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function T(e,t,n){return t&&E(e.prototype,t),n&&E(e,n),e}var S=function(){function e(){k(this,e)}return T(e,null,[{key:"connect",value:function(e,t){return new r["a"](e,x,t)}}]),e}(),x=[{inputs:[{internalType:"address",name:"_token_for_registration",type:"address"},{internalType:"address",name:"_controller",type:"address"},{internalType:"uint256",name:"_initial_price",type:"uint256"},{internalType:"uint256",name:"_price_bump_numerator",type:"uint256"},{internalType:"uint256",name:"_price_bump_denominator",type:"uint256"},{internalType:"uint256",name:"_decay_constant",type:"uint256"},{internalType:"uint256",name:"_min_price",type:"uint256"},{internalType:"uint256",name:"_registration_duration",type:"uint256"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"service",type:"address"},{indexed:!1,internalType:"uint256",name:"valid_till",type:"uint256"},{indexed:!1,internalType:"uint256",name:"deposit_amount",type:"uint256"},{indexed:!1,internalType:"contract Deposit",name:"deposit_contract",type:"address"}],name:"RegisteredService",type:"event"},{inputs:[{internalType:"uint256",name:"_price_bump_numerator",type:"uint256"},{internalType:"uint256",name:"_price_bump_denominator",type:"uint256"},{internalType:"uint256",name:"_decay_constant",type:"uint256"},{internalType:"uint256",name:"_min_price",type:"uint256"},{internalType:"uint256",name:"_registration_duration",type:"uint256"}],name:"changeParameters",outputs:[{internalType:"bool",name:"_success",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"contract_address",type:"address"}],name:"contractExists",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"controller",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"currentPrice",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"decay_constant",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_set_price",type:"uint256"},{internalType:"uint256",name:"_seconds_passed",type:"uint256"}],name:"decayedPrice",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_limit_amount",type:"uint256"}],name:"deposit",outputs:[{internalType:"bool",name:"_success",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"deprecated",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"everMadeDepositsLen",outputs:[{internalType:"uint256",name:"_len",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"ever_made_deposits",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_address",type:"address"}],name:"hasValidRegistration",outputs:[{internalType:"bool",name:"_has_registration",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"min_price",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"price_bump_denominator",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"price_bump_numerator",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"registration_duration",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"service_valid_till",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"setDeprecationSwitch",outputs:[{internalType:"bool",name:"_success",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"new_url",type:"string"}],name:"setURL",outputs:[{internalType:"bool",name:"_success",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"set_price",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"set_price_at",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"token",outputs:[{internalType:"contract Token",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"urls",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"}];function A(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function N(e,t,n){return t&&P(e.prototype,t),n&&P(e,n),e}var R=function(){function e(){A(this,e)}return N(e,null,[{key:"connect",value:function(e,t){return new r["a"](e,D,t)}}]),e}(),D=[{inputs:[{internalType:"address",name:"_token_address",type:"address"},{internalType:"address",name:"_secret_registry",type:"address"},{internalType:"uint256",name:"_chain_id",type:"uint256"},{internalType:"uint256",name:"_settlement_timeout_min",type:"uint256"},{internalType:"uint256",name:"_settlement_timeout_max",type:"uint256"},{internalType:"address",name:"_deprecation_executor",type:"address"},{internalType:"uint256",name:"_channel_participant_deposit_limit",type:"uint256"},{internalType:"uint256",name:"_token_network_deposit_limit",type:"uint256"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"channel_identifier",type:"uint256"},{indexed:!0,internalType:"address",name:"closing_participant",type:"address"},{indexed:!0,internalType:"uint256",name:"nonce",type:"uint256"},{indexed:!1,internalType:"bytes32",name:"balance_hash",type:"bytes32"}],name:"ChannelClosed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"channel_identifier",type:"uint256"},{indexed:!0,internalType:"address",name:"participant",type:"address"},{indexed:!1,internalType:"uint256",name:"total_deposit",type:"uint256"}],name:"ChannelNewDeposit",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"channel_identifier",type:"uint256"},{indexed:!0,internalType:"address",name:"participant1",type:"address"},{indexed:!0,internalType:"address",name:"participant2",type:"address"},{indexed:!1,internalType:"uint256",name:"settle_timeout",type:"uint256"}],name:"ChannelOpened",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"channel_identifier",type:"uint256"},{indexed:!1,internalType:"uint256",name:"participant1_amount",type:"uint256"},{indexed:!1,internalType:"bytes32",name:"participant1_locksroot",type:"bytes32"},{indexed:!1,internalType:"uint256",name:"participant2_amount",type:"uint256"},{indexed:!1,internalType:"bytes32",name:"participant2_locksroot",type:"bytes32"}],name:"ChannelSettled",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"channel_identifier",type:"uint256"},{indexed:!0,internalType:"address",name:"receiver",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"},{indexed:!1,internalType:"bytes32",name:"locksroot",type:"bytes32"},{indexed:!1,internalType:"uint256",name:"unlocked_amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"returned_tokens",type:"uint256"}],name:"ChannelUnlocked",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"channel_identifier",type:"uint256"},{indexed:!0,internalType:"address",name:"participant",type:"address"},{indexed:!1,internalType:"uint256",name:"total_withdraw",type:"uint256"}],name:"ChannelWithdraw",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bool",name:"new_value",type:"bool"}],name:"DeprecationSwitch",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"channel_identifier",type:"uint256"},{indexed:!0,internalType:"address",name:"closing_participant",type:"address"},{indexed:!0,internalType:"uint256",name:"nonce",type:"uint256"},{indexed:!1,internalType:"bytes32",name:"balance_hash",type:"bytes32"}],name:"NonClosingBalanceProofUpdated",type:"event"},{inputs:[],name:"MAX_SAFE_UINT256",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"chain_id",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"channel_counter",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"channel_participant_deposit_limit",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"channels",outputs:[{internalType:"uint256",name:"settle_block_number",type:"uint256"},{internalType:"enum TokenNetwork.ChannelState",name:"state",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"channel_identifier",type:"uint256"},{internalType:"address",name:"non_closing_participant",type:"address"},{internalType:"address",name:"closing_participant",type:"address"},{internalType:"bytes32",name:"balance_hash",type:"bytes32"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"bytes32",name:"additional_hash",type:"bytes32"},{internalType:"bytes",name:"non_closing_signature",type:"bytes"},{internalType:"bytes",name:"closing_signature",type:"bytes"}],name:"closeChannel",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"contract_address",type:"address"}],name:"contractExists",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"deprecate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"deprecation_executor",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"participant",type:"address"},{internalType:"address",name:"partner",type:"address"}],name:"getChannelIdentifier",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"channel_identifier",type:"uint256"},{internalType:"address",name:"participant1",type:"address"},{internalType:"address",name:"participant2",type:"address"}],name:"getChannelInfo",outputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"enum TokenNetwork.ChannelState",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"channel_identifier",type:"uint256"},{internalType:"address",name:"participant",type:"address"},{internalType:"address",name:"partner",type:"address"}],name:"getChannelParticipantInfo",outputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bool",name:"",type:"bool"},{internalType:"bytes32",name:"",type:"bytes32"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes32",name:"",type:"bytes32"},{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"participant",type:"address"},{internalType:"address",name:"partner",type:"address"}],name:"getParticipantsHash",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"uint256",name:"channel_identifier",type:"uint256"},{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"receiver",type:"address"}],name:"getUnlockIdentifier",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"participant1",type:"address"},{internalType:"address",name:"participant2",type:"address"},{internalType:"uint256",name:"settle_timeout",type:"uint256"}],name:"openChannel",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"}],name:"participants_hash_to_channel_identifier",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"safety_deprecation_switch",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"secret_registry",outputs:[{internalType:"contract SecretRegistry",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"channel_identifier",type:"uint256"},{internalType:"address",name:"participant",type:"address"},{internalType:"uint256",name:"total_deposit",type:"uint256"},{internalType:"address",name:"partner",type:"address"}],name:"setTotalDeposit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"channel_identifier",type:"uint256"},{internalType:"address",name:"participant",type:"address"},{internalType:"uint256",name:"total_withdraw",type:"uint256"},{internalType:"uint256",name:"expiration_block",type:"uint256"},{internalType:"bytes",name:"participant_signature",type:"bytes"},{internalType:"bytes",name:"partner_signature",type:"bytes"}],name:"setTotalWithdraw",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"channel_identifier",type:"uint256"},{internalType:"address",name:"participant1",type:"address"},{internalType:"uint256",name:"participant1_transferred_amount",type:"uint256"},{internalType:"uint256",name:"participant1_locked_amount",type:"uint256"},{internalType:"bytes32",name:"participant1_locksroot",type:"bytes32"},{internalType:"address",name:"participant2",type:"address"},{internalType:"uint256",name:"participant2_transferred_amount",type:"uint256"},{internalType:"uint256",name:"participant2_locked_amount",type:"uint256"},{internalType:"bytes32",name:"participant2_locksroot",type:"bytes32"}],name:"settleChannel",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"channel_identifier",type:"uint256"},{components:[{internalType:"address",name:"participant",type:"address"},{internalType:"uint256",name:"transferred_amount",type:"uint256"},{internalType:"uint256",name:"locked_amount",type:"uint256"},{internalType:"bytes32",name:"locksroot",type:"bytes32"}],internalType:"struct TokenNetwork.SettleInput",name:"participant1_settlement",type:"tuple"},{components:[{internalType:"address",name:"participant",type:"address"},{internalType:"uint256",name:"transferred_amount",type:"uint256"},{internalType:"uint256",name:"locked_amount",type:"uint256"},{internalType:"bytes32",name:"locksroot",type:"bytes32"}],internalType:"struct TokenNetwork.SettleInput",name:"participant2_settlement",type:"tuple"}],name:"settleChannel2",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"settlement_timeout_max",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"settlement_timeout_min",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"signature_prefix",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"token",outputs:[{internalType:"contract Token",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"token_network_deposit_limit",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"channel_identifier",type:"uint256"},{internalType:"address",name:"receiver",type:"address"},{internalType:"address",name:"sender",type:"address"},{internalType:"bytes",name:"locks",type:"bytes"}],name:"unlock",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"channel_identifier",type:"uint256"},{internalType:"address",name:"closing_participant",type:"address"},{internalType:"address",name:"non_closing_participant",type:"address"},{internalType:"bytes32",name:"balance_hash",type:"bytes32"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"bytes32",name:"additional_hash",type:"bytes32"},{internalType:"bytes",name:"closing_signature",type:"bytes"},{internalType:"bytes",name:"non_closing_signature",type:"bytes"}],name:"updateNonClosingBalanceProof",outputs:[],stateMutability:"nonpayable",type:"function"}];function C(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function I(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function U(e,t,n){return t&&I(e.prototype,t),n&&I(e,n),e}var M=function(){function e(){C(this,e)}return U(e,null,[{key:"connect",value:function(e,t){return new r["a"](e,L,t)}}]),e}(),L=[{inputs:[{internalType:"address",name:"_secret_registry_address",type:"address"},{internalType:"uint256",name:"_chain_id",type:"uint256"},{internalType:"uint256",name:"_settlement_timeout_min",type:"uint256"},{internalType:"uint256",name:"_settlement_timeout_max",type:"uint256"},{internalType:"uint256",name:"_max_token_networks",type:"uint256"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"token_address",type:"address"},{indexed:!0,internalType:"address",name:"token_network_address",type:"address"}],name:"TokenNetworkCreated",type:"event"},{inputs:[],name:"chain_id",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"contract_address",type:"address"}],name:"contractExists",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_token_address",type:"address"},{internalType:"uint256",name:"_channel_participant_deposit_limit",type:"uint256"},{internalType:"uint256",name:"_token_network_deposit_limit",type:"uint256"}],name:"createERC20TokenNetwork",outputs:[{internalType:"address",name:"token_network_address",type:"address"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"deprecation_executor",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"max_token_networks",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"secret_registry_address",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"settlement_timeout_max",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"settlement_timeout_min",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"token_network_created",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"token_to_token_networks",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"}];function B(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function F(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function W(e,t,n){return t&&F(e.prototype,t),n&&F(e,n),e}var V=function(){function e(){B(this,e)}return W(e,null,[{key:"connect",value:function(e,t){return new r["a"](e,$,t)}}]),e}(),$=[{inputs:[{internalType:"address",name:"_token_address",type:"address"},{internalType:"uint256",name:"_whole_balance_limit",type:"uint256"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!1,internalType:"uint256",name:"newBalance",type:"uint256"}],name:"BalanceReduced",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"withdrawer",type:"address"},{indexed:!1,internalType:"uint256",name:"plannedBalance",type:"uint256"}],name:"WithdrawPlanned",type:"event"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"balances",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"contract_address",type:"address"}],name:"contractExists",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"beneficiary",type:"address"},{internalType:"uint256",name:"new_total_deposit",type:"uint256"}],name:"deposit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"effectiveBalance",outputs:[{internalType:"uint256",name:"remaining_balance",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_msc_address",type:"address"},{internalType:"address",name:"_one_to_n_address",type:"address"}],name:"init",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"msc_address",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"one_to_n_address",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"}],name:"planWithdraw",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"token",outputs:[{internalType:"contract Token",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"total_deposit",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"receiver",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"success",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"whole_balance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"whole_balance_limit",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"}],name:"withdraw",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"withdraw_delay",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"withdraw_plans",outputs:[{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"withdraw_block",type:"uint256"}],stateMutability:"view",type:"function"}]},e21f:function(e,t,n){},e5cb:function(e,t,n){"use strict";n("d9a1")},ed43:function(e,t,n){},edd4:function(e){e.exports=JSON.parse('{"disclaimer":{"user-info":{"header":"Important Information for Users","body":"The Raiden Light Client  is an application that allows you to interact with the Raiden network. If you haven\'t used Raiden before we recommend that you:","bullet-points":{"portal":{"text":"Checkout the","link":"developer portal"},"docs":{"text":"Look at the","link":"documentation"},"videos":{"text":"Learn more by watching","link":"explanatory videos"},"medium":{"text":"Read blog posts on","link":"Medium"}}},"terms":{"header":"Terms of Use","body":"By accessing the Raiden Light Client through our website you agree to the {0} and {1}.","link-name-terms":"Terms of Use","link-name-policy":"Privacy Policy"},"disclaimer":{"header":"Disclaimer","body":"The Raiden Light Client is a beta version of experimental open source software released as a test version under an MIT license and may contain errors and/or bugs. No guarantee or representation whatsoever is made regarding its suitability (or its use) for any purpose or regarding its compliance with any applicable laws and regulations. Use of the Raiden Light Client is at your own risk and discretion and by using the software you warrant and represent that you have read this disclaimer, understand its contents, assume all risk related thereto and hereby release, waive, discharge and covenant not to hold us or any of our officers, employees or affiliates from and for any direct or indirect damage resulting from the Raiden Light Client or the use thereof. Such to the extent as permissible by applicable laws and regulations."},"privacy":{"header":"Privacy Warning","body":["Please be aware, that by using the Raiden Light Client, among others your Ethereum address, channels, channel deposits, settlements and the Ethereum address of your channel counterparty will be stored on the Ethereum chain, i.e. on servers of Ethereum node operators and ergo are to a certain extent publicly available. The same might also be stored on systems of parties running Raiden nodes connected to the same token network. Data present in the Ethereum chain is very unlikely to be able to be changed, removed or deleted from the public arena.","Also be aware, that data on individual Raiden token transfers will be made available via the Matrix protocol to the recipient, intermediating nodes of a specific transfer as well as to the Matrix server operators, see Raiden Transport Specification."]},"accept-checkbox":"I have read, understood and hereby agree to the above Terms of Use, Privacy Policy including the Disclaimer and Privacy Warning","persist-checkbox":"Donâ€™t display this message on start up","accept-button":"Accept"},"info-overlay":{"done":"Close","transfer":{"header":"About Transfer","body":"Enter a recipient address and a token amount to make a transfer. You need to have an open channel with the recipient or with a hub that is connected to the recipient."},"transfer-steps":{"header":"About Direct and Mediated Transfers","body":"A direct transfer will be possible if you have an open channel with the recipient. In any other case, the PFS will try to find the best way to route your transfer to the recipient."},"select-hub":{"header":"About Selecting a Hub","body":"A Hub is a well-connected node. You can connect to a hub or to any other node. Make sure you have enough service tokens to pay for the monitoring and pathfinding service as well as a balance of your selected token."},"open-channel":{"header":"About Opening a Channel","body":"Opening a channel will connect you to your selected hub or node. You need to choose an amount to deposit in the channel. Later you can transfer small amounts of this deposit to any recipient in the network."},"channels":{"header":"About Channels","body":"This is an overview of all your open channels for the selected token. You can choose to close and settle any channel to withdraw your tokens."},"account-backup":{"header":"About Backing Up the State","body":"Your state is stored in the browser. You should continuously keep a backup of your state by downloading the latest JSON file and storing it somewhere safe."},"account-raiden":{"header":"About Transferring ETH","body":"You need ETH on your Raiden Account to withdraw your tokens. You can add ETH by transferring it from your main account."},"account-withdrawal":{"header":"About Withdrawing Tokens","body":"Withdraw tokens from your Raiden account back to your main account."},"account-udc":{"header":"About UDC","body":"Your User Deposit Contract stores the utility tokens necessary for paying the Pathfinding and Monitoring Service."}},"home":{"welcome":"Welcome to the Raiden dApp","connect-button":"Connect","connect-button-syncing":"Syncing","disclaimer":"The Raiden dApp is a reference implementation of the Raiden Light Client SDK. It is work in progress and can only be used on Ethereum testnets.","getting-started":{"description":"Read the {0} for detailed information on how to use the Raiden dApp.","link-name":"getting started guide"},"connect-dialog":{"title":"Connect","raiden-account":"Generate Account & Key","description-raiden-account":"A Raiden Account will be generated.","description-web3-account":"You can use your Web3 account directly by enabling it in the settings menu.","no-provider":"No Web3 provider detected, please install e.g. MetaMask."}},"notifications":{"no-notifications":"No notifications","clear":"Clear","block-count-progress":"Blocks until confirmation: ","tx-reorged-failure-reason":"The transaction could not get confirmed due to a reorg of the blockchain!","tx-state-confirmed":"confirmed","tx-state-pending":"not confirmed yet","backup-state":{"icon":"notification_state_backup","title":"Backup your state!","description":"Backup your state to not risk losing funds","link":"Click here to go to the backup state menu"},"ms-balance-proof":{"title":"Balance proof submitted","description":"A monitoring service successfully submitted a balance proof for a channel claiming a reward of {reward} {symbol}. Service: {monitoringService}, Partner: {partner}, Transaction: {txHash}"},"no-receive":{"icon":"notification_receive","title":"Receiving transfers disabled","description":"Check configuration and/or UDC balance"},"withdrawal":{"success":{"title":"User Deposit Withdraw Planned","description":"A planned withdrawal of {amount} {symbol} was successfully completed withdrawing {withdrawal} {symbol}"},"failure":{"title":"User Deposit Withdrawal","description":"The planned withdrawal of {amount} {symbol} failed: {message}","descriptions":{"UDC_WITHDRAW_NO_BALANCE":"We could not complete the withdrawal of {amount} {symbol} because there was not enough balance.","UDC_WITHDRAW_FAILED":"We could not complete the withdrawal of {amount} {symbol} because the transaction failed."}}},"withdrawn":{"icon":"notification_withdrawn","title":"User Deposit Tokens Withdrawn","description":"{withdrawnAmount} {symbol} ({plannedAmount} planned) have been withdrawn from the user deposit contract.","link":"Click here to transfer them to your main account."},"settlement":{"icon":"notification_settle","success":{"title":"Channel Settlement","description":"Channel with {partner} was settled."},"failure":{"title":"Channel Settlement","description":"Channel settlement with {partner} failed."}},"channel-open":{"icon":"notification_channels","success":{"title":"Channel Open","description":"Open channel with {partner} is {state}."},"failure":{"title":"Channel Open Failure","description":"{reason}"}}},"general":{"buttons":{"cancel":"Cancel","transfer":"Transfer","continue":"Continue","confirm":"Confirm"},"offline":"Please connect to the internet.","raiden-account":"Raiden Account","main-account":"Main Account"},"account-content":{"account-details":"Account Details","address":"Address:","disconnect-button":"Disconnect","account":{"main":"Main ETH:","raiden":"Raiden ETH:"},"menu-items":{"settings":{"title":"Settings","subtitle":"Change how you interact with the dApp"},"backup-state":{"title":"Backup State","subtitle":"Download or upload your state"},"report-bugs":{"title":"Download Logs","subtitle":"Download your logs"},"raiden-account":{"title":"Transfer ETH","subtitle":"Transfer ETH between main and Raiden account"},"withdrawal":{"title":"Withdraw Tokens","subtitle":"Transfer tokens from your Raiden account to your main account"},"udc":{"title":"Manage UDC Tokens","subtitle":"Transfer tokens from or to your User Deposit Contract"}}},"withdrawal":{"title":"Transfer tokens to your main Ethereum account.","navigation-link-title":"For service tokens, make sure you withdrew them at the UDC screen first.","dialog":{"title":"Withdraw {0}","body":"You are about to withdraw {0} from your Raiden account.","progress":"Withdrawing...","button":"Confirm","no-eth":"Your Raiden account does not have sufficient ETH to withdraw."},"blockie-alt":"Token address blockie","no-tokens":"The Raiden account has no tokens"},"udc":{"balance":"User Deposit Contract Balance","balance-too-low":"Balance is too low for services. Deposit at least {minAmount} {tokenSymbol} to enable receiving.","withdrawal-header":"Withdrawal in progress","withdrawal":"Withdrawal","deposit":"Deposit","asterisk":"*","withdrawal-footnote":"Actual withdrawal amount might vary","withdrawal-planned":"The withdrawal from the user deposit has been planned. You will get notified when the withdrawal is complete.","information":{"no-withdrawal-in-progress":"No withdrawal in progress","pending-message":"Blocks remaining...","ready-message":"Readyãƒ»Tokens get claimed automatically"}},"backup-state":{"description":"The state holds all account information except the private key. You can backup your state to make sure the dApp is kept in sync when switching between browsers.","disabled-download":"Downloading the state is only possible when connected to the dApp","disabled-upload":"Uploading the state is only possible when the dApp is disconnected","download":"Download State","download-warning":"Downloading the state will force the dApp to shut down","download-button":"Download","upload":"Upload State and Connect","upload-drag-and-drop":"Drag and drop state file","upload-divider":"or","upload-button":"Browse files","upload-error":"Only one state file in valid JSON format can be uploaded"},"raiden-account":{"in-progress":"Transfer in progress","transfer-from-main-account":"Transfer ETH from Main Account to Raiden Account","transfer-from-raiden-account":"Transfer ETH from Raiden Account to Main Account"},"update":{"optional":"A new version is available.","mandatory":"Something happened to the local cached version. Perhaps the browser storage got cleared. You must update to get the app working again. You will not lose your current state.","update":"Update"},"address-input":{"input":{"placeholder":"Address / ENS name"},"blockie-alt":"Selected token address blockie","error":{"invalid-address":"Enter a valid address or ENS name","no-checksum":"Please enter an address in checksum format. You can convert your address on {ethsum}.","empty":"Enter an address or ENS name","ens-resolve-failed":"Please enter a resolvable ENS name","invalid-excluded-address":"Please enter a different address or ENS name. You can\'t use your own address or the address of the token network.","channel-not-open":"Please enter a hub address you have an open channel with.","target-offline":"Target is offline."}},"amount-input":{"input":{"hint":"Please enter an amount"},"error":{"empty":"Please enter an amount","too-many-decimals":"Please use only up to {decimals} decimals for this token","not-enough-funds":"Your maximum usable amount is {funds} {symbol}","zero":"Enter an amount larger than zero","invalid":"Please enter a valid amount"}},"address-display":{"copy":"Click to copy","copied":"Copied!"},"app-header":{"currency":"ETH"},"channel-actions":{"deposit":"Deposit","withdraw":"Withdraw","close":"Close","settle":"Settle"},"channel-deposit":{"buttons":{"confirm":"Deposit"},"input":{"label":"Amount"}},"channel-withdraw":{"buttons":{"confirm":"Withdraw"},"input":{"label":"Amount"},"dialog":{"label":"Withdraw","title":"Withdrawing Tokens","description":"Sign the transaction in MetaMask and close this dialogue to continue using the dApp."},"done":{"label":"Done","title":"Withdraw Successful","description":"Your tokens have been successfully withdrawn."}},"find-routes":{"hops":"Hops","price":"Price","sub-title":"Route(s) provided by {subdomain} including number of hops and estimated fee","error":{"title":"Oops, something went wrong"}},"stepper":{"steps":{"open":{"title":"Open","description":"You can deposit more tokens \\n or close the channel."},"closed":{"title":"Closed","description":"Please wait until your channel is settleable. \\nthis may take some time."},"settleable":{"title":"Settleable","description":"Settle your channel to transfer \\n your tokens back to your account."}}},"channels":{"open":{"header":"Open"},"closed":{"header":"Closed"},"settleable":{"header":"Settleable"},"snackbar-close":"Close","token-info":"{symbol} | {name}","title":"Channels on"},"channel-list":{"channel":{"blockie_alt":"Partner address blockie","state":"Capacity: {value} | State: {state}","close_dialog":{"title":"Close Channel","description":"Are you sure you want to close this channel? This action cannot be undone."},"settle_dialog":{"title":"Settle Channel","description":"Are you sure you want to settle the channel with hub {partner} for token {token}?"}},"messages":{"close":{"success":"Channel closed successfully","failure":"Channel close failed"},"deposit":{"success":"Deposit was successful","failure":"Deposit failed"},"withdraw":{"success":"Withdraw was successful","failure":"Withdraw failed"},"settle":{"success":"Channel settle was successful","failure":"Channel settle failed"}}},"confirmation":{"buttons":{"cancel":"Cancel","close":"Close","settle":"Settle"}},"confirmation-dialog":{"buttons":{"cancel":"Cancel","confirm":"Confirm"}},"error-screen":{"title":"Error"},"no-access":{"unsupported-network":"The current network is unsupported. Please choose a different network.","sdk-initialization-failure":"SDK initialization failed. Please check the console for more information.","rdn-state-migration":"Cannot replace state with older uploaded state.","generic-error":"A valid account could not be detected. Please make sure that your provider is unlocked and accessible."},"tokens":{"connected":{"header":"Connected Tokens"},"connect-new":"Connect new token","disconnect-dialog":{"header":"Disconnect token","confirmation-message":"This action will close all channels for the {symbol} token! {address}"},"leave-progress":{"label":"Disconnect","title":"Disconnecting from the token network","description":"Closing the channels"},"leave-done":{"label":"Done","title":"Disconnected from the token network","description":"All your channels were successfully closed"}},"application":{"privacy-policy":"Privacy Policy, Disclaimer & Imprint.","terms":"Terms."},"udc-deposit-dialog":{"title":"Deposit to UDC","button":"Mint and deposit","button-main":"Deposit","uniswap-url-title":"Click here to purchase RDN","available-utility-token":"Available {utilityTokenSymbol} to deposit: {utilityTokenBalance}","available-eth":"Available ETH for on-chain transaction: {balance} {currency}","error":"The mint and deposit operation failed.","error-main":"The deposit operation failed.","progress":{"mint":"Minting {currency} tokens","approve":"Allow UDC to access {currency} tokens","deposit":"Deposit {currency} tokens to the UDC"}},"transfer":{"receiving-transfer-snackbar":"Receiving transfer, do not close browser.","capacity-label":"Capacity","recipient-label":"Recipient","amount-label":"Amount","amount-placeholder":"Amount","error":{"button":"Dismiss","title":"Token transfer unsuccessful","deposit-title":"Deposit failed, please try again."},"transfer-menus":{"change-token-title":"Change Token","deposit-button":"Deposit","channel-button":"Channels","no-channels":"No open channels"},"transfer-inputs":{"title":"Transfer"},"no-channels-dialog":{"title":"No open channels for the selected token","button":"Connect new token"},"steps":{"request-route":{"title":"Request Route","tooltip":"Mint and deposit {token} to the User Deposit Contract to pay for PFS requests","tooltip-main":"Deposit {token} to the User Deposit Contract to pay for PFS requests","udc-description":"Balance to pay the Pathfinding Service","udc-description-low-balance":"Your {token} token balance is too low to pay for the Pathfinding Service. Use the button above to mint and deposit more tokens.","in-progress":"Paying for the route request","searching-for-route":"Searching for route...","done":"Route request payment complete"},"select-route":{"title":"Select Route"},"confirm-transfer":{"title":"Confirm Transfer","total-amount":"Total Amount"},"call-to-action":{"1":{"default":"Transfer Route Request","amount":"Confirm PFS Fee of {amount} {symbol}"},"2":{"default":"Confirm Mediation Fees","amount":"Confirm Mediation Fee of {amount} {symbol}"},"3":{"amount":"Transfer {amount} {symbol}"}},"transfer":{"title":"Transferring Tokens"},"done":{"title":"Send Successful","description":"Your transfer was successful."},"deposit":{"label":"Deposit","title":"Depositing Tokens","description":"Sign the transaction in MetaMask and close this dialogue to continue using the dApp."},"deposit-done":{"label":"Done","title":"Deposit Successful","description":"Your tokens have been successfully deposited."},"summary":{"headline":"Summary","route-request":"Route Request","pfs":"Pathfinding Service","service-fee":"Service Fee","mediated-transfer":"Mediated Transfer","direct-transfer":"Direct Transfer","target":"Target","transfer-amount":"Transfer Amount","total-amount":"Total Amount","mediation-fee":"Mediation Fee","identifier":"Identifier","footnotes":{"one":"1","direct-transfer":"Route request and selection skipped, because you are performing a direct transfer.","route-selection-skipped":"Automatically skipped route selection, because there was only a single route with zero fees."}}}},"transfer-history":{"title":"History","sent-title":"Sent to","sent-symbol":"-","received-title":"Received from","received-symbol":"+","pending-transfer":"PENDING","successful-transfer":"CONFIRMED","failed-transfer":"FAILED"},"select-token":{"header":"Available Tokens"},"select-hub":{"select-button":"Select Hub","service-token-tooltip":"Mint and deposit {token} to the User Deposit Contract to pay for the Monitoring Service.","service-token-tooltip-main":"Deposit {token} to the User Deposit Contract to pay for the Monitoring Service.","service-token-description":"balance for monitoring service"},"hub-list":{"header":"Current top 3 suggested hubs (best first)","error":"Error: List of hubs cannot be fetched from the Pathfinding Service.","no-results":"In this token network, the Pathfinding Service does not find a node which is online. Try again later.","select-button":"Select"},"open-channel":{"error":{"title":"Ops, something went wrong","button":"Dismiss","deposit-failed":"Could not deposit to the channel.","open-failed":"Channel open failed."},"open-button":"Open Channel","hub":"Hub","steps":{"open":{"label":"Open","title":"Opening a new channel","description":"Please do not close the browser and confirm the transaction with MetaMask."},"transfer":{"label":"Transfer","title":"Transferring tokens to the network and deposit into the channel","description":"Please do not close the browser and confirm two (2) transactions with MetaMask."},"deposit":{"label":"Deposit","title":"Not implemented - split title above, when done","description":"Not implemented - split description above, when done"},"done":{"label":"Done","title":"New Channel opened","description":"A new channel was successfully opened. You can now start making transfers."}},"confirmation":"Channel opening is in progress, are you sure you want to leave?"},"token-information":{"title":"Token","description":"{symbol} | {name}","balance":"Balance"},"pathfinding-services":{"title":"Select Pathfinding Service","rtt":"{time} ms","headers":{"host":"Pathfinding Service","rtt":"Ping","price":"Price"}},"mint-dialog":{"title":"Mint {symbol}","description":"If you continue, you will get prompted by MetaMask to sign off a minting transaction. In order to mint tokens, you need test net ETH in your wallet."},"error-message":{"problem":"Problem:","solution":"Solution:"},"errors":{"RDN_GENERAL_ERROR":{"title":"An error occurred","problem":"We do not know this error, sorry.","solution":["Please help us and report the issue","Click on your identicon in the top right corner","Click on Report Bugs / Download logs","File a new issue on https://github.com/raiden-network/light-client","Upload logs to the issue"]},"RDN_MINT_FAILED":{"title":"Could not mint token","problem":"It looks like the Light Client does not support minting out-of-the-box for this token contract.","solution":"You may try to mint manually via MetaMask and Etherscan. You can find a step-by-step guide on https://github.com/raiden-network/light-client#minting-manually."},"PFS_UNKNOWN_TOKEN_NETWORK":{"title":"No open channels","problem":"You don\'t seem to have open channels on this token network.","solution":["Hit the â† button in the top left","Click on the current token network","Select Connect new token","Select the token you want to transfer","Proceed with the flow to open a new channel"]},"PFS_INVALID_INFO":{"title":"Couldn\'t understand Pathfinding Service","problem":"The Light Client has received a response from the Pathfinding Service that it couldn\'t understand. It\'s possible that the current Light Client version is out-of-sync with the Pathfinding Service.","solution":["Update the dApp by reloading the page","Attempt a new transfer","If the problem persists, please help us and report the issue","Click on your identicon in the top right corner","Click on Report Bugs / Download logs","File a new issue on https://github.com/raiden-network/light-client","Upload logs to the issue"]},"PFS_NO_ROUTES_FOUND":{"title":"No routes found","problem":"Pathfinding Service wasn\'t able to find a route in the Raiden Network to perform your transfer.","solution":"Make sure that you either have a direct channel with the target or that both of you are connected to a well-connected hub."},"PFS_ERROR_RESPONSE":{"title":"Pathfinding replied with an error","problem":"While communicating with the Pathfinding Service, you have received an error response that we don\'t actively handle yet.","solution":["Simply retry your last action","If the problem persists, please help us and report the issue","Click on your identicon in the top right corner","Click on Report Bugs / Download logs","File a new issue on https://github.com/raiden-network/light-client","Upload logs to the issue"]},"PFS_DISABLED":{"title":"Pathfinding Service disabled","problem":"You tried to find a route in the Raiden Network but Pathfinding was either disabled in your configuration or you did not select a valid Pathfinding Service.","solution":"Try to restart the Light Client by reloading the page and attempt a new transfer."},"PFS_TARGET_OFFLINE":{"title":"Target address is offline","problem":"You are trying to send tokens to an offline target.","solution":"Hit the â† button and verify that the address is online or choose a different target address."},"PFS_LAST_IOU_REQUEST_FAILED":{"title":"Error while depositing tokens for Pathfinding Service","problem":"While trying to deposit tokens for route requests, the Pathfinding Service returned an error.","solution":["This should happen very rarely, please retry to deposit","If the problem persists, please help us and report the issue","Click on your identicon in the top right corner","Click on Report Bugs / Download logs","File a new issue on https://github.com/raiden-network/light-client","Upload logs to the issue"]},"PFS_IOU_SIGNATURE_MISMATCH":{"title":"Error while depositing tokens for Pathfinding Service","problem":"While trying to deposit tokens for route requests, the Pathfinding Service encountered mismatching signatures.","solution":["This should happen very rarely, please retry to deposit","If the problem persists, please help us and report the issue","Click on your identicon in the top right corner","Click on Report Bugs / Download logs","File a new issue on https://github.com/raiden-network/light-client","Upload logs to the issue"]},"PFS_NO_ROUTES_BETWEEN_NODES":{"title":"No route between you and your target","problem":"The Pathfinding Service was not able to find a usable route between you and the target you want to transfer tokens to.","solution":["Hit the â† button in the top left","Click on the current token network","Select Connect new token","Select the token you want to transfer","Connect with a more popular hub, e.g. hub.raiden.eth. That way, Pathfinding Service is more likely to find a route between you and the target","Retry your transfer"]}},"versions":{"sdk":"Raiden SDK: {version}","contracts":"Raiden Contracts: {version}"},"scan":{"permission":{"title":"Grant Camera Access","description":"In order to scan QR codes, you will need to allow camera access."}},"progress-steps":{"transfer":{"PENDING":"Transfer sent","RECEIVED":"Transfer acknowledged by partner","REFUNDED":"Transfer refunded","CLOSED":"Channel closed early","REVEALED":"Secret revealed to target","UNLOCKING":"Unlock sent to partner","EXPIRING":"Lock expired","UNLOCKED":"Unlock acknowledged","EXPIRED":"Lock expired acknowledged","REQUESTED":"Secret requested by target","REGISTERED":"Secret registered on-chain"}},"settings":{"raiden-account":{"title":"Use Raiden Account","description":"By default the dApp uses a generated Raiden account to sign messages. Disable the Raiden account to use your Web3 provider account. All messages will then have to be signed manually."}},"token-list":{"item":{"blockie-alt":"Token address blockie","information-template":"{symbol} | {name}"}},"install-banner":{"install":"Install","dismiss":"Dismiss","message-mobile":"Add the Raiden dApp to your Home screen","message-desktop":"Install the Raiden dApp on your desktop"}}')},ee57:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("2111"),a=r["p"](r["v"]({userId:r["s"],accessToken:r["s"],deviceId:r["s"],displayName:r["s"]}))},ee6c:function(e,t,n){"use strict";n.d(t,"b",(function(){return U})),n.d(t,"g",(function(){return L})),n.d(t,"i",(function(){return B})),n.d(t,"h",(function(){return F})),n.d(t,"f",(function(){return H})),n.d(t,"e",(function(){return q})),n.d(t,"c",(function(){return K})),n.d(t,"d",(function(){return G})),n.d(t,"a",(function(){return X}));var r=n("a91f"),a=n("98aa"),o=n("2111"),i=n("5a9d"),c=n.n(i),s=n("a32b");function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e){return p="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t,n){return t&&b(e.prototype,t),n&&b(e,n),e}function y(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}function m(e){var t=w();return function(){var n,r=E(e);if(t){var a=E(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return v(this,n)}}function v(e,t){return!t||"object"!==p(t)&&"function"!==typeof t?O(e):t}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j(e){var t="function"===typeof Map?new Map:void 0;return j=function(e){if(null===e||!_(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return g(e,arguments,E(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),k(n,e)},j(e)}function g(e,t,n){return g=w()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var a=Function.bind.apply(e,r),o=new a;return n&&k(o,n.prototype),o},g.apply(null,arguments)}function w(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function _(e){return-1!==Function.toString.call(e).indexOf("[native code]")}function k(e,t){return k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},k(e,t)}function E(e){return E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},E(e)}function T(e){return A(e)||x(e)||R(e)||S()}function S(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function x(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function A(e){if(Array.isArray(e))return D(e)}function P(e,t){return I(e)||C(e,t)||R(e,t)||N()}function N(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function R(e,t){if(e){if("string"===typeof e)return D(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?D(e,t):void 0}}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function C(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done);r=!0)if(n.push(i.value),t&&n.length===t)break}catch(s){a=!0,o=s}finally{try{r||null==c["return"]||c["return"]()}finally{if(a)throw o}}return n}}function I(e){if(Array.isArray(e))return e}var U=s,M=o["r"](o["s"],o["x"]([o["s"],o["n"],o["e"],o["m"]]));function L(e,t){var n=function e(t,n){var r,a;return a="string"===typeof t?(null===n||void 0===n?void 0:n.name)===t||(null===n||void 0===n||null===(r=n.message)||void 0===r?void 0:r.includes(t)):"number"===typeof t?(null===n||void 0===n?void 0:n.httpStatus)===t:Object.entries(t).every((function(e){var t=P(e,2),r=t[0],a=t[1];return(null===n||void 0===n?void 0:n[r])===a})),!a&&n&&"error"in n&&(a=e(t,n.error)),a},r=Array.isArray(e)?function(t){return e.some((function(e){return n(e,t)}))}:function(t){return n(e,t)};return arguments.length<2?r:r(t)}function B(e){var t,n=-1,r=null!==(t=e.maxRetries)&&void 0!==t?t:10;return function(t){var a;n++;var o=!0;return r>=0&&o&&(o=n<r),e.onErrors&&o&&(o=L(e.onErrors,t)),e.neverOnErrors&&o&&(o=!L(e.neverOnErrors,t)),e.predicate&&o&&(o=!!e.predicate(t,n)),e.stopPredicate&&o&&(o=!e.stopPredicate(t,n)),null===(a=e.log)||void 0===a||a.call(e,o?"retrying":"giving up",{count:n,maxRetries:r},t),o}}var F=["invalid response","missing response",{code:"TIMEOUT"},{code:"SERVER_ERROR"},{code:"NETWORK_ERROR"},{code:"ENOTFOUND"},429,500,502,503],W=["always failing transaction","cannot estimate gas",{code:"UNPREDICTABLE_GAS_LIMIT"}],V=["replacement fee too low","gas price supplied is too low","nonce is too low","nonce has already been used","already known","Transaction with the same hash was already imported"],$=["execution failed due to an exception","transaction failed","execution reverted"],H=[].concat(W,V,F),q=[].concat(T(H),$),K=function(e){y(n,e);var t=m(n);function n(e){var r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return d(this,n),r=t.call(this,e),r.details=a,r.name="RaidenError",Object.setPrototypeOf(O(r),n.prototype),r}return h(n,[{key:"code",get:function(){var e,t=this;return null!==(e=c()(U,(function(e){return e===t.message})))&&void 0!==e?e:"RDN_GENERAL_ERROR"}}]),n}(j(Error));function G(e,t,n){if(!e)throw null===n||void 0===n||n("__assertion failed:",e,t),t instanceof Error?t:"function"===typeof t?t(e):Array.isArray(t)?g(K,T(t)):new K(null!==t&&void 0!==t?t:U.RDN_ASSERT_ERROR,{condition:e})}var Y=o["j"]([o["v"]({name:o["s"]}),o["o"]({message:o["s"],stack:o["s"],details:M})]),X=new o["b"]("Error",(function(e){return"object"===p(e)&&!!e&&"name"in e&&"message"in e}),(function(e){return Object(a["pipe"])(Y.decode(e),Object(r["map"])((function(e){return"details"in e?Object.assign(new K(e.message,e.details),{name:e.name,stack:e.stack}):Object.assign(new Error(e.message),{name:e.name,stack:e.stack})})))}),(function(e){return l({name:e.name,message:e.message,stack:e.stack},"details"in e?{details:e.details}:{})}))},ee79:function(e){e.exports=JSON.parse('{"contracts_version":null,"chain_id":1,"contracts":{"SecretRegistry":{"address":"0x70f0c29b946E63803BD0Be796E17E47138668A68","transaction_hash":"0xa5a2672315e336dde3b43f3c09a4d0dbc7a59a4fe84f0506ea3abb5025bf94fb","block_number":10095755,"gas_cost":247286,"constructor_arguments":[]},"TokenNetworkRegistry":{"address":"0x6d07A2ef8De5d7D48337510BCEb9FEEa5424b20c","transaction_hash":"0xfde25a57b5ce0c8fcb748d5ff5ba8464cfce022d6eea72b6374b07c1b5f27b14","block_number":10095771,"gas_cost":4001210,"constructor_arguments":["0x70f0c29b946E63803BD0Be796E17E47138668A68",1,100,500,2]}},"token_networks":[{"token_network_address":"0x5b606943b36F3569E00EC4178A9f83eea8730184","constructor_arguments":{"_token_address":"0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2","_secret_registry":"0x70f0c29b946E63803BD0Be796E17E47138668A68","_chain_id":1,"_settlement_timeout_min":100,"_settlement_timeout_max":500,"_deprecation_executor":"0xbBF11c2f66E1887681C902095CEfB1018C854c0f","_channel_participant_deposit_limit":4683182690956770000,"_token_network_deposit_limit":4.68318269095677e+21}},{"token_network_address":"0xEA92bD481e54BBB9Bb6C927970a54E82eE26c6B4","constructor_arguments":{"_token_address":"0x6B175474E89094C44Da98b954EedeAC495271d0F","_secret_registry":"0x70f0c29b946E63803BD0Be796E17E47138668A68","_chain_id":1,"_settlement_timeout_min":100,"_settlement_timeout_max":500,"_deprecation_executor":"0xbBF11c2f66E1887681C902095CEfB1018C854c0f","_channel_participant_deposit_limit":1e+21,"_token_network_deposit_limit":1e+24}}]}')},eed9:function(e,t,n){"use strict";n.r(t),n.d(t,"pathFind",(function(){return u})),n.d(t,"servicesValid",(function(){return l})),n.d(t,"iouPersist",(function(){return f})),n.d(t,"iouClear",(function(){return p})),n.d(t,"udcDeposit",(function(){return d})),n.d(t,"udcWithdrawPlan",(function(){return h})),n.d(t,"udcWithdraw",(function(){return y})),n.d(t,"msBalanceProofSent",(function(){return m}));var r=n("2111"),a=n("d276"),o=n("ca14"),i=n("d011"),c=r["v"]({tokenNetwork:o["a"],target:o["a"],value:Object(o["j"])(32)}),s=r["v"]({tokenNetwork:o["a"],serviceAddress:o["a"]}),u=Object(a["c"])(c,"path/find/request","path/find/success","path/find/failure",r["o"]({paths:i["e"],pfs:r["x"]([i["c"],r["m"]])}),r["v"]({paths:i["e"]})),l=Object(a["b"])("services/valid",i["j"]),f=Object(a["b"])("iou/persist",r["v"]({iou:Object(o["h"])(i["a"])}),s),p=Object(a["b"])("iou/clear",void 0,s),d=Object(a["c"])(r["v"]({totalDeposit:Object(o["j"])(32)}),"udc/deposit/request","udc/deposit/success","udc/deposit/failure",r["j"]([r["v"]({deposit:Object(o["j"])(32)}),r["o"]({subkey:r["e"]})]),r["x"]([r["v"]({balance:Object(o["j"])(32)}),r["v"]({balance:Object(o["j"])(32),txHash:o["c"],txBlock:r["n"],confirmed:r["x"]([r["w"],r["e"]])})])),b=r["v"]({amount:Object(o["j"])(32)}),h=Object(a["c"])(b,"udc/withdraw/plan/request","udc/withdraw/plan/success","udc/withdraw/plan/failure",r["w"],r["j"]([r["v"]({block:r["n"]}),r["o"]({txHash:o["c"],txBlock:r["n"],confirmed:r["x"]([r["w"],r["e"]])})])),y=Object(a["c"])(b,"udc/withdraw/request","udc/withdraw/success","udc/withdraw/failure",r["w"],r["v"]({withdrawal:Object(o["j"])(32),txHash:o["c"],txBlock:r["n"],confirmed:r["x"]([r["w"],r["e"]])})),m=Object(a["b"])("ms/balanceProof/sent",r["v"]({tokenNetwork:o["a"],partner:o["a"],id:r["n"],reward:Object(o["j"])(32),nonce:Object(o["j"])(8),monitoringService:o["a"],txHash:o["c"],txBlock:r["n"],confirmed:r["x"]([r["w"],r["e"]])}))},ef8c:function(e,t,n){"use strict";n("0731")},f2df:function(e,t,n){"use strict";var r=n("ee6c");n.d(t,"a",(function(){return r["d"]}))},f455:function(e,t,n){"use strict";var r=n("d0dd");n.d(t,"f",(function(){return r["a"]}));var a=n("b8ff");n.d(t,"b",(function(){return a["b"]}));n("5bbb");var o=n("2b5b");n.d(t,"a",(function(){return o["a"]}));var i=n("d011");n.d(t,"e",(function(){return i["f"]}));n("65e1"),n("1a78");var c=n("05eb");n.d(t,"d",(function(){return c["a"]}));var s=n("ee6c");n.d(t,"c",(function(){return s["b"]})),n.d(t,"g",(function(){return s["c"]}));var u=n("1b23");n.d(t,"h",(function(){return u["c"]}));n("ca14")},f496:function(e,t,n){e.exports=n.p+"img/select_hub_info.32d32b20.svg"},f5be:function(e,t,n){"use strict";n.d(t,"e",(function(){return E})),n.d(t,"d",(function(){return T})),n.d(t,"c",(function(){return S})),n.d(t,"f",(function(){return x})),n.d(t,"g",(function(){return A})),n.d(t,"b",(function(){return N})),n.d(t,"a",(function(){return C}));var r=n("a91f"),a=n("2111"),o=n("0128"),i=n.n(o),c=n("d2a5"),s=n.n(c),u=n("6298"),l=n.n(u),f=n("f799"),p=n("5bbb"),d=n("2b5b"),b=n("8173"),h=n("eed9"),y=n("83ee"),m=n("d890"),v=n("0602"),O=n("d276"),j=n("ee6c"),g=n("ca14");function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){k(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var E=Object(O["b"])("raiden/shutdown",a["v"]({reason:a["x"]([a["l"](d["f"].STOP),a["l"](d["f"].ACCOUNT_CHANGED),a["l"](d["f"].NETWORK_CHANGED),j["a"]])})),T=Object(O["b"])("raiden/config/update",p["a"]),S=Object(O["b"])("raiden/config/caps",a["v"]({caps:a["x"]([v["a"],a["m"]])})),x=Object(O["b"])("raiden/started"),A=Object(O["b"])("raiden/synced",a["v"]({tookMs:a["n"],initialBlock:a["n"],currentBlock:a["n"]})),P=_(_(_(_(_({raidenShutdown:E,raidenConfigUpdate:T},f),m),b),y),h),N=[P.raidenShutdown,P.newBlock,P.matrixPresence.success,P.tokenMonitored,P.udcWithdrawPlan.success,P.udcWithdrawPlan.failure,P.udcWithdraw.success,P.udcWithdraw.failure,P.msBalanceProofSent,P.channelSettle.success,P.channelSettle.failure,P.channelOpen.success,P.channelOpen.failure],R=l()(P,(function(e,t){return _(_({},e),"type"in t?k({},t.type,t):i()(t,s()("type")))}),{}),D=a["p"](a["v"]({type:a["s"],payload:a["p"](a["v"]({txHash:g["c"],txBlock:a["n"],confirmed:a["x"]([a["w"],a["e"]])}))})),C=new a["b"]("ConfirmableAction",D.is,(function(e,t){return r["either"].chain(D.validate(e,t),(function(e){var n=e.type;return n in R?R[n].codec.validate(e,t):a["h"](e,t)}))}),(function(e){return R[e.type].codec.encode(e)}))},f789:function(e,t,n){},f799:function(e,t,n){"use strict";n.r(t),n.d(t,"newBlock",(function(){return s})),n.d(t,"blockTime",(function(){return u})),n.d(t,"blockStale",(function(){return l})),n.d(t,"tokenMonitored",(function(){return f})),n.d(t,"channelOpen",(function(){return p})),n.d(t,"channelMonitored",(function(){return d})),n.d(t,"channelDeposit",(function(){return b})),n.d(t,"channelWithdrawn",(function(){return h})),n.d(t,"channelClose",(function(){return y})),n.d(t,"channelSettleable",(function(){return m})),n.d(t,"channelSettle",(function(){return v}));var r=n("2111"),a=n("d276"),o=n("ca14"),i=n("9201"),c=r["v"]({tokenNetwork:o["a"],partner:o["a"]}),s=Object(a["b"])("block/new",r["v"]({blockNumber:r["n"]})),u=Object(a["b"])("block/time",r["v"]({blockTime:r["n"]})),l=Object(a["b"])("block/stale",r["v"]({stale:r["e"]})),f=Object(a["b"])("token/monitored",r["j"]([r["v"]({token:o["a"],tokenNetwork:o["a"]}),r["o"]({fromBlock:r["n"],toBlock:r["n"]})])),p=Object(a["c"])(c,"channel/open/request","channel/open/success","channel/open/failed",r["o"]({settleTimeout:r["n"],subkey:r["e"],deposit:Object(o["j"])(32)}),r["v"]({id:r["n"],token:o["a"],settleTimeout:r["n"],isFirstParticipant:r["e"],txHash:o["c"],txBlock:r["n"],confirmed:r["x"]([r["w"],r["e"]])})),d=Object(a["b"])("channel/monitored",r["v"]({id:r["n"]}),c),b=Object(a["c"])(c,"channel/deposit/request","channel/deposit/success","channel/deposit/failure",r["j"]([r["v"]({deposit:Object(o["j"])(32)}),r["o"]({subkey:r["e"],waitOpen:r["l"](!0)})]),r["v"]({id:r["n"],participant:o["a"],totalDeposit:Object(o["j"])(32),txHash:o["c"],txBlock:r["n"],confirmed:r["x"]([r["w"],r["e"]])})),h=Object(a["b"])("channel/withdraw/success",r["v"]({id:r["n"],participant:o["a"],totalWithdraw:Object(o["j"])(32),txHash:o["c"],txBlock:r["n"],confirmed:r["x"]([r["w"],r["e"]])}),c),y=Object(a["c"])(c,"channel/close/request","channel/close/success","channel/close/failure",r["x"]([r["o"]({subkey:r["e"]}),r["w"]]),r["v"]({id:r["n"],participant:o["a"],txHash:o["c"],txBlock:r["n"],confirmed:r["x"]([r["w"],r["e"]])})),m=Object(a["b"])("channel/settleable",r["v"]({settleableBlock:r["n"]}),c),v=Object(a["c"])(c,"channel/settle/request","channel/settle/success","channel/settle/failure",r["x"]([r["o"]({subkey:r["e"]}),r["w"]]),r["j"]([r["v"]({id:r["n"],txHash:o["c"],txBlock:r["n"],confirmed:r["x"]([r["w"],r["e"]])}),r["o"]({locks:r["q"](i["d"])})]))},f8be:function(e,t,n){"use strict";n("3b2c")},fb60:function(e,t,n){e.exports=n.p+"img/transfer_steps_info.1dbe6e75.svg"},fec1:function(e,t,n){}});